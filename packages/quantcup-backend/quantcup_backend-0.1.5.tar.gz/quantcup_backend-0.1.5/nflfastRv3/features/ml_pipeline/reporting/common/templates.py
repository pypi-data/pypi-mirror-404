"""
Report templates and constants for consistent formatting.

Provides standardized templates used across all report generators.
"""

from datetime import datetime


# Report header template
REPORT_HEADER_TEMPLATE = """# {title}

**Generated:** {timestamp}  
**Report Type:** {report_type}  
"""


# Section divider for visual separation
SECTION_DIVIDER = "\n" + "=" * 80 + "\n\n"


# Footer template
FOOTER_TEMPLATE = """
---

**Report generated by NFL ML Pipeline**  
**Timestamp:** {timestamp}  
"""


def create_report_header(title, report_type, additional_metadata=None):
    """
    Create a formatted report header with metadata.
    
    Args:
        title: Report title
        report_type: Type of report (Training, Backtest, etc.)
        additional_metadata: Optional dict of additional metadata to include
        
    Returns:
        str: Formatted header content
    """
    timestamp = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    
    header = REPORT_HEADER_TEMPLATE.format(
        title=title,
        timestamp=timestamp,
        report_type=report_type
    )
    
    if additional_metadata:
        for key, value in additional_metadata.items():
            header += f"**{key}:** {value}  \n"
    
    header += "\n"
    return header


def create_report_footer():
    """
    Create a formatted report footer.
    
    Returns:
        str: Formatted footer content
    """
    timestamp = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    return FOOTER_TEMPLATE.format(timestamp=timestamp)


# Common section templates
SUMMARY_SECTION_TEMPLATE = """
## {title}

{content}
"""

METRICS_TABLE_TEMPLATE = """
### {title}

{table}

{notes}
"""


__all__ = [
    'REPORT_HEADER_TEMPLATE',
    'SECTION_DIVIDER',
    'FOOTER_TEMPLATE',
    'create_report_header',
    'create_report_footer',
    'SUMMARY_SECTION_TEMPLATE',
    'METRICS_TABLE_TEMPLATE',
]
