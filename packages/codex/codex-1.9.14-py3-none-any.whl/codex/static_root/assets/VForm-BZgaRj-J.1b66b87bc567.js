import{_ as F,D as S,E as f,G as h,v as o,b,F as k,B as C,C as p,c as g,x as V,y as n,g as _,u as $,n as B,d as R,r as D,p as E,L as P}from"./main-GE3uFePF.js";import{k as q}from"./confirm-footer-CXU8cmV4.js";import{k as z,l as L}from"./VSelectionControl-C8DQf56i.js";import{f as N}from"./forwardRefs-RdtHqDjs.js";const T={name:"SubmitFooter",components:{ConfirmFooter:q},props:{verb:{type:String,required:!0},table:{type:String,required:!0},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["cancel","submit"],computed:{...h(f,{errors:e=>e.form.errors,success:e=>e.form.success}),confirmText(){const e=this.label||this.table;return`${this.verb} ${e}`}},beforeMount(){this.clearErrors()},methods:{...S(f,["clearErrors"])}},w={key:0,class:"errors"},x={key:1,class:"success"},A={key:2};function G(e,s,c,d,a,l){const u=V("ConfirmFooter");return n(),o("footer",null,[b("div",null,[e.errors&&e.errors.length>0?(n(),o("small",w,[(n(!0),o(k,null,C(e.errors,(m,i)=>(n(),o("div",{key:i},p(m),1))),128))])):e.success?(n(),o("small",x,p(e.success),1)):(n(),o("small",A,"Â "))]),g(u,{"confirm-text":l.confirmText,disabled:c.disabled,onConfirm:s[0]||(s[0]=m=>e.$emit("submit")),onCancel:s[1]||(s[1]=m=>e.$emit("cancel"))},null,8,["confirm-text","disabled"])])}const K=F(T,[["render",G],["__scopeId","data-v-d960409d"]]),I=E({...P(),...L()},"VForm"),O=_()({name:"VForm",props:I(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,s){let{slots:c,emit:d}=s;const a=z(e),l=D();function u(i){i.preventDefault(),a.reset()}function m(i){const r=i,t=a.validate();r.then=t.then.bind(t),r.catch=t.catch.bind(t),r.finally=t.finally.bind(t),d("submit",r),r.defaultPrevented||t.then(v=>{let{valid:y}=v;y&&l.value?.submit()}),r.preventDefault()}return $(()=>b("form",{ref:l,class:R(["v-form",e.class]),style:B(e.style),novalidate:!0,onReset:u,onSubmit:m},[c.default?.(a)])),N(a,l)}});export{K as S,O as V};
