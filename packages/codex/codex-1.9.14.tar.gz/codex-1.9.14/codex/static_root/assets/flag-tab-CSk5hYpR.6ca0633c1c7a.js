import{_ as p,A as i,w as b,D as y,G as h,E as g,bA as v,y as r,b as o,v as d,F as k,B as w,C as m,c as T,I as B}from"./main-GE3uFePF.js";import{useAdminStore as f}from"./admin-BA9ToWAP.js";import{V as C}from"./VTable-BzHndA6M.js";import{V as x}from"./VSelectionControl-C8DQf56i.js";import{V}from"./forwardRefs-RdtHqDjs.js";import{V as S}from"./VCheckbox-CH2Hzy3v.js";import"./VCheckboxBtn-B7AyxNoj.js";const I="Auto Update",A="Banner Text",U="Folder View",F="Import Metadata on Library Scan",E="Import Metadata on Demand",_="Non Users",N="Registration",D="Send Stats",L={AU:I,BT:A,FV:U,IM:F,LI:E,NU:_,RG:N,ST:D},M="If enabled, codex will attempt to update the codex python package once a day and restart the server if an update occurred. Not advisable if running from Docker as running containers aren't meant to hold state and will be rebuilt if you update the image. Look into services that automatically update docker images instead.",R="By default all Codex features, including bookmarking, are available to users who are not logged in. You may disable this feature and Codex will hide its browser and reader and disable its API from anyone who is not logged in as a user.",G="By default users' bookmarks and preferences are saved in an anonymous browser session. Users can create a username and password to save their bookmarks between browsers. You may disable this feature. Admins may still create users.",O=`By default, codex provides a "Folder View" which mimics the directory hierarchy of the libraries that you've added to Codex. You may disable this feature. The database style browser view is always available. This flag also enables and disables the "Filename" sort option and the path from search indexing.`,Y="If disabled, Codex will not bulk import metadata from comic libraries when they are scanned and only import folders and filenames. This makes importing comics fast, but disables most of the metadata browser and search functionality for lack of data, making codex mostly a file tree browser.",P="Import metadata for books that have none one at a time when you hover over the ðŸ· button. On many systems this will happen fast enough that clicking the button will show populated metadata. This gives users individual metadata on demand for setups that have Bulk Import Metadata disabled above and lets them slowly populate the database. Eventually there might be enough data for search and filtering to be useful.",$="Anonymously send the contents of the Admin Stats tab once a week to understand how people use Codex and improve the software. The server collecting the stats does not log or store your IP. The author considers all personally identifying information and the names and metadata of your comics to be a radioactive privacy violation and will never be exposed to it. Only the information you see on the stats page is collected. Your API Key is not sent. Stats are not sent for the first 24 hours to allow opt-out.",z="A customized text headline that appears at the top of every codex page.",K={AU:M,NU:R,RG:G,FV:O,IM:Y,LI:P,ST:$,BT:z},j={name:"AdminFlagsTab",components:{},data(){return{DESC:K,banner:"",mdiContentSaveOutline:v,lastUpdate:{name:"",field:void 0},errors:{}}},computed:{...h(g,{formErrors:e=>e.form.errors}),...h(f,{flags:e=>e.flags}),storeBanner(){for(const e of this.flags)if(e.key==="BT")return e.value;return""}},watch:{storeBanner(e){this.banner=e}},mounted(){this.loadTables(["Flag"])},methods:{...y(f,["updateRow","clearErrors","loadTables"]),setError(e,t){this.formErrors&&this.formErrors.length>0?this.errors[e]=this.formErrors[0][t]:delete this.errors[e]},changeCol(e,t,u){this.lastUpdate.name=e,this.lastUpdate.field=t;const c={[t]:u};this.updateRow("Flag",e,c).then(()=>this.setError(e,t)).catch(console.error)},title(e){return L[e.key]},colspan(e){return e.key==="BT"?1:2}}},q=["colspan"],H={class:"desc"},J={key:0,class:"bannerTextField"};function Q(e,t,u,c,s,l){return r(),i(C,{class:"highlight-table flags-table",items:e.flags,"fixed-header":""},{default:b(()=>[t[2]||(t[2]=o("thead",null,[o("tr",null,[o("th",null,"Description"),o("th",null,"Value"),o("th",null,"Enabled")])],-1)),o("tbody",null,[(r(!0),d(k,null,w(e.flags,a=>(r(),d("tr",{key:`f${a.key}`},[o("td",{class:"nameCol",colspan:l.colspan(a)},[o("h4",null,m(l.title(a)),1),o("p",H,m(s.DESC[a.key]),1)],8,q),a.key==="BT"?(r(),d("td",J,[T(x,{"model-value":s.banner,label:"Banner",clearable:"","hide-details":"auto","error-messages":s.errors[a.key],"onUpdate:modelValue":t[0]||(t[0]=n=>s.banner=n),"onClick:clear":t[1]||(t[1]=n=>s.banner="")},null,8,["model-value","error-messages"])])):B("",!0),o("td",null,[a.key==="BT"?(r(),i(V,{key:0,variant:"plain",class:"flagSaveButton",icon:s.mdiContentSaveOutline,title:"Save Banner",onClick:n=>l.changeCol(a.key,"value",s.banner)},null,8,["icon","onClick"])):(r(),i(S,{key:1,"model-value":a.on,"true-value":!0,"error-messages":s.errors[a.key],"hide-details":"auto","onUpdate:modelValue":n=>l.changeCol(a.key,"on",n)},null,8,["model-value","error-messages","onUpdate:modelValue"]))])]))),128))])]),_:1},8,["items"])}const se=p(j,[["render",Q],["__scopeId","data-v-1f6d7170"]]);export{se as default};
