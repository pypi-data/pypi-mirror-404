# action.yml
# ETLPlus
#
# Copyright Â© 2025 Dagitali LLC. All rights reserved.
#
# A GitHub Actions action to set up Python and install Python package
# dependencies.
#
# Notes
# - External GitHub Actions action references are each pinned to specific SHA
#   to limit supply-chain risk.

---

name: Setup Python and Install Dependencies

description: >-
  Sets up the requested Python runtime, upgrades pip, and installs the provided
  dependency list to keep workflow jobs consistent.

inputs:
  python-version:
    description: Python version to install via actions/setup-python
    required: true
  python-bootstrap:
    description: Arguments passed to "pip install"
    required: true

runs:
  using: composite
  steps:
    - uses: actions/setup-python@a26af69be951a213d495a4c3e4e4022e16d87065  # Pinned v5
      with:
        python-version: ${{ inputs.python-version }}

    - name: Upgrade pip
      shell: bash
      run: python -m pip install --upgrade pip

    - name: Install dependencies
      shell: bash
      run: pip install ${{ inputs.python-bootstrap }}
