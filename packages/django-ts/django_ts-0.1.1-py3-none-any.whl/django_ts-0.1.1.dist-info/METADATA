Metadata-Version: 2.4
Name: django-ts
Version: 0.1.1
Summary: Generate TypeScript constants and enums from Django model
Project-URL: Homepage, https://github.com/regiscamimura/django-ts-constants
Project-URL: Documentation, https://github.com/regiscamimura/django-ts-constants#readme
Project-URL: Repository, https://github.com/regiscamimura/django-ts-constants
Project-URL: Issues, https://github.com/regiscamimura/django-ts-constants/issues
Author-email: Regis Camimura <regiscamimura@gmail.com>
License-Expression: MIT
License-File: LICENSE
Keywords: codegen,constants,django,enums,typescript
Classifier: Development Status :: 4 - Beta
Classifier: Environment :: Web Environment
Classifier: Framework :: Django
Classifier: Framework :: Django :: 4.0
Classifier: Framework :: Django :: 4.1
Classifier: Framework :: Django :: 4.2
Classifier: Framework :: Django :: 5.0
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Topic :: Software Development :: Code Generators
Classifier: Typing :: Typed
Requires-Python: >=3.10
Requires-Dist: django>=4.0
Provides-Extra: dev
Requires-Dist: django-stubs>=4.0; extra == 'dev'
Requires-Dist: mypy>=1.0; extra == 'dev'
Requires-Dist: pytest-django>=4.5; extra == 'dev'
Requires-Dist: pytest>=7.0; extra == 'dev'
Requires-Dist: ruff>=0.1.0; extra == 'dev'
Description-Content-Type: text/markdown

# django-ts

Generate TypeScript constants and enums from Django models. No more copy-pasting values between backend and frontend.

## Why?

You've got Django models with constants:

```python
class Order(models.Model):
    STATUS_PENDING = "pending"
    STATUS_CONFIRMED = "confirmed"
    STATUS_SHIPPED = "shipped"

    STATUS_CHOICES = [
        (STATUS_PENDING, "Pending"),
        (STATUS_CONFIRMED, "Confirmed"),
        (STATUS_SHIPPED, "Shipped"),
    ]

    status = models.CharField(max_length=20, choices=STATUS_CHOICES)
```

And you need the same values in TypeScript. You could copy them manually, forget to update one side, ship a bug, debug for an hour, then remember why you hate manual syncing.

Or just run:

```bash
python manage.py synctypes
```

## What you get

**constants.ts**
```typescript
export const Order = {
  STATUS_CONFIRMED: "confirmed",
  STATUS_PENDING: "pending",
  STATUS_SHIPPED: "shipped",
} as const
```

**enums.ts**
```typescript
export enum OrderStatusEnum {
  STATUS_PENDING = "pending", // Pending
  STATUS_CONFIRMED = "confirmed", // Confirmed
  STATUS_SHIPPED = "shipped", // Shipped
}
```

**index.ts**
```typescript
export * from "./constants";
export * from "./enums";
```

## Requirements

- Python 3.10+
- Django 4.0+

## Installation

```bash
pip install django-ts
```

Add to `INSTALLED_APPS`:

```python
INSTALLED_APPS = [
    # ...
    "django_ts_constants",
]
```

## Usage

```bash
# Generate to ./frontend/constants (default)
python manage.py synctypes

# Custom output directory
python manage.py synctypes --output ./frontend/src/generated

# Check mode - exits 1 if files are outdated (for CI)
python manage.py synctypes --check

# Dry run - see what would change without writing
python manage.py synctypes --dry-run
```

## What gets exported

The command scans your project's Django apps and extracts:

- **Uppercase constants** with underscores (`STATUS_PENDING = "pending"`)
  - Strings, integers, floats
- **Choice tuples** (`STATUS_CHOICES = [(value, label), ...]`)
  - Become TypeScript enums with labels as comments

Third-party packages are ignored. Only your project's apps are scanned.

## CI integration

```yaml
# GitHub Actions
- name: Check TypeScript constants are in sync
  run: python manage.py synctypes --check
```

If someone updates a Django constant but forgets to regenerate the TypeScript files, CI fails. No more "works on my machine" surprises.

## Development

```bash
git clone https://github.com/regiscamimura/django-ts 
cd django-ts

# Setup
uv venv && uv pip install -e ".[dev]"

# Test
pytest

# Lint
ruff check . && ruff format --check .
```

## License

MIT

---

Built by [Regis Camimura](https://github.com/regiscamimura)
