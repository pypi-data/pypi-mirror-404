{"version":3,"file":"config-CvQxtlWe.js","names":[],"sources":["../../src/platform/support/config.ts"],"sourcesContent":["import { isCloud, isNightly } from '@/platform/distribution/types'\n\n/**\n * Zendesk ticket form field IDs.\n */\nexport const ZENDESK_FIELDS = {\n  /** Distribution tag (cloud vs OSS) */\n  DISTRIBUTION: 'tf_42243568391700',\n  /** User email (anonymous requester) */\n  ANONYMOUS_EMAIL: 'tf_anonymous_requester_email',\n  /** User email (authenticated) */\n  EMAIL: 'tf_40029135130388',\n  /** User ID */\n  USER_ID: 'tf_42515251051412'\n} as const\n\n/**\n * Gets the distribution identifier for Zendesk tracking.\n * Helps distinguish feedback from different build types.\n */\nexport function getDistribution(): 'ccloud' | 'oss-nightly' | 'oss' {\n  if (isCloud) return 'ccloud'\n  if (isNightly) return 'oss-nightly'\n  return 'oss'\n}\n\nconst SUPPORT_BASE_URL = 'https://support.comfy.org/hc/en-us/requests/new'\n\n/**\n * Builds the support URL with optional user information for pre-filling.\n * Users without login information will still get a valid support URL without pre-fill.\n *\n * @param params - User information to pre-fill in the support form\n * @returns Complete Zendesk support URL with query parameters\n */\nexport function buildSupportUrl(params?: {\n  userEmail?: string | null\n  userId?: string | null\n}): string {\n  const searchParams = new URLSearchParams({\n    [ZENDESK_FIELDS.DISTRIBUTION]: getDistribution()\n  })\n\n  if (params?.userEmail) {\n    searchParams.append(ZENDESK_FIELDS.ANONYMOUS_EMAIL, params.userEmail)\n    searchParams.append(ZENDESK_FIELDS.EMAIL, params.userEmail)\n  }\n  if (params?.userId) {\n    searchParams.append(ZENDESK_FIELDS.USER_ID, params.userId)\n  }\n\n  return `${SUPPORT_BASE_URL}?${searchParams.toString()}`\n}\n"],"mappings":"iHAoBA,SAAgB,iBAAoD,CAEnD,OADX,EAAgB,SACE,cAaxB,SAAgB,gBAAgB,EAGrB,CACT,IAAM,EAAe,IAAI,gBAAgB,EACtC,EAAe,cAAe,iBAAiB,CACjD,CAAC,CAUF,OARI,GAAQ,YACV,EAAa,OAAO,EAAe,gBAAiB,EAAO,UAAU,CACrE,EAAa,OAAO,EAAe,MAAO,EAAO,UAAU,EAEzD,GAAQ,QACV,EAAa,OAAO,EAAe,QAAS,EAAO,OAAO,CAGrD,GAAG,EAAiB,GAAG,EAAa,UAAU,wBAnDpB,CAKtB,EAAiB,CAE5B,aAAc,oBAEd,gBAAiB,+BAEjB,MAAO,oBAEP,QAAS,oBACV,CAYK,EAAmB"}