{"version":3,"file":"AudioPreviewPlayer-BC5ZGbpl.js","names":[],"sources":["../../src/renderer/extensions/vueNodes/widgets/components/audio/AudioPreviewPlayer.vue","../../src/renderer/extensions/vueNodes/widgets/components/audio/AudioPreviewPlayer.vue","../../src/renderer/extensions/vueNodes/widgets/components/audio/AudioPreviewPlayer.vue"],"sourcesContent":["<template>\n  <div class=\"relative\">\n    <div\n      v-if=\"!hideWhenEmpty || modelValue\"\n      class=\"bg-component-node-widget-background box-border flex gap-4 items-center justify-start relative rounded-lg w-full h-16 px-4 py-0\"\n    >\n      <!-- Hidden audio element -->\n      <audio\n        ref=\"audioRef\"\n        :src=\"modelValue\"\n        @loadedmetadata=\"handleLoadedMetadata\"\n        @timeupdate=\"handleTimeUpdate\"\n        @ended=\"handleEnded\"\n      />\n\n      <!-- Left Actions -->\n      <div class=\"relative flex shrink-0 items-center justify-start gap-2\">\n        <!-- Play/Pause Button -->\n        <div\n          role=\"button\"\n          :tabindex=\"0\"\n          :aria-label=\"$t('g.playPause')\"\n          class=\"flex size-6 cursor-pointer items-center justify-center rounded hover:bg-interface-menu-component-surface-hovered\"\n          @click=\"togglePlayPause\"\n        >\n          <i\n            v-if=\"!isPlaying\"\n            class=\"text-secondary icon-[lucide--play] size-4\"\n          />\n          <i v-else class=\"text-secondary icon-[lucide--pause] size-4\" />\n        </div>\n\n        <!-- Time Display -->\n        <div class=\"text-sm font-normal text-nowrap text-base-foreground\">\n          {{ formatTime(currentTime) }} / {{ formatTime(duration) }}\n        </div>\n      </div>\n\n      <!-- Progress Bar -->\n      <div class=\"relative h-0.5 flex-1 rounded-full bg-interface-stroke\">\n        <div\n          class=\"absolute top-0 left-0 h-full rounded-full bg-button-icon transition-all\"\n          :style=\"{ width: `${progressPercentage}%` }\"\n        />\n        <input\n          type=\"range\"\n          :value=\"progressPercentage\"\n          min=\"0\"\n          max=\"100\"\n          step=\"0.1\"\n          :aria-label=\"$t('g.audioProgress')\"\n          class=\"absolute inset-0 w-full cursor-pointer opacity-0\"\n          @input=\"handleSeek\"\n        />\n      </div>\n\n      <!-- Right Actions -->\n      <div class=\"relative flex shrink-0 items-center justify-start gap-2\">\n        <!-- Volume Button -->\n        <div\n          role=\"button\"\n          :tabindex=\"0\"\n          :aria-label=\"$t('g.volume')\"\n          class=\"flex size-6 cursor-pointer items-center justify-center rounded hover:bg-interface-menu-component-surface-hovered\"\n          @click=\"toggleMute\"\n        >\n          <i\n            v-if=\"showVolumeTwo\"\n            class=\"text-secondary icon-[lucide--volume-2] size-4\"\n          />\n          <i\n            v-else-if=\"showVolumeOne\"\n            class=\"text-secondary icon-[lucide--volume-1] size-4\"\n          />\n          <i v-else class=\"text-secondary icon-[lucide--volume-x] size-4\" />\n        </div>\n\n        <!-- Options Button -->\n        <div\n          v-if=\"showOptionsButton\"\n          role=\"button\"\n          :tabindex=\"0\"\n          :aria-label=\"$t('g.moreOptions')\"\n          class=\"flex size-6 cursor-pointer items-center justify-center rounded hover:bg-interface-menu-component-surface-hovered\"\n          @click=\"toggleOptionsMenu\"\n        >\n          <i class=\"text-secondary icon-[lucide--more-vertical] size-4\" />\n        </div>\n      </div>\n\n      <!-- Options Menu -->\n      <TieredMenu\n        ref=\"optionsMenu\"\n        :model=\"menuItems\"\n        popup\n        class=\"audio-player-menu\"\n        :pt:root:class=\"\n          cn('bg-component-node-widget-background border-component-node-border')\n        \"\n        :pt:submenu:class=\"cn('bg-component-node-widget-background')\"\n      >\n        <template #item=\"{ item }\">\n          <div v-if=\"item.key === 'volume'\" class=\"w-48 px-4 py-2\">\n            <label class=\"mb-2 block text-xs text-base-foreground\">{{\n              item.label\n            }}</label>\n            <Slider\n              :model-value=\"volume * 10\"\n              :min=\"0\"\n              :max=\"10\"\n              :step=\"1\"\n              class=\"w-full\"\n              @update:model-value=\"handleVolumeChange\"\n            />\n          </div>\n          <div\n            v-else\n            class=\"flex cursor-pointer items-center px-4 py-2 text-xs hover:bg-white/10\"\n            @click=\"item.onClick?.()\"\n          >\n            <span class=\"text-base-foreground\">{{ item.label }}</span>\n            <i\n              v-if=\"item.selected\"\n              class=\"ml-auto icon-[lucide--check] size-4 text-base-foreground\"\n            />\n          </div>\n        </template>\n      </TieredMenu>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Slider from 'primevue/slider'\nimport TieredMenu from 'primevue/tieredmenu'\nimport { computed, ref, useTemplateRef } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport { whenever } from '@vueuse/core'\n\nimport { cn } from '@/utils/tailwindUtil'\n\nimport { formatTime } from '../../utils/audioUtils'\n\nconst { t } = useI18n()\n\nconst props = withDefaults(\n  defineProps<{\n    hideWhenEmpty?: boolean\n    showOptionsButton?: boolean\n  }>(),\n  {\n    hideWhenEmpty: true\n  }\n)\n\n// Refs\nconst audioRef = useTemplateRef('audioRef')\nconst optionsMenu = ref()\nconst isPlaying = ref(false)\nconst isMuted = ref(false)\nconst volume = ref(1)\nconst currentTime = ref(0)\nconst duration = ref(0)\nconst playbackRate = ref(1)\n\n// Computed\nconst progressPercentage = computed(() => {\n  if (!duration.value || duration.value === 0) return 0\n  return (currentTime.value / duration.value) * 100\n})\nconst modelValue = defineModel<string>()\n\nconst showVolumeTwo = computed(() => !isMuted.value && volume.value > 0.5)\nconst showVolumeOne = computed(() => isMuted.value && volume.value > 0)\n\n// Playback controls\nconst togglePlayPause = () => {\n  if (!audioRef.value || !audioRef.value.src) {\n    return\n  }\n\n  if (isPlaying.value) {\n    audioRef.value.pause()\n  } else {\n    void audioRef.value.play()\n  }\n  isPlaying.value = !isPlaying.value\n}\n\nconst toggleMute = () => {\n  if (audioRef.value) {\n    isMuted.value = !isMuted.value\n    audioRef.value.muted = isMuted.value\n  }\n}\n\nconst handleSeek = (event: Event) => {\n  const target = event.target as HTMLInputElement\n  const value = parseFloat(target.value)\n  if (audioRef.value && duration.value > 0) {\n    const newTime = (value / 100) * duration.value\n    audioRef.value.currentTime = newTime\n    currentTime.value = newTime\n  }\n}\n\n// Audio events\nconst handleLoadedMetadata = () => {\n  if (audioRef.value) {\n    duration.value = audioRef.value.duration\n  }\n}\n\nconst handleTimeUpdate = () => {\n  if (audioRef.value) {\n    currentTime.value = audioRef.value.currentTime\n  }\n}\n\nconst handleEnded = () => {\n  isPlaying.value = false\n  currentTime.value = 0\n}\n\n// Options menu\nconst toggleOptionsMenu = (event: Event) => {\n  optionsMenu.value?.toggle(event)\n}\n\nconst setPlaybackSpeed = (speed: number) => {\n  playbackRate.value = speed\n  if (audioRef.value) {\n    audioRef.value.playbackRate = speed\n  }\n}\n\nconst handleVolumeChange = (value: number | number[]) => {\n  const numValue = Array.isArray(value) ? value[0] : value\n  volume.value = numValue / 10\n  if (audioRef.value) {\n    audioRef.value.volume = volume.value\n    if (volume.value > 0 && isMuted.value) {\n      isMuted.value = false\n      audioRef.value.muted = false\n    }\n  }\n}\n\nconst menuItems = computed(() => [\n  {\n    label: t('g.playbackSpeed'),\n    items: [\n      {\n        label: t('g.halfSpeed'),\n        onClick: () => setPlaybackSpeed(0.5),\n        selected: playbackRate.value === 0.5\n      },\n      {\n        label: t('g.1x'),\n        onClick: () => setPlaybackSpeed(1),\n        selected: playbackRate.value === 1\n      },\n      {\n        label: t('g.2x'),\n        onClick: () => setPlaybackSpeed(2),\n        selected: playbackRate.value === 2\n      }\n    ]\n  },\n  {\n    label: t('g.volume'),\n    key: 'volume'\n  }\n])\n\nwhenever(\n  modelValue,\n  () => {\n    isPlaying.value = false\n    audioRef.value?.pause()\n    void audioRef.value?.load()\n  },\n  { immediate: true }\n)\n</script>\n\n<style scoped>\n.audio-player-menu {\n  --p-tieredmenu-item-focus-background: rgb(255 255 255 / 0.1);\n  --p-tieredmenu-item-active-background: rgb(255 255 255 / 0.1);\n}\n</style>\n","<template>\n  <div class=\"relative\">\n    <div\n      v-if=\"!hideWhenEmpty || modelValue\"\n      class=\"bg-component-node-widget-background box-border flex gap-4 items-center justify-start relative rounded-lg w-full h-16 px-4 py-0\"\n    >\n      <!-- Hidden audio element -->\n      <audio\n        ref=\"audioRef\"\n        :src=\"modelValue\"\n        @loadedmetadata=\"handleLoadedMetadata\"\n        @timeupdate=\"handleTimeUpdate\"\n        @ended=\"handleEnded\"\n      />\n\n      <!-- Left Actions -->\n      <div class=\"relative flex shrink-0 items-center justify-start gap-2\">\n        <!-- Play/Pause Button -->\n        <div\n          role=\"button\"\n          :tabindex=\"0\"\n          :aria-label=\"$t('g.playPause')\"\n          class=\"flex size-6 cursor-pointer items-center justify-center rounded hover:bg-interface-menu-component-surface-hovered\"\n          @click=\"togglePlayPause\"\n        >\n          <i\n            v-if=\"!isPlaying\"\n            class=\"text-secondary icon-[lucide--play] size-4\"\n          />\n          <i v-else class=\"text-secondary icon-[lucide--pause] size-4\" />\n        </div>\n\n        <!-- Time Display -->\n        <div class=\"text-sm font-normal text-nowrap text-base-foreground\">\n          {{ formatTime(currentTime) }} / {{ formatTime(duration) }}\n        </div>\n      </div>\n\n      <!-- Progress Bar -->\n      <div class=\"relative h-0.5 flex-1 rounded-full bg-interface-stroke\">\n        <div\n          class=\"absolute top-0 left-0 h-full rounded-full bg-button-icon transition-all\"\n          :style=\"{ width: `${progressPercentage}%` }\"\n        />\n        <input\n          type=\"range\"\n          :value=\"progressPercentage\"\n          min=\"0\"\n          max=\"100\"\n          step=\"0.1\"\n          :aria-label=\"$t('g.audioProgress')\"\n          class=\"absolute inset-0 w-full cursor-pointer opacity-0\"\n          @input=\"handleSeek\"\n        />\n      </div>\n\n      <!-- Right Actions -->\n      <div class=\"relative flex shrink-0 items-center justify-start gap-2\">\n        <!-- Volume Button -->\n        <div\n          role=\"button\"\n          :tabindex=\"0\"\n          :aria-label=\"$t('g.volume')\"\n          class=\"flex size-6 cursor-pointer items-center justify-center rounded hover:bg-interface-menu-component-surface-hovered\"\n          @click=\"toggleMute\"\n        >\n          <i\n            v-if=\"showVolumeTwo\"\n            class=\"text-secondary icon-[lucide--volume-2] size-4\"\n          />\n          <i\n            v-else-if=\"showVolumeOne\"\n            class=\"text-secondary icon-[lucide--volume-1] size-4\"\n          />\n          <i v-else class=\"text-secondary icon-[lucide--volume-x] size-4\" />\n        </div>\n\n        <!-- Options Button -->\n        <div\n          v-if=\"showOptionsButton\"\n          role=\"button\"\n          :tabindex=\"0\"\n          :aria-label=\"$t('g.moreOptions')\"\n          class=\"flex size-6 cursor-pointer items-center justify-center rounded hover:bg-interface-menu-component-surface-hovered\"\n          @click=\"toggleOptionsMenu\"\n        >\n          <i class=\"text-secondary icon-[lucide--more-vertical] size-4\" />\n        </div>\n      </div>\n\n      <!-- Options Menu -->\n      <TieredMenu\n        ref=\"optionsMenu\"\n        :model=\"menuItems\"\n        popup\n        class=\"audio-player-menu\"\n        :pt:root:class=\"\n          cn('bg-component-node-widget-background border-component-node-border')\n        \"\n        :pt:submenu:class=\"cn('bg-component-node-widget-background')\"\n      >\n        <template #item=\"{ item }\">\n          <div v-if=\"item.key === 'volume'\" class=\"w-48 px-4 py-2\">\n            <label class=\"mb-2 block text-xs text-base-foreground\">{{\n              item.label\n            }}</label>\n            <Slider\n              :model-value=\"volume * 10\"\n              :min=\"0\"\n              :max=\"10\"\n              :step=\"1\"\n              class=\"w-full\"\n              @update:model-value=\"handleVolumeChange\"\n            />\n          </div>\n          <div\n            v-else\n            class=\"flex cursor-pointer items-center px-4 py-2 text-xs hover:bg-white/10\"\n            @click=\"item.onClick?.()\"\n          >\n            <span class=\"text-base-foreground\">{{ item.label }}</span>\n            <i\n              v-if=\"item.selected\"\n              class=\"ml-auto icon-[lucide--check] size-4 text-base-foreground\"\n            />\n          </div>\n        </template>\n      </TieredMenu>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Slider from 'primevue/slider'\nimport TieredMenu from 'primevue/tieredmenu'\nimport { computed, ref, useTemplateRef } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport { whenever } from '@vueuse/core'\n\nimport { cn } from '@/utils/tailwindUtil'\n\nimport { formatTime } from '../../utils/audioUtils'\n\nconst { t } = useI18n()\n\nconst props = withDefaults(\n  defineProps<{\n    hideWhenEmpty?: boolean\n    showOptionsButton?: boolean\n  }>(),\n  {\n    hideWhenEmpty: true\n  }\n)\n\n// Refs\nconst audioRef = useTemplateRef('audioRef')\nconst optionsMenu = ref()\nconst isPlaying = ref(false)\nconst isMuted = ref(false)\nconst volume = ref(1)\nconst currentTime = ref(0)\nconst duration = ref(0)\nconst playbackRate = ref(1)\n\n// Computed\nconst progressPercentage = computed(() => {\n  if (!duration.value || duration.value === 0) return 0\n  return (currentTime.value / duration.value) * 100\n})\nconst modelValue = defineModel<string>()\n\nconst showVolumeTwo = computed(() => !isMuted.value && volume.value > 0.5)\nconst showVolumeOne = computed(() => isMuted.value && volume.value > 0)\n\n// Playback controls\nconst togglePlayPause = () => {\n  if (!audioRef.value || !audioRef.value.src) {\n    return\n  }\n\n  if (isPlaying.value) {\n    audioRef.value.pause()\n  } else {\n    void audioRef.value.play()\n  }\n  isPlaying.value = !isPlaying.value\n}\n\nconst toggleMute = () => {\n  if (audioRef.value) {\n    isMuted.value = !isMuted.value\n    audioRef.value.muted = isMuted.value\n  }\n}\n\nconst handleSeek = (event: Event) => {\n  const target = event.target as HTMLInputElement\n  const value = parseFloat(target.value)\n  if (audioRef.value && duration.value > 0) {\n    const newTime = (value / 100) * duration.value\n    audioRef.value.currentTime = newTime\n    currentTime.value = newTime\n  }\n}\n\n// Audio events\nconst handleLoadedMetadata = () => {\n  if (audioRef.value) {\n    duration.value = audioRef.value.duration\n  }\n}\n\nconst handleTimeUpdate = () => {\n  if (audioRef.value) {\n    currentTime.value = audioRef.value.currentTime\n  }\n}\n\nconst handleEnded = () => {\n  isPlaying.value = false\n  currentTime.value = 0\n}\n\n// Options menu\nconst toggleOptionsMenu = (event: Event) => {\n  optionsMenu.value?.toggle(event)\n}\n\nconst setPlaybackSpeed = (speed: number) => {\n  playbackRate.value = speed\n  if (audioRef.value) {\n    audioRef.value.playbackRate = speed\n  }\n}\n\nconst handleVolumeChange = (value: number | number[]) => {\n  const numValue = Array.isArray(value) ? value[0] : value\n  volume.value = numValue / 10\n  if (audioRef.value) {\n    audioRef.value.volume = volume.value\n    if (volume.value > 0 && isMuted.value) {\n      isMuted.value = false\n      audioRef.value.muted = false\n    }\n  }\n}\n\nconst menuItems = computed(() => [\n  {\n    label: t('g.playbackSpeed'),\n    items: [\n      {\n        label: t('g.halfSpeed'),\n        onClick: () => setPlaybackSpeed(0.5),\n        selected: playbackRate.value === 0.5\n      },\n      {\n        label: t('g.1x'),\n        onClick: () => setPlaybackSpeed(1),\n        selected: playbackRate.value === 1\n      },\n      {\n        label: t('g.2x'),\n        onClick: () => setPlaybackSpeed(2),\n        selected: playbackRate.value === 2\n      }\n    ]\n  },\n  {\n    label: t('g.volume'),\n    key: 'volume'\n  }\n])\n\nwhenever(\n  modelValue,\n  () => {\n    isPlaying.value = false\n    audioRef.value?.pause()\n    void audioRef.value?.load()\n  },\n  { immediate: true }\n)\n</script>\n\n<style scoped>\n.audio-player-menu {\n  --p-tieredmenu-item-focus-background: rgb(255 255 255 / 0.1);\n  --p-tieredmenu-item-active-background: rgb(255 255 255 / 0.1);\n}\n</style>\n","<template>\n  <div class=\"relative\">\n    <div\n      v-if=\"!hideWhenEmpty || modelValue\"\n      class=\"bg-component-node-widget-background box-border flex gap-4 items-center justify-start relative rounded-lg w-full h-16 px-4 py-0\"\n    >\n      <!-- Hidden audio element -->\n      <audio\n        ref=\"audioRef\"\n        :src=\"modelValue\"\n        @loadedmetadata=\"handleLoadedMetadata\"\n        @timeupdate=\"handleTimeUpdate\"\n        @ended=\"handleEnded\"\n      />\n\n      <!-- Left Actions -->\n      <div class=\"relative flex shrink-0 items-center justify-start gap-2\">\n        <!-- Play/Pause Button -->\n        <div\n          role=\"button\"\n          :tabindex=\"0\"\n          :aria-label=\"$t('g.playPause')\"\n          class=\"flex size-6 cursor-pointer items-center justify-center rounded hover:bg-interface-menu-component-surface-hovered\"\n          @click=\"togglePlayPause\"\n        >\n          <i\n            v-if=\"!isPlaying\"\n            class=\"text-secondary icon-[lucide--play] size-4\"\n          />\n          <i v-else class=\"text-secondary icon-[lucide--pause] size-4\" />\n        </div>\n\n        <!-- Time Display -->\n        <div class=\"text-sm font-normal text-nowrap text-base-foreground\">\n          {{ formatTime(currentTime) }} / {{ formatTime(duration) }}\n        </div>\n      </div>\n\n      <!-- Progress Bar -->\n      <div class=\"relative h-0.5 flex-1 rounded-full bg-interface-stroke\">\n        <div\n          class=\"absolute top-0 left-0 h-full rounded-full bg-button-icon transition-all\"\n          :style=\"{ width: `${progressPercentage}%` }\"\n        />\n        <input\n          type=\"range\"\n          :value=\"progressPercentage\"\n          min=\"0\"\n          max=\"100\"\n          step=\"0.1\"\n          :aria-label=\"$t('g.audioProgress')\"\n          class=\"absolute inset-0 w-full cursor-pointer opacity-0\"\n          @input=\"handleSeek\"\n        />\n      </div>\n\n      <!-- Right Actions -->\n      <div class=\"relative flex shrink-0 items-center justify-start gap-2\">\n        <!-- Volume Button -->\n        <div\n          role=\"button\"\n          :tabindex=\"0\"\n          :aria-label=\"$t('g.volume')\"\n          class=\"flex size-6 cursor-pointer items-center justify-center rounded hover:bg-interface-menu-component-surface-hovered\"\n          @click=\"toggleMute\"\n        >\n          <i\n            v-if=\"showVolumeTwo\"\n            class=\"text-secondary icon-[lucide--volume-2] size-4\"\n          />\n          <i\n            v-else-if=\"showVolumeOne\"\n            class=\"text-secondary icon-[lucide--volume-1] size-4\"\n          />\n          <i v-else class=\"text-secondary icon-[lucide--volume-x] size-4\" />\n        </div>\n\n        <!-- Options Button -->\n        <div\n          v-if=\"showOptionsButton\"\n          role=\"button\"\n          :tabindex=\"0\"\n          :aria-label=\"$t('g.moreOptions')\"\n          class=\"flex size-6 cursor-pointer items-center justify-center rounded hover:bg-interface-menu-component-surface-hovered\"\n          @click=\"toggleOptionsMenu\"\n        >\n          <i class=\"text-secondary icon-[lucide--more-vertical] size-4\" />\n        </div>\n      </div>\n\n      <!-- Options Menu -->\n      <TieredMenu\n        ref=\"optionsMenu\"\n        :model=\"menuItems\"\n        popup\n        class=\"audio-player-menu\"\n        :pt:root:class=\"\n          cn('bg-component-node-widget-background border-component-node-border')\n        \"\n        :pt:submenu:class=\"cn('bg-component-node-widget-background')\"\n      >\n        <template #item=\"{ item }\">\n          <div v-if=\"item.key === 'volume'\" class=\"w-48 px-4 py-2\">\n            <label class=\"mb-2 block text-xs text-base-foreground\">{{\n              item.label\n            }}</label>\n            <Slider\n              :model-value=\"volume * 10\"\n              :min=\"0\"\n              :max=\"10\"\n              :step=\"1\"\n              class=\"w-full\"\n              @update:model-value=\"handleVolumeChange\"\n            />\n          </div>\n          <div\n            v-else\n            class=\"flex cursor-pointer items-center px-4 py-2 text-xs hover:bg-white/10\"\n            @click=\"item.onClick?.()\"\n          >\n            <span class=\"text-base-foreground\">{{ item.label }}</span>\n            <i\n              v-if=\"item.selected\"\n              class=\"ml-auto icon-[lucide--check] size-4 text-base-foreground\"\n            />\n          </div>\n        </template>\n      </TieredMenu>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Slider from 'primevue/slider'\nimport TieredMenu from 'primevue/tieredmenu'\nimport { computed, ref, useTemplateRef } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport { whenever } from '@vueuse/core'\n\nimport { cn } from '@/utils/tailwindUtil'\n\nimport { formatTime } from '../../utils/audioUtils'\n\nconst { t } = useI18n()\n\nconst props = withDefaults(\n  defineProps<{\n    hideWhenEmpty?: boolean\n    showOptionsButton?: boolean\n  }>(),\n  {\n    hideWhenEmpty: true\n  }\n)\n\n// Refs\nconst audioRef = useTemplateRef('audioRef')\nconst optionsMenu = ref()\nconst isPlaying = ref(false)\nconst isMuted = ref(false)\nconst volume = ref(1)\nconst currentTime = ref(0)\nconst duration = ref(0)\nconst playbackRate = ref(1)\n\n// Computed\nconst progressPercentage = computed(() => {\n  if (!duration.value || duration.value === 0) return 0\n  return (currentTime.value / duration.value) * 100\n})\nconst modelValue = defineModel<string>()\n\nconst showVolumeTwo = computed(() => !isMuted.value && volume.value > 0.5)\nconst showVolumeOne = computed(() => isMuted.value && volume.value > 0)\n\n// Playback controls\nconst togglePlayPause = () => {\n  if (!audioRef.value || !audioRef.value.src) {\n    return\n  }\n\n  if (isPlaying.value) {\n    audioRef.value.pause()\n  } else {\n    void audioRef.value.play()\n  }\n  isPlaying.value = !isPlaying.value\n}\n\nconst toggleMute = () => {\n  if (audioRef.value) {\n    isMuted.value = !isMuted.value\n    audioRef.value.muted = isMuted.value\n  }\n}\n\nconst handleSeek = (event: Event) => {\n  const target = event.target as HTMLInputElement\n  const value = parseFloat(target.value)\n  if (audioRef.value && duration.value > 0) {\n    const newTime = (value / 100) * duration.value\n    audioRef.value.currentTime = newTime\n    currentTime.value = newTime\n  }\n}\n\n// Audio events\nconst handleLoadedMetadata = () => {\n  if (audioRef.value) {\n    duration.value = audioRef.value.duration\n  }\n}\n\nconst handleTimeUpdate = () => {\n  if (audioRef.value) {\n    currentTime.value = audioRef.value.currentTime\n  }\n}\n\nconst handleEnded = () => {\n  isPlaying.value = false\n  currentTime.value = 0\n}\n\n// Options menu\nconst toggleOptionsMenu = (event: Event) => {\n  optionsMenu.value?.toggle(event)\n}\n\nconst setPlaybackSpeed = (speed: number) => {\n  playbackRate.value = speed\n  if (audioRef.value) {\n    audioRef.value.playbackRate = speed\n  }\n}\n\nconst handleVolumeChange = (value: number | number[]) => {\n  const numValue = Array.isArray(value) ? value[0] : value\n  volume.value = numValue / 10\n  if (audioRef.value) {\n    audioRef.value.volume = volume.value\n    if (volume.value > 0 && isMuted.value) {\n      isMuted.value = false\n      audioRef.value.muted = false\n    }\n  }\n}\n\nconst menuItems = computed(() => [\n  {\n    label: t('g.playbackSpeed'),\n    items: [\n      {\n        label: t('g.halfSpeed'),\n        onClick: () => setPlaybackSpeed(0.5),\n        selected: playbackRate.value === 0.5\n      },\n      {\n        label: t('g.1x'),\n        onClick: () => setPlaybackSpeed(1),\n        selected: playbackRate.value === 1\n      },\n      {\n        label: t('g.2x'),\n        onClick: () => setPlaybackSpeed(2),\n        selected: playbackRate.value === 2\n      }\n    ]\n  },\n  {\n    label: t('g.volume'),\n    key: 'volume'\n  }\n])\n\nwhenever(\n  modelValue,\n  () => {\n    isPlaying.value = false\n    audioRef.value?.pause()\n    void audioRef.value?.load()\n  },\n  { immediate: true }\n)\n</script>\n\n<style scoped>\n.audio-player-menu {\n  --p-tieredmenu-item-focus-background: rgb(255 255 255 / 0.1);\n  --p-tieredmenu-item-active-background: rgb(255 255 255 / 0.1);\n}\n</style>\n"],"mappings":"2jBEqImB,IACI,IAEC,IACC,IAEN,IAEQ,6sCAE3B,GAAM,CAAE,GAAM,GAAQ,CAahB,EAAW,GAAe,WAAU,CACpC,EAAc,GAAI,CAClB,EAAY,EAAI,GAAK,CACrB,EAAU,EAAI,GAAK,CACnB,EAAS,EAAI,EAAC,CACd,EAAc,EAAI,EAAC,CACnB,EAAW,EAAI,EAAC,CAChB,EAAe,EAAI,EAAC,CAGpB,EAAqB,MACrB,CAAC,EAAS,OAAS,EAAS,QAAU,EAAU,EAC5C,EAAY,MAAQ,EAAS,MAAS,IAC/C,CACK,EAAa,GAAmB,EAAA,aAAC,CAEjC,EAAgB,MAAe,CAAC,EAAQ,OAAS,EAAO,MAAQ,GAAG,CACnE,EAAgB,MAAe,EAAQ,OAAS,EAAO,MAAQ,EAAC,CAGhE,oBAAwB,CACxB,CAAC,EAAS,OAAS,CAAC,EAAS,MAAM,MAInC,EAAU,MACZ,EAAS,MAAM,OAAM,CAEhB,EAAS,MAAM,MAAK,CAE3B,EAAU,MAAQ,CAAC,EAAU,QAGzB,eAAmB,CACnB,EAAS,QACX,EAAQ,MAAQ,CAAC,EAAQ,MACzB,EAAS,MAAM,MAAQ,EAAQ,QAI7B,WAAc,GAAiB,CACnC,IAAM,EAAS,EAAM,OACf,EAAQ,WAAW,EAAO,MAAK,CACrC,GAAI,EAAS,OAAS,EAAS,MAAQ,EAAG,CACxC,IAAM,EAAW,EAAQ,IAAO,EAAS,MACzC,EAAS,MAAM,YAAc,EAC7B,EAAY,MAAQ,IAKlB,yBAA6B,CAC7B,EAAS,QACX,EAAS,MAAQ,EAAS,MAAM,WAI9B,qBAAyB,CACzB,EAAS,QACX,EAAY,MAAQ,EAAS,MAAM,cAIjC,gBAAoB,CACxB,EAAU,MAAQ,GAClB,EAAY,MAAQ,GAIhB,kBAAqB,GAAiB,CAC1C,EAAY,OAAO,OAAO,EAAK,EAG3B,iBAAoB,GAAkB,CAC1C,EAAa,MAAQ,EACjB,EAAS,QACX,EAAS,MAAM,aAAe,IAI5B,mBAAsB,GAA6B,CAEvD,EAAO,OADU,MAAM,QAAQ,EAAM,CAAG,EAAM,GAAK,GACzB,GACtB,EAAS,QACX,EAAS,MAAM,OAAS,EAAO,MAC3B,EAAO,MAAQ,GAAK,EAAQ,QAC9B,EAAQ,MAAQ,GAChB,EAAS,MAAM,MAAQ,MAKvB,EAAY,MAAe,CAC/B,CACE,MAAO,EAAE,kBAAkB,CAC3B,MAAO,CACL,CACE,MAAO,EAAE,cAAc,CACvB,YAAe,iBAAiB,GAAI,CACpC,SAAU,EAAa,QAAU,GAClC,CACD,CACE,MAAO,EAAE,OAAO,CAChB,YAAe,iBAAiB,EAAE,CAClC,SAAU,EAAa,QAAU,EAClC,CACD,CACE,MAAO,EAAE,OAAO,CAChB,YAAe,iBAAiB,EAAE,CAClC,SAAU,EAAa,QAAU,IAGtC,CACD,CACE,MAAO,EAAE,WAAW,CACpB,IAAK,SACP,CACD,CAAA,QAED,EACE,MACM,CACJ,EAAU,MAAQ,GAClB,EAAS,OAAO,OAAM,CACjB,EAAS,OAAO,MAAK,EAE5B,CAAE,UAAW,GAAK,CACpB"}