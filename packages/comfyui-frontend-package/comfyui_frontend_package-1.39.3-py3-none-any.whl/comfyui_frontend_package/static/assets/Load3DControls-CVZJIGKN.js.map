{"version":3,"file":"Load3DControls-CVZJIGKN.js","names":[],"sources":["../../src/components/load3d/controls/PopupSlider.vue","../../src/components/load3d/controls/PopupSlider.vue","../../src/components/load3d/controls/CameraControls.vue","../../src/components/load3d/controls/CameraControls.vue","../../src/components/load3d/controls/ExportControls.vue","../../src/components/load3d/controls/ExportControls.vue","../../src/components/load3d/controls/LightControls.vue","../../src/components/load3d/controls/LightControls.vue","../../src/components/load3d/controls/ModelControls.vue","../../src/components/load3d/controls/ModelControls.vue","../../src/components/load3d/controls/SceneControls.vue","../../src/components/load3d/controls/SceneControls.vue","../../src/components/load3d/Load3DControls.vue","../../src/components/load3d/Load3DControls.vue"],"sourcesContent":["<template>\n  <div class=\"relative show-slider\">\n    <Button\n      v-tooltip.right=\"{ value: tooltipText, showDelay: 300 }\"\n      size=\"icon\"\n      variant=\"textonly\"\n      class=\"rounded-full\"\n      :aria-label=\"tooltipText\"\n      @click=\"toggleSlider\"\n    >\n      <i :class=\"['pi', icon, 'text-lg text-base-foreground']\" />\n    </Button>\n    <div\n      v-show=\"showSlider\"\n      class=\"absolute top-0 left-12 rounded-lg bg-interface-menu-surface p-4 shadow-lg w-[150px]\"\n    >\n      <Slider\n        v-model=\"value\"\n        class=\"w-full\"\n        :min=\"min\"\n        :max=\"max\"\n        :step=\"step\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Slider from 'primevue/slider'\nimport { onMounted, onUnmounted, ref } from 'vue'\n\nimport Button from '@/components/ui/button/Button.vue'\n\nconst {\n  icon = 'pi-expand',\n  min = 10,\n  max = 150,\n  step = 1\n} = defineProps<{\n  icon?: string\n  tooltipText: string\n  min?: number\n  max?: number\n  step?: number\n}>()\n\nconst value = defineModel<number>()\nconst showSlider = ref(false)\n\nconst toggleSlider = () => {\n  showSlider.value = !showSlider.value\n}\n\nconst closeSlider = (e: MouseEvent) => {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-slider')) {\n    showSlider.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeSlider)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeSlider)\n})\n</script>\n","<template>\n  <div class=\"relative show-slider\">\n    <Button\n      v-tooltip.right=\"{ value: tooltipText, showDelay: 300 }\"\n      size=\"icon\"\n      variant=\"textonly\"\n      class=\"rounded-full\"\n      :aria-label=\"tooltipText\"\n      @click=\"toggleSlider\"\n    >\n      <i :class=\"['pi', icon, 'text-lg text-base-foreground']\" />\n    </Button>\n    <div\n      v-show=\"showSlider\"\n      class=\"absolute top-0 left-12 rounded-lg bg-interface-menu-surface p-4 shadow-lg w-[150px]\"\n    >\n      <Slider\n        v-model=\"value\"\n        class=\"w-full\"\n        :min=\"min\"\n        :max=\"max\"\n        :step=\"step\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Slider from 'primevue/slider'\nimport { onMounted, onUnmounted, ref } from 'vue'\n\nimport Button from '@/components/ui/button/Button.vue'\n\nconst {\n  icon = 'pi-expand',\n  min = 10,\n  max = 150,\n  step = 1\n} = defineProps<{\n  icon?: string\n  tooltipText: string\n  min?: number\n  max?: number\n  step?: number\n}>()\n\nconst value = defineModel<number>()\nconst showSlider = ref(false)\n\nconst toggleSlider = () => {\n  showSlider.value = !showSlider.value\n}\n\nconst closeSlider = (e: MouseEvent) => {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-slider')) {\n    showSlider.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeSlider)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeSlider)\n})\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <Button\n      v-tooltip.right=\"{\n        value: $t('load3d.switchCamera'),\n        showDelay: 300\n      }\"\n      size=\"icon\"\n      variant=\"textonly\"\n      class=\"rounded-full\"\n      :aria-label=\"$t('load3d.switchCamera')\"\n      @click=\"switchCamera\"\n    >\n      <i :class=\"['pi', 'pi-camera', 'text-lg text-base-foreground']\" />\n    </Button>\n    <PopupSlider\n      v-if=\"showFOVButton\"\n      v-model=\"fov\"\n      :tooltip-text=\"$t('load3d.fov')\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\nimport PopupSlider from '@/components/load3d/controls/PopupSlider.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport type { CameraType } from '@/extensions/core/load3d/interfaces'\n\nconst cameraType = defineModel<CameraType>('cameraType')\nconst fov = defineModel<number>('fov')\nconst showFOVButton = computed(() => cameraType.value === 'perspective')\n\nconst switchCamera = () => {\n  cameraType.value =\n    cameraType.value === 'perspective' ? 'orthographic' : 'perspective'\n}\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <Button\n      v-tooltip.right=\"{\n        value: $t('load3d.switchCamera'),\n        showDelay: 300\n      }\"\n      size=\"icon\"\n      variant=\"textonly\"\n      class=\"rounded-full\"\n      :aria-label=\"$t('load3d.switchCamera')\"\n      @click=\"switchCamera\"\n    >\n      <i :class=\"['pi', 'pi-camera', 'text-lg text-base-foreground']\" />\n    </Button>\n    <PopupSlider\n      v-if=\"showFOVButton\"\n      v-model=\"fov\"\n      :tooltip-text=\"$t('load3d.fov')\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\nimport PopupSlider from '@/components/load3d/controls/PopupSlider.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport type { CameraType } from '@/extensions/core/load3d/interfaces'\n\nconst cameraType = defineModel<CameraType>('cameraType')\nconst fov = defineModel<number>('fov')\nconst showFOVButton = computed(() => cameraType.value === 'perspective')\n\nconst switchCamera = () => {\n  cameraType.value =\n    cameraType.value === 'perspective' ? 'orthographic' : 'perspective'\n}\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <div class=\"show-export-formats relative\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.exportModel'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.exportModel')\"\n        @click=\"toggleExportFormats\"\n      >\n        <i class=\"pi pi-download text-lg text-base-foreground\" />\n      </Button>\n      <div\n        v-show=\"showExportFormats\"\n        class=\"absolute top-0 left-12 rounded-lg bg-interface-menu-surface shadow-lg\"\n      >\n        <div class=\"flex flex-col\">\n          <Button\n            v-for=\"format in exportFormats\"\n            :key=\"format.value\"\n            variant=\"textonly\"\n            class=\"text-base-foreground\"\n            @click=\"exportModel(format.value)\"\n          >\n            {{ format.label }}\n          </Button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, onUnmounted, ref } from 'vue'\n\nimport Button from '@/components/ui/button/Button.vue'\n\nconst emit = defineEmits<{\n  (e: 'exportModel', format: string): void\n}>()\n\nconst showExportFormats = ref(false)\n\nconst exportFormats = [\n  { label: 'GLB', value: 'glb' },\n  { label: 'OBJ', value: 'obj' },\n  { label: 'STL', value: 'stl' }\n]\n\nfunction toggleExportFormats() {\n  showExportFormats.value = !showExportFormats.value\n}\n\nfunction exportModel(format: string) {\n  emit('exportModel', format)\n\n  showExportFormats.value = false\n}\n\nfunction closeExportFormatsList(e: MouseEvent) {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-export-formats')) {\n    showExportFormats.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeExportFormatsList)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeExportFormatsList)\n})\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <div class=\"show-export-formats relative\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.exportModel'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.exportModel')\"\n        @click=\"toggleExportFormats\"\n      >\n        <i class=\"pi pi-download text-lg text-base-foreground\" />\n      </Button>\n      <div\n        v-show=\"showExportFormats\"\n        class=\"absolute top-0 left-12 rounded-lg bg-interface-menu-surface shadow-lg\"\n      >\n        <div class=\"flex flex-col\">\n          <Button\n            v-for=\"format in exportFormats\"\n            :key=\"format.value\"\n            variant=\"textonly\"\n            class=\"text-base-foreground\"\n            @click=\"exportModel(format.value)\"\n          >\n            {{ format.label }}\n          </Button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, onUnmounted, ref } from 'vue'\n\nimport Button from '@/components/ui/button/Button.vue'\n\nconst emit = defineEmits<{\n  (e: 'exportModel', format: string): void\n}>()\n\nconst showExportFormats = ref(false)\n\nconst exportFormats = [\n  { label: 'GLB', value: 'glb' },\n  { label: 'OBJ', value: 'obj' },\n  { label: 'STL', value: 'stl' }\n]\n\nfunction toggleExportFormats() {\n  showExportFormats.value = !showExportFormats.value\n}\n\nfunction exportModel(format: string) {\n  emit('exportModel', format)\n\n  showExportFormats.value = false\n}\n\nfunction closeExportFormatsList(e: MouseEvent) {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-export-formats')) {\n    showExportFormats.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeExportFormatsList)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeExportFormatsList)\n})\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <div v-if=\"showLightIntensityButton\" class=\"show-light-intensity relative\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.lightIntensity'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.lightIntensity')\"\n        @click=\"toggleLightIntensity\"\n      >\n        <i class=\"pi pi-sun text-lg text-base-foreground\" />\n      </Button>\n      <div\n        v-show=\"showLightIntensity\"\n        class=\"absolute top-0 left-12 rounded-lg bg-black/50 p-4 shadow-lg\"\n        style=\"width: 150px\"\n      >\n        <Slider\n          v-model=\"lightIntensity\"\n          class=\"w-full\"\n          :min=\"lightIntensityMinimum\"\n          :max=\"lightIntensityMaximum\"\n          :step=\"lightAdjustmentIncrement\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Slider from 'primevue/slider'\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\n\nimport Button from '@/components/ui/button/Button.vue'\nimport type { MaterialMode } from '@/extensions/core/load3d/interfaces'\nimport { useSettingStore } from '@/platform/settings/settingStore'\n\nconst lightIntensity = defineModel<number>('lightIntensity')\nconst materialMode = defineModel<MaterialMode>('materialMode')\n\nconst showLightIntensityButton = computed(\n  () => materialMode.value === 'original'\n)\nconst showLightIntensity = ref(false)\n\nconst lightIntensityMaximum = useSettingStore().get(\n  'Comfy.Load3D.LightIntensityMaximum'\n)\nconst lightIntensityMinimum = useSettingStore().get(\n  'Comfy.Load3D.LightIntensityMinimum'\n)\nconst lightAdjustmentIncrement = useSettingStore().get(\n  'Comfy.Load3D.LightAdjustmentIncrement'\n)\n\nfunction toggleLightIntensity() {\n  showLightIntensity.value = !showLightIntensity.value\n}\n\nfunction closeLightSlider(e: MouseEvent) {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-light-intensity')) {\n    showLightIntensity.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeLightSlider)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeLightSlider)\n})\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <div v-if=\"showLightIntensityButton\" class=\"show-light-intensity relative\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.lightIntensity'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.lightIntensity')\"\n        @click=\"toggleLightIntensity\"\n      >\n        <i class=\"pi pi-sun text-lg text-base-foreground\" />\n      </Button>\n      <div\n        v-show=\"showLightIntensity\"\n        class=\"absolute top-0 left-12 rounded-lg bg-black/50 p-4 shadow-lg\"\n        style=\"width: 150px\"\n      >\n        <Slider\n          v-model=\"lightIntensity\"\n          class=\"w-full\"\n          :min=\"lightIntensityMinimum\"\n          :max=\"lightIntensityMaximum\"\n          :step=\"lightAdjustmentIncrement\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Slider from 'primevue/slider'\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\n\nimport Button from '@/components/ui/button/Button.vue'\nimport type { MaterialMode } from '@/extensions/core/load3d/interfaces'\nimport { useSettingStore } from '@/platform/settings/settingStore'\n\nconst lightIntensity = defineModel<number>('lightIntensity')\nconst materialMode = defineModel<MaterialMode>('materialMode')\n\nconst showLightIntensityButton = computed(\n  () => materialMode.value === 'original'\n)\nconst showLightIntensity = ref(false)\n\nconst lightIntensityMaximum = useSettingStore().get(\n  'Comfy.Load3D.LightIntensityMaximum'\n)\nconst lightIntensityMinimum = useSettingStore().get(\n  'Comfy.Load3D.LightIntensityMinimum'\n)\nconst lightAdjustmentIncrement = useSettingStore().get(\n  'Comfy.Load3D.LightAdjustmentIncrement'\n)\n\nfunction toggleLightIntensity() {\n  showLightIntensity.value = !showLightIntensity.value\n}\n\nfunction closeLightSlider(e: MouseEvent) {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-light-intensity')) {\n    showLightIntensity.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeLightSlider)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeLightSlider)\n})\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <div class=\"show-up-direction relative\">\n      <Button\n        v-tooltip.right=\"{\n          value: t('load3d.upDirection'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"t('load3d.upDirection')\"\n        @click=\"toggleUpDirection\"\n      >\n        <i class=\"pi pi-arrow-up text-lg text-base-foreground\" />\n      </Button>\n      <div\n        v-show=\"showUpDirection\"\n        class=\"absolute top-0 left-12 rounded-lg bg-interface-menu-surface shadow-lg\"\n      >\n        <div class=\"flex flex-col\">\n          <Button\n            v-for=\"direction in upDirections\"\n            :key=\"direction\"\n            variant=\"textonly\"\n            :class=\"\n              cn(\n                'text-base-foreground',\n                upDirection === direction && 'bg-blue-500'\n              )\n            \"\n            @click=\"selectUpDirection(direction)\"\n          >\n            {{ direction.toUpperCase() }}\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"!hideMaterialMode\" class=\"show-material-mode relative\">\n      <Button\n        v-tooltip.right=\"{\n          value: t('load3d.materialMode'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"t('load3d.materialMode')\"\n        @click=\"toggleMaterialMode\"\n      >\n        <i class=\"pi pi-box text-lg text-base-foreground\" />\n      </Button>\n      <div\n        v-show=\"showMaterialMode\"\n        class=\"absolute top-0 left-12 rounded-lg bg-interface-menu-surface shadow-lg\"\n      >\n        <div class=\"flex flex-col\">\n          <Button\n            v-for=\"mode in materialModes\"\n            :key=\"mode\"\n            variant=\"textonly\"\n            :class=\"\n              cn(\n                'whitespace-nowrap text-base-foreground',\n                materialMode === mode && 'bg-blue-500'\n              )\n            \"\n            @click=\"selectMaterialMode(mode)\"\n          >\n            {{ formatMaterialMode(mode) }}\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"hasSkeleton\">\n      <Button\n        v-tooltip.right=\"{\n          value: t('load3d.showSkeleton'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        :class=\"cn('rounded-full', showSkeleton && 'bg-blue-500')\"\n        :aria-label=\"t('load3d.showSkeleton')\"\n        @click=\"showSkeleton = !showSkeleton\"\n      >\n        <i class=\"pi pi-sitemap text-lg text-base-foreground\" />\n      </Button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\n\nimport Button from '@/components/ui/button/Button.vue'\nimport type {\n  MaterialMode,\n  UpDirection\n} from '@/extensions/core/load3d/interfaces'\nimport { t } from '@/i18n'\nimport { cn } from '@/utils/tailwindUtil'\n\nconst {\n  hideMaterialMode = false,\n  isPlyModel = false,\n  hasSkeleton = false\n} = defineProps<{\n  hideMaterialMode?: boolean\n  isPlyModel?: boolean\n  hasSkeleton?: boolean\n}>()\n\nconst materialMode = defineModel<MaterialMode>('materialMode')\nconst upDirection = defineModel<UpDirection>('upDirection')\nconst showSkeleton = defineModel<boolean>('showSkeleton')\n\nconst showUpDirection = ref(false)\nconst showMaterialMode = ref(false)\n\nconst upDirections: UpDirection[] = [\n  'original',\n  '-x',\n  '+x',\n  '-y',\n  '+y',\n  '-z',\n  '+z'\n]\n\nconst materialModes = computed(() => {\n  const modes: MaterialMode[] = [\n    'original',\n    'normal',\n    'wireframe'\n    //'depth' disable for now\n  ]\n\n  // Only show pointCloud mode for PLY files (point cloud rendering)\n  if (isPlyModel) {\n    modes.splice(1, 0, 'pointCloud')\n  }\n\n  return modes\n})\n\nfunction toggleUpDirection() {\n  showUpDirection.value = !showUpDirection.value\n  showMaterialMode.value = false\n}\n\nfunction selectUpDirection(direction: UpDirection) {\n  upDirection.value = direction\n  showUpDirection.value = false\n}\n\nfunction toggleMaterialMode() {\n  showMaterialMode.value = !showMaterialMode.value\n  showUpDirection.value = false\n}\n\nfunction selectMaterialMode(mode: MaterialMode) {\n  materialMode.value = mode\n  showMaterialMode.value = false\n}\n\nfunction formatMaterialMode(mode: MaterialMode) {\n  return t(`load3d.materialModes.${mode}`)\n}\n\nfunction closeSceneSlider(e: MouseEvent) {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-up-direction')) {\n    showUpDirection.value = false\n  }\n\n  if (!target.closest('.show-material-mode')) {\n    showMaterialMode.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeSceneSlider)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeSceneSlider)\n})\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <div class=\"show-up-direction relative\">\n      <Button\n        v-tooltip.right=\"{\n          value: t('load3d.upDirection'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"t('load3d.upDirection')\"\n        @click=\"toggleUpDirection\"\n      >\n        <i class=\"pi pi-arrow-up text-lg text-base-foreground\" />\n      </Button>\n      <div\n        v-show=\"showUpDirection\"\n        class=\"absolute top-0 left-12 rounded-lg bg-interface-menu-surface shadow-lg\"\n      >\n        <div class=\"flex flex-col\">\n          <Button\n            v-for=\"direction in upDirections\"\n            :key=\"direction\"\n            variant=\"textonly\"\n            :class=\"\n              cn(\n                'text-base-foreground',\n                upDirection === direction && 'bg-blue-500'\n              )\n            \"\n            @click=\"selectUpDirection(direction)\"\n          >\n            {{ direction.toUpperCase() }}\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"!hideMaterialMode\" class=\"show-material-mode relative\">\n      <Button\n        v-tooltip.right=\"{\n          value: t('load3d.materialMode'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"t('load3d.materialMode')\"\n        @click=\"toggleMaterialMode\"\n      >\n        <i class=\"pi pi-box text-lg text-base-foreground\" />\n      </Button>\n      <div\n        v-show=\"showMaterialMode\"\n        class=\"absolute top-0 left-12 rounded-lg bg-interface-menu-surface shadow-lg\"\n      >\n        <div class=\"flex flex-col\">\n          <Button\n            v-for=\"mode in materialModes\"\n            :key=\"mode\"\n            variant=\"textonly\"\n            :class=\"\n              cn(\n                'whitespace-nowrap text-base-foreground',\n                materialMode === mode && 'bg-blue-500'\n              )\n            \"\n            @click=\"selectMaterialMode(mode)\"\n          >\n            {{ formatMaterialMode(mode) }}\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"hasSkeleton\">\n      <Button\n        v-tooltip.right=\"{\n          value: t('load3d.showSkeleton'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        :class=\"cn('rounded-full', showSkeleton && 'bg-blue-500')\"\n        :aria-label=\"t('load3d.showSkeleton')\"\n        @click=\"showSkeleton = !showSkeleton\"\n      >\n        <i class=\"pi pi-sitemap text-lg text-base-foreground\" />\n      </Button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\n\nimport Button from '@/components/ui/button/Button.vue'\nimport type {\n  MaterialMode,\n  UpDirection\n} from '@/extensions/core/load3d/interfaces'\nimport { t } from '@/i18n'\nimport { cn } from '@/utils/tailwindUtil'\n\nconst {\n  hideMaterialMode = false,\n  isPlyModel = false,\n  hasSkeleton = false\n} = defineProps<{\n  hideMaterialMode?: boolean\n  isPlyModel?: boolean\n  hasSkeleton?: boolean\n}>()\n\nconst materialMode = defineModel<MaterialMode>('materialMode')\nconst upDirection = defineModel<UpDirection>('upDirection')\nconst showSkeleton = defineModel<boolean>('showSkeleton')\n\nconst showUpDirection = ref(false)\nconst showMaterialMode = ref(false)\n\nconst upDirections: UpDirection[] = [\n  'original',\n  '-x',\n  '+x',\n  '-y',\n  '+y',\n  '-z',\n  '+z'\n]\n\nconst materialModes = computed(() => {\n  const modes: MaterialMode[] = [\n    'original',\n    'normal',\n    'wireframe'\n    //'depth' disable for now\n  ]\n\n  // Only show pointCloud mode for PLY files (point cloud rendering)\n  if (isPlyModel) {\n    modes.splice(1, 0, 'pointCloud')\n  }\n\n  return modes\n})\n\nfunction toggleUpDirection() {\n  showUpDirection.value = !showUpDirection.value\n  showMaterialMode.value = false\n}\n\nfunction selectUpDirection(direction: UpDirection) {\n  upDirection.value = direction\n  showUpDirection.value = false\n}\n\nfunction toggleMaterialMode() {\n  showMaterialMode.value = !showMaterialMode.value\n  showUpDirection.value = false\n}\n\nfunction selectMaterialMode(mode: MaterialMode) {\n  materialMode.value = mode\n  showMaterialMode.value = false\n}\n\nfunction formatMaterialMode(mode: MaterialMode) {\n  return t(`load3d.materialModes.${mode}`)\n}\n\nfunction closeSceneSlider(e: MouseEvent) {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-up-direction')) {\n    showUpDirection.value = false\n  }\n\n  if (!target.closest('.show-material-mode')) {\n    showMaterialMode.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeSceneSlider)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeSceneSlider)\n})\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <Button\n      v-tooltip.right=\"{ value: $t('load3d.showGrid'), showDelay: 300 }\"\n      variant=\"textonly\"\n      size=\"icon\"\n      :class=\"cn('rounded-full', showGrid && 'ring-2 ring-white/50')\"\n      :aria-label=\"$t('load3d.showGrid')\"\n      @click=\"toggleGrid\"\n    >\n      <i class=\"pi pi-table text-lg text-base-foreground\" />\n    </Button>\n\n    <div v-if=\"!hasBackgroundImage\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.backgroundColor'),\n          showDelay: 300\n        }\"\n        variant=\"textonly\"\n        size=\"icon\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.backgroundColor')\"\n        @click=\"openColorPicker\"\n      >\n        <i class=\"pi pi-palette text-lg text-base-foreground\" />\n        <input\n          ref=\"colorPickerRef\"\n          type=\"color\"\n          :value=\"backgroundColor\"\n          class=\"pointer-events-none absolute m-0 h-0 w-0 p-0 opacity-0\"\n          @input=\"\n            updateBackgroundColor(($event.target as HTMLInputElement).value)\n          \"\n        />\n      </Button>\n    </div>\n\n    <div v-if=\"!hasBackgroundImage\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.uploadBackgroundImage'),\n          showDelay: 300\n        }\"\n        variant=\"textonly\"\n        size=\"icon\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.uploadBackgroundImage')\"\n        @click=\"openImagePicker\"\n      >\n        <i class=\"pi pi-image text-lg text-base-foreground\" />\n        <input\n          ref=\"imagePickerRef\"\n          type=\"file\"\n          accept=\"image/*\"\n          class=\"pointer-events-none absolute m-0 h-0 w-0 p-0 opacity-0\"\n          @change=\"uploadBackgroundImage\"\n        />\n      </Button>\n    </div>\n\n    <div v-if=\"hasBackgroundImage\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.panoramaMode'),\n          showDelay: 300\n        }\"\n        variant=\"textonly\"\n        size=\"icon\"\n        :class=\"\n          cn(\n            'rounded-full',\n            backgroundRenderMode === 'panorama' && 'ring-2 ring-white/50'\n          )\n        \"\n        :aria-label=\"$t('load3d.panoramaMode')\"\n        @click=\"toggleBackgroundRenderMode\"\n      >\n        <i class=\"pi pi-globe text-lg text-base-foreground\" />\n      </Button>\n    </div>\n\n    <PopupSlider\n      v-if=\"hasBackgroundImage && backgroundRenderMode === 'panorama'\"\n      v-model=\"fov\"\n      :tooltip-text=\"$t('load3d.fov')\"\n    />\n\n    <div v-if=\"hasBackgroundImage\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.removeBackgroundImage'),\n          showDelay: 300\n        }\"\n        variant=\"textonly\"\n        size=\"icon\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.removeBackgroundImage')\"\n        @click=\"removeBackgroundImage\"\n      >\n        <i class=\"pi pi-times text-lg text-base-foreground\" />\n      </Button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from 'vue'\n\nimport PopupSlider from '@/components/load3d/controls/PopupSlider.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport type { BackgroundRenderModeType } from '@/extensions/core/load3d/interfaces'\nimport { cn } from '@/utils/tailwindUtil'\n\nconst emit = defineEmits<{\n  (e: 'updateBackgroundImage', file: File | null): void\n}>()\n\nconst showGrid = defineModel<boolean>('showGrid')\nconst backgroundColor = defineModel<string>('backgroundColor')\nconst backgroundImage = defineModel<string>('backgroundImage')\nconst backgroundRenderMode = defineModel<BackgroundRenderModeType>(\n  'backgroundRenderMode',\n  { default: 'tiled' }\n)\nconst fov = defineModel<number>('fov')\nconst hasBackgroundImage = computed(\n  () => backgroundImage.value && backgroundImage.value !== ''\n)\n\nconst colorPickerRef = ref<HTMLInputElement | null>(null)\nconst imagePickerRef = ref<HTMLInputElement | null>(null)\n\nconst toggleGrid = () => {\n  showGrid.value = !showGrid.value\n}\n\nconst updateBackgroundColor = (color: string) => {\n  backgroundColor.value = color\n}\n\nconst openColorPicker = () => {\n  colorPickerRef.value?.click()\n}\n\nconst openImagePicker = () => {\n  imagePickerRef.value?.click()\n}\n\nconst uploadBackgroundImage = (event: Event) => {\n  const input = event.target as HTMLInputElement\n\n  if (input.files && input.files[0]) {\n    emit('updateBackgroundImage', input.files[0])\n  }\n}\n\nconst removeBackgroundImage = () => {\n  emit('updateBackgroundImage', null)\n}\n\nconst toggleBackgroundRenderMode = () => {\n  backgroundRenderMode.value =\n    backgroundRenderMode.value === 'panorama' ? 'tiled' : 'panorama'\n}\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <Button\n      v-tooltip.right=\"{ value: $t('load3d.showGrid'), showDelay: 300 }\"\n      variant=\"textonly\"\n      size=\"icon\"\n      :class=\"cn('rounded-full', showGrid && 'ring-2 ring-white/50')\"\n      :aria-label=\"$t('load3d.showGrid')\"\n      @click=\"toggleGrid\"\n    >\n      <i class=\"pi pi-table text-lg text-base-foreground\" />\n    </Button>\n\n    <div v-if=\"!hasBackgroundImage\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.backgroundColor'),\n          showDelay: 300\n        }\"\n        variant=\"textonly\"\n        size=\"icon\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.backgroundColor')\"\n        @click=\"openColorPicker\"\n      >\n        <i class=\"pi pi-palette text-lg text-base-foreground\" />\n        <input\n          ref=\"colorPickerRef\"\n          type=\"color\"\n          :value=\"backgroundColor\"\n          class=\"pointer-events-none absolute m-0 h-0 w-0 p-0 opacity-0\"\n          @input=\"\n            updateBackgroundColor(($event.target as HTMLInputElement).value)\n          \"\n        />\n      </Button>\n    </div>\n\n    <div v-if=\"!hasBackgroundImage\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.uploadBackgroundImage'),\n          showDelay: 300\n        }\"\n        variant=\"textonly\"\n        size=\"icon\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.uploadBackgroundImage')\"\n        @click=\"openImagePicker\"\n      >\n        <i class=\"pi pi-image text-lg text-base-foreground\" />\n        <input\n          ref=\"imagePickerRef\"\n          type=\"file\"\n          accept=\"image/*\"\n          class=\"pointer-events-none absolute m-0 h-0 w-0 p-0 opacity-0\"\n          @change=\"uploadBackgroundImage\"\n        />\n      </Button>\n    </div>\n\n    <div v-if=\"hasBackgroundImage\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.panoramaMode'),\n          showDelay: 300\n        }\"\n        variant=\"textonly\"\n        size=\"icon\"\n        :class=\"\n          cn(\n            'rounded-full',\n            backgroundRenderMode === 'panorama' && 'ring-2 ring-white/50'\n          )\n        \"\n        :aria-label=\"$t('load3d.panoramaMode')\"\n        @click=\"toggleBackgroundRenderMode\"\n      >\n        <i class=\"pi pi-globe text-lg text-base-foreground\" />\n      </Button>\n    </div>\n\n    <PopupSlider\n      v-if=\"hasBackgroundImage && backgroundRenderMode === 'panorama'\"\n      v-model=\"fov\"\n      :tooltip-text=\"$t('load3d.fov')\"\n    />\n\n    <div v-if=\"hasBackgroundImage\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.removeBackgroundImage'),\n          showDelay: 300\n        }\"\n        variant=\"textonly\"\n        size=\"icon\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.removeBackgroundImage')\"\n        @click=\"removeBackgroundImage\"\n      >\n        <i class=\"pi pi-times text-lg text-base-foreground\" />\n      </Button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from 'vue'\n\nimport PopupSlider from '@/components/load3d/controls/PopupSlider.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport type { BackgroundRenderModeType } from '@/extensions/core/load3d/interfaces'\nimport { cn } from '@/utils/tailwindUtil'\n\nconst emit = defineEmits<{\n  (e: 'updateBackgroundImage', file: File | null): void\n}>()\n\nconst showGrid = defineModel<boolean>('showGrid')\nconst backgroundColor = defineModel<string>('backgroundColor')\nconst backgroundImage = defineModel<string>('backgroundImage')\nconst backgroundRenderMode = defineModel<BackgroundRenderModeType>(\n  'backgroundRenderMode',\n  { default: 'tiled' }\n)\nconst fov = defineModel<number>('fov')\nconst hasBackgroundImage = computed(\n  () => backgroundImage.value && backgroundImage.value !== ''\n)\n\nconst colorPickerRef = ref<HTMLInputElement | null>(null)\nconst imagePickerRef = ref<HTMLInputElement | null>(null)\n\nconst toggleGrid = () => {\n  showGrid.value = !showGrid.value\n}\n\nconst updateBackgroundColor = (color: string) => {\n  backgroundColor.value = color\n}\n\nconst openColorPicker = () => {\n  colorPickerRef.value?.click()\n}\n\nconst openImagePicker = () => {\n  imagePickerRef.value?.click()\n}\n\nconst uploadBackgroundImage = (event: Event) => {\n  const input = event.target as HTMLInputElement\n\n  if (input.files && input.files[0]) {\n    emit('updateBackgroundImage', input.files[0])\n  }\n}\n\nconst removeBackgroundImage = () => {\n  emit('updateBackgroundImage', null)\n}\n\nconst toggleBackgroundRenderMode = () => {\n  backgroundRenderMode.value =\n    backgroundRenderMode.value === 'panorama' ? 'tiled' : 'panorama'\n}\n</script>\n","<template>\n  <div\n    class=\"pointer-events-auto absolute top-12 left-2 z-20 flex flex-col rounded-lg bg-backdrop/30\"\n    @pointerdown.stop\n    @pointermove.stop\n    @pointerup.stop\n    @wheel.stop\n  >\n    <div class=\"show-menu relative\">\n      <Button\n        variant=\"textonly\"\n        size=\"icon\"\n        :aria-label=\"$t('menu.showMenu')\"\n        class=\"rounded-full\"\n        @click=\"toggleMenu\"\n      >\n        <i class=\"pi pi-bars text-lg text-base-foreground\" />\n      </Button>\n\n      <div\n        v-show=\"isMenuOpen\"\n        class=\"absolute top-0 left-12 rounded-lg bg-interface-menu-surface shadow-lg\"\n      >\n        <div class=\"flex flex-col\">\n          <Button\n            v-for=\"category in availableCategories\"\n            :key=\"category\"\n            variant=\"textonly\"\n            :class=\"\n              cn(\n                'flex w-full items-center justify-start',\n                activeCategory === category && 'bg-button-active-surface'\n              )\n            \"\n            @click=\"selectCategory(category)\"\n          >\n            <i :class=\"getCategoryIcon(category)\" />\n            <span class=\"whitespace-nowrap text-base-foreground\">{{\n              $t(categoryLabels[category])\n            }}</span>\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <div v-show=\"activeCategory\" class=\"rounded-lg bg-smoke-700/30\">\n      <SceneControls\n        v-if=\"showSceneControls\"\n        v-model:show-grid=\"sceneConfig!.showGrid\"\n        v-model:background-color=\"sceneConfig!.backgroundColor\"\n        v-model:background-image=\"sceneConfig!.backgroundImage\"\n        v-model:background-render-mode=\"sceneConfig!.backgroundRenderMode\"\n        v-model:fov=\"cameraConfig!.fov\"\n        @update-background-image=\"handleBackgroundImageUpdate\"\n      />\n\n      <ModelControls\n        v-if=\"showModelControls\"\n        v-model:material-mode=\"modelConfig!.materialMode\"\n        v-model:up-direction=\"modelConfig!.upDirection\"\n        v-model:show-skeleton=\"modelConfig!.showSkeleton\"\n        :hide-material-mode=\"isSplatModel\"\n        :is-ply-model=\"isPlyModel\"\n        :has-skeleton=\"hasSkeleton\"\n      />\n\n      <CameraControls\n        v-if=\"showCameraControls\"\n        v-model:camera-type=\"cameraConfig!.cameraType\"\n        v-model:fov=\"cameraConfig!.fov\"\n      />\n\n      <LightControls\n        v-if=\"showLightControls\"\n        v-model:light-intensity=\"lightConfig!.intensity\"\n        v-model:material-mode=\"modelConfig!.materialMode\"\n      />\n\n      <ExportControls\n        v-if=\"showExportControls\"\n        @export-model=\"handleExportModel\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\n\nimport CameraControls from '@/components/load3d/controls/CameraControls.vue'\nimport ExportControls from '@/components/load3d/controls/ExportControls.vue'\nimport LightControls from '@/components/load3d/controls/LightControls.vue'\nimport ModelControls from '@/components/load3d/controls/ModelControls.vue'\nimport SceneControls from '@/components/load3d/controls/SceneControls.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport type {\n  CameraConfig,\n  LightConfig,\n  ModelConfig,\n  SceneConfig\n} from '@/extensions/core/load3d/interfaces'\nimport { cn } from '@/utils/tailwindUtil'\n\nconst {\n  isSplatModel = false,\n  isPlyModel = false,\n  hasSkeleton = false\n} = defineProps<{\n  isSplatModel?: boolean\n  isPlyModel?: boolean\n  hasSkeleton?: boolean\n}>()\n\nconst sceneConfig = defineModel<SceneConfig>('sceneConfig')\nconst modelConfig = defineModel<ModelConfig>('modelConfig')\nconst cameraConfig = defineModel<CameraConfig>('cameraConfig')\nconst lightConfig = defineModel<LightConfig>('lightConfig')\n\nconst isMenuOpen = ref(false)\nconst activeCategory = ref<string>('scene')\nconst categoryLabels: Record<string, string> = {\n  scene: 'load3d.scene',\n  model: 'load3d.model',\n  camera: 'load3d.camera',\n  light: 'load3d.light',\n  export: 'load3d.export'\n}\n\nconst availableCategories = computed(() => {\n  if (isSplatModel) {\n    return ['scene', 'model', 'camera']\n  }\n\n  return ['scene', 'model', 'camera', 'light', 'export']\n})\n\nconst showSceneControls = computed(\n  () => activeCategory.value === 'scene' && !!sceneConfig.value\n)\nconst showModelControls = computed(\n  () => activeCategory.value === 'model' && !!modelConfig.value\n)\nconst showCameraControls = computed(\n  () => activeCategory.value === 'camera' && !!cameraConfig.value\n)\nconst showLightControls = computed(\n  () =>\n    activeCategory.value === 'light' &&\n    !!lightConfig.value &&\n    !!modelConfig.value\n)\nconst showExportControls = computed(() => activeCategory.value === 'export')\n\nconst toggleMenu = () => {\n  isMenuOpen.value = !isMenuOpen.value\n}\n\nconst selectCategory = (category: string) => {\n  activeCategory.value = category\n  isMenuOpen.value = false\n}\n\nconst getCategoryIcon = (category: string) => {\n  const icons = {\n    scene: 'pi pi-image',\n    model: 'pi pi-box',\n    camera: 'pi pi-camera',\n    light: 'pi pi-sun',\n    export: 'pi pi-download'\n  }\n  // @ts-expect-error fixme ts strict error\n  return `${icons[category]} text-base-foreground text-lg`\n}\n\nconst emit = defineEmits<{\n  (e: 'updateBackgroundImage', file: File | null): void\n  (e: 'exportModel', format: string): void\n}>()\n\nconst handleBackgroundImageUpdate = (file: File | null) => {\n  emit('updateBackgroundImage', file)\n}\n\nconst handleExportModel = (format: string) => {\n  emit('exportModel', format)\n}\n\nconst closeSlider = (e: MouseEvent) => {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-menu')) {\n    isMenuOpen.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeSlider)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeSlider)\n})\n</script>\n","<template>\n  <div\n    class=\"pointer-events-auto absolute top-12 left-2 z-20 flex flex-col rounded-lg bg-backdrop/30\"\n    @pointerdown.stop\n    @pointermove.stop\n    @pointerup.stop\n    @wheel.stop\n  >\n    <div class=\"show-menu relative\">\n      <Button\n        variant=\"textonly\"\n        size=\"icon\"\n        :aria-label=\"$t('menu.showMenu')\"\n        class=\"rounded-full\"\n        @click=\"toggleMenu\"\n      >\n        <i class=\"pi pi-bars text-lg text-base-foreground\" />\n      </Button>\n\n      <div\n        v-show=\"isMenuOpen\"\n        class=\"absolute top-0 left-12 rounded-lg bg-interface-menu-surface shadow-lg\"\n      >\n        <div class=\"flex flex-col\">\n          <Button\n            v-for=\"category in availableCategories\"\n            :key=\"category\"\n            variant=\"textonly\"\n            :class=\"\n              cn(\n                'flex w-full items-center justify-start',\n                activeCategory === category && 'bg-button-active-surface'\n              )\n            \"\n            @click=\"selectCategory(category)\"\n          >\n            <i :class=\"getCategoryIcon(category)\" />\n            <span class=\"whitespace-nowrap text-base-foreground\">{{\n              $t(categoryLabels[category])\n            }}</span>\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <div v-show=\"activeCategory\" class=\"rounded-lg bg-smoke-700/30\">\n      <SceneControls\n        v-if=\"showSceneControls\"\n        v-model:show-grid=\"sceneConfig!.showGrid\"\n        v-model:background-color=\"sceneConfig!.backgroundColor\"\n        v-model:background-image=\"sceneConfig!.backgroundImage\"\n        v-model:background-render-mode=\"sceneConfig!.backgroundRenderMode\"\n        v-model:fov=\"cameraConfig!.fov\"\n        @update-background-image=\"handleBackgroundImageUpdate\"\n      />\n\n      <ModelControls\n        v-if=\"showModelControls\"\n        v-model:material-mode=\"modelConfig!.materialMode\"\n        v-model:up-direction=\"modelConfig!.upDirection\"\n        v-model:show-skeleton=\"modelConfig!.showSkeleton\"\n        :hide-material-mode=\"isSplatModel\"\n        :is-ply-model=\"isPlyModel\"\n        :has-skeleton=\"hasSkeleton\"\n      />\n\n      <CameraControls\n        v-if=\"showCameraControls\"\n        v-model:camera-type=\"cameraConfig!.cameraType\"\n        v-model:fov=\"cameraConfig!.fov\"\n      />\n\n      <LightControls\n        v-if=\"showLightControls\"\n        v-model:light-intensity=\"lightConfig!.intensity\"\n        v-model:material-mode=\"modelConfig!.materialMode\"\n      />\n\n      <ExportControls\n        v-if=\"showExportControls\"\n        @export-model=\"handleExportModel\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\n\nimport CameraControls from '@/components/load3d/controls/CameraControls.vue'\nimport ExportControls from '@/components/load3d/controls/ExportControls.vue'\nimport LightControls from '@/components/load3d/controls/LightControls.vue'\nimport ModelControls from '@/components/load3d/controls/ModelControls.vue'\nimport SceneControls from '@/components/load3d/controls/SceneControls.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport type {\n  CameraConfig,\n  LightConfig,\n  ModelConfig,\n  SceneConfig\n} from '@/extensions/core/load3d/interfaces'\nimport { cn } from '@/utils/tailwindUtil'\n\nconst {\n  isSplatModel = false,\n  isPlyModel = false,\n  hasSkeleton = false\n} = defineProps<{\n  isSplatModel?: boolean\n  isPlyModel?: boolean\n  hasSkeleton?: boolean\n}>()\n\nconst sceneConfig = defineModel<SceneConfig>('sceneConfig')\nconst modelConfig = defineModel<ModelConfig>('modelConfig')\nconst cameraConfig = defineModel<CameraConfig>('cameraConfig')\nconst lightConfig = defineModel<LightConfig>('lightConfig')\n\nconst isMenuOpen = ref(false)\nconst activeCategory = ref<string>('scene')\nconst categoryLabels: Record<string, string> = {\n  scene: 'load3d.scene',\n  model: 'load3d.model',\n  camera: 'load3d.camera',\n  light: 'load3d.light',\n  export: 'load3d.export'\n}\n\nconst availableCategories = computed(() => {\n  if (isSplatModel) {\n    return ['scene', 'model', 'camera']\n  }\n\n  return ['scene', 'model', 'camera', 'light', 'export']\n})\n\nconst showSceneControls = computed(\n  () => activeCategory.value === 'scene' && !!sceneConfig.value\n)\nconst showModelControls = computed(\n  () => activeCategory.value === 'model' && !!modelConfig.value\n)\nconst showCameraControls = computed(\n  () => activeCategory.value === 'camera' && !!cameraConfig.value\n)\nconst showLightControls = computed(\n  () =>\n    activeCategory.value === 'light' &&\n    !!lightConfig.value &&\n    !!modelConfig.value\n)\nconst showExportControls = computed(() => activeCategory.value === 'export')\n\nconst toggleMenu = () => {\n  isMenuOpen.value = !isMenuOpen.value\n}\n\nconst selectCategory = (category: string) => {\n  activeCategory.value = category\n  isMenuOpen.value = false\n}\n\nconst getCategoryIcon = (category: string) => {\n  const icons = {\n    scene: 'pi pi-image',\n    model: 'pi pi-box',\n    camera: 'pi pi-camera',\n    light: 'pi pi-sun',\n    export: 'pi pi-download'\n  }\n  // @ts-expect-error fixme ts strict error\n  return `${icons[category]} text-base-foreground text-lg`\n}\n\nconst emit = defineEmits<{\n  (e: 'updateBackgroundImage', file: File | null): void\n  (e: 'exportModel', format: string): void\n}>()\n\nconst handleBackgroundImageUpdate = (file: File | null) => {\n  emit('updateBackgroundImage', file)\n}\n\nconst handleExportModel = (format: string) => {\n  emit('exportModel', format)\n}\n\nconst closeSlider = (e: MouseEvent) => {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-menu')) {\n    isMenuOpen.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeSlider)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeSlider)\n})\n</script>\n"],"mappings":"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"}