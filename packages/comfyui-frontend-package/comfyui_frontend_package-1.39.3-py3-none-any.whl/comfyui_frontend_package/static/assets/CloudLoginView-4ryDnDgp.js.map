{"version":3,"file":"CloudLoginView-4ryDnDgp.js","names":[],"sources":["../../src/platform/cloud/onboarding/components/CloudSignInForm.vue","../../src/platform/cloud/onboarding/components/CloudSignInForm.vue","../../src/platform/cloud/onboarding/components/CloudSignInForm.vue","../../src/platform/cloud/onboarding/CloudLoginView.vue","../../src/platform/cloud/onboarding/CloudLoginView.vue"],"sourcesContent":["<template>\n  <Form\n    v-slot=\"$form\"\n    class=\"flex flex-col gap-6\"\n    :resolver=\"zodResolver(signInSchema)\"\n    @submit=\"onSubmit\"\n  >\n    <!-- Email Field -->\n    <div class=\"flex flex-col gap-2\">\n      <label class=\"mb-2 text-base font-medium opacity-80\" :for=\"emailInputId\">\n        {{ t('auth.login.emailLabel') }}\n      </label>\n      <InputText\n        :id=\"emailInputId\"\n        autocomplete=\"email\"\n        class=\"h-10\"\n        name=\"email\"\n        type=\"text\"\n        :placeholder=\"t('auth.login.emailPlaceholder')\"\n        :invalid=\"$form.email?.invalid\"\n      />\n      <small v-if=\"$form.email?.invalid\" class=\"text-red-500\">{{\n        $form.email.error.message\n      }}</small>\n    </div>\n\n    <!-- Password Field -->\n    <div class=\"flex flex-col gap-2\">\n      <div class=\"mb-2 flex items-center justify-between\">\n        <label\n          class=\"text-base font-medium opacity-80\"\n          for=\"cloud-sign-in-password\"\n        >\n          {{ t('auth.login.passwordLabel') }}\n        </label>\n      </div>\n      <Password\n        input-id=\"cloud-sign-in-password\"\n        pt:pc-input-text:root:autocomplete=\"current-password\"\n        name=\"password\"\n        :feedback=\"false\"\n        toggle-mask\n        :placeholder=\"t('auth.login.passwordPlaceholder')\"\n        :class=\"{ 'p-invalid': $form.password?.invalid }\"\n        fluid\n        class=\"h-10\"\n      />\n      <small v-if=\"$form.password?.invalid\" class=\"text-red-500\">{{\n        $form.password.error.message\n      }}</small>\n\n      <router-link\n        :to=\"{ name: 'cloud-forgot-password' }\"\n        class=\"text-sm font-medium text-muted no-underline\"\n      >\n        {{ t('auth.login.forgotPassword') }}\n      </router-link>\n    </div>\n\n    <!-- Auth Error Message -->\n    <Message v-if=\"authError\" severity=\"error\">\n      {{ authError }}\n    </Message>\n\n    <!-- Submit Button -->\n    <ProgressSpinner v-if=\"loading\" class=\"h-8 w-8\" />\n    <Button\n      v-else\n      type=\"submit\"\n      class=\"mt-4 h-10 font-medium text-white\"\n      :disabled=\"!$form.valid\"\n    >\n      {{ t('auth.login.loginButton') }}\n    </Button>\n  </Form>\n</template>\n\n<script setup lang=\"ts\">\nimport type { FormSubmitEvent } from '@primevue/forms'\nimport { Form } from '@primevue/forms'\nimport { zodResolver } from '@primevue/forms/resolvers/zod'\nimport InputText from 'primevue/inputtext'\nimport Message from 'primevue/message'\nimport Password from 'primevue/password'\nimport ProgressSpinner from 'primevue/progressspinner'\nimport { computed } from 'vue'\nimport { useI18n } from 'vue-i18n'\n\nimport Button from '@/components/ui/button/Button.vue'\nimport { signInSchema } from '@/schemas/signInSchema'\nimport type { SignInData } from '@/schemas/signInSchema'\nimport { useFirebaseAuthStore } from '@/stores/firebaseAuthStore'\n\nconst authStore = useFirebaseAuthStore()\nconst loading = computed(() => authStore.loading)\n\nconst { t } = useI18n()\n\ndefineProps<{\n  authError?: string\n}>()\n\nconst emit = defineEmits<{\n  submit: [values: SignInData]\n}>()\n\nconst emailInputId = 'cloud-sign-in-email'\n\nconst onSubmit = (event: FormSubmitEvent) => {\n  if (event.valid) {\n    emit('submit', event.values as SignInData)\n  }\n}\n</script>\n<style scoped>\n:deep(.p-inputtext) {\n  border: none !important;\n  box-shadow: none !important;\n  background: #2d2e32 !important;\n}\n\n:deep(.p-password input) {\n  border: none !important;\n  box-shadow: none !important;\n}\n:deep(.p-checkbox-checked .p-checkbox-box) {\n  background-color: #f0ff41 !important;\n  border-color: #f0ff41 !important;\n}\n</style>\n","<template>\n  <Form\n    v-slot=\"$form\"\n    class=\"flex flex-col gap-6\"\n    :resolver=\"zodResolver(signInSchema)\"\n    @submit=\"onSubmit\"\n  >\n    <!-- Email Field -->\n    <div class=\"flex flex-col gap-2\">\n      <label class=\"mb-2 text-base font-medium opacity-80\" :for=\"emailInputId\">\n        {{ t('auth.login.emailLabel') }}\n      </label>\n      <InputText\n        :id=\"emailInputId\"\n        autocomplete=\"email\"\n        class=\"h-10\"\n        name=\"email\"\n        type=\"text\"\n        :placeholder=\"t('auth.login.emailPlaceholder')\"\n        :invalid=\"$form.email?.invalid\"\n      />\n      <small v-if=\"$form.email?.invalid\" class=\"text-red-500\">{{\n        $form.email.error.message\n      }}</small>\n    </div>\n\n    <!-- Password Field -->\n    <div class=\"flex flex-col gap-2\">\n      <div class=\"mb-2 flex items-center justify-between\">\n        <label\n          class=\"text-base font-medium opacity-80\"\n          for=\"cloud-sign-in-password\"\n        >\n          {{ t('auth.login.passwordLabel') }}\n        </label>\n      </div>\n      <Password\n        input-id=\"cloud-sign-in-password\"\n        pt:pc-input-text:root:autocomplete=\"current-password\"\n        name=\"password\"\n        :feedback=\"false\"\n        toggle-mask\n        :placeholder=\"t('auth.login.passwordPlaceholder')\"\n        :class=\"{ 'p-invalid': $form.password?.invalid }\"\n        fluid\n        class=\"h-10\"\n      />\n      <small v-if=\"$form.password?.invalid\" class=\"text-red-500\">{{\n        $form.password.error.message\n      }}</small>\n\n      <router-link\n        :to=\"{ name: 'cloud-forgot-password' }\"\n        class=\"text-sm font-medium text-muted no-underline\"\n      >\n        {{ t('auth.login.forgotPassword') }}\n      </router-link>\n    </div>\n\n    <!-- Auth Error Message -->\n    <Message v-if=\"authError\" severity=\"error\">\n      {{ authError }}\n    </Message>\n\n    <!-- Submit Button -->\n    <ProgressSpinner v-if=\"loading\" class=\"h-8 w-8\" />\n    <Button\n      v-else\n      type=\"submit\"\n      class=\"mt-4 h-10 font-medium text-white\"\n      :disabled=\"!$form.valid\"\n    >\n      {{ t('auth.login.loginButton') }}\n    </Button>\n  </Form>\n</template>\n\n<script setup lang=\"ts\">\nimport type { FormSubmitEvent } from '@primevue/forms'\nimport { Form } from '@primevue/forms'\nimport { zodResolver } from '@primevue/forms/resolvers/zod'\nimport InputText from 'primevue/inputtext'\nimport Message from 'primevue/message'\nimport Password from 'primevue/password'\nimport ProgressSpinner from 'primevue/progressspinner'\nimport { computed } from 'vue'\nimport { useI18n } from 'vue-i18n'\n\nimport Button from '@/components/ui/button/Button.vue'\nimport { signInSchema } from '@/schemas/signInSchema'\nimport type { SignInData } from '@/schemas/signInSchema'\nimport { useFirebaseAuthStore } from '@/stores/firebaseAuthStore'\n\nconst authStore = useFirebaseAuthStore()\nconst loading = computed(() => authStore.loading)\n\nconst { t } = useI18n()\n\ndefineProps<{\n  authError?: string\n}>()\n\nconst emit = defineEmits<{\n  submit: [values: SignInData]\n}>()\n\nconst emailInputId = 'cloud-sign-in-email'\n\nconst onSubmit = (event: FormSubmitEvent) => {\n  if (event.valid) {\n    emit('submit', event.values as SignInData)\n  }\n}\n</script>\n<style scoped>\n:deep(.p-inputtext) {\n  border: none !important;\n  box-shadow: none !important;\n  background: #2d2e32 !important;\n}\n\n:deep(.p-password input) {\n  border: none !important;\n  box-shadow: none !important;\n}\n:deep(.p-checkbox-checked .p-checkbox-box) {\n  background-color: #f0ff41 !important;\n  border-color: #f0ff41 !important;\n}\n</style>\n","<template>\n  <Form\n    v-slot=\"$form\"\n    class=\"flex flex-col gap-6\"\n    :resolver=\"zodResolver(signInSchema)\"\n    @submit=\"onSubmit\"\n  >\n    <!-- Email Field -->\n    <div class=\"flex flex-col gap-2\">\n      <label class=\"mb-2 text-base font-medium opacity-80\" :for=\"emailInputId\">\n        {{ t('auth.login.emailLabel') }}\n      </label>\n      <InputText\n        :id=\"emailInputId\"\n        autocomplete=\"email\"\n        class=\"h-10\"\n        name=\"email\"\n        type=\"text\"\n        :placeholder=\"t('auth.login.emailPlaceholder')\"\n        :invalid=\"$form.email?.invalid\"\n      />\n      <small v-if=\"$form.email?.invalid\" class=\"text-red-500\">{{\n        $form.email.error.message\n      }}</small>\n    </div>\n\n    <!-- Password Field -->\n    <div class=\"flex flex-col gap-2\">\n      <div class=\"mb-2 flex items-center justify-between\">\n        <label\n          class=\"text-base font-medium opacity-80\"\n          for=\"cloud-sign-in-password\"\n        >\n          {{ t('auth.login.passwordLabel') }}\n        </label>\n      </div>\n      <Password\n        input-id=\"cloud-sign-in-password\"\n        pt:pc-input-text:root:autocomplete=\"current-password\"\n        name=\"password\"\n        :feedback=\"false\"\n        toggle-mask\n        :placeholder=\"t('auth.login.passwordPlaceholder')\"\n        :class=\"{ 'p-invalid': $form.password?.invalid }\"\n        fluid\n        class=\"h-10\"\n      />\n      <small v-if=\"$form.password?.invalid\" class=\"text-red-500\">{{\n        $form.password.error.message\n      }}</small>\n\n      <router-link\n        :to=\"{ name: 'cloud-forgot-password' }\"\n        class=\"text-sm font-medium text-muted no-underline\"\n      >\n        {{ t('auth.login.forgotPassword') }}\n      </router-link>\n    </div>\n\n    <!-- Auth Error Message -->\n    <Message v-if=\"authError\" severity=\"error\">\n      {{ authError }}\n    </Message>\n\n    <!-- Submit Button -->\n    <ProgressSpinner v-if=\"loading\" class=\"h-8 w-8\" />\n    <Button\n      v-else\n      type=\"submit\"\n      class=\"mt-4 h-10 font-medium text-white\"\n      :disabled=\"!$form.valid\"\n    >\n      {{ t('auth.login.loginButton') }}\n    </Button>\n  </Form>\n</template>\n\n<script setup lang=\"ts\">\nimport type { FormSubmitEvent } from '@primevue/forms'\nimport { Form } from '@primevue/forms'\nimport { zodResolver } from '@primevue/forms/resolvers/zod'\nimport InputText from 'primevue/inputtext'\nimport Message from 'primevue/message'\nimport Password from 'primevue/password'\nimport ProgressSpinner from 'primevue/progressspinner'\nimport { computed } from 'vue'\nimport { useI18n } from 'vue-i18n'\n\nimport Button from '@/components/ui/button/Button.vue'\nimport { signInSchema } from '@/schemas/signInSchema'\nimport type { SignInData } from '@/schemas/signInSchema'\nimport { useFirebaseAuthStore } from '@/stores/firebaseAuthStore'\n\nconst authStore = useFirebaseAuthStore()\nconst loading = computed(() => authStore.loading)\n\nconst { t } = useI18n()\n\ndefineProps<{\n  authError?: string\n}>()\n\nconst emit = defineEmits<{\n  submit: [values: SignInData]\n}>()\n\nconst emailInputId = 'cloud-sign-in-email'\n\nconst onSubmit = (event: FormSubmitEvent) => {\n  if (event.valid) {\n    emit('submit', event.values as SignInData)\n  }\n}\n</script>\n<style scoped>\n:deep(.p-inputtext) {\n  border: none !important;\n  box-shadow: none !important;\n  background: #2d2e32 !important;\n}\n\n:deep(.p-password input) {\n  border: none !important;\n  box-shadow: none !important;\n}\n:deep(.p-checkbox-checked .p-checkbox-box) {\n  background-color: #f0ff41 !important;\n  border-color: #f0ff41 !important;\n}\n</style>\n","<template>\n  <div class=\"flex h-full items-center justify-center p-8\">\n    <div class=\"max-w-screen p-2 lg:w-96\">\n      <!-- Header -->\n      <div class=\"mt-6 mb-8 flex flex-col gap-4\">\n        <h1 class=\"my-0 text-xl leading-normal font-medium\">\n          {{ t('auth.login.title') }}\n        </h1>\n        <p class=\"my-0 text-base\">\n          <span class=\"text-muted\">{{ t('auth.login.newUser') }}</span>\n          <span\n            class=\"ml-1 cursor-pointer text-blue-500\"\n            @click=\"navigateToSignup\"\n            >{{ t('auth.login.signUp') }}</span\n          >\n        </p>\n      </div>\n\n      <Message v-if=\"!isSecureContext\" severity=\"warn\" class=\"mb-4\">\n        {{ t('auth.login.insecureContextWarning') }}\n      </Message>\n\n      <!-- Form -->\n      <CloudSignInForm :auth-error=\"authError\" @submit=\"signInWithEmail\" />\n\n      <!-- Divider -->\n      <Divider align=\"center\" layout=\"horizontal\" class=\"my-8\">\n        <span class=\"text-muted\">{{ t('auth.login.orContinueWith') }}</span>\n      </Divider>\n\n      <!-- Social Login Buttons -->\n      <div class=\"flex flex-col gap-6\">\n        <Button\n          type=\"button\"\n          class=\"h-10 bg-[#2d2e32]\"\n          variant=\"secondary\"\n          @click=\"signInWithGoogle\"\n        >\n          <i class=\"pi pi-google mr-2\"></i>\n          {{ t('auth.login.loginWithGoogle') }}\n        </Button>\n\n        <Button\n          type=\"button\"\n          class=\"h-10 bg-[#2d2e32]\"\n          variant=\"secondary\"\n          @click=\"signInWithGithub\"\n        >\n          <i class=\"pi pi-github mr-2\"></i>\n          {{ t('auth.login.loginWithGithub') }}\n        </Button>\n      </div>\n\n      <!-- Terms & Contact -->\n      <p class=\"mt-5 text-sm text-gray-600\">\n        {{ t('auth.login.termsText') }}\n        <a\n          href=\"https://www.comfy.org/terms-of-service\"\n          target=\"_blank\"\n          class=\"cursor-pointer text-blue-400 no-underline\"\n        >\n          {{ t('auth.login.termsLink') }}\n        </a>\n        {{ t('auth.login.andText') }}\n        <a\n          href=\"https://www.comfy.org/privacy-policy\"\n          target=\"_blank\"\n          class=\"cursor-pointer text-blue-400 no-underline\"\n        >\n          {{ t('auth.login.privacyLink') }} </a\n        >.\n      </p>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Divider from 'primevue/divider'\nimport Message from 'primevue/message'\nimport { ref } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport { useRoute, useRouter } from 'vue-router'\n\nimport Button from '@/components/ui/button/Button.vue'\nimport { useFirebaseAuthActions } from '@/composables/auth/useFirebaseAuthActions'\nimport CloudSignInForm from '@/platform/cloud/onboarding/components/CloudSignInForm.vue'\nimport { getSafePreviousFullPath } from '@/platform/cloud/onboarding/utils/previousFullPath'\nimport { useToastStore } from '@/platform/updates/common/toastStore'\nimport type { SignInData } from '@/schemas/signInSchema'\n\nconst { t } = useI18n()\nconst router = useRouter()\nconst route = useRoute()\nconst authActions = useFirebaseAuthActions()\nconst isSecureContext = globalThis.isSecureContext\nconst authError = ref('')\nconst toastStore = useToastStore()\n\nconst navigateToSignup = async () => {\n  await router.push({ name: 'cloud-signup', query: route.query })\n}\n\nconst onSuccess = async () => {\n  toastStore.add({\n    severity: 'success',\n    summary: 'Login Completed',\n    life: 2000\n  })\n\n  const previousFullPath = getSafePreviousFullPath(route.query)\n  if (previousFullPath) {\n    await router.replace(previousFullPath)\n    return\n  }\n\n  await router.push({ name: 'cloud-user-check' })\n}\n\nconst signInWithGoogle = async () => {\n  authError.value = ''\n  if (await authActions.signInWithGoogle()) {\n    await onSuccess()\n  }\n}\n\nconst signInWithGithub = async () => {\n  authError.value = ''\n  if (await authActions.signInWithGithub()) {\n    await onSuccess()\n  }\n}\n\nconst signInWithEmail = async (values: SignInData) => {\n  authError.value = ''\n  if (await authActions.signInWithEmail(values.email, values.password)) {\n    await onSuccess()\n  }\n}\n</script>\n","<template>\n  <div class=\"flex h-full items-center justify-center p-8\">\n    <div class=\"max-w-screen p-2 lg:w-96\">\n      <!-- Header -->\n      <div class=\"mt-6 mb-8 flex flex-col gap-4\">\n        <h1 class=\"my-0 text-xl leading-normal font-medium\">\n          {{ t('auth.login.title') }}\n        </h1>\n        <p class=\"my-0 text-base\">\n          <span class=\"text-muted\">{{ t('auth.login.newUser') }}</span>\n          <span\n            class=\"ml-1 cursor-pointer text-blue-500\"\n            @click=\"navigateToSignup\"\n            >{{ t('auth.login.signUp') }}</span\n          >\n        </p>\n      </div>\n\n      <Message v-if=\"!isSecureContext\" severity=\"warn\" class=\"mb-4\">\n        {{ t('auth.login.insecureContextWarning') }}\n      </Message>\n\n      <!-- Form -->\n      <CloudSignInForm :auth-error=\"authError\" @submit=\"signInWithEmail\" />\n\n      <!-- Divider -->\n      <Divider align=\"center\" layout=\"horizontal\" class=\"my-8\">\n        <span class=\"text-muted\">{{ t('auth.login.orContinueWith') }}</span>\n      </Divider>\n\n      <!-- Social Login Buttons -->\n      <div class=\"flex flex-col gap-6\">\n        <Button\n          type=\"button\"\n          class=\"h-10 bg-[#2d2e32]\"\n          variant=\"secondary\"\n          @click=\"signInWithGoogle\"\n        >\n          <i class=\"pi pi-google mr-2\"></i>\n          {{ t('auth.login.loginWithGoogle') }}\n        </Button>\n\n        <Button\n          type=\"button\"\n          class=\"h-10 bg-[#2d2e32]\"\n          variant=\"secondary\"\n          @click=\"signInWithGithub\"\n        >\n          <i class=\"pi pi-github mr-2\"></i>\n          {{ t('auth.login.loginWithGithub') }}\n        </Button>\n      </div>\n\n      <!-- Terms & Contact -->\n      <p class=\"mt-5 text-sm text-gray-600\">\n        {{ t('auth.login.termsText') }}\n        <a\n          href=\"https://www.comfy.org/terms-of-service\"\n          target=\"_blank\"\n          class=\"cursor-pointer text-blue-400 no-underline\"\n        >\n          {{ t('auth.login.termsLink') }}\n        </a>\n        {{ t('auth.login.andText') }}\n        <a\n          href=\"https://www.comfy.org/privacy-policy\"\n          target=\"_blank\"\n          class=\"cursor-pointer text-blue-400 no-underline\"\n        >\n          {{ t('auth.login.privacyLink') }} </a\n        >.\n      </p>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Divider from 'primevue/divider'\nimport Message from 'primevue/message'\nimport { ref } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport { useRoute, useRouter } from 'vue-router'\n\nimport Button from '@/components/ui/button/Button.vue'\nimport { useFirebaseAuthActions } from '@/composables/auth/useFirebaseAuthActions'\nimport CloudSignInForm from '@/platform/cloud/onboarding/components/CloudSignInForm.vue'\nimport { getSafePreviousFullPath } from '@/platform/cloud/onboarding/utils/previousFullPath'\nimport { useToastStore } from '@/platform/updates/common/toastStore'\nimport type { SignInData } from '@/schemas/signInSchema'\n\nconst { t } = useI18n()\nconst router = useRouter()\nconst route = useRoute()\nconst authActions = useFirebaseAuthActions()\nconst isSecureContext = globalThis.isSecureContext\nconst authError = ref('')\nconst toastStore = useToastStore()\n\nconst navigateToSignup = async () => {\n  await router.push({ name: 'cloud-signup', query: route.query })\n}\n\nconst onSuccess = async () => {\n  toastStore.add({\n    severity: 'success',\n    summary: 'Login Completed',\n    life: 2000\n  })\n\n  const previousFullPath = getSafePreviousFullPath(route.query)\n  if (previousFullPath) {\n    await router.replace(previousFullPath)\n    return\n  }\n\n  await router.push({ name: 'cloud-user-check' })\n}\n\nconst signInWithGoogle = async () => {\n  authError.value = ''\n  if (await authActions.signInWithGoogle()) {\n    await onSuccess()\n  }\n}\n\nconst signInWithGithub = async () => {\n  authError.value = ''\n  if (await authActions.signInWithGithub()) {\n    await onSuccess()\n  }\n}\n\nconst signInWithEmail = async (values: SignInData) => {\n  authError.value = ''\n  if (await authActions.signInWithEmail(values.email, values.password)) {\n    await onSuccess()\n  }\n}\n</script>\n"],"mappings":"6wBE+EqB,KACO,KACN,IACF,IACC,IACO,IAEJ,IAEL,KACU,KAEQ,4PAe/B,EAAe,4GAbrB,IAAM,EAAY,IAAqB,CACjC,EAAU,OAAe,EAAU,QAAO,CAE1C,CAAE,KAAM,GAAQ,CAMhB,EAAO,EAMP,SAAY,GAA2B,CACvC,EAAM,OACR,EAAK,SAAU,EAAM,OAAoB,ijDEjCzB,IACA,IAEI,KACY,IAEjB,KACoB,KACX,KACY,KACV,wlBAG9B,GAAM,CAAE,GAAM,GAAQ,CAChB,EAAS,IAAU,CACnB,EAAQ,IAAS,CACjB,EAAc,IAAuB,CACrC,EAAkB,WAAW,gBAC7B,EAAY,EAAI,GAAE,CAClB,EAAa,IAAc,CAE3B,iBAAmB,SAAY,CACnC,MAAM,EAAO,KAAK,CAAE,KAAM,eAAgB,MAAO,EAAM,MAAO,CAAA,EAG1D,UAAY,SAAY,CAC5B,EAAW,IAAI,CACb,SAAU,UACV,QAAS,kBACT,KAAM,IACP,CAAA,CAED,IAAM,EAAmB,GAAwB,EAAM,MAAK,CAC5D,GAAI,EAAkB,CACpB,MAAM,EAAO,QAAQ,EAAgB,CACrC,OAGF,MAAM,EAAO,KAAK,CAAE,KAAM,mBAAoB,CAAA,EAG1C,iBAAmB,SAAY,CACnC,EAAU,MAAQ,GACd,MAAM,EAAY,kBAAkB,EACtC,MAAM,WAAU,EAId,iBAAmB,SAAY,CACnC,EAAU,MAAQ,GACd,MAAM,EAAY,kBAAkB,EACtC,MAAM,WAAU,EAId,gBAAkB,KAAO,IAAuB,CACpD,EAAU,MAAQ,GACd,MAAM,EAAY,gBAAgB,EAAO,MAAO,EAAO,SAAS,EAClE,MAAM,WAAU"}