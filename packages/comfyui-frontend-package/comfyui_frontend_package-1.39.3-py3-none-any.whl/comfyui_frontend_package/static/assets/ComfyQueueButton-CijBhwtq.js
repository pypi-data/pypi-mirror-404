import{i as e,n as t}from"./rolldown-runtime-BKYq3fBv.js";import{$n as n,Cr as r,H as i,Nn as a,Or as o,Qn as s,Rr as c,V as l,Wr as u,Xn as d,Zn as ee,ai as f,ar as p,er as m,ir as h,mt as g,pt as _,si as v,sr as y,ui as b,zr as x}from"./vendor-primevue-Cg-HmKZY.js";import{ot as S,st as C}from"./vendor-other-CoxDvJ0a.js";import{i as w,r as T}from"./vendor-vue-J4jYbuLn.js";import{an as E,on as te}from"./api-CJ30itpV.js";import{n as D,t as O}from"./Button-YQy7RkKq.js";import{Eo as k,To as A,an as j,at as M,cn as N,di as P,fo as ne,hn as F,in as re,it as ie,mn as I,pi as L,po as R,sn as z}from"./dialogService-DvYmp2_F.js";import{n as B,t as V}from"./_plugin-vue_export-helper-Ckv1EJQX.js";import{n as H,t as U}from"./graphHasMissingNodes-CoyewBrF.js";var W,G,K,q=t((()=>{a(),T(),_(),ne(),P(),W=[`aria-label`],G=1,K=y({__name:`BatchCountEdit`,setup(e){let{batchCount:t}=w(L()),n=R(),i=d(()=>n.get(`Comfy.QueueButton.BatchCountLimit`)),handleClick=e=>{let n;if(e){let e=t.value-1;n=Math.min(e*2,i.value)}else{let e=t.value+1;n=Math.floor(e/2)}t.value=n};return(e,n)=>{let a=o(`tooltip`);return x((r(),m(`div`,{class:`batch-count`,"aria-label":e.$t(`menu.batchCount`)},[p(f(g),{modelValue:f(t),"onUpdate:modelValue":n[0]||=e=>u(t)?t.value=e:null,class:`w-14`,min:G,max:i.value,fluid:``,"show-buttons":``,pt:{incrementButton:{class:`w-6`,onmousedown:()=>{handleClick(!0)}},decrementButton:{class:`w-6`,onmousedown:()=>{handleClick(!1)}}}},null,8,[`modelValue`,`max`,`pt`])],8,W)),[[a,{value:e.$t(`menu.batchCount`),showDelay:600},void 0,{bottom:!0}]])}}})})),J=t((()=>{})),Y,ae=t((()=>{q(),q(),J(),B(),Y=V(K,[[`__scopeId`,`data-v-19217ad4`]])})),X,Z,Q=t((()=>{a(),T(),l(),S(),D(),E(),re(),M(),A(),z(),P(),I(),H(),ae(),X={class:`queue-button-group flex`},Z=y({__name:`ComfyQueueButton`,setup(e){let t=F(),{mode:a,batchCount:l}=w(L()),u=N(),g=d(()=>U(ie.rootGraph,u.nodeDefsByName)),{t:_}=C(),y=d(()=>{let e={disabled:{key:`disabled`,label:_(`menu.run`),tooltip:_(`menu.disabledTooltip`),command:()=>{a.value=`disabled`}},change:{key:`change`,label:`${_(`menu.run`)} (${_(`menu.onChange`)})`,tooltip:_(`menu.onChangeTooltip`),command:()=>{j()?.trackUiButtonClicked({button_id:`queue_mode_option_run_on_change_selected`}),a.value=`change`}}};return te||(e.instant={key:`instant`,label:`${_(`menu.run`)} (${_(`menu.instant`)})`,tooltip:_(`menu.instantTooltip`),command:()=>{j()?.trackUiButtonClicked({button_id:`queue_mode_option_run_instant_selected`}),a.value=`instant`}}),e}),S=d(()=>y.value[a.value]||y.value.disabled),T=d(()=>Object.values(y.value)),E=d(()=>g.value?`icon-[lucide--triangle-alert]`:t.shiftDown?`icon-[lucide--list-start]`:a.value===`disabled`?`icon-[lucide--play]`:a.value===`instant`?`icon-[lucide--fast-forward]`:a.value===`change`?`icon-[lucide--step-forward]`:`icon-[lucide--play]`),D=d(()=>g.value?_(`menu.runWorkflowDisabled`):t.shiftDown?_(`menu.runWorkflowFront`):_(`menu.runWorkflow`)),A=k(),queuePrompt=async e=>{let t=`shiftKey`in e&&e.shiftKey?`Comfy.QueuePromptFront`:`Comfy.QueuePrompt`;l.value>1&&j()?.trackUiButtonClicked({button_id:`queue_run_multiple_batches_submitted`}),await A.execute(t,{metadata:{subscribe_to_run:!1,trigger_source:`button`}})};return(e,t)=>{let l=o(`tooltip`);return r(),m(`div`,X,[x((r(),s(f(i),{class:`comfyui-queue-button`,label:String(S.value?.label??``),severity:`primary`,size:`small`,model:T.value,"data-testid":`queue-button`,onClick:queuePrompt},{icon:c(()=>[ee(`i`,{class:v(E.value)},null,2)]),item:c(({item:e})=>[x((r(),s(O,{variant:e.key===f(a)?`primary`:`secondary`,size:`sm`,class:`w-full justify-start`},{default:c(()=>[e.icon?(r(),m(`i`,{key:0,class:v(e.icon)},null,2)):n(``,!0),h(` `+b(String(e.label??``)),1)]),_:2},1032,[`variant`])),[[l,{value:e.tooltip,showDelay:600}]])]),_:1},8,[`label`,`model`])),[[l,{value:D.value,showDelay:600},void 0,{bottom:!0}]]),p(Y)])}}})})),oe=t((()=>{})),$,se=t((()=>{Q(),Q(),oe(),B(),$=V(Z,[[`__scopeId`,`data-v-214102f7`]])}));export{se as n,$ as t};
//# sourceMappingURL=ComfyQueueButton-CijBhwtq.js.map