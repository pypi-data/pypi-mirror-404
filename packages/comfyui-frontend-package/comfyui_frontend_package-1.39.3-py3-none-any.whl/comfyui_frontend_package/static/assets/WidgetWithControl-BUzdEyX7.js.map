{"version":3,"mappings":";0gBAOO,IAEY,IACA,g8CCNC,IACD,0LAMnB,IAAM,EAAsB,YACpB,OAAO,gJACf,CAEM,EAAQ,EAKR,EAAa,EAAc,eAAC,CAE5B,EAAe,EAAI,EAAM,OAAO,cAAc,MAAK,CAEnD,EAAoB,MAAe,CACvC,OAAQ,EAAa,MAArB,CACE,IAAK,YACH,MAAO,aACT,IAAK,YACH,MAAO,cACT,IAAK,QACH,MAAO,4BACT,QACE,MAAO,2BAEZ,QAED,EAAM,EAAc,EAAM,OAAO,cAAc,OAAM","names":[],"ignoreList":[],"sources":["../../src/components/ui/Popover.vue","../../src/renderer/extensions/vueNodes/widgets/components/WidgetWithControl.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport {\n  PopoverArrow,\n  PopoverContent,\n  PopoverPortal,\n  PopoverRoot,\n  PopoverTrigger\n} from 'reka-ui'\n\nimport Button from '@/components/ui/button/Button.vue'\nimport { cn } from '@/utils/tailwindUtil'\n\ndefineOptions({\n  inheritAttrs: false\n})\n\ndefineProps<{\n  entries?: { label: string; action?: () => void; icon?: string }[][]\n  icon?: string\n  to?: string | HTMLElement\n}>()\n</script>\n\n<template>\n  <PopoverRoot v-slot=\"{ close }\">\n    <PopoverTrigger as-child>\n      <slot name=\"button\">\n        <Button size=\"icon\">\n          <i :class=\"icon ?? 'icon-[lucide--ellipsis]'\" />\n        </Button>\n      </slot>\n    </PopoverTrigger>\n    <PopoverPortal :to>\n      <PopoverContent\n        side=\"bottom\"\n        :side-offset=\"5\"\n        :collision-padding=\"10\"\n        v-bind=\"$attrs\"\n        class=\"rounded-lg p-2 bg-base-background shadow-sm border border-border-subtle will-change-[transform,opacity] data-[state=open]:data-[side=top]:animate-slideDownAndFade data-[state=open]:data-[side=right]:animate-slideLeftAndFade data-[state=open]:data-[side=bottom]:animate-slideUpAndFade data-[state=open]:data-[side=left]:animate-slideRightAndFade\"\n      >\n        <slot>\n          <div class=\"flex flex-col p-1\">\n            <section\n              v-for=\"(entryGroup, index) in entries ?? []\"\n              :key=\"index\"\n              class=\"flex flex-col border-b-2 last:border-none border-border-subtle\"\n            >\n              <div\n                v-for=\"{ label, action, icon } in entryGroup\"\n                :key=\"label\"\n                :class=\"\n                  cn(\n                    'flex flex-row gap-4 p-2 rounded-sm my-1',\n                    action &&\n                      'cursor-pointer hover:bg-secondary-background-hover'\n                  )\n                \"\n                @click=\"\n                  () => {\n                    if (!action) return\n                    action()\n                    close()\n                  }\n                \"\n              >\n                <i v-if=\"icon\" :class=\"icon\" />\n                {{ label }}\n              </div>\n            </section>\n          </div>\n        </slot>\n        <PopoverArrow class=\"fill-base-background stroke-border-subtle\" />\n      </PopoverContent>\n    </PopoverPortal>\n  </PopoverRoot>\n</template>\n","<script setup lang=\"ts\" generic=\"T extends WidgetValue\">\nimport { computed, defineAsyncComponent, ref, watch } from 'vue'\nimport type { Component } from 'vue'\n\nimport Popover from '@/components/ui/Popover.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport type {\n  SimplifiedControlWidget,\n  WidgetValue\n} from '@/types/simplifiedWidget'\n\nconst ValueControlPopover = defineAsyncComponent(\n  () => import('./ValueControlPopover.vue')\n)\n\nconst props = defineProps<{\n  widget: SimplifiedControlWidget<T>\n  component: Component\n}>()\n\nconst modelValue = defineModel<T>()\n\nconst controlModel = ref(props.widget.controlWidget.value)\n\nconst controlButtonIcon = computed(() => {\n  switch (controlModel.value) {\n    case 'increment':\n      return 'pi pi-plus'\n    case 'decrement':\n      return 'pi pi-minus'\n    case 'fixed':\n      return 'icon-[lucide--pencil-off]'\n    default:\n      return 'icon-[lucide--shuffle]'\n  }\n})\n\nwatch(controlModel, props.widget.controlWidget.update)\n</script>\n<template>\n  <div class=\"relative grid grid-cols-subgrid\">\n    <component :is=\"component\" v-bind=\"$attrs\" v-model=\"modelValue\" :widget>\n      <Popover>\n        <template #button>\n          <Button\n            variant=\"textonly\"\n            size=\"sm\"\n            class=\"h-4 w-7 p-0 self-center rounded-xl bg-primary-background/30 hover:bg-primary-background-hover/30\"\n          >\n            <i\n              :class=\"`${controlButtonIcon} text-primary-background text-xs w-full`\"\n            />\n          </Button>\n        </template>\n        <ValueControlPopover v-model=\"controlModel\" />\n      </Popover>\n    </component>\n  </div>\n</template>\n"],"file":"WidgetWithControl-BUzdEyX7.js"}