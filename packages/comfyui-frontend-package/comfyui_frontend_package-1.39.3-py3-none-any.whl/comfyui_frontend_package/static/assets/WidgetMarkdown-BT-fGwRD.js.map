{"version":3,"file":"WidgetMarkdown-BT-fGwRD.js","names":[],"sources":["../../src/renderer/extensions/vueNodes/widgets/components/WidgetMarkdown.vue","../../src/renderer/extensions/vueNodes/widgets/components/WidgetMarkdown.vue"],"sourcesContent":["<template>\n  <div class=\"widget-markdown relative w-full\" @dblclick=\"startEditing\">\n    <!-- Display mode: Rendered markdown -->\n    <div\n      class=\"comfy-markdown-content size-full min-h-[60px] overflow-y-auto rounded-lg text-sm\"\n      :class=\"isEditing === false ? 'visible' : 'invisible'\"\n      v-html=\"renderedHtml\"\n    />\n\n    <!-- Edit mode: Textarea -->\n    <Textarea\n      v-show=\"isEditing\"\n      ref=\"textareaRef\"\n      v-model=\"modelValue\"\n      :aria-label=\"`${$t('g.edit')} ${widget.name || $t('g.markdown')} ${$t('g.content')}`\"\n      class=\"absolute inset-0 min-h-[60px] w-full resize-none\"\n      :pt=\"{\n        root: {\n          class: 'text-sm w-full h-full',\n          onBlur: handleBlur\n        }\n      }\"\n      data-capture-wheel=\"true\"\n      @pointerdown.capture.stop\n      @pointermove.capture.stop\n      @pointerup.capture.stop\n      @click.stop\n      @keydown.stop\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Textarea from 'primevue/textarea'\nimport { computed, nextTick, ref } from 'vue'\n\nimport type { SimplifiedWidget } from '@/types/simplifiedWidget'\nimport { renderMarkdownToHtml } from '@/utils/markdownRendererUtil'\n\nconst { widget } = defineProps<{\n  widget: SimplifiedWidget<string>\n}>()\n\nconst modelValue = defineModel<string>({ default: '' })\n\n// State\nconst isEditing = ref(false)\nconst textareaRef = ref<InstanceType<typeof Textarea> | undefined>()\n\n// Computed\nconst renderedHtml = computed(() => {\n  return renderMarkdownToHtml(modelValue.value || '')\n})\n\n// Methods\nconst startEditing = async () => {\n  if (isEditing.value || widget.options?.read_only) return\n\n  isEditing.value = true\n  await nextTick()\n\n  // Focus the textarea\n  // @ts-expect-error - $el is an internal property of the Textarea component\n  textareaRef.value?.$el?.focus()\n}\n\nconst handleBlur = () => {\n  isEditing.value = false\n}\n</script>\n","<template>\n  <div class=\"widget-markdown relative w-full\" @dblclick=\"startEditing\">\n    <!-- Display mode: Rendered markdown -->\n    <div\n      class=\"comfy-markdown-content size-full min-h-[60px] overflow-y-auto rounded-lg text-sm\"\n      :class=\"isEditing === false ? 'visible' : 'invisible'\"\n      v-html=\"renderedHtml\"\n    />\n\n    <!-- Edit mode: Textarea -->\n    <Textarea\n      v-show=\"isEditing\"\n      ref=\"textareaRef\"\n      v-model=\"modelValue\"\n      :aria-label=\"`${$t('g.edit')} ${widget.name || $t('g.markdown')} ${$t('g.content')}`\"\n      class=\"absolute inset-0 min-h-[60px] w-full resize-none\"\n      :pt=\"{\n        root: {\n          class: 'text-sm w-full h-full',\n          onBlur: handleBlur\n        }\n      }\"\n      data-capture-wheel=\"true\"\n      @pointerdown.capture.stop\n      @pointermove.capture.stop\n      @pointerup.capture.stop\n      @click.stop\n      @keydown.stop\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Textarea from 'primevue/textarea'\nimport { computed, nextTick, ref } from 'vue'\n\nimport type { SimplifiedWidget } from '@/types/simplifiedWidget'\nimport { renderMarkdownToHtml } from '@/utils/markdownRendererUtil'\n\nconst { widget } = defineProps<{\n  widget: SimplifiedWidget<string>\n}>()\n\nconst modelValue = defineModel<string>({ default: '' })\n\n// State\nconst isEditing = ref(false)\nconst textareaRef = ref<InstanceType<typeof Textarea> | undefined>()\n\n// Computed\nconst renderedHtml = computed(() => {\n  return renderMarkdownToHtml(modelValue.value || '')\n})\n\n// Methods\nconst startEditing = async () => {\n  if (isEditing.value || widget.options?.read_only) return\n\n  isEditing.value = true\n  await nextTick()\n\n  // Focus the textarea\n  // @ts-expect-error - $el is an internal property of the Textarea component\n  textareaRef.value?.$el?.focus()\n}\n\nconst handleBlur = () => {\n  isEditing.value = false\n}\n</script>\n"],"mappings":"qUCiCqB,IAIgB,oJAMrC,IAAM,EAAa,EAAmB,EAAA,aAAgB,CAGhD,EAAY,EAAI,GAAK,CACrB,EAAc,GAA+C,CAG7D,EAAe,MACZ,EAAqB,EAAW,OAAS,GAAE,CACnD,CAGK,aAAe,SAAY,CAC3B,EAAU,OAAS,EAAA,OAAO,SAAS,YAEvC,EAAU,MAAQ,GAClB,MAAM,GAAS,CAIf,EAAY,OAAO,KAAK,OAAM,GAG1B,eAAmB,CACvB,EAAU,MAAQ"}