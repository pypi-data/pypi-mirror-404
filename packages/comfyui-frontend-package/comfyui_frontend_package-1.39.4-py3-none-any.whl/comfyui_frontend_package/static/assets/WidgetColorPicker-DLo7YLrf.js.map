{"version":3,"file":"WidgetColorPicker-DLo7YLrf.js","names":[],"sources":["../../src/renderer/extensions/vueNodes/widgets/components/WidgetColorPicker.vue","../../src/renderer/extensions/vueNodes/widgets/components/WidgetColorPicker.vue"],"sourcesContent":["<!-- Needs custom color picker for alpha support -->\n<template>\n  <WidgetLayoutField :widget=\"widget\">\n    <label\n      :class=\"\n        cn(WidgetInputBaseClass, 'flex items-center gap-2 w-full px-4 py-2')\n      \"\n    >\n      <ColorPicker\n        v-model=\"localValue\"\n        v-bind=\"filteredProps\"\n        class=\"h-4 w-8 overflow-hidden !rounded-full border-none\"\n        :aria-label=\"widget.name\"\n        :pt=\"{\n          preview: '!w-full !h-full !border-none'\n        }\"\n        @update:model-value=\"onPickerUpdate\"\n      />\n      <span\n        class=\"text-xs truncate min-w-[4ch]\"\n        data-testid=\"widget-color-text\"\n        >{{ toHexFromFormat(localValue, format) }}</span\n      >\n    </label>\n  </WidgetLayoutField>\n</template>\n\n<script setup lang=\"ts\">\nimport ColorPicker from 'primevue/colorpicker'\nimport { computed, ref, watch } from 'vue'\n\nimport type { SimplifiedWidget } from '@/types/simplifiedWidget'\nimport { isColorFormat, toHexFromFormat } from '@/utils/colorUtil'\nimport type { ColorFormat, HSB } from '@/utils/colorUtil'\nimport { cn } from '@/utils/tailwindUtil'\nimport {\n  PANEL_EXCLUDED_PROPS,\n  filterWidgetProps\n} from '@/utils/widgetPropFilter'\n\nimport { WidgetInputBaseClass } from './layout'\nimport WidgetLayoutField from './layout/WidgetLayoutField.vue'\n\ntype WidgetOptions = { format?: ColorFormat } & Record<string, unknown>\n\nconst props = defineProps<{\n  widget: SimplifiedWidget<string, WidgetOptions>\n  modelValue: string\n}>()\n\nconst emit = defineEmits<{\n  'update:modelValue': [value: string]\n}>()\n\nconst format = computed<ColorFormat>(() => {\n  const optionFormat = props.widget.options?.format\n  return isColorFormat(optionFormat) ? optionFormat : 'hex'\n})\n\ntype PickerValue = string | HSB\nconst localValue = ref<PickerValue>(\n  toHexFromFormat(\n    props.modelValue || '#000000',\n    isColorFormat(props.widget.options?.format)\n      ? props.widget.options.format\n      : 'hex'\n  )\n)\n\nwatch(\n  () => props.modelValue,\n  (newVal) => {\n    localValue.value = toHexFromFormat(newVal || '#000000', format.value)\n  }\n)\n\nfunction onPickerUpdate(val: unknown) {\n  localValue.value = val as PickerValue\n  emit('update:modelValue', toHexFromFormat(val, format.value))\n}\n\n// ColorPicker specific excluded props include panel/overlay classes\nconst COLOR_PICKER_EXCLUDED_PROPS = [...PANEL_EXCLUDED_PROPS] as const\n\nconst filteredProps = computed(() =>\n  filterWidgetProps(props.widget.options, COLOR_PICKER_EXCLUDED_PROPS)\n)\n</script>\n","<!-- Needs custom color picker for alpha support -->\n<template>\n  <WidgetLayoutField :widget=\"widget\">\n    <label\n      :class=\"\n        cn(WidgetInputBaseClass, 'flex items-center gap-2 w-full px-4 py-2')\n      \"\n    >\n      <ColorPicker\n        v-model=\"localValue\"\n        v-bind=\"filteredProps\"\n        class=\"h-4 w-8 overflow-hidden !rounded-full border-none\"\n        :aria-label=\"widget.name\"\n        :pt=\"{\n          preview: '!w-full !h-full !border-none'\n        }\"\n        @update:model-value=\"onPickerUpdate\"\n      />\n      <span\n        class=\"text-xs truncate min-w-[4ch]\"\n        data-testid=\"widget-color-text\"\n        >{{ toHexFromFormat(localValue, format) }}</span\n      >\n    </label>\n  </WidgetLayoutField>\n</template>\n\n<script setup lang=\"ts\">\nimport ColorPicker from 'primevue/colorpicker'\nimport { computed, ref, watch } from 'vue'\n\nimport type { SimplifiedWidget } from '@/types/simplifiedWidget'\nimport { isColorFormat, toHexFromFormat } from '@/utils/colorUtil'\nimport type { ColorFormat, HSB } from '@/utils/colorUtil'\nimport { cn } from '@/utils/tailwindUtil'\nimport {\n  PANEL_EXCLUDED_PROPS,\n  filterWidgetProps\n} from '@/utils/widgetPropFilter'\n\nimport { WidgetInputBaseClass } from './layout'\nimport WidgetLayoutField from './layout/WidgetLayoutField.vue'\n\ntype WidgetOptions = { format?: ColorFormat } & Record<string, unknown>\n\nconst props = defineProps<{\n  widget: SimplifiedWidget<string, WidgetOptions>\n  modelValue: string\n}>()\n\nconst emit = defineEmits<{\n  'update:modelValue': [value: string]\n}>()\n\nconst format = computed<ColorFormat>(() => {\n  const optionFormat = props.widget.options?.format\n  return isColorFormat(optionFormat) ? optionFormat : 'hex'\n})\n\ntype PickerValue = string | HSB\nconst localValue = ref<PickerValue>(\n  toHexFromFormat(\n    props.modelValue || '#000000',\n    isColorFormat(props.widget.options?.format)\n      ? props.widget.options.format\n      : 'hex'\n  )\n)\n\nwatch(\n  () => props.modelValue,\n  (newVal) => {\n    localValue.value = toHexFromFormat(newVal || '#000000', format.value)\n  }\n)\n\nfunction onPickerUpdate(val: unknown) {\n  localValue.value = val as PickerValue\n  emit('update:modelValue', toHexFromFormat(val, format.value))\n}\n\n// ColorPicker specific excluded props include panel/overlay classes\nconst COLOR_PICKER_EXCLUDED_PROPS = [...PANEL_EXCLUDED_PROPS] as const\n\nconst filteredProps = computed(() =>\n  filterWidgetProps(props.widget.options, COLOR_PICKER_EXCLUDED_PROPS)\n)\n</script>\n"],"mappings":"0hBC4BwB,IAIuB,IAE5B,IAIZ,IAE8B,IACP,0LAI9B,IAAM,EAAQ,EAKR,EAAO,EAIP,EAAS,MAA4B,CACzC,IAAM,EAAe,EAAM,OAAO,SAAS,OAC3C,OAAO,EAAc,EAAa,CAAG,EAAe,OACrD,CAGK,EAAa,EACjB,EACE,EAAM,YAAc,UACpB,EAAc,EAAM,OAAO,SAAS,OAAM,CACtC,EAAM,OAAO,QAAQ,OACrB,MACN,CACF,CAEA,MACQ,EAAM,WACX,GAAW,CACV,EAAW,MAAQ,EAAgB,GAAU,UAAW,EAAO,MAAK,EAExE,CAEA,SAAS,eAAe,EAAc,CACpC,EAAW,MAAQ,EACnB,EAAK,oBAAqB,EAAgB,EAAK,EAAO,MAAM,CAAA,CAI9D,IAAM,EAA8B,CAAC,GAAG,EAAqB,CAEvD,EAAgB,MACpB,EAAkB,EAAM,OAAO,QAAS,EAA2B,CACrE"}