{"version":3,"file":"WidgetImageCompare-VtyFwCoY.js","names":[],"sources":["../../src/renderer/extensions/vueNodes/widgets/components/WidgetImageCompare.vue","../../src/renderer/extensions/vueNodes/widgets/components/WidgetImageCompare.vue"],"sourcesContent":["<template>\n  <div ref=\"containerRef\" class=\"relative size-full min-h-32 overflow-hidden\">\n    <div v-if=\"beforeImage || afterImage\" class=\"relative size-full\">\n      <img\n        v-if=\"afterImage\"\n        :src=\"afterImage\"\n        :alt=\"afterAlt\"\n        draggable=\"false\"\n        class=\"size-full object-contain\"\n      />\n\n      <img\n        v-if=\"beforeImage\"\n        :src=\"beforeImage\"\n        :alt=\"beforeAlt\"\n        draggable=\"false\"\n        class=\"absolute inset-0 size-full object-contain\"\n        :style=\"{ clipPath: `inset(0 ${100 - sliderPosition}% 0 0)` }\"\n      />\n\n      <div\n        class=\"pointer-events-none absolute inset-y-0 z-10 w-0.5 bg-white shadow-md\"\n        :style=\"{ left: `${sliderPosition}%` }\"\n        role=\"presentation\"\n      />\n    </div>\n\n    <div v-else class=\"flex size-full items-center justify-center\">\n      {{ $t('imageCompare.noImages') }}\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useMouseInElement } from '@vueuse/core'\nimport { computed, ref, watch } from 'vue'\n\nimport type { SimplifiedWidget } from '@/types/simplifiedWidget'\n\nexport interface ImageCompareValue {\n  before: string\n  after: string\n  beforeAlt?: string\n  afterAlt?: string\n  initialPosition?: number\n}\n\n// Image compare widgets typically don't have v-model, they display comparison\nconst props = defineProps<{\n  widget: SimplifiedWidget<ImageCompareValue | string>\n}>()\n\nconst containerRef = ref<HTMLElement | null>(null)\nconst sliderPosition = ref(50)\n\nconst { elementX, elementWidth, isOutside } = useMouseInElement(containerRef)\n\nwatch([elementX, elementWidth, isOutside], ([x, width, outside]) => {\n  if (!outside && width > 0) {\n    sliderPosition.value = Math.max(0, Math.min(100, (x / width) * 100))\n  }\n})\n\nconst beforeImage = computed(() => {\n  const value = props.widget.value\n  return typeof value === 'string' ? value : value?.before || ''\n})\n\nconst afterImage = computed(() => {\n  const value = props.widget.value\n  return typeof value === 'string' ? '' : value?.after || ''\n})\n\nconst beforeAlt = computed(() => {\n  const value = props.widget.value\n  return typeof value === 'object' && value?.beforeAlt\n    ? value.beforeAlt\n    : 'Before image'\n})\n\nconst afterAlt = computed(() => {\n  const value = props.widget.value\n  return typeof value === 'object' && value?.afterAlt\n    ? value.afterAlt\n    : 'After image'\n})\n</script>\n","<template>\n  <div ref=\"containerRef\" class=\"relative size-full min-h-32 overflow-hidden\">\n    <div v-if=\"beforeImage || afterImage\" class=\"relative size-full\">\n      <img\n        v-if=\"afterImage\"\n        :src=\"afterImage\"\n        :alt=\"afterAlt\"\n        draggable=\"false\"\n        class=\"size-full object-contain\"\n      />\n\n      <img\n        v-if=\"beforeImage\"\n        :src=\"beforeImage\"\n        :alt=\"beforeAlt\"\n        draggable=\"false\"\n        class=\"absolute inset-0 size-full object-contain\"\n        :style=\"{ clipPath: `inset(0 ${100 - sliderPosition}% 0 0)` }\"\n      />\n\n      <div\n        class=\"pointer-events-none absolute inset-y-0 z-10 w-0.5 bg-white shadow-md\"\n        :style=\"{ left: `${sliderPosition}%` }\"\n        role=\"presentation\"\n      />\n    </div>\n\n    <div v-else class=\"flex size-full items-center justify-center\">\n      {{ $t('imageCompare.noImages') }}\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useMouseInElement } from '@vueuse/core'\nimport { computed, ref, watch } from 'vue'\n\nimport type { SimplifiedWidget } from '@/types/simplifiedWidget'\n\nexport interface ImageCompareValue {\n  before: string\n  after: string\n  beforeAlt?: string\n  afterAlt?: string\n  initialPosition?: number\n}\n\n// Image compare widgets typically don't have v-model, they display comparison\nconst props = defineProps<{\n  widget: SimplifiedWidget<ImageCompareValue | string>\n}>()\n\nconst containerRef = ref<HTMLElement | null>(null)\nconst sliderPosition = ref(50)\n\nconst { elementX, elementWidth, isOutside } = useMouseInElement(containerRef)\n\nwatch([elementX, elementWidth, isOutside], ([x, width, outside]) => {\n  if (!outside && width > 0) {\n    sliderPosition.value = Math.max(0, Math.min(100, (x / width) * 100))\n  }\n})\n\nconst beforeImage = computed(() => {\n  const value = props.widget.value\n  return typeof value === 'string' ? value : value?.before || ''\n})\n\nconst afterImage = computed(() => {\n  const value = props.widget.value\n  return typeof value === 'string' ? '' : value?.after || ''\n})\n\nconst beforeAlt = computed(() => {\n  const value = props.widget.value\n  return typeof value === 'object' && value?.beforeAlt\n    ? value.beforeAlt\n    : 'Before image'\n})\n\nconst afterAlt = computed(() => {\n  const value = props.widget.value\n  return typeof value === 'object' && value?.afterAlt\n    ? value.afterAlt\n    : 'After image'\n})\n</script>\n"],"mappings":"oRCkCkC,+LAclC,IAAM,EAAQ,EAIR,EAAe,EAAwB,KAAI,CAC3C,EAAiB,EAAI,GAAE,CAEvB,CAAE,WAAU,eAAc,aAAc,EAAkB,EAAY,CAE5E,EAAM,CAAC,EAAU,EAAc,EAAU,EAAG,CAAC,EAAG,EAAO,KAAa,CAC9D,CAAC,GAAW,EAAQ,IACtB,EAAe,MAAQ,KAAK,IAAI,EAAG,KAAK,IAAI,IAAM,EAAI,EAAS,IAAI,CAAA,GAEtE,CAED,IAAM,EAAc,MAAe,CACjC,IAAM,EAAQ,EAAM,OAAO,MAC3B,OAAO,OAAO,GAAU,SAAW,EAAQ,GAAO,QAAU,IAC7D,CAEK,EAAa,MAAe,CAChC,IAAM,EAAQ,EAAM,OAAO,MAC3B,OAAO,OAAO,GAAU,SAAW,GAAK,GAAO,OAAS,IACzD,CAEK,EAAY,MAAe,CAC/B,IAAM,EAAQ,EAAM,OAAO,MAC3B,OAAO,OAAO,GAAU,UAAY,GAAO,UACvC,EAAM,UACN,gBACL,CAEK,EAAW,MAAe,CAC9B,IAAM,EAAQ,EAAM,OAAO,MAC3B,OAAO,OAAO,GAAU,UAAY,GAAO,SACvC,EAAM,SACN,eACL"}