{"version":3,"file":"CloudSignupView-B_r64EGF.js","names":[],"sources":["../../src/platform/cloud/onboarding/CloudSignupView.vue","../../src/platform/cloud/onboarding/CloudSignupView.vue","../../src/platform/cloud/onboarding/CloudSignupView.vue"],"sourcesContent":["<template>\n  <div class=\"flex h-full items-center justify-center p-8\">\n    <div class=\"max-w-screen p-2 lg:w-96\">\n      <!-- Header -->\n      <div class=\"mb-8 flex flex-col gap-4\">\n        <h1 class=\"my-0 text-xl leading-normal font-medium\">\n          {{ t('auth.signup.title') }}\n        </h1>\n        <p class=\"my-0 text-base\">\n          <span class=\"text-muted\">{{\n            t('auth.signup.alreadyHaveAccount')\n          }}</span>\n          <span\n            class=\"ml-1 cursor-pointer text-blue-500\"\n            @click=\"navigateToLogin\"\n            >{{ t('auth.signup.signIn') }}</span\n          >\n        </p>\n      </div>\n\n      <Message v-if=\"!isSecureContext\" severity=\"warn\" class=\"mb-4\">\n        {{ t('auth.login.insecureContextWarning') }}\n      </Message>\n\n      <!-- Form -->\n      <Message v-if=\"userIsInChina\" severity=\"warn\" class=\"mb-4\">\n        {{ t('auth.signup.regionRestrictionChina') }}\n      </Message>\n      <SignUpForm v-else :auth-error=\"authError\" @submit=\"signUpWithEmail\" />\n\n      <!-- Divider -->\n      <Divider align=\"center\" layout=\"horizontal\" class=\"my-8\">\n        <span class=\"text-muted\">{{ t('auth.login.orContinueWith') }}</span>\n      </Divider>\n\n      <!-- Social Login Buttons -->\n      <div class=\"flex flex-col gap-6\">\n        <Button\n          type=\"button\"\n          class=\"h-10 bg-[#2d2e32]\"\n          variant=\"secondary\"\n          @click=\"signInWithGoogle\"\n        >\n          <i class=\"pi pi-google mr-2\"></i>\n          {{ t('auth.signup.signUpWithGoogle') }}\n        </Button>\n\n        <Button\n          type=\"button\"\n          class=\"h-10 bg-[#2d2e32]\"\n          variant=\"secondary\"\n          @click=\"signInWithGithub\"\n        >\n          <i class=\"pi pi-github mr-2\"></i>\n          {{ t('auth.signup.signUpWithGithub') }}\n        </Button>\n      </div>\n\n      <!-- Terms & Contact -->\n      <div class=\"mt-5 text-sm text-gray-600\">\n        {{ t('auth.login.termsText') }}\n        <a\n          href=\"https://www.comfy.org/terms-of-service\"\n          target=\"_blank\"\n          class=\"cursor-pointer text-blue-400 no-underline\"\n        >\n          {{ t('auth.login.termsLink') }}\n        </a>\n        {{ t('auth.login.andText') }}\n        <a\n          href=\"/privacy-policy\"\n          target=\"_blank\"\n          class=\"cursor-pointer text-blue-400 no-underline\"\n        >\n          {{ t('auth.login.privacyLink') }} </a\n        >.\n        <p class=\"mt-2\">\n          {{ t('cloudWaitlist_questionsText') }}\n          <a\n            href=\"https://support.comfy.org\"\n            class=\"cursor-pointer text-blue-400 no-underline\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {{ t('cloudWaitlist_contactLink') }}</a\n          >.\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Divider from 'primevue/divider'\nimport Message from 'primevue/message'\nimport { onMounted, ref } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport { useRoute, useRouter } from 'vue-router'\n\nimport SignUpForm from '@/components/dialog/content/signin/SignUpForm.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport { useFirebaseAuthActions } from '@/composables/auth/useFirebaseAuthActions'\nimport { getSafePreviousFullPath } from '@/platform/cloud/onboarding/utils/previousFullPath'\nimport { isCloud } from '@/platform/distribution/types'\nimport { useTelemetry } from '@/platform/telemetry'\nimport { useToastStore } from '@/platform/updates/common/toastStore'\nimport type { SignUpData } from '@/schemas/signInSchema'\nimport { isInChina } from '@/utils/networkUtil'\n\nconst { t } = useI18n()\nconst router = useRouter()\nconst route = useRoute()\nconst authActions = useFirebaseAuthActions()\nconst isSecureContext = globalThis.isSecureContext\nconst authError = ref('')\nconst userIsInChina = ref(false)\nconst toastStore = useToastStore()\n\nconst navigateToLogin = async () => {\n  await router.push({ name: 'cloud-login', query: route.query })\n}\n\nconst onSuccess = async () => {\n  toastStore.add({\n    severity: 'success',\n    summary: 'Sign up Completed',\n    life: 2000\n  })\n\n  const previousFullPath = getSafePreviousFullPath(route.query)\n  if (previousFullPath) {\n    await router.replace(previousFullPath)\n    return\n  }\n\n  // Default redirect to the normal onboarding flow\n  await router.push({ path: '/', query: route.query })\n}\n\nconst signInWithGoogle = async () => {\n  authError.value = ''\n  if (await authActions.signInWithGoogle()) {\n    await onSuccess()\n  }\n}\n\nconst signInWithGithub = async () => {\n  authError.value = ''\n  if (await authActions.signInWithGithub()) {\n    await onSuccess()\n  }\n}\n\nconst signUpWithEmail = async (values: SignUpData) => {\n  authError.value = ''\n  if (await authActions.signUpWithEmail(values.email, values.password)) {\n    await onSuccess()\n  }\n}\n\nonMounted(async () => {\n  // Track signup screen opened\n  if (isCloud) {\n    useTelemetry()?.trackSignupOpened()\n  }\n\n  userIsInChina.value = await isInChina()\n})\n</script>\n<style scoped>\n:deep(.p-inputtext) {\n  border: none !important;\n  box-shadow: none !important;\n  background: #2d2e32 !important;\n}\n\n:deep(.p-password input) {\n  border: none !important;\n  box-shadow: none !important;\n}\n:deep(.p-checkbox-checked .p-checkbox-box) {\n  background-color: #f0ff41 !important;\n  border-color: #f0ff41 !important;\n}\n</style>\n","<template>\n  <div class=\"flex h-full items-center justify-center p-8\">\n    <div class=\"max-w-screen p-2 lg:w-96\">\n      <!-- Header -->\n      <div class=\"mb-8 flex flex-col gap-4\">\n        <h1 class=\"my-0 text-xl leading-normal font-medium\">\n          {{ t('auth.signup.title') }}\n        </h1>\n        <p class=\"my-0 text-base\">\n          <span class=\"text-muted\">{{\n            t('auth.signup.alreadyHaveAccount')\n          }}</span>\n          <span\n            class=\"ml-1 cursor-pointer text-blue-500\"\n            @click=\"navigateToLogin\"\n            >{{ t('auth.signup.signIn') }}</span\n          >\n        </p>\n      </div>\n\n      <Message v-if=\"!isSecureContext\" severity=\"warn\" class=\"mb-4\">\n        {{ t('auth.login.insecureContextWarning') }}\n      </Message>\n\n      <!-- Form -->\n      <Message v-if=\"userIsInChina\" severity=\"warn\" class=\"mb-4\">\n        {{ t('auth.signup.regionRestrictionChina') }}\n      </Message>\n      <SignUpForm v-else :auth-error=\"authError\" @submit=\"signUpWithEmail\" />\n\n      <!-- Divider -->\n      <Divider align=\"center\" layout=\"horizontal\" class=\"my-8\">\n        <span class=\"text-muted\">{{ t('auth.login.orContinueWith') }}</span>\n      </Divider>\n\n      <!-- Social Login Buttons -->\n      <div class=\"flex flex-col gap-6\">\n        <Button\n          type=\"button\"\n          class=\"h-10 bg-[#2d2e32]\"\n          variant=\"secondary\"\n          @click=\"signInWithGoogle\"\n        >\n          <i class=\"pi pi-google mr-2\"></i>\n          {{ t('auth.signup.signUpWithGoogle') }}\n        </Button>\n\n        <Button\n          type=\"button\"\n          class=\"h-10 bg-[#2d2e32]\"\n          variant=\"secondary\"\n          @click=\"signInWithGithub\"\n        >\n          <i class=\"pi pi-github mr-2\"></i>\n          {{ t('auth.signup.signUpWithGithub') }}\n        </Button>\n      </div>\n\n      <!-- Terms & Contact -->\n      <div class=\"mt-5 text-sm text-gray-600\">\n        {{ t('auth.login.termsText') }}\n        <a\n          href=\"https://www.comfy.org/terms-of-service\"\n          target=\"_blank\"\n          class=\"cursor-pointer text-blue-400 no-underline\"\n        >\n          {{ t('auth.login.termsLink') }}\n        </a>\n        {{ t('auth.login.andText') }}\n        <a\n          href=\"/privacy-policy\"\n          target=\"_blank\"\n          class=\"cursor-pointer text-blue-400 no-underline\"\n        >\n          {{ t('auth.login.privacyLink') }} </a\n        >.\n        <p class=\"mt-2\">\n          {{ t('cloudWaitlist_questionsText') }}\n          <a\n            href=\"https://support.comfy.org\"\n            class=\"cursor-pointer text-blue-400 no-underline\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {{ t('cloudWaitlist_contactLink') }}</a\n          >.\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Divider from 'primevue/divider'\nimport Message from 'primevue/message'\nimport { onMounted, ref } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport { useRoute, useRouter } from 'vue-router'\n\nimport SignUpForm from '@/components/dialog/content/signin/SignUpForm.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport { useFirebaseAuthActions } from '@/composables/auth/useFirebaseAuthActions'\nimport { getSafePreviousFullPath } from '@/platform/cloud/onboarding/utils/previousFullPath'\nimport { isCloud } from '@/platform/distribution/types'\nimport { useTelemetry } from '@/platform/telemetry'\nimport { useToastStore } from '@/platform/updates/common/toastStore'\nimport type { SignUpData } from '@/schemas/signInSchema'\nimport { isInChina } from '@/utils/networkUtil'\n\nconst { t } = useI18n()\nconst router = useRouter()\nconst route = useRoute()\nconst authActions = useFirebaseAuthActions()\nconst isSecureContext = globalThis.isSecureContext\nconst authError = ref('')\nconst userIsInChina = ref(false)\nconst toastStore = useToastStore()\n\nconst navigateToLogin = async () => {\n  await router.push({ name: 'cloud-login', query: route.query })\n}\n\nconst onSuccess = async () => {\n  toastStore.add({\n    severity: 'success',\n    summary: 'Sign up Completed',\n    life: 2000\n  })\n\n  const previousFullPath = getSafePreviousFullPath(route.query)\n  if (previousFullPath) {\n    await router.replace(previousFullPath)\n    return\n  }\n\n  // Default redirect to the normal onboarding flow\n  await router.push({ path: '/', query: route.query })\n}\n\nconst signInWithGoogle = async () => {\n  authError.value = ''\n  if (await authActions.signInWithGoogle()) {\n    await onSuccess()\n  }\n}\n\nconst signInWithGithub = async () => {\n  authError.value = ''\n  if (await authActions.signInWithGithub()) {\n    await onSuccess()\n  }\n}\n\nconst signUpWithEmail = async (values: SignUpData) => {\n  authError.value = ''\n  if (await authActions.signUpWithEmail(values.email, values.password)) {\n    await onSuccess()\n  }\n}\n\nonMounted(async () => {\n  // Track signup screen opened\n  if (isCloud) {\n    useTelemetry()?.trackSignupOpened()\n  }\n\n  userIsInChina.value = await isInChina()\n})\n</script>\n<style scoped>\n:deep(.p-inputtext) {\n  border: none !important;\n  box-shadow: none !important;\n  background: #2d2e32 !important;\n}\n\n:deep(.p-password input) {\n  border: none !important;\n  box-shadow: none !important;\n}\n:deep(.p-checkbox-checked .p-checkbox-box) {\n  background-color: #f0ff41 !important;\n  border-color: #f0ff41 !important;\n}\n</style>\n","<template>\n  <div class=\"flex h-full items-center justify-center p-8\">\n    <div class=\"max-w-screen p-2 lg:w-96\">\n      <!-- Header -->\n      <div class=\"mb-8 flex flex-col gap-4\">\n        <h1 class=\"my-0 text-xl leading-normal font-medium\">\n          {{ t('auth.signup.title') }}\n        </h1>\n        <p class=\"my-0 text-base\">\n          <span class=\"text-muted\">{{\n            t('auth.signup.alreadyHaveAccount')\n          }}</span>\n          <span\n            class=\"ml-1 cursor-pointer text-blue-500\"\n            @click=\"navigateToLogin\"\n            >{{ t('auth.signup.signIn') }}</span\n          >\n        </p>\n      </div>\n\n      <Message v-if=\"!isSecureContext\" severity=\"warn\" class=\"mb-4\">\n        {{ t('auth.login.insecureContextWarning') }}\n      </Message>\n\n      <!-- Form -->\n      <Message v-if=\"userIsInChina\" severity=\"warn\" class=\"mb-4\">\n        {{ t('auth.signup.regionRestrictionChina') }}\n      </Message>\n      <SignUpForm v-else :auth-error=\"authError\" @submit=\"signUpWithEmail\" />\n\n      <!-- Divider -->\n      <Divider align=\"center\" layout=\"horizontal\" class=\"my-8\">\n        <span class=\"text-muted\">{{ t('auth.login.orContinueWith') }}</span>\n      </Divider>\n\n      <!-- Social Login Buttons -->\n      <div class=\"flex flex-col gap-6\">\n        <Button\n          type=\"button\"\n          class=\"h-10 bg-[#2d2e32]\"\n          variant=\"secondary\"\n          @click=\"signInWithGoogle\"\n        >\n          <i class=\"pi pi-google mr-2\"></i>\n          {{ t('auth.signup.signUpWithGoogle') }}\n        </Button>\n\n        <Button\n          type=\"button\"\n          class=\"h-10 bg-[#2d2e32]\"\n          variant=\"secondary\"\n          @click=\"signInWithGithub\"\n        >\n          <i class=\"pi pi-github mr-2\"></i>\n          {{ t('auth.signup.signUpWithGithub') }}\n        </Button>\n      </div>\n\n      <!-- Terms & Contact -->\n      <div class=\"mt-5 text-sm text-gray-600\">\n        {{ t('auth.login.termsText') }}\n        <a\n          href=\"https://www.comfy.org/terms-of-service\"\n          target=\"_blank\"\n          class=\"cursor-pointer text-blue-400 no-underline\"\n        >\n          {{ t('auth.login.termsLink') }}\n        </a>\n        {{ t('auth.login.andText') }}\n        <a\n          href=\"/privacy-policy\"\n          target=\"_blank\"\n          class=\"cursor-pointer text-blue-400 no-underline\"\n        >\n          {{ t('auth.login.privacyLink') }} </a\n        >.\n        <p class=\"mt-2\">\n          {{ t('cloudWaitlist_questionsText') }}\n          <a\n            href=\"https://support.comfy.org\"\n            class=\"cursor-pointer text-blue-400 no-underline\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {{ t('cloudWaitlist_contactLink') }}</a\n          >.\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Divider from 'primevue/divider'\nimport Message from 'primevue/message'\nimport { onMounted, ref } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport { useRoute, useRouter } from 'vue-router'\n\nimport SignUpForm from '@/components/dialog/content/signin/SignUpForm.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport { useFirebaseAuthActions } from '@/composables/auth/useFirebaseAuthActions'\nimport { getSafePreviousFullPath } from '@/platform/cloud/onboarding/utils/previousFullPath'\nimport { isCloud } from '@/platform/distribution/types'\nimport { useTelemetry } from '@/platform/telemetry'\nimport { useToastStore } from '@/platform/updates/common/toastStore'\nimport type { SignUpData } from '@/schemas/signInSchema'\nimport { isInChina } from '@/utils/networkUtil'\n\nconst { t } = useI18n()\nconst router = useRouter()\nconst route = useRoute()\nconst authActions = useFirebaseAuthActions()\nconst isSecureContext = globalThis.isSecureContext\nconst authError = ref('')\nconst userIsInChina = ref(false)\nconst toastStore = useToastStore()\n\nconst navigateToLogin = async () => {\n  await router.push({ name: 'cloud-login', query: route.query })\n}\n\nconst onSuccess = async () => {\n  toastStore.add({\n    severity: 'success',\n    summary: 'Sign up Completed',\n    life: 2000\n  })\n\n  const previousFullPath = getSafePreviousFullPath(route.query)\n  if (previousFullPath) {\n    await router.replace(previousFullPath)\n    return\n  }\n\n  // Default redirect to the normal onboarding flow\n  await router.push({ path: '/', query: route.query })\n}\n\nconst signInWithGoogle = async () => {\n  authError.value = ''\n  if (await authActions.signInWithGoogle()) {\n    await onSuccess()\n  }\n}\n\nconst signInWithGithub = async () => {\n  authError.value = ''\n  if (await authActions.signInWithGithub()) {\n    await onSuccess()\n  }\n}\n\nconst signUpWithEmail = async (values: SignUpData) => {\n  authError.value = ''\n  if (await authActions.signUpWithEmail(values.email, values.password)) {\n    await onSuccess()\n  }\n}\n\nonMounted(async () => {\n  // Track signup screen opened\n  if (isCloud) {\n    useTelemetry()?.trackSignupOpened()\n  }\n\n  userIsInChina.value = await isInChina()\n})\n</script>\n<style scoped>\n:deep(.p-inputtext) {\n  border: none !important;\n  box-shadow: none !important;\n  background: #2d2e32 !important;\n}\n\n:deep(.p-password input) {\n  border: none !important;\n  box-shadow: none !important;\n}\n:deep(.p-checkbox-checked .p-checkbox-box) {\n  background-color: #f0ff41 !important;\n  border-color: #f0ff41 !important;\n}\n</style>\n"],"mappings":"4sBE6FoB,IACA,IAEI,IACY,KAEb,IACJ,IACoB,IACC,IAChB,IACK,IACC,KAEJ,itBAE1B,GAAM,CAAE,GAAM,GAAQ,CAChB,EAAS,GAAU,CACnB,EAAQ,GAAS,CACjB,EAAc,GAAuB,CACrC,EAAkB,WAAW,gBAC7B,EAAY,EAAI,GAAE,CAClB,EAAgB,EAAI,GAAK,CACzB,EAAa,GAAc,CAE3B,gBAAkB,SAAY,CAClC,MAAM,EAAO,KAAK,CAAE,KAAM,cAAe,MAAO,EAAM,MAAO,CAAA,EAGzD,UAAY,SAAY,CAC5B,EAAW,IAAI,CACb,SAAU,UACV,QAAS,oBACT,KAAM,IACP,CAAA,CAED,IAAM,EAAmB,EAAwB,EAAM,MAAK,CAC5D,GAAI,EAAkB,CACpB,MAAM,EAAO,QAAQ,EAAgB,CACrC,OAIF,MAAM,EAAO,KAAK,CAAE,KAAM,IAAK,MAAO,EAAM,MAAO,CAAA,EAG/C,iBAAmB,SAAY,CACnC,EAAU,MAAQ,GACd,MAAM,EAAY,kBAAkB,EACtC,MAAM,WAAU,EAId,iBAAmB,SAAY,CACnC,EAAU,MAAQ,GACd,MAAM,EAAY,kBAAkB,EACtC,MAAM,WAAU,EAId,gBAAkB,KAAO,IAAuB,CACpD,EAAU,MAAQ,GACd,MAAM,EAAY,gBAAgB,EAAO,MAAO,EAAO,SAAS,EAClE,MAAM,WAAU,SAIpB,EAAU,SAAY,CAEhB,GACF,GAAc,EAAE,mBAAkB,CAGpC,EAAc,MAAQ,MAAM,IAAU,EACvC"}