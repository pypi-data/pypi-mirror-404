import{i as e,n as t}from"./rolldown-runtime-BKYq3fBv.js";import{Bn as n,Cr as r,En as i,Hn as a,Nn as o,Rr as s,Tn as c,Xn as l,Xr as u,Zn as d,ar as f,er as p,ir as m,sr as h,ui as g,zr as _}from"./vendor-primevue-Cg-HmKZY.js";import{ot as v,st as y}from"./vendor-other-CoxDvJ0a.js";import{n as b,t as x}from"./Button-YQy7RkKq.js";import{c as S,da as C,s as w,ua as T}from"./dialogService-DvYmp2_F.js";var E,D,O,k,A,j,M,N,P,F=t((()=>{o(),c(),v(),b(),w(),T(),E={class:`flex w-full max-w-[400px] flex-col rounded-2xl border border-border-default bg-base-background`},D={class:`flex h-12 items-center justify-between border-b border-border-default px-4`},O={class:`m-0 text-sm font-normal text-base-foreground`},k=[`aria-label`],A={class:`flex flex-col gap-4 px-4 py-4`},j={class:`flex flex-col gap-2`},M={class:`text-sm text-base-foreground`},N={class:`flex items-center justify-end gap-4 px-4 py-4`},P=h({__name:`EditWorkspaceDialogContent`,setup(e){let{t}=y(),o=i(),c=C(),h=S(),v=u(!1),b=u(h.workspaceName),w=l(()=>{let e=b.value.trim();return e.length>=1&&e.length<=50&&/^[a-zA-Z0-9][a-zA-Z0-9\s\-_'.,()&+]*$/.test(e)});function onCancel(){c.closeDialog({key:`edit-workspace`})}async function onSave(){if(w.value){v.value=!0;try{await h.updateWorkspaceName(b.value.trim()),c.closeDialog({key:`edit-workspace`}),o.add({severity:`success`,summary:t(`workspacePanel.toast.workspaceUpdated.title`),detail:t(`workspacePanel.toast.workspaceUpdated.message`),life:5e3})}catch(e){console.error(`[EditWorkspaceDialog] Failed to update workspace:`,e),o.add({severity:`error`,summary:t(`workspacePanel.toast.failedToUpdateWorkspace`),detail:e instanceof Error?e.message:t(`g.unknownError`),life:5e3})}finally{v.value=!1}}}return(e,t)=>(r(),p(`div`,E,[d(`div`,D,[d(`h2`,O,g(e.$t(`workspacePanel.editWorkspaceDialog.title`)),1),d(`button`,{class:`cursor-pointer rounded border-none bg-transparent p-0 text-muted-foreground transition-colors hover:text-base-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-secondary-foreground`,"aria-label":e.$t(`g.close`),onClick:onCancel},t[2]||=[d(`i`,{class:`pi pi-times size-4`},null,-1)],8,k)]),d(`div`,A,[d(`div`,j,[d(`label`,M,g(e.$t(`workspacePanel.editWorkspaceDialog.nameLabel`)),1),_(d(`input`,{"onUpdate:modelValue":t[0]||=e=>b.value=e,type:`text`,class:`w-full rounded-lg border border-border-default bg-transparent px-3 py-2 text-sm text-base-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-secondary-foreground`,onKeydown:t[1]||=a(e=>w.value&&onSave(),[`enter`])},null,544),[[n,b.value]])])]),d(`div`,N,[f(x,{variant:`muted-textonly`,onClick:onCancel},{default:s(()=>[m(g(e.$t(`g.cancel`)),1)]),_:1}),f(x,{variant:`primary`,size:`lg`,loading:v.value,disabled:!w.value,onClick:onSave},{default:s(()=>[m(g(e.$t(`workspacePanel.editWorkspaceDialog.save`)),1)]),_:1},8,[`loading`,`disabled`])])]))}})})),I;t((()=>{F(),F(),I=P}))();export{I as default};
//# sourceMappingURL=EditWorkspaceDialogContent-BwG0NoHk.js.map