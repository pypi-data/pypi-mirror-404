import{i as e,n as t}from"./rolldown-runtime-BKYq3fBv.js";import{$n as n,Cr as r,F as i,Gn as a,I as o,M as ee,N as s,Nn as c,P as te,Rr as l,Tr as u,Xn as d,Xr as f,Zn as p,ai as m,an as h,ar as g,br as ne,ct as re,dt as _,er as v,ft as y,ir as b,j as x,mn as ie,on as S,pn as C,sr as w,st as T,ui as E}from"./vendor-primevue-Cg-HmKZY.js";import{ln as ae,ot as D,sn as O,st as oe}from"./vendor-other-CoxDvJ0a.js";import{an as k,on as A}from"./api-CJ30itpV.js";import{i as se,r as j}from"./useErrorHandling-tavTBerX.js";import{n as M,t as N}from"./Button-YQy7RkKq.js";import{an as P,in as F}from"./dialogService-DvYmp2_F.js";import{n as ce,t as le}from"./_plugin-vue_export-helper-Ckv1EJQX.js";import{i as ue,r as de,t as fe}from"./auth-XjMxGrok.js";var I,L,R,pe,z,B,V,H,U,W,G,K,q,J,Y,X,Z,Q,me,he,ge=t((()=>{c(),C(),h(),T(),_(),i(),s(),x(),D(),O(),M(),j(),de(),k(),F(),I={class:`mb-8 block text-lg font-medium`},L={class:`flex flex-col gap-6`},R=[`for`],pe={class:`flex justify-between pt-4`},z={class:`mb-8 block text-lg font-medium`},B={class:`flex flex-col gap-6`},V=[`for`],H={key:0,class:`mt-4 ml-8`},U={class:`flex gap-6 pt-4`},W={class:`mb-8 block text-lg font-medium`},G={class:`flex flex-col gap-6`},K=[`for`],q={key:0,class:`mt-4 ml-8`},J={class:`flex gap-6 pt-4`},Y={class:`mb-8 block text-lg font-medium`},X={class:`flex flex-col gap-6`},Z=[`for`],Q={class:`flex gap-6 pt-4`},me=4,he=w({__name:`CloudSurveyView`,setup(e){let{t}=oe(),i=ae(),{flags:s}=se(),c=d(()=>s.onboardingSurveyEnabled);ne(async()=>{if(!c.value){await i.replace({name:`cloud-user-check`});return}try{await fe()?await i.replace({name:`cloud-user-check`}):A&&P()?.trackSurvey(`opened`)}catch(e){console.error(`Failed to check survey status:`,e)}});let h=f(1),_=d(()=>Math.max(20,Math.min(100,(h.value-1)/(me-1)*100))),x=f(!1),C=f({familiarity:``,useCase:``,useCaseOther:``,industry:``,industryOther:``,making:[]}),w=[{label:`New to ComfyUI (never used it before)`,value:`new`},{label:`Just getting started (following tutorials)`,value:`starting`},{label:`Comfortable with basics`,value:`basics`},{label:`Advanced user (custom workflows)`,value:`advanced`},{label:`Expert (help others)`,value:`expert`}],T=[{label:`Personal projects/hobby`,value:`personal`},{label:`Community contributions (nodes, workflows, etc.)`,value:`community`},{label:`Client work (freelance)`,value:`client`},{label:`My own workplace (in-house)`,value:`inhouse`},{label:`Academic research`,value:`research`},{label:`Other`,value:`other`}],D=[{label:`Film, TV, & animation`,value:`film_tv_animation`},{label:`Gaming`,value:`gaming`},{label:`Marketing & advertising`,value:`marketing`},{label:`Architecture`,value:`architecture`},{label:`Product & graphic design`,value:`product_design`},{label:`Fine art & illustration`,value:`fine_art`},{label:`Software & technology`,value:`software`},{label:`Education`,value:`education`},{label:`Other`,value:`other`}],O=[{label:`Images`,value:`images`},{label:`Video & animation`,value:`video`},{label:`3D assets`,value:`3d`},{label:`Audio/music`,value:`audio`},{label:`Custom nodes & workflows`,value:`custom_nodes`}],k=d(()=>!!C.value.familiarity),j=d(()=>C.value.useCase?C.value.useCase===`other`?!!C.value.useCaseOther?.trim():!0:!1),M=d(()=>C.value.industry?C.value.industry===`other`?!!C.value.industryOther?.trim():!0:!1),F=d(()=>C.value.making.length>0),changeActiveStep=e=>{h.value=e},goTo=(e,t)=>{changeActiveStep(e),t(String(e))},onSubmitSurvey=async()=>{try{if(!c.value){await i.replace({name:`cloud-user-check`});return}x.value=!0;let e={familiarity:C.value.familiarity,useCase:C.value.useCase===`other`?C.value.useCaseOther?.trim()||`other`:C.value.useCase,industry:C.value.industry===`other`?C.value.industryOther?.trim()||`other`:C.value.industry,making:C.value.making};await ue(e),A&&P()?.trackSurvey(`submitted`,{industry:e.industry,useCase:e.useCase,familiarity:e.familiarity,making:e.making}),await i.push({name:`cloud-user-check`})}finally{x.value=!1}};return(e,i)=>(r(),v(`div`,null,[g(m(ee),{value:`1`,class:`flex h-[638px] max-h-[80vh] w-[320px] max-w-[90vw] flex-col`},{default:l(()=>[g(m(re),{value:_.value,"show-value":!1,class:`mb-8 h-2`},null,8,[`value`]),g(m(te),{class:`flex flex-1 flex-col p-0`},{default:l(()=>[g(m(o),{value:`1`,class:`flex min-h-full flex-1 flex-col justify-between bg-transparent`},{default:l(({activateCallback:n})=>[p(`div`,null,[p(`label`,I,E(m(t)(`cloudSurvey_steps_familiarity`)),1),p(`div`,L,[(r(),v(a,null,u(w,e=>p(`div`,{key:e.value,class:`flex items-center gap-3`},[g(m(y),{modelValue:C.value.familiarity,"onUpdate:modelValue":i[0]||=e=>C.value.familiarity=e,"input-id":`fam-${e.value}`,name:`familiarity`,value:e.value},null,8,[`modelValue`,`input-id`,`value`]),p(`label`,{for:`fam-${e.value}`,class:`cursor-pointer text-sm`},E(e.label),9,R)])),64))])]),p(`div`,pe,[i[6]||=p(`span`,null,null,-1),g(N,{disabled:!k.value,class:`h-10 w-full border-none text-white`,onClick:e=>goTo(2,n)},{default:l(()=>[b(E(e.$t(`g.next`)),1)]),_:2},1032,[`disabled`,`onClick`])])]),_:1}),g(m(o),{value:`2`,class:`flex min-h-full flex-1 flex-col justify-between bg-transparent`},{default:l(({activateCallback:o})=>[p(`div`,null,[p(`label`,z,E(m(t)(`cloudSurvey_steps_purpose`)),1),p(`div`,B,[(r(),v(a,null,u(T,e=>p(`div`,{key:e.value,class:`flex items-center gap-3`},[g(m(y),{modelValue:C.value.useCase,"onUpdate:modelValue":i[1]||=e=>C.value.useCase=e,"input-id":`purpose-${e.value}`,name:`purpose`,value:e.value},null,8,[`modelValue`,`input-id`,`value`]),p(`label`,{for:`purpose-${e.value}`,class:`cursor-pointer text-sm`},E(e.label),9,V)])),64))]),C.value.useCase===`other`?(r(),v(`div`,H,[g(m(S),{modelValue:C.value.useCaseOther,"onUpdate:modelValue":i[2]||=e=>C.value.useCaseOther=e,class:`w-full`,placeholder:e.$t(`cloudOnboarding.survey.options.industry.otherPlaceholder`)},null,8,[`modelValue`,`placeholder`])])):n(``,!0)]),p(`div`,U,[g(N,{variant:`secondary`,class:`flex-1 text-white`,onClick:e=>goTo(1,o)},{default:l(()=>[b(E(e.$t(`g.back`)),1)]),_:2},1032,[`onClick`]),g(N,{disabled:!j.value,class:`h-10 flex-1 text-white`,onClick:e=>goTo(3,o)},{default:l(()=>[b(E(e.$t(`g.next`)),1)]),_:2},1032,[`disabled`,`onClick`])])]),_:1}),g(m(o),{value:`3`,class:`flex min-h-full flex-1 flex-col justify-between bg-transparent`},{default:l(({activateCallback:o})=>[p(`div`,null,[p(`label`,W,E(m(t)(`cloudSurvey_steps_industry`)),1),p(`div`,G,[(r(),v(a,null,u(D,e=>p(`div`,{key:e.value,class:`flex items-center gap-3`},[g(m(y),{modelValue:C.value.industry,"onUpdate:modelValue":i[3]||=e=>C.value.industry=e,"input-id":`industry-${e.value}`,name:`industry`,value:e.value},null,8,[`modelValue`,`input-id`,`value`]),p(`label`,{for:`industry-${e.value}`,class:`cursor-pointer text-sm`},E(e.label),9,K)])),64))]),C.value.industry===`other`?(r(),v(`div`,q,[g(m(S),{modelValue:C.value.industryOther,"onUpdate:modelValue":i[4]||=e=>C.value.industryOther=e,class:`w-full`,placeholder:e.$t(`cloudOnboarding.survey.options.industry.otherPlaceholder`)},null,8,[`modelValue`,`placeholder`])])):n(``,!0)]),p(`div`,J,[g(N,{variant:`secondary`,class:`flex-1 text-white`,onClick:e=>goTo(2,o)},{default:l(()=>[b(E(e.$t(`g.back`)),1)]),_:2},1032,[`onClick`]),g(N,{disabled:!M.value,class:`h-10 flex-1 border-none text-white`,onClick:e=>goTo(4,o)},{default:l(()=>[b(E(e.$t(`g.next`)),1)]),_:2},1032,[`disabled`,`onClick`])])]),_:1}),g(m(o),{value:`4`,class:`flex min-h-full flex-1 flex-col justify-between bg-transparent`},{default:l(({activateCallback:n})=>[p(`div`,null,[p(`label`,Y,E(m(t)(`cloudSurvey_steps_making`)),1),p(`div`,X,[(r(),v(a,null,u(O,e=>p(`div`,{key:e.value,class:`flex items-center gap-3`},[g(m(ie),{modelValue:C.value.making,"onUpdate:modelValue":i[5]||=e=>C.value.making=e,"input-id":`making-${e.value}`,value:e.value},null,8,[`modelValue`,`input-id`,`value`]),p(`label`,{for:`making-${e.value}`,class:`cursor-pointer text-sm`},E(e.label),9,Z)])),64))])]),p(`div`,Q,[g(N,{variant:`secondary`,class:`flex-1 text-white`,onClick:e=>goTo(3,n)},{default:l(()=>[b(E(e.$t(`g.back`)),1)]),_:2},1032,[`onClick`]),g(N,{disabled:!F.value||x.value,loading:x.value,class:`h-10 flex-1 border-none text-white`,onClick:onSubmitSurvey},{default:l(()=>[b(E(e.$t(`g.submit`)),1)]),_:1},8,[`disabled`,`loading`])])]),_:1})]),_:1})]),_:1})]))}})})),_e=t((()=>{})),$;t((()=>{ge(),ge(),_e(),ce(),$=le(he,[[`__scopeId`,`data-v-a5b5d1d9`]])}))();export{$ as default};
//# sourceMappingURL=CloudSurveyView-CsZ2xQQN.js.map