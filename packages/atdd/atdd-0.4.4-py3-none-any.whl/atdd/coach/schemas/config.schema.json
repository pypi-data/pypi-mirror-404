{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://atdd.dev/schemas/config.schema.json",
  "title": "ATDD Config",
  "description": "Schema for .atdd/config.yaml configuration file",
  "type": "object",
  "properties": {
    "version": {
      "type": "string",
      "description": "Configuration schema version",
      "pattern": "^[0-9]+\\.[0-9]+$",
      "examples": ["1.0"]
    },
    "release": {
      "type": "object",
      "description": "Release/versioning settings",
      "properties": {
        "version_file": {
          "type": "string",
          "description": "Path to version file (relative to repo root)",
          "examples": ["pyproject.toml", "package.json", "VERSION"]
        },
        "tag_prefix": {
          "type": "string",
          "description": "Prefix for git tags",
          "default": "v",
          "examples": ["v", ""]
        }
      },
      "required": ["version_file"],
      "additionalProperties": false
    },
    "sync": {
      "type": "object",
      "description": "Agent config file sync settings",
      "properties": {
        "agents": {
          "type": "array",
          "description": "List of agents to sync ATDD rules to",
          "items": {
            "type": "string",
            "enum": ["claude", "codex", "gemini", "qwen"]
          },
          "uniqueItems": true,
          "default": ["claude"]
        }
      },
      "additionalProperties": false
    },
    "toolkit": {
      "type": "object",
      "description": "ATDD toolkit metadata",
      "properties": {
        "last_version": {
          "type": "string",
          "description": "Last installed ATDD toolkit version"
        }
      },
      "required": ["last_version"],
      "additionalProperties": false
    }
  },
  "required": ["version", "release"],
  "additionalProperties": false
}
