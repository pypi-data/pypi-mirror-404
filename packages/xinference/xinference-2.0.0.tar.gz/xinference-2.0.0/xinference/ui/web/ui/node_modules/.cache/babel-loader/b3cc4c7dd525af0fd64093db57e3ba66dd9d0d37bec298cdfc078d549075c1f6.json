{"ast":null,"code":"import _slicedToArray from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Translate from'@mui/icons-material/Translate';import{Box,ClickAwayListener,IconButton,List,ListItem,ListItemButton,ListItemText,Tooltip}from'@mui/material';import React from'react';import{useTranslation}from'react-i18next';import{jsx as _jsx}from\"react/jsx-runtime\";var TranslateButton=function TranslateButton(_ref){var sx=_ref.sx;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _useTranslation=useTranslation(),i18n=_useTranslation.i18n;var languages=React.useMemo(function(){return[{language:'English',code:'en',flag:'ðŸ‡ºðŸ‡¸'},{language:'ä¸­æ–‡',code:'zh',flag:'ðŸ‡¨ðŸ‡³'},{language:'æ—¥æœ¬èªž',code:'ja',flag:'ðŸ‡¯ðŸ‡µ'},{language:'í•œêµ­ì–´',code:'ko',flag:'ðŸ‡°ðŸ‡·'}];},[]);var normalizeLang=function normalizeLang(lng){return String(lng||'').toLowerCase().split('-')[0];};var currentLang=normalizeLang(i18n.language);var changeLanguage=function changeLanguage(lng){if(normalizeLang(i18n.language)===lng){handleTooltipClose();return;}i18n.changeLanguage(lng);handleTooltipClose();};var handleTooltipClose=function handleTooltipClose(){setOpen(false);};var handleKeyDown=function handleKeyDown(e){if(e.key==='Escape'){handleTooltipClose();}};return/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleTooltipClose,children:/*#__PURE__*/_jsx(Tooltip,{onClose:handleTooltipClose,open:open,disableFocusListener:true,disableHoverListener:true,disableTouchListener:true,placement:\"top\",slotProps:{popper:{disablePortal:true}},title:/*#__PURE__*/_jsx(List,{sx:{pt:0},children:languages.map(function(item,index){return/*#__PURE__*/_jsx(ListItem,{disablePadding:true,onClick:function onClick(){return changeLanguage(item.code);},children:/*#__PURE__*/_jsx(ListItemButton,{selected:currentLang===item.code,sx:{'&':{paddingY:0,marginY:'2px'},'&:hover, &:focus':{bgcolor:'#bbb',color:'#333'}},children:/*#__PURE__*/_jsx(ListItemText,{primary:item.flag+' '+item.language})})},index);})}),children:/*#__PURE__*/_jsx(Box,{sx:sx,onKeyDown:handleKeyDown,children:/*#__PURE__*/_jsx(IconButton,{size:\"large\",\"aria-label\":\"Change language\",onClick:function onClick(){return setOpen(function(prev){return!prev;});},children:/*#__PURE__*/_jsx(Translate,{})})})})});};export default TranslateButton;","map":{"version":3,"names":["Translate","Box","ClickAwayListener","IconButton","List","ListItem","ListItemButton","ListItemText","Tooltip","React","useTranslation","jsx","_jsx","TranslateButton","_ref","sx","_React$useState","useState","_React$useState2","_slicedToArray","open","setOpen","_useTranslation","i18n","languages","useMemo","language","code","flag","normalizeLang","lng","String","toLowerCase","split","currentLang","changeLanguage","handleTooltipClose","handleKeyDown","e","key","onClickAway","children","onClose","disableFocusListener","disableHoverListener","disableTouchListener","placement","slotProps","popper","disablePortal","title","pt","map","item","index","disablePadding","onClick","selected","paddingY","marginY","bgcolor","color","primary","onKeyDown","size","prev"],"sources":["/home/runner/work/inference/inference/xinference/ui/web/ui/src/components/translateButton.js"],"sourcesContent":["import Translate from '@mui/icons-material/Translate'\nimport {\n  Box,\n  ClickAwayListener,\n  IconButton,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemText,\n  Tooltip,\n} from '@mui/material'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nconst TranslateButton = ({ sx }) => {\n  const [open, setOpen] = React.useState(false)\n  const { i18n } = useTranslation()\n  const languages = React.useMemo(\n    () => [\n      { language: 'English', code: 'en', flag: 'ðŸ‡ºðŸ‡¸' },\n      { language: 'ä¸­æ–‡', code: 'zh', flag: 'ðŸ‡¨ðŸ‡³' },\n      { language: 'æ—¥æœ¬èªž', code: 'ja', flag: 'ðŸ‡¯ðŸ‡µ' },\n      { language: 'í•œêµ­ì–´', code: 'ko', flag: 'ðŸ‡°ðŸ‡·' },\n    ],\n    []\n  )\n\n  const normalizeLang = (lng) =>\n    String(lng || '')\n      .toLowerCase()\n      .split('-')[0]\n  const currentLang = normalizeLang(i18n.language)\n\n  const changeLanguage = (lng) => {\n    if (normalizeLang(i18n.language) === lng) {\n      handleTooltipClose()\n      return\n    }\n    i18n.changeLanguage(lng)\n    handleTooltipClose()\n  }\n\n  const handleTooltipClose = () => {\n    setOpen(false)\n  }\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Escape') {\n      handleTooltipClose()\n    }\n  }\n\n  return (\n    <ClickAwayListener onClickAway={handleTooltipClose}>\n      <Tooltip\n        onClose={handleTooltipClose}\n        open={open}\n        disableFocusListener\n        disableHoverListener\n        disableTouchListener\n        placement=\"top\"\n        slotProps={{\n          popper: {\n            disablePortal: true,\n          },\n        }}\n        title={\n          <List sx={{ pt: 0 }}>\n            {languages.map((item, index) => {\n              return (\n                <ListItem\n                  key={index}\n                  disablePadding\n                  onClick={() => changeLanguage(item.code)}\n                >\n                  <ListItemButton\n                    selected={currentLang === item.code}\n                    sx={{\n                      '&': {\n                        paddingY: 0,\n                        marginY: '2px',\n                      },\n                      '&:hover, &:focus': {\n                        bgcolor: '#bbb',\n                        color: '#333',\n                      },\n                    }}\n                  >\n                    <ListItemText primary={item.flag + ' ' + item.language} />\n                  </ListItemButton>\n                </ListItem>\n              )\n            })}\n          </List>\n        }\n      >\n        <Box sx={sx} onKeyDown={handleKeyDown}>\n          <IconButton\n            size=\"large\"\n            aria-label=\"Change language\"\n            onClick={() => setOpen((prev) => !prev)}\n          >\n            <Translate />\n          </IconButton>\n        </Box>\n      </Tooltip>\n    </ClickAwayListener>\n  )\n}\n\nexport default TranslateButton\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}