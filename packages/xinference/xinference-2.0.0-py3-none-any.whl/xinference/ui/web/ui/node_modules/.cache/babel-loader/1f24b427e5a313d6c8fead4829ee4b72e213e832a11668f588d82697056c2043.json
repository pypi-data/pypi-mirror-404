{"ast":null,"code":"import _regeneratorRuntime from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var getEndpoint=function getEndpoint(){var endPoint='';if(!process.env.NODE_ENV||process.env.NODE_ENV==='development'){endPoint='http://127.0.0.1:9997';}else{var fullUrl=window.location.href;endPoint=fullUrl.split('/ui')[0];}return endPoint;};export var isValidBearerToken=function isValidBearerToken(token){return token!==''&&token!==undefined&&token!==null&&token.length>10;};export var toReadableSize=function toReadableSize(size){var res_size=size/Math.pow(1024.0,2);return res_size.toFixed(2)+'MiB';};export function copyToClipboard(_x){return _copyToClipboard.apply(this,arguments);}function _copyToClipboard(){_copyToClipboard=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(text){var container,textArea,success;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(navigator.clipboard&&window.isSecureContext)){_context.next=10;break;}_context.prev=1;_context.next=4;return navigator.clipboard.writeText(text);case 4:return _context.abrupt(\"return\",true);case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",false);case 10:_context.prev=10;container=document.querySelector('[role=\"dialog\"]')||document.querySelector('.drawerCard')||document.body;textArea=document.createElement('textarea');textArea.value=text;textArea.style.position='absolute';textArea.style.left='-9999px';container.appendChild(textArea);textArea.select();success=document.execCommand('copy');container.removeChild(textArea);return _context.abrupt(\"return\",success);case 23:_context.prev=23;_context.t1=_context[\"catch\"](10);return _context.abrupt(\"return\",false);case 26:case\"end\":return _context.stop();}},_callee,null,[[1,7],[10,23]]);}));return _copyToClipboard.apply(this,arguments);}","map":{"version":3,"names":["getEndpoint","endPoint","process","env","NODE_ENV","fullUrl","window","location","href","split","isValidBearerToken","token","undefined","length","toReadableSize","size","res_size","Math","pow","toFixed","copyToClipboard","_x","_copyToClipboard","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","text","container","textArea","success","wrap","_callee$","_context","prev","next","navigator","clipboard","isSecureContext","writeText","abrupt","t0","document","querySelector","body","createElement","value","style","position","left","appendChild","select","execCommand","removeChild","t1","stop"],"sources":["/home/runner/work/inference/inference/xinference/ui/web/ui/src/components/utils.js"],"sourcesContent":["export const getEndpoint = () => {\n  let endPoint = ''\n  if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n    endPoint = 'http://127.0.0.1:9997'\n  } else {\n    const fullUrl = window.location.href\n    endPoint = fullUrl.split('/ui')[0]\n  }\n  return endPoint\n}\n\nexport const isValidBearerToken = (token) => {\n  return (\n    token !== '' && token !== undefined && token !== null && token.length > 10\n  )\n}\n\nexport const toReadableSize = (size) => {\n  const res_size = size / 1024.0 ** 2\n  return res_size.toFixed(2) + 'MiB'\n}\n\nexport async function copyToClipboard(text) {\n  if (navigator.clipboard && window.isSecureContext) {\n    try {\n      await navigator.clipboard.writeText(text)\n      return true\n    } catch {\n      return false\n    }\n  }\n\n  try {\n    const container =\n      document.querySelector('[role=\"dialog\"]') ||\n      document.querySelector('.drawerCard') ||\n      document.body\n\n    const textArea = document.createElement('textarea')\n    textArea.value = text\n    textArea.style.position = 'absolute'\n    textArea.style.left = '-9999px'\n    container.appendChild(textArea)\n\n    textArea.select()\n    const success = document.execCommand('copy')\n\n    container.removeChild(textArea)\n    return success\n  } catch {\n    return false\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}