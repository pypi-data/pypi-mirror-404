"""
Pydantic Models for CMDB - system/stp

Runtime validation models for system/stp configuration.
Generated from FortiOS schema version unknown.
"""

from __future__ import annotations

from pydantic import BaseModel, Field
from typing import Any, Optional
from enum import Enum

# ============================================================================
# Enum Definitions (for fields with 4+ allowed values)
# ============================================================================

class StpSwitchPriorityEnum(str, Enum):
    """Allowed values for switch_priority field."""
    V_0 = "0"
    V_4096 = "4096"
    V_8192 = "8192"
    V_12288 = "12288"
    V_16384 = "16384"
    V_20480 = "20480"
    V_24576 = "24576"
    V_28672 = "28672"
    V_32768 = "32768"
    V_36864 = "36864"
    V_40960 = "40960"
    V_45056 = "45056"
    V_49152 = "49152"
    V_53248 = "53248"
    V_57344 = "57344"


# ============================================================================
# Main Model
# ============================================================================

class StpModel(BaseModel):
    """
    Pydantic model for system/stp configuration.
    
    Configuration for system/stp
    
    Validation Rules:        - switch_priority: pattern=        - hello_time: pattern=        - forward_delay: pattern=        - max_age: pattern=        - max_hops: pattern=        - list_: pattern=    """
    
    class Config:
        """Pydantic model configuration."""
        extra = "allow"  # Allow additional fields from API
        str_strip_whitespace = True
        validate_assignment = True  # Validate on attribute assignment
        use_enum_values = True  # Use enum values instead of names
    
    # ========================================================================
    # Model Fields
    # ========================================================================
    
    switch_priority: StpSwitchPriorityEnum | None = Field(default=None, description="STP switch priority; the lower the number the higher the priority (select from 0, 4096, 8192, 12288, 16384, 20480, 24576, 28672, 32768, 36864, 40960, 45056, 49152, 53248, and 57344).    0:0    4096:4096    8192:8192    12288:12288    16384:16384    20480:20480    24576:24576    28672:28672    32768:32768    36864:36864    40960:40960    45056:45056    49152:49152    53248:53248    57344:57344")    
    hello_time: int | None = Field(default=None, description="Hello time (1 - 10 sec, default = 2).")    
    forward_delay: int | None = Field(default=None, description="Forward delay (4 - 30 sec, default = 15).")    
    max_age: int | None = Field(default=None, description="Maximum packet age (6 - 40 sec, default = 20).")    
    max_hops: int | None = Field(default=None, description="Maximum number of hops (1 - 40, default = 20).")    
    list_: str | None = Field(default=None, serialization_alias="list", description="Display STP status.")    
    # ========================================================================
    # Custom Validators
    # ========================================================================
    
    # ========================================================================
    # Helper Methods
    # ========================================================================
    
    def to_fortios_dict(self) -> dict[str, Any]:
        """
        Convert model to FortiOS API payload format.
        
        Returns:
            Dict suitable for POST/PUT operations
        """
        # Export with exclude_none to avoid sending null values
        return self.model_dump(exclude_none=True, by_alias=True)
    
    @classmethod
    def from_fortios_response(cls, data: dict[str, Any]) -> "StpModel":
        """
        Create model instance from FortiOS API response.
        
        Args:
            data: Response data from API
            
        Returns:
            Validated model instance
        """
        return cls(**data)

# ============================================================================
# Type Aliases for Convenience
# ============================================================================

Dict = dict[str, Any]  # For backward compatibility

# ============================================================================
# Module Exports
# ============================================================================

__all__ = [
    "StpModel",]


# ============================================================================
# Generated by hfortix generator v0.6.0
# Schema: 1.7.4
# Generated: 2026-01-27T21:47:53.325214Z
# ============================================================================