import{u as z,j as t,L as p,r as Y,s as re,t as oe,E as ae,d as ce}from"./vendor-tanstack-BcZfOOfy.js";import{bt as ie,d0 as le,T as B,d7 as ue,da as de,C as G,ap as u,au as K,I as w,a2 as pe,bl as me,q as H,f as fe,a3 as he,a4 as xe,a5 as ye,L as je,b9 as N,cu as we,dd as v,$ as ke,cr as Ae,U as _,db as _e,de as be,G as ge,y as b,bE as De,df as Se}from"./index-B8vo2Lrg.js";import{F as Te,W as Ee,a as Ne}from"./work-queue-icon-text-BOpcJ8YU.js";import{D as ve,a as Re,b as Ce,c as Le,d as k}from"./dropdown-menu-D7Gwbd15.js";import{u as Pe}from"./use-delete-confirmation-dialog-CUdii6Lo.js";const We=e=>{const{automationIds:s,blockDocumentIds:n,deploymentIds:r,workPoolIds:c,workQueueIds:a}=Ie(e.actions),{data:o,loading:i}=qe(Array.from(s)),l=z({queries:[ie({offset:0,sort:"BLOCK_TYPE_AND_NAME_ASC",include_secrets:!1,block_documents:{operator:"and_",id:{any_:Array.from(n)},is_anonymous:{}}},{enabled:n.size>0}),le({offset:0,sort:"CREATED_DESC",deployments:{id:{any_:Array.from(r)},operator:"and_"}},{enabled:r.size>0}),B({offset:0,work_pools:{id:{any_:Array.from(c)},operator:"and_"}},{enabled:c.size>0}),ue({offset:0,work_queues:{id:{any_:Array.from(a)},operator:"and_"}},{enabled:a.size>0})],combine:d=>{const[j,ee,te,se]=d;return{data:{blockDocuments:j.data,deployments:ee.data,workPools:te.data,workQueues:se.data},loading:d.some(ne=>ne.isLoading)}}});return{loading:i||l.loading,data:{automationsMap:o,blockDocumentsMap:A(l.data.blockDocuments),deploymentsMap:A(l.data.deployments),workPoolsMap:A(l.data.workPools),workQueuesMap:A(l.data.workQueues)}}},qe=e=>z({queries:Array.from(e).map(s=>de(s)),combine:s=>{const n=new Map;for(const r of s)r.data&&n.set(r.data.id,r.data);return{data:n,loading:s.some(r=>r.isLoading)}}}),Ie=e=>{const s=new Set,n=new Set,r=new Set,c=new Set,a=new Set;for(const o of e)switch(o.type){case"run-deployment":case"pause-deployment":case"resume-deployment":o.deployment_id&&r.add(o.deployment_id);break;case"pause-work-queue":case"resume-work-queue":o.work_queue_id&&a.add(o.work_queue_id);break;case"pause-automation":case"resume-automation":o.automation_id&&s.add(o.automation_id);break;case"pause-work-pool":case"resume-work-pool":o.work_pool_id&&c.add(o.work_pool_id);break;case"send-notification":case"call-webhook":o.block_document_id&&n.add(o.block_document_id);break}return{automationIds:s,blockDocumentIds:n,deploymentIds:r,workPoolIds:c,workQueueIds:a}};function A(e){const s=new Map;for(const n of e??[])s.set(n.id,n);return s}const Qe={"cancel-flow-run":"Cancel flow run","suspend-flow-run":"Suspend flow run","resume-flow-run":"Resume a flow run","change-flow-run-state":"Change state of a flow run","run-deployment":"Run deployment","pause-deployment":"Pause deployment","resume-deployment":"Resume deployment","pause-work-queue":"Pause work queue","resume-work-queue":"Resume work queue","pause-work-pool":"Pause work pool","resume-work-pool":"Resume work pool","pause-automation":"Pause automation","resume-automation":"Resume automation","call-webhook":"Call webhook using","send-notification":"Send a notification using","do-nothing":"Do nothing"},$e=({action:e,automationsMap:s,blockDocumentsMap:n,deploymentsMap:r,workPoolsMap:c,workQueuesMap:a})=>t.jsx(G,{className:"p-4",children:t.jsx(Me,{action:e,automationsMap:s,blockDocumentsMap:n,deploymentsMap:r,workPoolsMap:c,workQueuesMap:a})}),Me=({action:e,automationsMap:s,blockDocumentsMap:n,deploymentsMap:r,workPoolsMap:c,workQueuesMap:a})=>{const o=Qe[e.type];switch(e.type){case"cancel-flow-run":case"suspend-flow-run":case"resume-flow-run":case"do-nothing":return t.jsx(Oe,{label:o});case"run-deployment":if(e.deployment_id&&e.source==="selected"){const i=r.get(e.deployment_id);return i?t.jsx(P,{label:o,deployment:i,parameters:e.parameters,job_variables:e.job_variables}):t.jsx(u,{children:"Deployment not found"})}return t.jsx(h,{label:o});case"pause-deployment":case"resume-deployment":if(e.deployment_id&&e.source==="selected"){const i=r.get(e.deployment_id);return i?t.jsx(P,{label:o,deployment:i}):t.jsx(u,{children:"Deployment not found"})}return t.jsx(h,{label:o});case"pause-work-queue":case"resume-work-queue":if(e.work_queue_id&&e.source==="selected"){const i=a.get(e.work_queue_id);return i?t.jsx(Be,{label:o,workQueue:i}):t.jsx(u,{children:"Work queue not found"})}return t.jsx(h,{label:o});case"pause-automation":case"resume-automation":if(e.automation_id&&e.source==="selected"){const i=s.get(e.automation_id);return i?t.jsx(Fe,{label:o,automation:i}):t.jsx(u,{children:"Automation not found"})}return t.jsx(h,{label:o});case"pause-work-pool":case"resume-work-pool":if(e.work_pool_id&&e.source==="selected"){const i=c.get(e.work_pool_id);return i?t.jsx(Ye,{label:o,workPool:i}):t.jsx(u,{children:"Workpool not found"})}return t.jsx(h,{label:o});case"send-notification":{const i=n.get(e.block_document_id);return i?t.jsx(Ve,{label:o,blockDocument:i}):t.jsx(u,{children:"Block document not found"})}case"call-webhook":{const i=n.get(e.block_document_id);return i?t.jsx(ze,{label:o,blockDocument:i}):t.jsx(u,{children:"Block document not found"})}case"change-flow-run-state":return t.jsx(Ue,{label:o,type:e.state,name:e.name});default:return null}},f=({children:e})=>t.jsx("div",{className:"text-sm flex items-center gap-1",children:e}),y=({iconId:e,name:s})=>t.jsxs("div",{className:"text-xs flex items-center",children:[t.jsx(w,{id:e,className:"size-4 mr-1"}),s]}),Oe=({label:e})=>t.jsxs(u,{variant:"bodySmall",children:[e," from the triggering event"]}),h=({label:e})=>t.jsxs(u,{variant:"bodySmall",children:[e," inferred from the triggering event"]}),Ue=({label:e,type:s,name:n})=>t.jsxs(f,{children:[t.jsx(h,{label:e})," to ",t.jsx(K,{type:s,name:n})]}),P=({label:e,deployment:s,parameters:n,job_variables:r})=>t.jsxs(f,{children:[t.jsxs("label",{htmlFor:`${e}-${s.id}`,children:[e,":"]}),t.jsx(p,{to:"/deployments/deployment/$id",params:{id:s.id},"aria-label":s.name,children:t.jsx(y,{iconId:"Rocket",name:s.name})}),n!==void 0&&t.jsx(W,{title:"Parameters",payload:n}),r!==void 0&&t.jsx(W,{title:"Job Variables",payload:r})]}),W=({title:e,payload:s})=>t.jsxs(pe,{children:[t.jsx(me,{asChild:!0,children:t.jsxs(H,{variant:"secondary",size:"sm",children:["Show ",fe(e)]})}),t.jsxs(he,{"aria-describedby":void 0,children:[t.jsx(xe,{children:t.jsx(ye,{children:e})}),t.jsx(je,{value:JSON.stringify(s),disabled:!0})]})]}),Fe=({label:e,automation:s})=>t.jsxs(f,{children:[t.jsxs("label",{htmlFor:`${e}-${s.id}`,children:[e,":"]}),t.jsx(p,{to:"/automations/automation/$id",params:{id:s.id},"aria-label":s.name,children:t.jsx(y,{iconId:"Bot",name:s.name})})]}),Ve=({label:e,blockDocument:s})=>{if(!s.name)return t.jsx(u,{children:"Block not found"});const n=s.block_type_name?`Send a ${s.block_type_name.toLowerCase()} using`:e;return t.jsxs(f,{children:[t.jsx("label",{htmlFor:`${e}-${s.id}`,children:n}),t.jsx(p,{to:"/blocks/block/$id",params:{id:s.id},"aria-label":s.name,children:t.jsx(y,{iconId:"Box",name:s.name})})]})},ze=({label:e,blockDocument:s})=>s.name?t.jsxs(f,{children:[t.jsx("label",{htmlFor:`${e}-${s.id}`,children:e}),t.jsx(p,{to:"/blocks/block/$id",params:{id:s.id},"aria-label":s.name,children:t.jsx(y,{iconId:"Box",name:s.name})})]}):t.jsx(u,{children:"Block not found"}),Ye=({label:e,workPool:s})=>t.jsxs(f,{children:[t.jsxs("label",{htmlFor:`${e}-${s.id}`,children:[e,":"]}),t.jsx(p,{to:"/work-pools/work-pool/$workPoolName",params:{workPoolName:s.name},"aria-label":s.name,children:t.jsx(y,{iconId:"Cpu",name:s.name})})]}),Be=({label:e,workQueue:s})=>t.jsxs(f,{children:[t.jsxs("label",{htmlFor:`${e}-${s.id}`,children:[e,":"]}),t.jsx(p,{to:"/work-pools/work-pool/$workPoolName/queue/$workQueueName",params:{workPoolName:s.name,workQueueName:s.name},"aria-label":s.name,children:t.jsx(y,{iconId:"Cpu",name:s.name})})]}),Ge=({trigger:e})=>{const s=e.triggers?.length??0,n=e.require;let r;return n==="all"?r="all":n==="any"?r="any":typeof n=="number"?r=`at least ${n}`:r="all",t.jsx("div",{className:"flex flex-wrap gap-1 items-center",children:t.jsxs(u,{variant:"bodySmall",children:["A compound trigger requiring ",r," of ",s," nested"," ",s===1?"trigger":"triggers"," to fire"]})})},q=()=>t.jsx(u,{variant:"bodySmall",children:"A custom trigger"}),Ke=({deploymentId:e})=>t.jsx(Y.Suspense,{fallback:t.jsx(N,{className:"h-4 w-full"}),children:t.jsx(He,{deploymentId:e})}),He=({deploymentId:e})=>{const{data:s}=re(we(e));return t.jsxs("div",{className:"flex items-center gap-1 text-xs",children:["Deployment",t.jsxs(p,{to:"/deployments/deployment/$id",params:{id:s.id},className:"flex items-center gap-1",children:[t.jsx(w,{id:"Rocket",className:"size-4"}),s.name]})]})},g=1,Je=["prefect.deployment.ready","prefect.deployment.not-ready","prefect.deployment.disabled"],Xe=["prefect.work-pool.ready","prefect.work-pool.not-ready","prefect.work-pool.paused","prefect.work-pool.not_ready"],Ze=["prefect.work-queue.ready","prefect.work-queue.not-ready","prefect.work-queue.paused"];function R(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function m(e){return R(e)&&e.type==="event"&&(e.posture==="Reactive"||e.posture==="Proactive")}function et(e){return R(e)&&e.type==="compound"&&Array.isArray(e.triggers)}function tt(e){return R(e)&&e.type==="sequence"&&Array.isArray(e.triggers)}function J(e){return e==null?[]:Array.isArray(e)?e:[e]}function st(e,s){if(m(e)){const n=e.match;if(n&&typeof n=="object"){const r=n[s];return r?J(r):[]}}return[]}function D(e,s){const n=st(e,"prefect.resource.id");return n.length===0?!1:s(n)}function S(e,s){return m(e)?(e.for_each??[]).every(r=>r.startsWith(s)):!1}function T(e,s){return m(e)?s(e.after??[]):!1}function E(e,s){return m(e)?s(e.expect??[]):!1}function I(e){return Je.includes(e)}function Q(e){return Xe.includes(e)}function $(e){return Ze.includes(e)}function nt(e){return m(e)&&D(e,s=>s.every(n=>n.startsWith("prefect.deployment")))&&S(e,"prefect.resource.id")&&T(e,s=>s.every(n=>I(n)))&&E(e,s=>s.every(n=>I(n)))&&e.threshold===g}function rt(e,s){const n=e.match_related;if(!n)return[];const r=Array.isArray(n)?n:[n],c=[];for(const a of r)if(a&&typeof a=="object"){const o=a[s];o&&c.push(...J(o))}return c}function ot(e){const s=e.match_related;return s?Array.isArray(s)?s.length===0:Object.keys(s).length===0:!0}function M(e,s){const n=rt(e,"prefect.resource.id");return n.length===0?!1:n.every(r=>r.startsWith(s))}function at(e){return ot(e)||M(e,"prefect.flow")||M(e,"prefect.tag")}function ct(e){return m(e)&&D(e,s=>s.every(n=>n.startsWith("prefect.flow-run")))&&S(e,"prefect.resource.id")&&T(e,s=>s.every(n=>n.startsWith("prefect.flow-run")))&&E(e,s=>s.every(n=>n.startsWith("prefect.flow-run")))&&at(e)&&e.threshold===g}function it(e){return m(e)&&D(e,s=>s.every(n=>n.startsWith("prefect.work-pool")))&&S(e,"prefect.resource.id")&&T(e,s=>s.every(n=>Q(n)))&&E(e,s=>s.every(n=>Q(n)))&&e.threshold===g}function lt(e){return m(e)&&D(e,s=>s.every(n=>n.startsWith("prefect.work-queue")))&&S(e,"prefect.resource.id")&&T(e,s=>s.every(n=>$(n)))&&E(e,s=>s.every(n=>$(n)))&&e.threshold===g}const ut={"deployment-status":nt,"flow-run-state":ct,"work-pool-status":it,"work-queue-status":lt};function dt(e){for(const[s,n]of Object.entries(ut))if(n(e))return s;return"custom"}function C(e){switch(e){case"Reactive":return"enters";case"Proactive":return"stays in"}}function pt(e){switch(e){case"READY":return"Ready";case"NOT_READY":return"Not Ready";case"PAUSED":return"Paused";default:{const s=e;throw new Error(`getWorkQueueStatusLabel missing case for ${s}`)}}}function mt(e){switch(e){case"ready":return"ready";case"not_ready":return"not ready"}}const ft=({deploymentIds:e,posture:s,status:n,time:r})=>{const c=e.length===0,a=C(s),o=mt(n);return t.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[t.jsx("span",{children:"When"}),c?t.jsx("span",{children:"any deployment"}):e.map((i,l)=>t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ke,{deploymentId:i}),l===e.length-2&&t.jsx("span",{children:"or"})]},i)),t.jsx("span",{children:a}),t.jsx("span",{children:o}),s==="Proactive"&&r!==void 0&&r>0&&t.jsxs("span",{children:["for ",v(r)]})]})};function ht(e){const s=e.toUpperCase();return["COMPLETED","FAILED","RUNNING","CANCELLED","CANCELLING","CRASHED","PAUSED","PENDING","SCHEDULED"].includes(s)?s:null}const xt=({flowIds:e,tags:s,posture:n,states:r,time:c})=>{const a=C(n);return t.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[t.jsx("span",{children:"When any flow run"}),e.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"of flow"}),e.map((o,i)=>t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Te,{flowId:o}),i===e.length-2&&t.jsx("span",{children:"or"})]},o))]}),s.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"with the tag"}),t.jsx(ke,{tags:s})]}),t.jsx("span",{children:a}),r.length>0?r.map(o=>{const i=ht(o);return i?t.jsx(K,{type:i},o):null}):t.jsx("span",{children:"any state"}),n==="Proactive"&&c!==void 0&&c>0&&t.jsxs("span",{children:["for ",Ae(c)]})]})},yt=({trigger:e})=>{const s=e.triggers?.length??0;return t.jsx("div",{className:"flex flex-wrap gap-1 items-center",children:t.jsxs(u,{variant:"bodySmall",children:["A sequence trigger with ",s," nested"," ",s===1?"trigger":"triggers"," that must fire in order"]})})},jt=e=>{switch(e){case"READY":return"Ready";case"NOT_READY":return"Not Ready";case"PAUSED":return"Paused"}},wt=({workPoolName:e})=>t.jsxs(p,{to:"/work-pools/work-pool/$workPoolName",params:{workPoolName:e},className:"inline-flex items-center gap-1",children:[t.jsx(w,{id:"Cpu",className:"size-4"}),e]}),kt=e=>e.length===0?null:e.map((s,n)=>t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx(wt,{workPoolName:s.name}),n===e.length-2&&" or ",n<e.length-2&&", "]},s.id)),At=({workPoolIds:e,posture:s,status:n,time:r})=>{const{data:c=[]}=oe(B({offset:0,work_pools:{id:{any_:e},operator:"and_"}},{enabled:e.length>0})),a=s==="Reactive"?"enters":"stays in",o=jt(n).toLowerCase(),i=e.length===0?"any work pool":`${_(e.length,"work pool")} `;return t.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[t.jsx("span",{children:"When"}),t.jsx("span",{children:i}),e.length>0&&kt(c),t.jsx("span",{children:a}),t.jsx("span",{children:o}),s==="Proactive"&&r!==void 0&&t.jsxs("span",{children:["for ",v(r)]})]})},_t=e=>t.jsx(Y.Suspense,{fallback:t.jsx(N,{className:"h-4 w-full"}),children:t.jsx(bt,{...e})}),bt=({workQueueIds:e,workPoolNames:s,posture:n,status:r,time:c})=>{const a=e.length===0,o=s.length===0,l=ae({queries:e.map(d=>_e(d))}).map(d=>d.data);return t.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-sm",children:[t.jsx("span",{children:"When"}),a?t.jsx("span",{children:"any work queue"}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:_(l.length,"work queue")}),l.map((d,j)=>t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ee,{workPoolName:d.work_pool_name??"",workQueueName:d.name,showLabel:!0,showStatus:!0}),j===l.length-2&&t.jsx("span",{children:"or"})]},d.id))]}),!o&&t.jsxs(t.Fragment,{children:[t.jsxs("span",{children:["from the ",_(s.length,"work pool")]}),s.map((d,j)=>t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ne,{workPoolName:d}),j===s.length-2&&t.jsx("span",{children:"or"})]},d))]}),t.jsx("span",{children:C(n)}),t.jsx("span",{children:pt(r).toLowerCase()}),n==="Proactive"&&c!==void 0&&t.jsxs("span",{children:["for ",v(c)]})]})};function X(e){return e==null?[]:Array.isArray(e)?e:[e]}function L(e,s){const n=e.match;if(n&&typeof n=="object")return n[s]}function Z(e,s){const n=e.match_related;if(!n)return[];const r=Array.isArray(n)?n:[n],c=[];for(const a of r)if(a&&typeof a=="object"){const o=a[s];o&&c.push(...X(o))}return c}function x(e,s){if(s==null)return[];const n=X(s);return n.includes(`${e}.*`)?[]:n.filter(r=>r.startsWith(e)).map(r=>r.split(`${e}.`)[1]??"").filter(r=>r!==""&&r!=="*")}function O(e){return e.includes("prefect.flow-run.*")?[]:e.filter(s=>s.startsWith("prefect.flow-run.")).map(s=>s.split("prefect.flow-run.")[1]??"").filter(s=>s!=="")}function gt(e){const s=Z(e,"prefect.resource.id"),n=x("prefect.flow",s),r=x("prefect.tag",s),c=e.posture,a=O(c==="Reactive"?e.expect??[]:e.after??[]);return{flowIds:n,tags:r,posture:c,states:a,time:e.within}}const U={"prefect.deployment.ready":"ready","prefect.deployment.not-ready":"not_ready","prefect.deployment.disabled":"not_ready"};function Dt(e){const s=L(e,"prefect.resource.id"),n=x("prefect.deployment",s),r=e.posture,c=r==="Reactive"?e.expect:e.after;let a="ready";for(const o of c??[])if(o in U){a=U[o];break}return{deploymentIds:n,posture:r,status:a,time:e.within}}const F={"prefect.work-pool.ready":"READY","prefect.work-pool.not-ready":"NOT_READY","prefect.work-pool.not_ready":"NOT_READY","prefect.work-pool.paused":"PAUSED"};function St(e){const s=L(e,"prefect.resource.id"),n=x("prefect.work-pool",s),r=e.posture,c=r==="Reactive"?e.expect:e.after;let a="READY";for(const o of c??[])if(o in F){a=F[o];break}return{workPoolIds:n,posture:r,status:a,time:e.within}}const V={"prefect.work-queue.ready":"READY","prefect.work-queue.not-ready":"NOT_READY","prefect.work-queue.paused":"PAUSED"};function Tt(e){const s=L(e,"prefect.resource.id"),n=x("prefect.work-queue",s),r=Z(e,"prefect.resource.id"),c=x("prefect.work-pool",r),a=e.posture,o=a==="Reactive"?e.expect:e.after;let i="READY";for(const l of o??[])if(l in V){i=V[l];break}return{workQueueIds:n,workPoolNames:c,posture:a,status:i,time:e.within}}const Et=({trigger:e})=>{if(et(e))return t.jsx(Ge,{trigger:e});if(tt(e))return t.jsx(yt,{trigger:e});if(!m(e))return t.jsx(q,{});switch(dt(e)){case"flow-run-state":return t.jsx(xt,{...gt(e)});case"deployment-status":return t.jsx(ft,{...Dt(e)});case"work-pool-status":return t.jsx(At,{...St(e)});case"work-queue-status":return t.jsx(_t,{...Tt(e)});default:return t.jsx(q,{})}},Pt=({automation:e})=>t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(u,{className:"text-muted-foreground",variant:"bodySmall",children:"Description"}),t.jsx(u,{className:"text-muted-foreground",children:e.description||"None"})]}),Wt=({automation:e})=>{const{trigger:s}=e;return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(u,{children:"Trigger"}),t.jsx(Et,{trigger:s})]})},qt=({automation:e})=>{const{data:s,loading:n}=We(e),{automationsMap:r,blockDocumentsMap:c,deploymentsMap:a,workPoolsMap:o,workQueuesMap:i}=s;return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(u,{children:_(e.actions.length,"Action")}),t.jsx("ul",{className:"flex flex-col gap-2",children:n?Array.from({length:e.actions.length},(l,d)=>t.jsx(G,{className:"p-4",children:t.jsx(N,{className:"p-2 h-2 w-full"})},d)):e.actions.map(l=>t.jsx("li",{children:t.jsx($e,{action:l,automationsMap:r,blockDocumentsMap:c,deploymentsMap:a,workPoolsMap:o,workQueuesMap:i})},l.type))})]})},It=({automation:e})=>{const{updateAutomation:s}=be(),n=(r,c)=>{s({enabled:r,id:c},{onSuccess:()=>{b.success(`Automation ${r?"enabled":"disabled"}`)},onError:a=>{const o=a.message||"Unknown error while updating automation";console.error(o)}})};return t.jsx(ge,{"aria-label":"toggle automation",checked:e.enabled,onCheckedChange:r=>n(r,e.id)})},Qt=({id:e,onDelete:s})=>{const n=r=>{navigator.clipboard.writeText(r),b.success("ID copied")};return t.jsxs(ve,{children:[t.jsx(Re,{asChild:!0,children:t.jsxs(H,{variant:"outline",className:"size-8 p-0",children:[t.jsx("span",{className:"sr-only",children:"Open menu"}),t.jsx(w,{id:"MoreVertical",className:"size-4"})]})}),t.jsxs(Ce,{align:"end",children:[t.jsx(Le,{children:"Actions"}),t.jsx(k,{onClick:()=>n(e),children:"Copy ID"}),t.jsx(k,{asChild:!0,children:t.jsx(p,{to:"/automations/automation/$id/edit",params:{id:e},children:"Edit"})}),t.jsx(k,{onClick:s,children:"Delete"}),t.jsx(k,{asChild:!0,children:t.jsxs("a",{href:De["automations-guide"],className:"flex items-center",children:["Documentation ",t.jsx(w,{id:"ExternalLink",className:"ml-2 size-4"})]})})]})]})},$t=()=>{const e=ce(),[s,n]=Pe(),{deleteAutomation:r}=Se();return[s,(a,{shouldNavigate:o=!1}={})=>n({title:"Delete Automation",description:`Are you sure you want to delete ${a.name}?`,onConfirm:()=>{r(a.id,{onSuccess:()=>{b.success("Automation deleted"),o&&e({to:"/automations"})},onError:i=>{const l=i.message||"Unknown error while deleting automation.";b.error(l),console.error(l)}})}})]};export{It as A,Qt as a,Pt as b,Wt as c,qt as d,$t as u};
//# sourceMappingURL=use-delete-automation-confirmation-dialog-D4AD5Ndf.js.map
