import{j as e,r as c,L as i,s as m}from"./vendor-tanstack-BcZfOOfy.js";import{a_ as n,D as x,I as f,ap as r,B as p,g as h,h as o,bw as b,bF as j,C as v,aQ as g,dz as y,bz as N}from"./index-B8vo2Lrg.js";import{u as w}from"./use-get-artifacts-flow-task-runs-DRWRrmrb.js";import{L as k}from"./lazy-markdown-1Hz0xzca.js";import{aF as _,aG as C,aH as T,aI as z,aJ as M,aK as L}from"./vendor-radix-BTiKGWfR.js";import"./vendor-react-Bce9NwRC.js";import"./vendor-recharts-BvvJP9Po.js";import"./vendor-forms-ClCIacbh.js";import"./vendor-date-wwuDAncJ.js";function I({className:s,...t}){return e.jsx(_,{"data-slot":"menubar",className:n("bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",s),...t})}function A({...s}){return e.jsx(C,{"data-slot":"menubar-menu",...s})}function B({...s}){return e.jsx(L,{"data-slot":"menubar-portal",...s})}function F({className:s,...t}){return e.jsx(T,{"data-slot":"menubar-trigger",className:n("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",s),...t})}function R({className:s,align:t="start",alignOffset:a=-4,sideOffset:d=8,...u}){return e.jsx(B,{children:e.jsx(z,{"data-slot":"menubar-content",align:t,alignOffset:a,sideOffset:d,className:n("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] overflow-hidden rounded-md border p-1 shadow-md",s),...u})})}function D({className:s,inset:t,variant:a="default",...d}){return e.jsx(M,{"data-slot":"menubar-item","data-inset":t,"data-variant":a,className:n("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...d})}const E=({artifactKey:s,pageHeader:t})=>{const a=c.useCallback(()=>{navigator.clipboard.writeText(s)},[s]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{artifactKey:s}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{id:"artifacts-guide",label:"Documentation"}),e.jsx(I,{children:e.jsxs(A,{children:[e.jsx(F,{className:"px-1",children:e.jsx(f,{id:"EllipsisVertical"})}),e.jsx(R,{children:e.jsx(D,{onClick:a,children:"Copy Id"})})]})})]})]}),t&&e.jsxs("div",{className:"",children:[e.jsx(r,{variant:"h2",className:"my-4 font-bold prose lg:prose-xl",children:e.jsx(k,{children:t})}),e.jsx("hr",{})]})]})},S=({artifactKey:s})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(p,{children:e.jsxs(h,{children:[e.jsx(o,{children:e.jsx(b,{to:"/artifacts",className:"text-xl font-semibold",children:"Artifacts"})}),e.jsx(j,{}),e.jsx(o,{className:"text-xl font-semibold",children:s})]})})}),$=({artifact:s})=>{const t=c.useMemo(()=>s.id?.split("-")[0],[s.id]);return e.jsxs(v,{"data-testid":`timeline-card-${s.id}`,className:"flex flex-col p-4 m-2 transition-transform hover:translate-x-2 grow",children:[e.jsx(i,{to:"/artifacts/artifact/$id",params:{id:s.id??""},children:e.jsx(r,{variant:"body",className:"font-bold text-blue-700 hover:underline",children:t})}),s.flow_run&&e.jsxs(r,{variant:"bodySmall",children:["Flow run:"," ",e.jsx(i,{className:"text-blue-700 hover:underline",to:"/runs/flow-run/$id",params:{id:s.flow_run_id??""},children:s.flow_run?.name})]}),s.task_run&&e.jsxs(r,{variant:"bodySmall",children:["Task run:"," ",e.jsx(i,{className:"text-blue-700 hover:underline",to:"/runs/task-run/$id",params:{id:s.task_run_id??""},children:s.task_run?.name})]})]})},P=({artifact:s})=>{const[t,a]=g(s.created??"","dateTime").split(" at ");return e.jsxs("div",{"data-testid":`timeline-row-${s.id}`,className:"flex",children:[e.jsxs("div",{className:"flex flex-col items-end justify-items-start pt-4",style:{width:"128px"},children:[e.jsx(r,{variant:"body",children:a}),e.jsx(r,{variant:"bodySmall",className:"text-muted-foreground",children:t})]}),e.jsx("div",{className:"w-10 flex flex-col",children:e.jsx("div",{className:"w-5 h-full border-r border-gray-200",children:e.jsx("div",{className:"size-4 rounded-full bg-white my-5 mx-auto border-2",style:{margin:"20px calc(50% + 2px)"}})})}),e.jsx("div",{className:"grow mt-1",children:e.jsx($,{artifact:s})})]})},H=({artifacts:s})=>e.jsxs("div",{children:[s.map(t=>e.jsx(P,{artifact:t},t.id)),e.jsxs("div",{className:"flex border-b",children:[e.jsx("div",{className:"flex flex-col items-end justify-items-start pt-4",style:{width:"128px",height:"88px"}}),e.jsx("div",{className:"w-10 flex flex-col",children:e.jsx("div",{className:"w-5 h-full border-r border-gray-200 pt-3",children:e.jsx("div",{className:"size-8 rounded-full bg-white my-5 mx-auto border-2 flex justify-center items-center",style:{margin:"20px calc(50% - 6px)"},children:e.jsx("div",{className:"size-4 rounded-full border-2 border-black relative"})})})}),e.jsx("div",{style:{padding:"33px 0 0 5px"},children:e.jsxs(r,{variant:"bodyLarge",children:["Created ",e.jsx("span",{className:"font-bold",children:s[0].key})]})})]})]}),Q=({artifactKey:s,artifacts:t})=>e.jsxs("div",{children:[e.jsx(E,{artifactKey:s,pageHeader:t[0]?.description??void 0}),e.jsx(H,{artifacts:t})]}),l=s=>({artifacts:{operator:"and_",key:{like_:s}},sort:"CREATED_DESC",offset:0});function Y(){const{key:s}=y.useParams(),{data:t}=m(N(l(s))),a=w(l(s));return e.jsx("div",{children:e.jsx(Q,{artifactKey:s,artifacts:a??t})})}export{Y as component};
//# sourceMappingURL=key._key-LpsMf3zD.js.map
