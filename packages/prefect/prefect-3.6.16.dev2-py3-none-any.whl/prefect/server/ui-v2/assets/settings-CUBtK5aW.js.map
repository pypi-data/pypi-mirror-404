{"version":3,"file":"settings-CUBtK5aW.js","sources":["../../src/components/settings/color-mode-select.tsx","../../src/components/settings/heading.tsx","../../src/components/settings/server-settings.tsx","../../src/components/settings/theme-switch.tsx","../../src/components/settings/settings-page.tsx","../../src/routes/settings.tsx?tsr-split=component"],"sourcesContent":["import {\n\tSelect,\n\tSelectContent,\n\tSelectGroup,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport { type ColorMode, useColorMode } from \"@/hooks/use-color-mode\";\nimport { capitalize } from \"@/utils\";\n\nconst STATE_TYPES = [\n\t\"completed\",\n\t\"running\",\n\t\"scheduled\",\n\t\"pending\",\n\t\"failed\",\n\t\"cancelled\",\n\t\"cancelling\",\n\t\"crashed\",\n\t\"paused\",\n] as const;\n\ntype StateType = (typeof STATE_TYPES)[number];\n\nfunction getColorModeClass(mode: ColorMode): string {\n\treturn `color-mode-${mode}`;\n}\n\ntype ColorModeOptionProps = {\n\tmode: ColorMode;\n};\n\nconst ColorModeOption = ({ mode }: ColorModeOptionProps) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={`flex items-center justify-between gap-2 w-full ${getColorModeClass(mode)}`}\n\t\t>\n\t\t\t<span>{capitalize(mode)}</span>\n\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t{STATE_TYPES.map((state) => (\n\t\t\t\t\t<StateColorCircle key={state} state={state} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\ntype StateColorCircleProps = {\n\tstate: StateType;\n};\n\nconst StateColorCircle = ({ state }: StateColorCircleProps) => {\n\tconst stateColorMap: Record<StateType, string> = {\n\t\tcompleted: \"bg-[var(--state-completed-500)]\",\n\t\trunning: \"bg-[var(--state-running-500)]\",\n\t\tscheduled: \"bg-[var(--state-scheduled-500)]\",\n\t\tpending: \"bg-[var(--state-pending-500)]\",\n\t\tfailed: \"bg-[var(--state-failed-500)]\",\n\t\tcancelled: \"bg-[var(--state-cancelled-500)]\",\n\t\tcancelling: \"bg-[var(--state-cancelling-500)]\",\n\t\tcrashed: \"bg-[var(--state-crashed-500)]\",\n\t\tpaused: \"bg-[var(--state-paused-500)]\",\n\t};\n\n\treturn <span className={`w-4 h-4 rounded-full ${stateColorMap[state]}`} />;\n};\n\nexport const ColorModeSelect = () => {\n\tconst { colorMode, setColorMode, colorModes } = useColorMode();\n\n\treturn (\n\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t<label htmlFor=\"color-mode-select\">Color Mode</label>\n\t\t\t<Select\n\t\t\t\tvalue={colorMode}\n\t\t\t\tonValueChange={(value: ColorMode) => setColorMode(value)}\n\t\t\t>\n\t\t\t\t<SelectTrigger className=\"w-96\" id=\"color-mode-select\">\n\t\t\t\t\t<SelectValue placeholder=\"Select a color mode\">\n\t\t\t\t\t\t<ColorModeOption mode={colorMode} />\n\t\t\t\t\t</SelectValue>\n\t\t\t\t</SelectTrigger>\n\t\t\t\t<SelectContent>\n\t\t\t\t\t<SelectGroup>\n\t\t\t\t\t\t{colorModes.map((mode) => (\n\t\t\t\t\t\t\t<SelectItem key={mode} value={mode}>\n\t\t\t\t\t\t\t\t<ColorModeOption mode={mode} />\n\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</SelectGroup>\n\t\t\t\t</SelectContent>\n\t\t\t</Select>\n\t\t</div>\n\t);\n};\n","import {\n\tBreadcrumb,\n\tBreadcrumbItem,\n\tBreadcrumbList,\n} from \"@/components/ui/breadcrumb\";\n\ntype HeadingProps = {\n\tversion: string;\n};\n\nexport const Heading = ({ version }: HeadingProps) => {\n\treturn (\n\t\t<div className=\"flex justify-between items-center\">\n\t\t\t<Breadcrumb>\n\t\t\t\t<BreadcrumbList>\n\t\t\t\t\t<BreadcrumbItem className=\"text-xl font-semibold\">\n\t\t\t\t\t\tSettings\n\t\t\t\t\t</BreadcrumbItem>\n\t\t\t\t</BreadcrumbList>\n\t\t\t</Breadcrumb>\n\t\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t\t<div className=\"text-xs text-muted-foreground\">Version</div>\n\t\t\t\t<div className=\"text-xs\">{version}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { LazyJsonInput as JsonInput } from \"@/components/ui/json-input-lazy\";\n\ntype ServerSettingsProps = {\n\tsettings: Record<string, unknown>;\n};\n\nexport const ServerSettings = ({ settings }: ServerSettingsProps) => {\n\treturn (\n\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t<label htmlFor=\"server-settings\">Server Settings</label>\n\t\t\t<JsonInput\n\t\t\t\tid=\"server-settings\"\n\t\t\t\tclassName=\"p-2 rounded-sm\"\n\t\t\t\tvalue={JSON.stringify(settings, null, 2)}\n\t\t\t\tdisabled\n\t\t\t\thideLineNumbers\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { useTheme } from \"next-themes\";\nimport { Icon } from \"@/components/ui/icons\";\nimport { Label } from \"@/components/ui/label\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\n\nexport const ThemeSwitch = () => {\n\tconst { theme, setTheme } = useTheme();\n\n\treturn (\n\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t<label htmlFor=\"color-mode-select\">Theme</label>\n\t\t\t<div className=\"space-y-3\">\n\t\t\t\t<RadioGroup\n\t\t\t\t\tvalue={theme}\n\t\t\t\t\tonValueChange={setTheme}\n\t\t\t\t\tclassName=\"grid grid-cols-3 gap-4\"\n\t\t\t\t>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<RadioGroupItem value=\"light\" id=\"light\" className=\"peer sr-only\" />\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\thtmlFor=\"light\"\n\t\t\t\t\t\t\tclassName=\"flex items-center space-x-2 rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary cursor-pointer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon id=\"Sun\" className=\"h-6 w-6\" />\n\t\t\t\t\t\t\t<span>Light</span>\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<RadioGroupItem value=\"dark\" id=\"dark\" className=\"peer sr-only\" />\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\thtmlFor=\"dark\"\n\t\t\t\t\t\t\tclassName=\"flex items-center space-x-2 rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary cursor-pointer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon id=\"Moon\" className=\"h-6 w-6\" />\n\t\t\t\t\t\t\t<span>Dark</span>\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<RadioGroupItem\n\t\t\t\t\t\t\tvalue=\"system\"\n\t\t\t\t\t\t\tid=\"system\"\n\t\t\t\t\t\t\tclassName=\"peer sr-only\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\thtmlFor=\"system\"\n\t\t\t\t\t\t\tclassName=\"flex items-center space-x-2 rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary cursor-pointer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon id=\"Monitor\" className=\"h-6 w-6\" />\n\t\t\t\t\t\t\t<span>System</span>\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</div>\n\t\t\t\t</RadioGroup>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { useSuspenseQuery } from \"@tanstack/react-query\";\nimport { buildGetSettingsQuery, buildGetVersionQuery } from \"@/api/admin\";\n\nimport { ColorModeSelect } from \"./color-mode-select\";\nimport { Heading } from \"./heading\";\nimport { ServerSettings } from \"./server-settings\";\nimport { ThemeSwitch } from \"./theme-switch\";\n\nexport const SettingsPage = () => {\n\tconst { data: settingsData } = useSuspenseQuery(buildGetSettingsQuery());\n\tconst { data: versionData } = useSuspenseQuery(buildGetVersionQuery());\n\n\treturn (\n\t\t<div className=\"flex flex-col gap-4\">\n\t\t\t<Heading version={versionData} />\n\t\t\t<ThemeSwitch />\n\t\t\t<ColorModeSelect />\n\t\t\t{/** nb: open API needs to update schema */}\n\t\t\t<ServerSettings settings={settingsData as Record<string, unknown>} />\n\t\t</div>\n\t);\n};\n","import { createFileRoute } from \"@tanstack/react-router\";\nimport { buildGetSettingsQuery, buildGetVersionQuery } from \"@/api/admin\";\nimport { SettingsPage } from \"@/components/settings/settings-page\";\n\nexport const Route = createFileRoute(\"/settings\")({\n\tcomponent: SettingsPage,\n\tloader: ({ context }) =>\n\t\tPromise.all([\n\t\t\tcontext.queryClient.ensureQueryData(buildGetSettingsQuery()),\n\t\t\tcontext.queryClient.ensureQueryData(buildGetVersionQuery()),\n\t\t]),\n\twrapInSuspense: true,\n});\n"],"names":["STATE_TYPES","getColorModeClass","mode","ColorModeOption","jsxs","jsx","capitalize","state","StateColorCircle","stateColorMap","ColorModeSelect","colorMode","setColorMode","colorModes","useColorMode","Select","value","SelectTrigger","SelectValue","SelectContent","SelectGroup","SelectItem","Heading","version","Breadcrumb","BreadcrumbList","BreadcrumbItem","ServerSettings","settings","JsonInput","ThemeSwitch","theme","setTheme","useTheme","RadioGroup","RadioGroupItem","Label","Icon","SettingsPage","settingsData","useSuspenseQuery","buildGetSettingsQuery","versionData","buildGetVersionQuery","SplitComponent"],"mappings":"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"}