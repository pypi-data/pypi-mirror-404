{"version":3,"file":"task-run-concurrency-limits-reset-dialog-Z8-yFZ2_.js","sources":["../../src/components/concurrency/task-run-concurrency-limits/task-run-concurrency-limits-actions-menu/task-run-concurrency-limits-actions-menu.tsx","../../src/components/concurrency/task-run-concurrency-limits/task-run-concurrency-limits-delete-dialog/task-run-concurrency-limits-delete-dialog.tsx","../../src/components/concurrency/task-run-concurrency-limits/task-run-concurrency-limits-reset-dialog/task-run-concurrency-limits-reset-dialog.tsx"],"sourcesContent":["import { toast } from \"sonner\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tDropdownMenu,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuLabel,\n\tDropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Icon } from \"@/components/ui/icons\";\n\ntype TaskRunConcurrencyLimitsActionsMenuProps = {\n\tid: string;\n\tonDelete: () => void;\n\tonReset: () => void;\n};\n\nexport const TaskRunConcurrencyLimitsActionsMenu = ({\n\tid,\n\tonDelete,\n\tonReset,\n}: TaskRunConcurrencyLimitsActionsMenuProps) => {\n\tconst handleCopyId = (id: string) => {\n\t\tvoid navigator.clipboard.writeText(id);\n\t\ttoast.success(\"ID copied\");\n\t};\n\n\treturn (\n\t\t<DropdownMenu>\n\t\t\t<DropdownMenuTrigger asChild>\n\t\t\t\t<Button variant=\"outline\" className=\"size-8 p-0\">\n\t\t\t\t\t<span className=\"sr-only\">Open menu</span>\n\t\t\t\t\t<Icon id=\"MoreVertical\" className=\"size-4\" />\n\t\t\t\t</Button>\n\t\t\t</DropdownMenuTrigger>\n\t\t\t<DropdownMenuContent align=\"end\">\n\t\t\t\t<DropdownMenuLabel>Actions</DropdownMenuLabel>\n\t\t\t\t<DropdownMenuItem onClick={() => handleCopyId(id)}>\n\t\t\t\t\tCopy ID\n\t\t\t\t</DropdownMenuItem>\n\t\t\t\t<DropdownMenuItem onClick={onDelete}>Delete</DropdownMenuItem>\n\t\t\t\t<DropdownMenuItem onClick={onReset}>Reset</DropdownMenuItem>\n\t\t\t</DropdownMenuContent>\n\t\t</DropdownMenu>\n\t);\n};\n","import { toast } from \"sonner\";\nimport {\n\ttype TaskRunConcurrencyLimit,\n\tuseDeleteTaskRunConcurrencyLimit,\n} from \"@/api/task-run-concurrency-limits\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogDescription,\n\tDialogFooter,\n\tDialogHeader,\n\tDialogTitle,\n\tDialogTrigger,\n} from \"@/components/ui/dialog\";\n\ntype TaskRunConcurrencyLimitsDeleteDialogProps = {\n\tdata: TaskRunConcurrencyLimit;\n\tonOpenChange: (open: boolean) => void;\n\tonDelete: () => void;\n};\n\nexport const TaskRunConcurrencyLimitsDeleteDialog = ({\n\tdata,\n\tonOpenChange,\n\tonDelete,\n}: TaskRunConcurrencyLimitsDeleteDialogProps) => {\n\tconst { deleteTaskRunConcurrencyLimit, isPending } =\n\t\tuseDeleteTaskRunConcurrencyLimit();\n\n\tconst handleOnClick = (id: string) => {\n\t\tdeleteTaskRunConcurrencyLimit(id, {\n\t\t\tonSuccess: () => {\n\t\t\t\ttoast.success(\"Concurrency limit deleted\");\n\t\t\t},\n\t\t\tonError: (error) => {\n\t\t\t\tconst message =\n\t\t\t\t\terror.message || \"Unknown error while deleting concurrency limit.\";\n\t\t\t\tconsole.error(message);\n\t\t\t},\n\t\t\tonSettled: onDelete,\n\t\t});\n\t};\n\n\treturn (\n\t\t<Dialog open onOpenChange={onOpenChange}>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogHeader>\n\t\t\t\t\t<DialogTitle>Delete Concurrency Limit</DialogTitle>\n\t\t\t\t</DialogHeader>\n\t\t\t\t<DialogDescription>\n\t\t\t\t\tAre you sure you want to delete {data.tag}\n\t\t\t\t</DialogDescription>\n\t\t\t\t<DialogFooter>\n\t\t\t\t\t<DialogTrigger asChild>\n\t\t\t\t\t\t<Button variant=\"outline\">Close</Button>\n\t\t\t\t\t</DialogTrigger>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\t\tonClick={() => handleOnClick(data.id)}\n\t\t\t\t\t\tloading={isPending}\n\t\t\t\t\t>\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogFooter>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n};\n","import { toast } from \"sonner\";\nimport {\n\ttype TaskRunConcurrencyLimit,\n\tuseResetTaskRunConcurrencyLimitTag,\n} from \"@/api/task-run-concurrency-limits\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogDescription,\n\tDialogFooter,\n\tDialogHeader,\n\tDialogTitle,\n\tDialogTrigger,\n} from \"@/components/ui/dialog\";\n\ntype TaskRunConcurrencyLimitsResetDialogProps = {\n\tdata: TaskRunConcurrencyLimit;\n\tonOpenChange: (open: boolean) => void;\n\tonReset: () => void;\n};\n\nexport const TaskRunConcurrencyLimitsResetDialog = ({\n\tdata,\n\tonOpenChange,\n\tonReset,\n}: TaskRunConcurrencyLimitsResetDialogProps) => {\n\tconst { resetTaskRunConcurrencyLimitTag, isPending } =\n\t\tuseResetTaskRunConcurrencyLimitTag();\n\n\tconst handleOnClick = (tag: string) => {\n\t\tresetTaskRunConcurrencyLimitTag(tag, {\n\t\t\tonSuccess: () => {\n\t\t\t\ttoast.success(\"Concurrency limit reset\");\n\t\t\t},\n\t\t\tonError: (error) => {\n\t\t\t\tconst message =\n\t\t\t\t\terror.message || \"Unknown error while resetting concurrency limit.\";\n\t\t\t\tconsole.error(message);\n\t\t\t},\n\t\t\tonSettled: onReset,\n\t\t});\n\t};\n\n\treturn (\n\t\t<Dialog open onOpenChange={onOpenChange}>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogHeader>\n\t\t\t\t\t<DialogTitle>Reset concurrency limit for tag {data.tag}</DialogTitle>\n\t\t\t\t</DialogHeader>\n\t\t\t\t<DialogDescription>\n\t\t\t\t\tThis will reset the active task run count to 0.\n\t\t\t\t</DialogDescription>\n\t\t\t\t<DialogFooter>\n\t\t\t\t\t<DialogTrigger asChild>\n\t\t\t\t\t\t<Button variant=\"outline\">Close</Button>\n\t\t\t\t\t</DialogTrigger>\n\t\t\t\t\t<Button onClick={() => handleOnClick(data.tag)} loading={isPending}>\n\t\t\t\t\t\tReset\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogFooter>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n};\n"],"names":["TaskRunConcurrencyLimitsActionsMenu","id","onDelete","onReset","handleCopyId","toast","DropdownMenu","jsx","DropdownMenuTrigger","jsxs","Button","Icon","DropdownMenuContent","DropdownMenuLabel","DropdownMenuItem","TaskRunConcurrencyLimitsDeleteDialog","data","onOpenChange","deleteTaskRunConcurrencyLimit","isPending","useDeleteTaskRunConcurrencyLimit","handleOnClick","error","message","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","DialogFooter","DialogTrigger","TaskRunConcurrencyLimitsResetDialog","resetTaskRunConcurrencyLimitTag","useResetTaskRunConcurrencyLimitTag","tag"],"mappings":"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"}