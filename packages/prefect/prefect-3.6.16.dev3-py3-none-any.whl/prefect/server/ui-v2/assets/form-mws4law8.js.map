{"version":3,"file":"form-mws4law8.js","sources":["../../src/components/ui/form/hooks.ts","../../src/components/ui/form/form.tsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n\ttype FieldPath,\n\ttype FieldValues,\n\tuseFormContext,\n} from \"react-hook-form\";\n\ntype FormFieldContextValue<\n\tTFieldValues extends FieldValues = FieldValues,\n\tTName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n\tname: TName;\n};\n\nexport const FormFieldContext = React.createContext<FormFieldContextValue>(\n\t{} as FormFieldContextValue,\n);\n\ntype FormItemContextValue = {\n\tid: string;\n};\n\nexport const FormItemContext = React.createContext<FormItemContextValue>(\n\t{} as FormItemContextValue,\n);\n\nexport const useFormField = () => {\n\tconst fieldContext = React.useContext(FormFieldContext);\n\tconst itemContext = React.useContext(FormItemContext);\n\tconst { getFieldState, formState } = useFormContext();\n\n\tconst fieldState = getFieldState(fieldContext.name, formState);\n\n\tif (!fieldContext) {\n\t\tthrow new Error(\"useFormField should be used within <FormField>\");\n\t}\n\n\tconst { id } = itemContext;\n\n\treturn {\n\t\tid,\n\t\tname: fieldContext.name,\n\t\tformItemId: `${id}-form-item`,\n\t\tformDescriptionId: `${id}-form-item-description`,\n\t\tformMessageId: `${id}-form-item-message`,\n\t\t...fieldState,\n\t};\n};\n","import type * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport * as React from \"react\";\nimport {\n\tController,\n\ttype ControllerProps,\n\ttype FieldPath,\n\ttype FieldValues,\n\tFormProvider,\n} from \"react-hook-form\";\nimport { Label } from \"@/components/ui/label\";\nimport { cn } from \"@/utils\";\nimport { FormFieldContext, FormItemContext, useFormField } from \"./hooks\";\n\nconst Form = FormProvider;\n\nconst FormField = <\n\tTFieldValues extends FieldValues = FieldValues,\n\tTName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n\t...props\n}: ControllerProps<TFieldValues, TName>) => {\n\treturn (\n\t\t<FormFieldContext.Provider value={{ name: props.name }}>\n\t\t\t<Controller {...props} />\n\t\t</FormFieldContext.Provider>\n\t);\n};\n\nconst FormItem = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n\tconst id = React.useId();\n\n\treturn (\n\t\t<FormItemContext.Provider value={{ id }}>\n\t\t\t<div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n\t\t</FormItemContext.Provider>\n\t);\n});\nFormItem.displayName = \"FormItem\";\n\ntype FormLabelProps = React.ComponentPropsWithoutRef<\n\ttypeof LabelPrimitive.Root\n> & {\n\tclassName?: string;\n};\n\nconst FormLabel = React.forwardRef<\n\tReact.ElementRef<typeof LabelPrimitive.Root>,\n\tFormLabelProps\n>(({ className, ...props }, ref) => {\n\tconst { error, formItemId } = useFormField();\n\n\treturn (\n\t\t<Label\n\t\t\tref={ref}\n\t\t\tclassName={cn(error && \"text-destructive\", className)}\n\t\t\thtmlFor={formItemId}\n\t\t\t{...props}\n\t\t/>\n\t);\n});\nFormLabel.displayName = \"FormLabel\";\n\nconst FormControl = React.forwardRef<\n\tReact.ElementRef<typeof Slot>,\n\tReact.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n\tconst { error, formItemId, formDescriptionId, formMessageId } =\n\t\tuseFormField();\n\n\treturn (\n\t\t<Slot\n\t\t\tref={ref}\n\t\t\tid={formItemId}\n\t\t\taria-describedby={\n\t\t\t\t!error\n\t\t\t\t\t? `${formDescriptionId}`\n\t\t\t\t\t: `${formDescriptionId} ${formMessageId}`\n\t\t\t}\n\t\t\taria-invalid={!!error}\n\t\t\t{...props}\n\t\t/>\n\t);\n});\nFormControl.displayName = \"FormControl\";\n\nconst FormDescription = React.forwardRef<\n\tHTMLParagraphElement,\n\tReact.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n\tconst { formDescriptionId } = useFormField();\n\n\treturn (\n\t\t<p\n\t\t\tref={ref}\n\t\t\tid={formDescriptionId}\n\t\t\tclassName={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n});\nFormDescription.displayName = \"FormDescription\";\n\nconst FormMessage = React.forwardRef<\n\tHTMLParagraphElement,\n\tReact.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n\tconst { error, formMessageId } = useFormField();\n\tconst body = error ? String(error?.message) : children;\n\n\tif (!body) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<p\n\t\t\tref={ref}\n\t\t\tid={formMessageId}\n\t\t\tclassName={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{body}\n\t\t</p>\n\t);\n});\nFormMessage.displayName = \"FormMessage\";\n\nexport {\n\tForm,\n\tFormItem,\n\tFormLabel,\n\tFormControl,\n\tFormDescription,\n\tFormMessage,\n\tFormField,\n};\n"],"names":["FormFieldContext","React.createContext","FormItemContext","useFormField","fieldContext","React.useContext","itemContext","getFieldState","formState","useFormContext","fieldState","id","Form","FormProvider","FormField","props","jsx","Controller","FormItem","React.forwardRef","className","ref","React.useId","cn","FormLabel","error","formItemId","Label","FormControl","formDescriptionId","formMessageId","Slot","FormDescription","FormMessage","children","body"],"mappings":"qNAcO,MAAMA,EAAmBC,EAAAA,cAC/B,CAAA,CACD,EAMaC,EAAkBD,EAAAA,cAC9B,CAAA,CACD,EAEaE,EAAe,IAAM,CACjC,MAAMC,EAAeC,EAAAA,WAAiBL,CAAgB,EAChDM,EAAcD,EAAAA,WAAiBH,CAAe,EAC9C,CAAE,cAAAK,EAAe,UAAAC,CAAA,EAAcC,EAAA,EAE/BC,EAAaH,EAAcH,EAAa,KAAMI,CAAS,EAE7D,GAAI,CAACJ,EACJ,MAAM,IAAI,MAAM,gDAAgD,EAGjE,KAAM,CAAE,GAAAO,GAAOL,EAEf,MAAO,CACN,GAAAK,EACA,KAAMP,EAAa,KACnB,WAAY,GAAGO,CAAE,aACjB,kBAAmB,GAAGA,CAAE,yBACxB,cAAe,GAAGA,CAAE,qBACpB,GAAGD,CAAA,CAEL,ECjCME,EAAOC,EAEPC,EAAY,CAGhB,CACD,GAAGC,CACJ,IAEEC,EAAAA,IAAChB,EAAiB,SAAjB,CAA0B,MAAO,CAAE,KAAMe,EAAM,IAAA,EAC/C,SAAAC,EAAAA,IAACC,EAAA,CAAY,GAAGF,EAAO,EACxB,EAIIG,EAAWC,EAAAA,WAGf,CAAC,CAAE,UAAAC,EAAW,GAAGL,CAAA,EAASM,IAAQ,CACnC,MAAMV,EAAKW,EAAAA,MAAM,EAEjB,aACEpB,EAAgB,SAAhB,CAAyB,MAAO,CAAE,GAAAS,GAClC,SAAAK,EAAAA,IAAC,MAAA,CAAI,IAAAK,EAAU,UAAWE,EAAG,YAAaH,CAAS,EAAI,GAAGL,EAAO,EAClE,CAEF,CAAC,EACDG,EAAS,YAAc,WAQvB,MAAMM,EAAYL,EAAAA,WAGhB,CAAC,CAAE,UAAAC,EAAW,GAAGL,CAAA,EAASM,IAAQ,CACnC,KAAM,CAAE,MAAAI,EAAO,WAAAC,CAAA,EAAevB,EAAA,EAE9B,OACCa,EAAAA,IAACW,EAAA,CACA,IAAAN,EACA,UAAWE,EAAGE,GAAS,mBAAoBL,CAAS,EACpD,QAASM,EACR,GAAGX,CAAA,CAAA,CAGP,CAAC,EACDS,EAAU,YAAc,YAExB,MAAMI,EAAcT,EAAAA,WAGlB,CAAC,CAAE,GAAGJ,CAAA,EAASM,IAAQ,CACxB,KAAM,CAAE,MAAAI,EAAO,WAAAC,EAAY,kBAAAG,EAAmB,cAAAC,CAAA,EAC7C3B,EAAA,EAED,OACCa,EAAAA,IAACe,EAAA,CACA,IAAAV,EACA,GAAIK,EACJ,mBACED,EAEE,GAAGI,CAAiB,IAAIC,CAAa,GADrC,GAAGD,CAAiB,GAGxB,eAAc,CAAC,CAACJ,EACf,GAAGV,CAAA,CAAA,CAGP,CAAC,EACDa,EAAY,YAAc,cAE1B,MAAMI,EAAkBb,EAAAA,WAGtB,CAAC,CAAE,UAAAC,EAAW,GAAGL,CAAA,EAASM,IAAQ,CACnC,KAAM,CAAE,kBAAAQ,CAAA,EAAsB1B,EAAA,EAE9B,OACCa,EAAAA,IAAC,IAAA,CACA,IAAAK,EACA,GAAIQ,EACJ,UAAWN,EAAG,sCAAuCH,CAAS,EAC7D,GAAGL,CAAA,CAAA,CAGP,CAAC,EACDiB,EAAgB,YAAc,kBAE9B,MAAMC,EAAcd,EAAAA,WAGlB,CAAC,CAAE,UAAAC,EAAW,SAAAc,EAAU,GAAGnB,CAAA,EAASM,IAAQ,CAC7C,KAAM,CAAE,MAAAI,EAAO,cAAAK,CAAA,EAAkB3B,EAAA,EAC3BgC,EAAOV,EAAQ,OAAOA,GAAO,OAAO,EAAIS,EAE9C,OAAKC,EAKJnB,EAAAA,IAAC,IAAA,CACA,IAAAK,EACA,GAAIS,EACJ,UAAWP,EAAG,6CAA8CH,CAAS,EACpE,GAAGL,EAEH,SAAAoB,CAAA,CAAA,EAVK,IAaT,CAAC,EACDF,EAAY,YAAc"}