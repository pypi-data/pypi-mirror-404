{"version":3,"file":"tags-input-DHrnkwjQ.js","sources":["../../src/components/ui/tags-input.tsx"],"sourcesContent":["import type { ChangeEvent, FocusEvent, KeyboardEvent } from \"react\";\nimport { useState } from \"react\";\nimport { Input, type InputProps } from \"@/components/ui/input\";\nimport { TagBadgeGroup } from \"./tag-badge-group\";\n\nexport type TagsInputProps = Omit<InputProps, \"onChange\" | \"value\"> & {\n\tvalue?: string[];\n\tonChange?: (tags: string[]) => void;\n\tplaceholder?: string;\n};\n\nexport const TagsInput = ({\n\tonChange,\n\tvalue = [],\n\tonBlur,\n\tplaceholder = \"Enter tags\",\n\t...props\n}: TagsInputProps = {}) => {\n\tconst [inputValue, setInputValue] = useState(\"\");\n\n\tconst handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n\t\tsetInputValue(e.target.value);\n\t};\n\n\tconst handleInputKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {\n\t\tif (e.key === \"Enter\" && inputValue.trim() !== \"\") {\n\t\t\te.preventDefault();\n\t\t\taddTag(inputValue.trim());\n\t\t} else if (e.key === \"Backspace\" && inputValue === \"\" && value.length > 0) {\n\t\t\tremoveTag(value.length - 1);\n\t\t}\n\t};\n\n\tconst handleInputBlur =\n\t\t(childOnBlur?: (e: FocusEvent<HTMLInputElement>) => void) =>\n\t\t(e: FocusEvent<HTMLInputElement>) => {\n\t\t\tif (inputValue.trim() !== \"\") {\n\t\t\t\taddTag(inputValue.trim());\n\t\t\t}\n\t\t\tchildOnBlur?.(e);\n\t\t};\n\n\tconst addTag = (tag: string) => {\n\t\tif (!value.includes(tag)) {\n\t\t\tconst newTags = [...value, tag];\n\t\t\tsetInputValue(\"\");\n\t\t\tonChange?.(newTags);\n\t\t}\n\t};\n\n\tconst removeTag = (index: number) => {\n\t\tconst newTags = value.filter((_, i) => i !== index);\n\t\tonChange?.(newTags);\n\t};\n\n\treturn (\n\t\t<div className=\"flex items-center border rounded-md focus-within:ring-1 focus-within:ring-ring bg-card dark:bg-background\">\n\t\t\t<TagBadgeGroup tags={value} onTagsChange={onChange} variant=\"secondary\" />\n\t\t\t<Input\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={inputValue}\n\t\t\t\tonChange={handleInputChange}\n\t\t\t\tonKeyDown={handleInputKeyDown}\n\t\t\t\tonBlur={handleInputBlur(onBlur)}\n\t\t\t\tclassName=\"grow border-none shadow-none focus-visible:ring-0 focus-visible:ring-offset-0\"\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\taria-label={placeholder}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n"],"names":["TagsInput","onChange","value","onBlur","placeholder","props","inputValue","setInputValue","useState","handleInputChange","e","handleInputKeyDown","addTag","removeTag","handleInputBlur","childOnBlur","tag","newTags","index","_","i","jsxs","jsx","TagBadgeGroup","Input"],"mappings":"wGAWO,MAAMA,EAAY,CAAC,CACzB,SAAAC,EACA,MAAAC,EAAQ,CAAA,EACR,OAAAC,EACA,YAAAC,EAAc,aACd,GAAGC,CACJ,EAAoB,KAAO,CAC1B,KAAM,CAACC,EAAYC,CAAa,EAAIC,EAAAA,SAAS,EAAE,EAEzCC,EAAqBC,GAAqC,CAC/DH,EAAcG,EAAE,OAAO,KAAK,CAC7B,EAEMC,EAAsBD,GAAuC,CAC9DA,EAAE,MAAQ,SAAWJ,EAAW,KAAA,IAAW,IAC9CI,EAAE,eAAA,EACFE,EAAON,EAAW,MAAM,GACdI,EAAE,MAAQ,aAAeJ,IAAe,IAAMJ,EAAM,OAAS,GACvEW,EAAUX,EAAM,OAAS,CAAC,CAE5B,EAEMY,EACJC,GACAL,GAAoC,CAChCJ,EAAW,KAAA,IAAW,IACzBM,EAAON,EAAW,MAAM,EAEzBS,IAAcL,CAAC,CAChB,EAEKE,EAAUI,GAAgB,CAC/B,GAAI,CAACd,EAAM,SAASc,CAAG,EAAG,CACzB,MAAMC,EAAU,CAAC,GAAGf,EAAOc,CAAG,EAC9BT,EAAc,EAAE,EAChBN,IAAWgB,CAAO,CACnB,CACD,EAEMJ,EAAaK,GAAkB,CACpC,MAAMD,EAAUf,EAAM,OAAO,CAACiB,EAAGC,IAAMA,IAAMF,CAAK,EAClDjB,IAAWgB,CAAO,CACnB,EAEA,OACCI,EAAAA,KAAC,MAAA,CAAI,UAAU,4GACd,SAAA,CAAAC,MAACC,GAAc,KAAMrB,EAAO,aAAcD,EAAU,QAAQ,YAAY,EACxEqB,EAAAA,IAACE,EAAA,CACA,KAAK,OACL,MAAOlB,EACP,SAAUG,EACV,UAAWE,EACX,OAAQG,EAAgBX,CAAM,EAC9B,UAAU,gFACV,YAAAC,EACA,aAAYA,EACX,GAAGC,CAAA,CAAA,CACL,EACD,CAEF"}