{"version":3,"file":"use-debounce-callback-CSs1BjLI.js","sources":["../../src/hooks/use-debounce-callback.tsx"],"sourcesContent":["import { useCallback, useRef } from \"react\";\n\n/**\n * A custom hook that returns a debounced version of the callback function.\n * The debounced function will only execute after the specified delay has passed\n * without the function being called again.\n *\n * @template Args - The tuple type representing the arguments of the callback\n * @template R - The return type of the callback\n * @param {(...args: Args) => R} callback - The function to debounce\n * @param {number} delay - The delay in milliseconds\n * @param {boolean} [leading=false] - Whether to call the function on the leading edge\n * @returns {(...args: Args) => void} - The debounced callback function\n */\nconst useDebounceCallback = <Args extends unknown[], R>(\n\tcallback: (...args: Args) => R,\n\tdelay: number,\n\tleading = false,\n): ((...args: Args) => void) => {\n\tconst timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\tconst callbackRef = useRef<(...args: Args) => R>(callback);\n\tconst leadingCallRef = useRef<boolean>(true);\n\n\t// Update the callback reference when it changes\n\tcallbackRef.current = callback;\n\n\treturn useCallback(\n\t\t(...args: Args) => {\n\t\t\tconst invokeFunction = () => {\n\t\t\t\tcallbackRef.current(...args);\n\t\t\t\tleadingCallRef.current = true;\n\t\t\t};\n\n\t\t\t// Clear any existing timeout\n\t\t\tif (timeoutRef.current) {\n\t\t\t\tclearTimeout(timeoutRef.current);\n\t\t\t}\n\n\t\t\t// Handle leading edge calls\n\t\t\tif (leading && leadingCallRef.current) {\n\t\t\t\tinvokeFunction();\n\t\t\t\tleadingCallRef.current = false;\n\t\t\t} else {\n\t\t\t\t// Set new timeout for trailing edge\n\t\t\t\ttimeoutRef.current = setTimeout(() => {\n\t\t\t\t\tif (!leading) {\n\t\t\t\t\t\tinvokeFunction();\n\t\t\t\t\t}\n\t\t\t\t\tleadingCallRef.current = true;\n\t\t\t\t}, delay);\n\t\t\t}\n\t\t},\n\t\t[delay, leading],\n\t);\n};\n\nexport default useDebounceCallback;\n\n// Example usage with strict types:\n\n// type SearchProps {\n//   onSearch: (term: string) => Promise<void>;\n// }\n\n// const SearchComponent: React.FC<SearchProps> = ({ onSearch }) => {\n//   // Type inference works automatically\n//   const debouncedSearch = useDebounceCallback(onSearch, 500);\n\n//   // Multiple parameters example\n//   const handleMultiParam = (id: number, value: string) => {\n//     console.log(id, value);\n//   };\n//   const debouncedMultiParam = useDebounceCallback(handleMultiParam, 500);\n\n//   return (\n//     <div>\n//       <input\n//         type=\"text\"\n//         onChange={(e) => debouncedSearch(e.target.value)}\n//         placeholder=\"Search...\"\n//       />\n//       <button onClick={() => debouncedMultiParam(1, \"test\")}>\n//         Test Multi Param\n//       </button>\n//     </div>\n//   );\n// };\n"],"names":["useDebounceCallback","callback","delay","leading","timeoutRef","useRef","callbackRef","leadingCallRef","useCallback","args","invokeFunction"],"mappings":"6CAcA,MAAMA,EAAsB,CAC3BC,EACAC,EACAC,EAAU,KACqB,CAC/B,MAAMC,EAAaC,EAAAA,OAA8B,IAAI,EAC/CC,EAAcD,EAAAA,OAA6BJ,CAAQ,EACnDM,EAAiBF,EAAAA,OAAgB,EAAI,EAG3C,OAAAC,EAAY,QAAUL,EAEfO,EAAAA,YACN,IAAIC,IAAe,CAClB,MAAMC,EAAiB,IAAM,CAC5BJ,EAAY,QAAQ,GAAGG,CAAI,EAC3BF,EAAe,QAAU,EAC1B,EAGIH,EAAW,SACd,aAAaA,EAAW,OAAO,EAI5BD,GAAWI,EAAe,SAC7BG,EAAA,EACAH,EAAe,QAAU,IAGzBH,EAAW,QAAU,WAAW,IAAM,CAChCD,GACJO,EAAA,EAEDH,EAAe,QAAU,EAC1B,EAAGL,CAAK,CAEV,EACA,CAACA,EAAOC,CAAO,CAAA,CAEjB"}