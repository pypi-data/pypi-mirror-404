{"version":3,"file":"index-D6ynV6U7.js","sources":["../../src/api/flow-runs/constants.ts","../../src/components/ui/state-select/index.tsx"],"sourcesContent":["import type { components } from \"@/api/prefect\";\n\nexport const RUN_STATES = {\n\tCOMPLETED: \"Completed\",\n\tRUNNING: \"Running\",\n\tSCHEDULED: \"Scheduled\",\n\tPENDING: \"Pending\",\n\tFAILED: \"Failed\",\n\tCANCELLED: \"Cancelled\",\n\tCANCELLING: \"Cancelling\",\n\tCRASHED: \"Crashed\",\n\tPAUSED: \"Paused\",\n} as const satisfies Record<\n\tcomponents[\"schemas\"][\"StateType\"],\n\tCapitalize<Lowercase<components[\"schemas\"][\"StateType\"]>>\n>;\n\nexport type RunStates = keyof typeof RUN_STATES;\n\nexport type StateType = components[\"schemas\"][\"StateType\"];\n\n/**\n * All possible state names that can be used in automations.\n * This list is intentionally ordered by state type progression\n * to match the Vue implementation.\n */\nexport const STATE_NAMES = [\n\t\"Scheduled\",\n\t\"Late\",\n\t\"Resuming\",\n\t\"AwaitingRetry\",\n\t\"AwaitingConcurrencySlot\",\n\t\"Pending\",\n\t\"Paused\",\n\t\"Suspended\",\n\t\"Running\",\n\t\"Retrying\",\n\t\"Completed\",\n\t\"Cached\",\n\t\"Cancelled\",\n\t\"Cancelling\",\n\t\"Crashed\",\n\t\"Failed\",\n\t\"TimedOut\",\n] as const;\n\nexport type StateName = (typeof STATE_NAMES)[number];\n\n/**\n * Maps state names to their corresponding state types.\n * Multiple state names can map to the same state type.\n */\nexport const STATE_NAME_TO_TYPE: Record<StateName, StateType> = {\n\tScheduled: \"SCHEDULED\",\n\tLate: \"SCHEDULED\",\n\tResuming: \"SCHEDULED\",\n\tAwaitingRetry: \"SCHEDULED\",\n\tAwaitingConcurrencySlot: \"SCHEDULED\",\n\tPending: \"PENDING\",\n\tPaused: \"PAUSED\",\n\tSuspended: \"PAUSED\",\n\tRunning: \"RUNNING\",\n\tRetrying: \"RUNNING\",\n\tCompleted: \"COMPLETED\",\n\tCached: \"COMPLETED\",\n\tCancelled: \"CANCELLED\",\n\tCancelling: \"CANCELLING\",\n\tCrashed: \"CRASHED\",\n\tFailed: \"FAILED\",\n\tTimedOut: \"FAILED\",\n} as const;\n\n/**\n * State names that are not \"Scheduled\" - used for the \"All except scheduled\" convenience option.\n */\nexport const STATE_NAMES_WITHOUT_SCHEDULED = STATE_NAMES.filter(\n\t(name) => name !== \"Scheduled\",\n);\n","import { RUN_STATES } from \"@/api/flow-runs/constants\";\nimport type { components } from \"@/api/prefect\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport { StateBadge } from \"@/components/ui/state-badge\";\n\ntype StateType = components[\"schemas\"][\"StateType\"];\n\nconst TERMINAL_STATES: StateType[] = [\n\t\"COMPLETED\",\n\t\"FAILED\",\n\t\"CANCELLED\",\n\t\"CRASHED\",\n];\n\nexport type StateSelectProps = {\n\tvalue?: StateType;\n\tonValueChange: (value: StateType) => void;\n\tplaceholder?: string;\n\tterminalOnly?: boolean;\n\texcludeState?: StateType;\n};\n\nexport const StateSelect = ({\n\tvalue,\n\tonValueChange,\n\tplaceholder = \"Select state\",\n\tterminalOnly = false,\n\texcludeState,\n}: StateSelectProps) => {\n\tconst stateEntries = Object.entries(RUN_STATES) as [StateType, string][];\n\n\tconst filteredStates = stateEntries.filter(([key]) => {\n\t\tif (terminalOnly && !TERMINAL_STATES.includes(key)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (excludeState && key === excludeState) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n\n\treturn (\n\t\t<Select value={value} onValueChange={onValueChange}>\n\t\t\t<SelectTrigger aria-label=\"select state\" className=\"w-full\">\n\t\t\t\t<SelectValue placeholder={placeholder}>\n\t\t\t\t\t{value && <StateBadge type={value} name={RUN_STATES[value]} />}\n\t\t\t\t</SelectValue>\n\t\t\t</SelectTrigger>\n\t\t\t<SelectContent className=\"w-full min-w-[300px]\">\n\t\t\t\t{filteredStates.map(([key, displayName]) => (\n\t\t\t\t\t<SelectItem key={key} value={key} className=\"flex items-center\">\n\t\t\t\t\t\t<StateBadge type={key} name={displayName} />\n\t\t\t\t\t</SelectItem>\n\t\t\t\t))}\n\t\t\t</SelectContent>\n\t\t</Select>\n\t);\n};\n"],"names":["RUN_STATES","STATE_NAMES","STATE_NAME_TO_TYPE","STATE_NAMES_WITHOUT_SCHEDULED","name","TERMINAL_STATES","StateSelect","value","onValueChange","placeholder","terminalOnly","excludeState","filteredStates","key","jsxs","Select","jsx","SelectTrigger","SelectValue","StateBadge","SelectContent","displayName","SelectItem"],"mappings":"8HAEO,MAAMA,EAAa,CACzB,UAAW,YACX,QAAS,UACT,UAAW,YACX,QAAS,UACT,OAAQ,SACR,UAAW,YACX,WAAY,aACZ,QAAS,UACT,OAAQ,QACT,EAcaC,EAAc,CAC1B,YACA,OACA,WACA,gBACA,0BACA,UACA,SACA,YACA,UACA,WACA,YACA,SACA,YACA,aACA,UACA,SACA,UACD,EAQaC,EAAmD,CAC/D,UAAW,YACX,KAAM,YACN,SAAU,YACV,cAAe,YACf,wBAAyB,YACzB,QAAS,UACT,OAAQ,SACR,UAAW,SACX,QAAS,UACT,SAAU,UACV,UAAW,YACX,OAAQ,YACR,UAAW,YACX,WAAY,aACZ,QAAS,UACT,OAAQ,SACR,SAAU,QACX,EAKaC,EAAgCF,EAAY,OACvDG,GAASA,IAAS,WACpB,EChEMC,EAA+B,CACpC,YACA,SACA,YACA,SACD,EAUaC,EAAc,CAAC,CAC3B,MAAAC,EACA,cAAAC,EACA,YAAAC,EAAc,eACd,aAAAC,EAAe,GACf,aAAAC,CACD,IAAwB,CAGvB,MAAMC,EAFe,OAAO,QAAQZ,CAAU,EAEV,OAAO,CAAC,CAACa,CAAG,IAC3C,EAAAH,GAAgB,CAACL,EAAgB,SAASQ,CAAG,GAG7CF,GAAgBE,IAAQF,EAI5B,EAED,OACCG,EAAAA,KAACC,EAAA,CAAO,MAAAR,EAAc,cAAAC,EACrB,SAAA,CAAAQ,EAAAA,IAACC,GAAc,aAAW,eAAe,UAAU,SAClD,SAAAD,EAAAA,IAACE,GAAY,YAAAT,EACX,SAAAF,GAASS,MAACG,EAAA,CAAW,KAAMZ,EAAO,KAAMP,EAAWO,CAAK,EAAG,EAC7D,CAAA,CACD,EACAS,EAAAA,IAACI,EAAA,CAAc,UAAU,uBACvB,SAAAR,EAAe,IAAI,CAAC,CAACC,EAAKQ,CAAW,IACrCL,EAAAA,IAACM,EAAA,CAAqB,MAAOT,EAAK,UAAU,oBAC3C,SAAAG,EAAAA,IAACG,EAAA,CAAW,KAAMN,EAAK,KAAMQ,CAAA,CAAa,CAAA,EAD1BR,CAEjB,CACA,CAAA,CACF,CAAA,EACD,CAEF"}