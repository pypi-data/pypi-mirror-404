.divContain {position:relative; height:100%;}
.div-dump { width:100%;}
.div-params {position:fixed; bottom:0;width:100%; height:100%;font-size:30px;display:none}
.titls {display:-webkit-flex; display: flex;width:100%;height:60px; background:#03dbb0;width:100%;position: relative;line-height: 60px;text-align: center;}



.right_bar{
  background-color: #d7d7d7;
  position: absolute;
  height: 100%;
  width: 20px;
  top: 0;
  right: 0px;
  /* background-color: transparent; */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  /* z-index: 10; */
}

.right_bar_item{
  font-size: smaller;
}

/* .right_bar:hover{
  position: absolute;
  right: -20px;
  height: 100%;
  width: 20px;
  z-index: 999;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: move;
} */



.img-view {
  position:absolute;
  width: 100%;
  height: 100%;
  /* right: 25px;
  bottom: 25px; */
  overflow-x: hidden;
  overflow-y: hidden;

}
.phone-box {
  position: absolute;
  box-sizing: border-box;
  border: 1px dashed #999;
  margin: 0 -1px -1px 0;
}
.actived-imgnode {
  border: 3px solid red;
  /* color: red; */
}

.con_tools_bar {
  /* 使用 Bootstrap 5 的三级背景色，会自动随主题切换 */
  background-color: var(--bs-tertiary-bg);
  /* 增加一条细细的顶边框，区分工作区 */
  border-top: 1px solid var(--bs-border-color);
  padding-left: 10px;
  display: flex;
  flex-direction: row;
  align-items: center;
  /* 确保文字颜色适配主题 */
  color: var(--bs-body-color);
  font-size: 12px;
  height: 30px; /* 状态栏通常比较窄 */
}

/* 统一图标与文字的间距和颜色 */
.viewtree_toolsbar_item {
  display: flex;
  align-items: center !important; /* 强制所有项垂直居中 */
  margin-right: 15px;
  color: var(--bs-secondary-color); /* 使用次要文字颜色，没那么刺眼 */
}

.viewtree_toolsbar_item .bi-apple {
  font-size: 14px; /* 统一图标大小 */
  line-height: 1;  /* 消除多余行高 */
  margin-top: -2px; /* 视觉补偿，手动把苹果往上提一点 */
}

.viewtree_toolsbar_item i,
.viewtree_toolsbar_item svg {
  width: 14px;
  height: 14px;
  color: var(--bs-primary); /* 图标可以用主色调点缀 */
}

.viewtree_toolsbar_item img{
  width: 20px;
  height: 20px;
  margin-right: 2px;
}

.notclick{
  pointer-events: none;
}



.attr_body{
  width: 100%;
  height: 100vh;
  overflow: scroll;
  margin-bottom: 100px;
}

.attr_footer{
  width: 100%;
  position: absolute;
  bottom: 0px;
  z-index: 1003;
}

#code_container{
  word-wrap:break-word
}

.sel_attrs{
  border-bottom:1px dashed black;
  background-color: #03dbb0;
}

.sel_attr_fixer{
  position: absolute;
  z-index: 1005;
  background-color: #3c3f41;
  right: 0px;
  display: none;
}



/* 1. 工具栏整体样式优化 */
    .toolbar-wrapper {
        padding: 8px 16px; /* 增加左右内边距 */
        box-shadow: 0 2px 8px rgba(0,0,0,0.05); /* 淡淡的投影增加层次感 */

    }

    /* 2. 紧凑型输入组 */
    .compact-group {
        height: 32px; /* 强制压缩高度 */
    }

    .compact-group .input-group-text,
    .compact-group .btn,
    .compact-group .form-control {
        font-size: 0.85rem; /* 字体缩小 */
        padding: 0.25rem 0.75rem;
        border-color: #dcdcdc;
    }

    .compact-group .input-group-text {
        background-color: #f8f9fa;
        color: #666;
    }

    /* 3. 悬浮效果 */
    .btn-primary-sm {
        height: 32px;
        padding: 0 15px;
        font-size: 0.85rem;
        border-radius: 4px;
    }



    /* 自定义主题高亮项 */
.tree-node-active {
    background-color: var(--bs-primary-bg-subtle) !important;
    color: var(--bs-primary-text-emphasis) !important;
    border-radius: 4px;
}

#p_i_xml_container {
    white-space: pre-wrap;
    word-break: break-all;
    cursor: text;
    transition: background-color 0.2s;
}

.code-step {
    transition: background-color 0.2s;
    display: inline-block;
}

.code-step:hover {
    background-color: rgba(255, 255, 255, 0.1);
    color: #9cdcfe !important;
}

/* 适配深色模式的 Popover */
/* 解决弹窗透明问题，确保背景不透视 */
.popover {
    background-color: var(--bs-body-bg) !important;
    border: 1px solid var(--bs-border-color-translucent) !important;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.5) !important;
    z-index: 2000 !important; /* 确保在最上层 */
}

.popover-header {
    background-color: var(--bs-tertiary-bg) !important;
    color: var(--bs-emphasis-color) !important;
    border-bottom: 1px solid var(--bs-border-color-translucent) !important;
    font-size: 12px;
}

.popover-body {
    background-color: var(--bs-body-bg) !important;
    padding: 10px !important;
}

/* 交互状态：点击时的高亮 */
.code-step.active-edit {
    background-color: var(--bs-primary-bg-subtle);
    outline: 1px dashed var(--bs-primary);
}

/* 逻辑类：标记面板当前是否为打开状态 */
.is-open {
    /* 仅作为 JS 判定标记，不带样式 */
}

/* 鼠标悬停在自定义条目上的反馈 */
.attr-target:hover {
    background-color: var(--bs-secondary-bg-subtle) !important;
    cursor: pointer;
}

/* 初始隐藏类 */
.init-hidden {
    display: none !important;
}

/* 只有当没有 .is-open 类时，面板才隐藏 */
/* 这种写法优先级高于普通类名，但低于 JS 的行内修改 */
#attrView:not(.is-open) {
    display: none !important;
}

/* 基础样式保持 flex */
#attrView {
    display: flex;
    flex-direction: column;
}

/* 旋转动画定义 */
@keyframes rotate-loading {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* 动画触发类 */
.spin-animation {
    /* 关键点：必须是 inline-block 旋转才生效 */
    display: inline-block !important; 
    animation: rotate-loading 0.8s linear infinite;
}

/* 统一定义系统主题高亮 */
.tree-node-highlight {
    /* 使用系统 Primary 蓝色 */
    background-color: var(--bs-primary) !important;
    border-color: var(--bs-primary) !important;
    color: #ffffff !important;
    
    /* 胶囊状外观 */
    display: inline-block !important;
    padding: 0px 4px !important;
    border-radius: 4px !important;
    box-shadow: 0 0 10px rgba(var(--bs-primary-rgb), 0.5) !important;
}

/* 关键：强制让内部所有不同颜色的 span 在高亮时全部变白 */
.tree-node-highlight span {
    color: #ffffff !important;
}

.ztree li {
    /* 核心：告诉浏览器，如果这个节点在屏幕外，不要去计算它的布局和绘图 */
    content-visibility: auto;
    
    /* 配合 contain-intrinsic-size 效果更好 */
    /* 预估一个节点的高度（比如 24px），防止滚动条抖动 */
    contain-intrinsic-size: 1px 24px; 
}

/* 统一工具栏项的对齐方式 */
.viewtree_toolsbar_item {
    display: inline-flex;  /* 开启弹性布局 */
    align-items: center;   /* 垂直居中 */
    vertical-align: middle; /* 修正行内对齐 */
    margin-right: 15px;    /* 间距 */
}

/* 修正图标和文字之间的间距 */
.viewtree_toolsbar_item i, 
.viewtree_toolsbar_item svg {
    margin-right: 4px;
    /* 统一微调：有些图标库自带 padding，这里强制统一高度感 */
    display: flex;
    align-items: center;
}

/* 专门针对 Feather Icons 的 SVG 渲染微调 */
.viewtree_toolsbar_item svg.feather {
    width: 14px;
    height: 14px;
    stroke-width: 2;
}

/* 专门针对 Bootstrap Icons 的微调 */
.viewtree_toolsbar_item .bi {
    font-size: 14px;
    line-height: 1;
}

#windowList {
    z-index: 1000000;
}

/* 500ms 触发后的特殊标记 - 适配 Bootstrap 5.3 主题 */
.tree-node-locked {
    /* 使用主题主色调的 RGB 变量，并配合透明度 0.2 */
    background-color: rgba(var(--bs-primary-rgb), 0.2) !important; 
    /* 使用主题主色调变量作为侧边线 */
    border-left: 3px solid var(--bs-primary) !important;
    transition: all 0.3s ease;
    /* 确保文字颜色在锁定状态下依然有足够的对比度 */
    color: var(--bs-emphasis-color) !important;
}

/* 针对 zTree 的 a 标签特殊处理 */
.ztree li a.tree-node-locked {
    background-color: rgba(var(--bs-primary-rgb), 0.2) !important;
    height: auto !important; /* 确保高度能包住边框 */
    display: inline-block;
    width: 100%;
}

/* 深色模式下的微调（如果需要更亮的反馈） */
[data-bs-theme="dark"] .tree-node-locked {
    background-color: rgba(var(--bs-primary-rgb), 0.25) !important;
    /* 在暗黑模式下增加一点外发光，让锁定感更强 */
    box-shadow: inset 0 0 5px rgba(var(--bs-primary-rgb), 0.1);
}