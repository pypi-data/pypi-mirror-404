import{c as y,b as g}from"./@floating-ui-BwwcF-xh.js";import{x,aw as A}from"./svelte-B2XmcTi_.js";function h(a){let o,i;const p={autoUpdate:!0};let s=a;const c=e=>({...p,...a||{},...e||{}}),r=e=>{o&&i&&(s=c(e),y(o,i,s).then(t=>{Object.assign(i.style,{position:t.strategy,left:`${t.x}px`,top:`${t.y}px`}),s!=null&&s.onComputed&&s.onComputed(t)}))},d=e=>{if("subscribe"in e)return b(e),{};o=e,r()},m=(e,t)=>{let n;i=e,s=c(t),setTimeout(()=>r(t),0),r(t);const f=()=>{n&&(n(),n=void 0)},l=({autoUpdate:u}=s||{})=>{f(),u!==!1&&A().then(()=>g(o,i,()=>r(s),u===!0?{}:u))};return n=l(),{update(u){r(u),n=l(u)},destroy(){f()}}},b=e=>{const t=e.subscribe(n=>{o===void 0?(o=n,r()):(Object.assign(o,n),r())});x(t)};return[d,m,r]}export{h as c};
