import{d as c,w as F}from"./svelte-B9Ye91X-.js";import{d as G}from"./deepmerge-rn4rBaHU.js";import{I as A}from"./intl-messageformat-Dc5UU-HB.js";function H(e,t){if(t==null)return;if(t in e)return e[t];const n=t.split(".");let r=e;for(let o=0;o<n.length;o++)if(typeof r=="object"){if(o>0){const i=n.slice(o,n.length).join(".");if(i in r){r=r[i];break}}r=r[n[o]]}else r=void 0;return r}const s={},U=(e,t,n)=>n&&(t in s||(s[t]={}),e in s[t]||(s[t][e]=n),n),C=(e,t)=>{if(t==null)return;if(t in s&&e in s[t])return s[t][e];const n=p(t);for(let r=0;r<n.length;r++){const o=n[r],i=K(o,e);if(i)return U(e,t,i)}};let D;const h=F({});function B(e){return D[e]||null}function V(e){return e in D}function K(e,t){if(!V(e))return null;const n=B(e);return H(n,t)}function W(e){if(e==null)return;const t=p(e);for(let n=0;n<t.length;n++){const r=t[n];if(V(r))return r}}function X(e,...t){delete s[e],h.update(n=>(n[e]=G.all([n[e]||{},...t]),n))}c([h],([e])=>Object.keys(e));h.subscribe(e=>D=e);const _={};function Y(e,t){_[e].delete(t),_[e].size===0&&delete _[e]}function q(e){return _[e]}function ee(e){return p(e).map(t=>{const n=q(t);return[t,n?[...n]:[]]}).filter(([,t])=>t.length>0)}function b(e){return e==null?!1:p(e).some(t=>{var n;return(n=q(t))==null?void 0:n.size})}function te(e,t){return Promise.all(t.map(r=>(Y(e,r),r().then(o=>o.default||o)))).then(r=>X(e,...r))}const g={};function J(e){if(!b(e))return e in g?g[e]:Promise.resolve();const t=ee(e);return g[e]=Promise.all(t.map(([n,r])=>te(n,r))).then(()=>{if(b(e))return J(e);delete g[e]}),g[e]}var S=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,oe=(e,t)=>{var n={};for(var r in e)ne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&S)for(var r of S(e))t.indexOf(r)<0&&re.call(e,r)&&(n[r]=e[r]);return n};const ie={number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}};function ae({locale:e,id:t}){console.warn(`[svelte-i18n] The message "${t}" was not found in "${p(e).join('", "')}".${b(l())?`

Note: there are at least one loader still registered to this locale that wasn't executed.`:""}`)}const se={fallbackLocale:null,loadingDelay:200,formats:ie,warnOnMissingMessages:!0,handleMissingMessage:void 0,ignoreTag:!0},d=se;function u(){return d}function Ne(e){const t=e,{formats:n}=t,r=oe(t,["formats"]);let o=e.fallbackLocale;if(e.initialLocale)try{A.resolveLocale(e.initialLocale)&&(o=e.initialLocale)}catch{console.warn(`[svelte-i18n] The initial locale "${e.initialLocale}" is not a valid locale.`)}return r.warnOnMissingMessages&&(delete r.warnOnMissingMessages,r.handleMissingMessage==null?r.handleMissingMessage=ae:console.warn('[svelte-i18n] The "warnOnMissingMessages" option is deprecated. Please use the "handleMissingMessage" option instead.')),Object.assign(d,r,{initialLocale:o}),n&&("number"in n&&Object.assign(d.formats.number,n.number),"date"in n&&Object.assign(d.formats.date,n.date),"time"in n&&Object.assign(d.formats.time,n.time)),f.set(o)}const j=F(!1);var le=Object.defineProperty,ue=Object.defineProperties,ce=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,Q=(e,t,n)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ge=(e,t)=>{for(var n in t||(t={}))fe.call(t,n)&&Q(e,n,t[n]);if(k)for(var n of k(t))me.call(t,n)&&Q(e,n,t[n]);return e},de=(e,t)=>ue(e,ce(t));let $;const w=F(null);function x(e){return e.split("-").map((t,n,r)=>r.slice(0,n+1).join("-")).reverse()}function p(e,t=u().fallbackLocale){const n=x(e);return t?[...new Set([...n,...x(t)])]:n}function l(){return $??void 0}w.subscribe(e=>{$=e??void 0,typeof window<"u"&&e!=null&&document.documentElement.setAttribute("lang",e)});const ve=e=>{if(e&&W(e)&&b(e)){const{loadingDelay:t}=u();let n;return typeof window<"u"&&l()!=null&&t?n=window.setTimeout(()=>j.set(!0),t):j.set(!0),J(e).then(()=>{w.set(e)}).finally(()=>{clearTimeout(n),j.set(!1)})}return w.set(e)},f=de(ge({},w),{set:ve}),Ie=()=>typeof window>"u"?null:window.navigator.language||window.navigator.languages[0],P=e=>{const t=Object.create(null);return r=>{const o=JSON.stringify(r);return o in t?t[o]:t[o]=e(r)}};var he=Object.defineProperty,O=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,z=(e,t,n)=>t in e?he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T=(e,t)=>{for(var n in t||(t={}))R.call(t,n)&&z(e,n,t[n]);if(O)for(var n of O(t))Z.call(t,n)&&z(e,n,t[n]);return e},m=(e,t)=>{var n={};for(var r in e)R.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&O)for(var r of O(e))t.indexOf(r)<0&&Z.call(e,r)&&(n[r]=e[r]);return n};const v=(e,t)=>{const{formats:n}=u();if(e in n&&t in n[e])return n[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},pe=P(e=>{var t=e,{locale:n,format:r}=t,o=m(t,["locale","format"]);if(n==null)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return r&&(o=v("number",r)),new Intl.NumberFormat(n,o)}),ye=P(e=>{var t=e,{locale:n,format:r}=t,o=m(t,["locale","format"]);if(n==null)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return r?o=v("date",r):Object.keys(o).length===0&&(o=v("date","short")),new Intl.DateTimeFormat(n,o)}),_e=P(e=>{var t=e,{locale:n,format:r}=t,o=m(t,["locale","format"]);if(n==null)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return r?o=v("time",r):Object.keys(o).length===0&&(o=v("time","short")),new Intl.DateTimeFormat(n,o)}),be=(e={})=>{var t=e,{locale:n=l()}=t,r=m(t,["locale"]);return pe(T({locale:n},r))},we=(e={})=>{var t=e,{locale:n=l()}=t,r=m(t,["locale"]);return ye(T({locale:n},r))},Oe=(e={})=>{var t=e,{locale:n=l()}=t,r=m(t,["locale"]);return _e(T({locale:n},r))},Pe=P((e,t=l())=>new A(e,t,u().formats,{ignoreTag:u().ignoreTag})),Me=(e,t={})=>{var n,r,o,i;let M=t;typeof e=="object"&&(M=e,e=M.id);const{values:E,locale:y=l(),default:L}=M;if(y==null)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let a=C(e,y);if(!a)a=(i=(o=(r=(n=u()).handleMissingMessage)==null?void 0:r.call(n,{locale:y,id:e,defaultValue:L}))!=null?o:L)!=null?i:e;else if(typeof a!="string")return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof a}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),a;if(!E)return a;let N=a;try{N=Pe(a,y).format(E)}catch(I){I instanceof Error&&console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,I.message)}return N},je=(e,t)=>Oe(t).format(e),$e=(e,t)=>we(t).format(e),Fe=(e,t)=>be(t).format(e),De=(e,t=l())=>C(e,t),Se=c([f,h],()=>Me);c([f],()=>je);c([f],()=>$e);c([f],()=>Fe);c([f,h],()=>De);export{f as $,X as a,Se as b,Ie as g,Ne as i};
