import{w as oe,p as W,b as L,m as k,c as i,Q as re,A as ie,x as le,r as w,e as b,L as X,t as _,u as Y,i as Z,B as I,j as K,R as q,S as T,k as x,l as z,H as G,T as ce,y as j,E as M,F as Q,U as O,V as ue,f as R,h as U,n as fe,o as pe,W as de,O as ve,X as V,Y as _e,Z as me,_ as ge,$ as be,a0 as he,a1 as xe}from"./svelte-B9Ye91X-.js";const ye={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function $e(){const{subscribe:y,update:d}=oe(new Array),l={};let h=0;function g(n){return n instanceof Object}function e(n="default",s={}){return l[n]=s,l}function c(n,s){const o={target:"default",...g(n)?n:{...s,msg:n}},t=l[o.target]||{},u={...ye,...t,...o,theme:{...t.theme,...o.theme},classes:[...t.classes||[],...o.classes||[]],id:++h};return d(f=>u.reversed?[...f,u]:[u,...f]),h}function m(n){d(s=>{if(!s.length||n===0)return[];if(typeof n=="function")return s.filter(t=>n(t));if(g(n))return s.filter(t=>t.target!==n.target);const o=n||Math.max(...s.map(t=>t.id));return s.filter(t=>t.id!==o)})}function v(n,s){const o=g(n)?n:{...s,id:n};d(t=>{const u=t.findIndex(f=>f.id===o.id);return u>-1&&(t[u]={...t[u],...o}),t})}return{subscribe:y,push:c,pop:m,set:v,_init:e}}const S=$e();var ke=I('<div class="_toastBtn pe svelte-1irx82o" role="button" tabindex="0"></div>'),we=I('<div role="status"><div><!></div> <!> <progress class="_toastBar svelte-1irx82o"></progress></div>');function je(y,d){W(d,!1);const l=()=>X(t,"$progress",h),[h,g]=G();let e=L(d,"item",12),c=k(e().initial),m=k(i(c)),v=k(!1),n=k({}),s,o;const t=re(e().initial,{duration:e().duration,easing:ce});function u(a){a&&(o=a),S.pop(e().id)}function f(){(l()===1||l()===0)&&u()}function E(){!i(v)&&l()!==i(c)&&(t.set(l(),{duration:0}),b(v,!0))}function A(){if(i(v)){const a=e().duration,r=a-a*((l()-i(m))/(i(c)-i(m)));t.set(i(c),{duration:r}).then(f),b(v,!1)}}function C(a,r="undefined"){return typeof a===r}function J(a=document){if(C(a.hidden))return;const r=()=>a.hidden?E():A(),p="visibilitychange";a.addEventListener(p,r),s=()=>a.removeEventListener(p,r),r()}ie(J),le(()=>{e().onpop&&e().onpop(e().id,{event:o}),s&&s()}),w(()=>(i(c),_(e()),l()),()=>{i(c)!==e().next&&(b(c,e().next),b(m,l()),b(v,!1),t.set(i(c)).then(f))}),w(()=>_(e()),()=>{if(e().component){const{props:a={},sendIdTo:r}=e().component;b(n,{...a,...r&&{[r]:e().id}})}}),w(()=>_(e()),()=>{C(e().progress)||e(e().next=e().progress,!0)}),Y(),Z();var $=we();let D;var B=M($);let F;var N=M(B);{var P=a=>{var r=R(),p=U(r);fe(p,()=>e().component.src,(ae,ne)=>{ne(ae,pe(()=>i(n)))}),x(a,r)},ee=a=>{var r=R(),p=U(r);de(p,()=>(_(e()),j(()=>e().msg))),x(a,r)};K(N,a=>{_(e()),j(()=>e().component)?a(P):a(ee,!1)})}var H=Q(B,2);{var te=a=>{var r=ke();T("click",r,p=>u(p)),T("keydown",r,p=>{p instanceof KeyboardEvent&&["Enter"," "].includes(p.key)&&u(p)}),x(a,r)};K(H,a=>{_(e()),j(()=>e().dismissable)&&a(te)})}var se=Q(H,2);q(()=>{D=O($,1,"_toastItem svelte-1irx82o",null,D,{pe:e().pausable}),F=O(B,1,"_toastMsg svelte-1irx82o",null,F,{pe:e().component}),ue(se,l())}),T("mouseenter",$,()=>{e().pausable&&E()}),T("mouseleave",$,A),x(y,$),z(),g()}var Ee=I("<li><!></li>"),Te=I('<ul class="_toastContainer svelte-1dwp7pi"></ul>');function Be(y,d){W(d,!1);const l=()=>X(S,"$toast",h),[h,g]=G();let e=L(d,"options",24,()=>({})),c=L(d,"target",8,"default"),m=k([]);function v(s){return s?Object.keys(s).reduce((o,t)=>`${o}${t}:${s[t]};`,""):void 0}w(()=>(_(c()),_(e())),()=>{S._init(c(),e())}),w(()=>(l(),_(c())),()=>{b(m,l().filter(s=>s.target===c()))}),Y(),Z();var n=Te();ve(n,13,()=>i(m),s=>s.id,(s,o)=>{var t=Ee(),u=M(t);je(u,{get item(){return i(o)}}),q((f,E)=>{O(t,1,f,"svelte-1dwp7pi"),ge(t,E)},[()=>me((i(o),j(()=>{var f;return(f=i(o).classes)==null?void 0:f.join(" ")}))),()=>(i(o),j(()=>v(i(o).theme)))]),V(1,t,()=>be,()=>i(o).intro),V(2,t,()=>he),_e(t,()=>xe,()=>({duration:200})),x(s,t)}),x(y,n),z(),g()}export{Be as S,S as t};
