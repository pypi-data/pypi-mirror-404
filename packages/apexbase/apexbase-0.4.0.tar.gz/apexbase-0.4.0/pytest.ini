[pytest]
# pytest configuration for ApexBase test suite

# Test discovery
testpaths = test
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Output formatting
addopts = 
    -v
    --tb=short
    --strict-markers
    --ignore=test_memory_1.py
    --ignore=test_memory_2.py
    --color=yes
    --durations=10

# Markers
markers =
    perf: marks tests as performance benchmarks (deselect with '-m "not perf"')
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    unit: marks tests as unit tests
    pandas: marks tests that require pandas
    polars: marks tests that require polars
    pyarrow: marks tests that require pyarrow
    fts: marks tests that use full-text search
    performance: marks tests that measure performance

# Minimum version
minversion = 6.0

# Test timeout (if pytest-timeout is available)
# timeout = 300
# timeout_method = thread

# Coverage configuration (if pytest-cov is available)
# addopts = --cov=apexbase --cov-report=html --cov-report=term-missing

# Parallel execution (if pytest-xdist is available)
# addopts = -n auto

# Filter warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:pyarrow.*
    ignore::UserWarning:pandas.*

# Console output style
console_output_style = progress

# Continue on first failure (useful for debugging)
# -x

# Stop after n failures
# --maxfail=5
