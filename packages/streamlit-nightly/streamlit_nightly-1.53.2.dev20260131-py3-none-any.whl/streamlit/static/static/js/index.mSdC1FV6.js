import{z as g,r as W,W as w,o as h,j as a,R as L,q as C,V as E}from"./index.CPc_uZux.js";import{w as b,E as T}from"./withFullScreenWrapper.DtkUCO_d.js";import{S as p,T as v}from"./Toolbar.COH7NaOE.js";const F=g("div",{target:"e1xt4yf90"})(({theme:e,shouldStretch:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",rowGap:e.spacing.lg,maxWidth:"100%",width:t?"100%":"fit-content"})),R=g("div",{target:"e1xt4yf91"})(({theme:e,shouldStretch:t})=>({display:"flex",flexDirection:"column",alignItems:"stretch",width:t?"100%":"auto",flexGrow:t?1:0,">img":{borderRadius:e.radii.default}})),j=g("div",{target:"e1xt4yf92"})(({theme:e})=>({textAlign:"center",marginTop:e.spacing.xs,wordWrap:"break-word",padding:e.spacing.threeXS})),H=E.getLogger("ImageList");function M(e,t){if(e){if(e.useStretch)return t;if(e.useContent)return;if(e.pixelWidth)return e.pixelWidth}}const G=({itemKey:e,image:t,imgStyle:i,buildMediaURL:l,handleImageError:s,shouldStretch:d})=>{const o=L(t.url);return h(R,{"data-testid":"stImageContainer",shouldStretch:d,children:[a("img",{style:i,src:l(t.url),alt:e,onError:s,crossOrigin:o}),t.caption&&a(j,{"data-testid":"stImageCaption",style:i,children:a(C,{source:t.caption,allowHTML:!1,isCaption:!0,isLabel:!0})})]})};function O({element:e,endpoints:t,widthConfig:i,disableFullscreenMode:l}){const{expanded:s,width:d,height:o,expand:x,collapse:f}=w(T),m=d||0,I=M(i,m),u=i?.useStretch??!1,r={};o&&s?(r.maxHeight=o,r.objectFit="contain",r.width="100%"):(r.width=I??"100%",r.maxWidth="100%");const S=c=>{const n=c.currentTarget.src;H.error(`Client Error: Image source error - ${n}`),t.sendClientErrorToHost("Image","Image source failed to load","onerror triggered",n)};return h(p,{width:m,height:o,useContainerWidth:s,topCentered:!0,children:[a(v,{target:p,isFullScreen:s,onExpand:x,onCollapse:f,disableFullscreenMode:l}),a(F,{className:"stImage","data-testid":"stImage",shouldStretch:u,children:e.imgs.map((c,n)=>a(G,{itemKey:n.toString(),image:c,imgStyle:r,buildMediaURL:y=>t.buildMediaURL(y),handleImageError:S,shouldStretch:u},n))})]})}const U=b(O),D=W.memo(U);export{D as default};
