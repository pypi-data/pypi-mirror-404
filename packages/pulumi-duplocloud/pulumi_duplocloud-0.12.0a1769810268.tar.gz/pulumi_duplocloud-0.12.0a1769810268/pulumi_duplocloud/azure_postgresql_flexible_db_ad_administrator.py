# coding=utf-8
# *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
# *** Do not edit by hand unless you're certain you know what you are doing! ***

import copy
import warnings
import sys
import pulumi
import pulumi.runtime
from typing import Any, Mapping, Optional, Sequence, Union, overload
if sys.version_info >= (3, 11):
    from typing import NotRequired, TypedDict, TypeAlias
else:
    from typing_extensions import NotRequired, TypedDict, TypeAlias
from . import _utilities

__all__ = ['AzurePostgresqlFlexibleDbAdAdministratorArgs', 'AzurePostgresqlFlexibleDbAdAdministrator']

@pulumi.input_type
class AzurePostgresqlFlexibleDbAdAdministratorArgs:
    def __init__(__self__, *,
                 azure_tenant_id: pulumi.Input[str],
                 db_name: pulumi.Input[str],
                 object_id: pulumi.Input[str],
                 principal_name: pulumi.Input[str],
                 principal_type: pulumi.Input[str],
                 tenant_id: pulumi.Input[str]):
        """
        The set of arguments for constructing a AzurePostgresqlFlexibleDbAdAdministrator resource.
        :param pulumi.Input[str] azure_tenant_id: Azure GUID of the tenant
        :param pulumi.Input[str] db_name: Postgres flexible server database name
        :param pulumi.Input[str] object_id: The Azure Active Directory (AAD) Object ID of the user, group, or service principal. This is a globally unique identifier assigned by AAD to each identity, used to manage access and authentication across Azure resources.
        :param pulumi.Input[str] principal_name: Azure account user name
        :param pulumi.Input[str] principal_type: Specify the type of Azure AD identity being used for that administrator.
        :param pulumi.Input[str] tenant_id: The GUID of the tenant that the azure postgresql database will be created in.
        """
        pulumi.set(__self__, "azure_tenant_id", azure_tenant_id)
        pulumi.set(__self__, "db_name", db_name)
        pulumi.set(__self__, "object_id", object_id)
        pulumi.set(__self__, "principal_name", principal_name)
        pulumi.set(__self__, "principal_type", principal_type)
        pulumi.set(__self__, "tenant_id", tenant_id)

    @property
    @pulumi.getter(name="azureTenantId")
    def azure_tenant_id(self) -> pulumi.Input[str]:
        """
        Azure GUID of the tenant
        """
        return pulumi.get(self, "azure_tenant_id")

    @azure_tenant_id.setter
    def azure_tenant_id(self, value: pulumi.Input[str]):
        pulumi.set(self, "azure_tenant_id", value)

    @property
    @pulumi.getter(name="dbName")
    def db_name(self) -> pulumi.Input[str]:
        """
        Postgres flexible server database name
        """
        return pulumi.get(self, "db_name")

    @db_name.setter
    def db_name(self, value: pulumi.Input[str]):
        pulumi.set(self, "db_name", value)

    @property
    @pulumi.getter(name="objectId")
    def object_id(self) -> pulumi.Input[str]:
        """
        The Azure Active Directory (AAD) Object ID of the user, group, or service principal. This is a globally unique identifier assigned by AAD to each identity, used to manage access and authentication across Azure resources.
        """
        return pulumi.get(self, "object_id")

    @object_id.setter
    def object_id(self, value: pulumi.Input[str]):
        pulumi.set(self, "object_id", value)

    @property
    @pulumi.getter(name="principalName")
    def principal_name(self) -> pulumi.Input[str]:
        """
        Azure account user name
        """
        return pulumi.get(self, "principal_name")

    @principal_name.setter
    def principal_name(self, value: pulumi.Input[str]):
        pulumi.set(self, "principal_name", value)

    @property
    @pulumi.getter(name="principalType")
    def principal_type(self) -> pulumi.Input[str]:
        """
        Specify the type of Azure AD identity being used for that administrator.
        """
        return pulumi.get(self, "principal_type")

    @principal_type.setter
    def principal_type(self, value: pulumi.Input[str]):
        pulumi.set(self, "principal_type", value)

    @property
    @pulumi.getter(name="tenantId")
    def tenant_id(self) -> pulumi.Input[str]:
        """
        The GUID of the tenant that the azure postgresql database will be created in.
        """
        return pulumi.get(self, "tenant_id")

    @tenant_id.setter
    def tenant_id(self, value: pulumi.Input[str]):
        pulumi.set(self, "tenant_id", value)


@pulumi.input_type
class _AzurePostgresqlFlexibleDbAdAdministratorState:
    def __init__(__self__, *,
                 azure_tenant_id: Optional[pulumi.Input[str]] = None,
                 db_name: Optional[pulumi.Input[str]] = None,
                 object_id: Optional[pulumi.Input[str]] = None,
                 principal_name: Optional[pulumi.Input[str]] = None,
                 principal_type: Optional[pulumi.Input[str]] = None,
                 tenant_id: Optional[pulumi.Input[str]] = None):
        """
        Input properties used for looking up and filtering AzurePostgresqlFlexibleDbAdAdministrator resources.
        :param pulumi.Input[str] azure_tenant_id: Azure GUID of the tenant
        :param pulumi.Input[str] db_name: Postgres flexible server database name
        :param pulumi.Input[str] object_id: The Azure Active Directory (AAD) Object ID of the user, group, or service principal. This is a globally unique identifier assigned by AAD to each identity, used to manage access and authentication across Azure resources.
        :param pulumi.Input[str] principal_name: Azure account user name
        :param pulumi.Input[str] principal_type: Specify the type of Azure AD identity being used for that administrator.
        :param pulumi.Input[str] tenant_id: The GUID of the tenant that the azure postgresql database will be created in.
        """
        if azure_tenant_id is not None:
            pulumi.set(__self__, "azure_tenant_id", azure_tenant_id)
        if db_name is not None:
            pulumi.set(__self__, "db_name", db_name)
        if object_id is not None:
            pulumi.set(__self__, "object_id", object_id)
        if principal_name is not None:
            pulumi.set(__self__, "principal_name", principal_name)
        if principal_type is not None:
            pulumi.set(__self__, "principal_type", principal_type)
        if tenant_id is not None:
            pulumi.set(__self__, "tenant_id", tenant_id)

    @property
    @pulumi.getter(name="azureTenantId")
    def azure_tenant_id(self) -> Optional[pulumi.Input[str]]:
        """
        Azure GUID of the tenant
        """
        return pulumi.get(self, "azure_tenant_id")

    @azure_tenant_id.setter
    def azure_tenant_id(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "azure_tenant_id", value)

    @property
    @pulumi.getter(name="dbName")
    def db_name(self) -> Optional[pulumi.Input[str]]:
        """
        Postgres flexible server database name
        """
        return pulumi.get(self, "db_name")

    @db_name.setter
    def db_name(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "db_name", value)

    @property
    @pulumi.getter(name="objectId")
    def object_id(self) -> Optional[pulumi.Input[str]]:
        """
        The Azure Active Directory (AAD) Object ID of the user, group, or service principal. This is a globally unique identifier assigned by AAD to each identity, used to manage access and authentication across Azure resources.
        """
        return pulumi.get(self, "object_id")

    @object_id.setter
    def object_id(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "object_id", value)

    @property
    @pulumi.getter(name="principalName")
    def principal_name(self) -> Optional[pulumi.Input[str]]:
        """
        Azure account user name
        """
        return pulumi.get(self, "principal_name")

    @principal_name.setter
    def principal_name(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "principal_name", value)

    @property
    @pulumi.getter(name="principalType")
    def principal_type(self) -> Optional[pulumi.Input[str]]:
        """
        Specify the type of Azure AD identity being used for that administrator.
        """
        return pulumi.get(self, "principal_type")

    @principal_type.setter
    def principal_type(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "principal_type", value)

    @property
    @pulumi.getter(name="tenantId")
    def tenant_id(self) -> Optional[pulumi.Input[str]]:
        """
        The GUID of the tenant that the azure postgresql database will be created in.
        """
        return pulumi.get(self, "tenant_id")

    @tenant_id.setter
    def tenant_id(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "tenant_id", value)


class AzurePostgresqlFlexibleDbAdAdministrator(pulumi.CustomResource):
    @overload
    def __init__(__self__,
                 resource_name: str,
                 opts: Optional[pulumi.ResourceOptions] = None,
                 azure_tenant_id: Optional[pulumi.Input[str]] = None,
                 db_name: Optional[pulumi.Input[str]] = None,
                 object_id: Optional[pulumi.Input[str]] = None,
                 principal_name: Optional[pulumi.Input[str]] = None,
                 principal_type: Optional[pulumi.Input[str]] = None,
                 tenant_id: Optional[pulumi.Input[str]] = None,
                 __props__=None):
        """
        `AzurePostgresqlFlexibleDbAdAdministrator` manages an azure postgresql flexible  active directory configuration. Supported with AzurePostgresqlFlexibleDatabaseV2

        ## Example Usage

        ```python
        import pulumi
        import pulumi_duplocloud as duplocloud

        myapp = duplocloud.Tenant("myapp",
            account_name="myapp",
            plan_id="default")
        db = duplocloud.AzurePostgresqlFlexibleDatabaseV2("db",
            tenant_id=myapp.tenant_id,
            name="psqlflex",
            service_tier="Burstable",
            hardware="Standard_B2ms",
            high_availability="Disabled",
            storage_gb=64,
            version="16",
            minor_version="8",
            delegated_subnet_id="/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/virtualNetworks/{virtualNetworkName}/subnets/{subnetName}",
            private_dns_zone_id="/subscriptions/<subscription-id>/resourceGroups/<resource-group-name>/providers/Microsoft.Network/privateDnsZones/privatelink.postgres.database.azure.com",
            administrator_login="tftry",
            administrator_login_password="Guide#123",
            backup_retention_days=8,
            geo_redundant_backup="Enabled",
            active_directory_authentication="Enabled",
            public_network_access="Disabled")
        adauth = duplocloud.AzurePostgresqlFlexibleDbAdAdministrator("adauth",
            tenant_id=db.tenant_id,
            db_name=db.name,
            azure_tenant_id=db.active_directory_tenant_id,
            principal_name="abc@xyz.com",
            principal_type="User",
            object_id="33b6ac35-ec39-4d5a-a42d-3bb4b4f56312")
        adauth1 = duplocloud.AzurePostgresqlFlexibleDbAdAdministrator("adauth1",
            tenant_id=db.tenant_id,
            db_name=db.name,
            azure_tenant_id=db.active_directory_tenant_id,
            principal_name="testdbgrp",
            principal_type="Group",
            object_id="52af6ab7-ea15-4390-a707-b72bc691eb5c")
        adauth2 = duplocloud.AzurePostgresqlFlexibleDbAdAdministrator("adauth2",
            tenant_id=db.tenant_id,
            db_name=db.name,
            azure_tenant_id=db.active_directory_tenant_id,
            principal_name="Elasticsearch",
            principal_type="ServicePrincipal",
            object_id="190f2be3-79a6-4e64-ac2f-18308ab3305d")
        ```

        ## Import

        Example: Importing an existing Azure PostgreSQL Database

         - *TENANT_ID* is the tenant GUID

         - *SHORT_NAME* is the short name of the Azure PostgreSQL Flexible Database

         - *OBJECT_ID* Object Id of user in Active Directory

        ```sh
        $ pulumi import duplocloud:index/azurePostgresqlFlexibleDbAdAdministrator:AzurePostgresqlFlexibleDbAdAdministrator adauth *TENANT_ID*/*DB_NAME*/*OBJECT_ID*
        ```

        :param str resource_name: The name of the resource.
        :param pulumi.ResourceOptions opts: Options for the resource.
        :param pulumi.Input[str] azure_tenant_id: Azure GUID of the tenant
        :param pulumi.Input[str] db_name: Postgres flexible server database name
        :param pulumi.Input[str] object_id: The Azure Active Directory (AAD) Object ID of the user, group, or service principal. This is a globally unique identifier assigned by AAD to each identity, used to manage access and authentication across Azure resources.
        :param pulumi.Input[str] principal_name: Azure account user name
        :param pulumi.Input[str] principal_type: Specify the type of Azure AD identity being used for that administrator.
        :param pulumi.Input[str] tenant_id: The GUID of the tenant that the azure postgresql database will be created in.
        """
        ...
    @overload
    def __init__(__self__,
                 resource_name: str,
                 args: AzurePostgresqlFlexibleDbAdAdministratorArgs,
                 opts: Optional[pulumi.ResourceOptions] = None):
        """
        `AzurePostgresqlFlexibleDbAdAdministrator` manages an azure postgresql flexible  active directory configuration. Supported with AzurePostgresqlFlexibleDatabaseV2

        ## Example Usage

        ```python
        import pulumi
        import pulumi_duplocloud as duplocloud

        myapp = duplocloud.Tenant("myapp",
            account_name="myapp",
            plan_id="default")
        db = duplocloud.AzurePostgresqlFlexibleDatabaseV2("db",
            tenant_id=myapp.tenant_id,
            name="psqlflex",
            service_tier="Burstable",
            hardware="Standard_B2ms",
            high_availability="Disabled",
            storage_gb=64,
            version="16",
            minor_version="8",
            delegated_subnet_id="/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/virtualNetworks/{virtualNetworkName}/subnets/{subnetName}",
            private_dns_zone_id="/subscriptions/<subscription-id>/resourceGroups/<resource-group-name>/providers/Microsoft.Network/privateDnsZones/privatelink.postgres.database.azure.com",
            administrator_login="tftry",
            administrator_login_password="Guide#123",
            backup_retention_days=8,
            geo_redundant_backup="Enabled",
            active_directory_authentication="Enabled",
            public_network_access="Disabled")
        adauth = duplocloud.AzurePostgresqlFlexibleDbAdAdministrator("adauth",
            tenant_id=db.tenant_id,
            db_name=db.name,
            azure_tenant_id=db.active_directory_tenant_id,
            principal_name="abc@xyz.com",
            principal_type="User",
            object_id="33b6ac35-ec39-4d5a-a42d-3bb4b4f56312")
        adauth1 = duplocloud.AzurePostgresqlFlexibleDbAdAdministrator("adauth1",
            tenant_id=db.tenant_id,
            db_name=db.name,
            azure_tenant_id=db.active_directory_tenant_id,
            principal_name="testdbgrp",
            principal_type="Group",
            object_id="52af6ab7-ea15-4390-a707-b72bc691eb5c")
        adauth2 = duplocloud.AzurePostgresqlFlexibleDbAdAdministrator("adauth2",
            tenant_id=db.tenant_id,
            db_name=db.name,
            azure_tenant_id=db.active_directory_tenant_id,
            principal_name="Elasticsearch",
            principal_type="ServicePrincipal",
            object_id="190f2be3-79a6-4e64-ac2f-18308ab3305d")
        ```

        ## Import

        Example: Importing an existing Azure PostgreSQL Database

         - *TENANT_ID* is the tenant GUID

         - *SHORT_NAME* is the short name of the Azure PostgreSQL Flexible Database

         - *OBJECT_ID* Object Id of user in Active Directory

        ```sh
        $ pulumi import duplocloud:index/azurePostgresqlFlexibleDbAdAdministrator:AzurePostgresqlFlexibleDbAdAdministrator adauth *TENANT_ID*/*DB_NAME*/*OBJECT_ID*
        ```

        :param str resource_name: The name of the resource.
        :param AzurePostgresqlFlexibleDbAdAdministratorArgs args: The arguments to use to populate this resource's properties.
        :param pulumi.ResourceOptions opts: Options for the resource.
        """
        ...
    def __init__(__self__, resource_name: str, *args, **kwargs):
        resource_args, opts = _utilities.get_resource_args_opts(AzurePostgresqlFlexibleDbAdAdministratorArgs, pulumi.ResourceOptions, *args, **kwargs)
        if resource_args is not None:
            __self__._internal_init(resource_name, opts, **resource_args.__dict__)
        else:
            __self__._internal_init(resource_name, *args, **kwargs)

    def _internal_init(__self__,
                 resource_name: str,
                 opts: Optional[pulumi.ResourceOptions] = None,
                 azure_tenant_id: Optional[pulumi.Input[str]] = None,
                 db_name: Optional[pulumi.Input[str]] = None,
                 object_id: Optional[pulumi.Input[str]] = None,
                 principal_name: Optional[pulumi.Input[str]] = None,
                 principal_type: Optional[pulumi.Input[str]] = None,
                 tenant_id: Optional[pulumi.Input[str]] = None,
                 __props__=None):
        opts = pulumi.ResourceOptions.merge(_utilities.get_resource_opts_defaults(), opts)
        if not isinstance(opts, pulumi.ResourceOptions):
            raise TypeError('Expected resource options to be a ResourceOptions instance')
        if opts.id is None:
            if __props__ is not None:
                raise TypeError('__props__ is only valid when passed in combination with a valid opts.id to get an existing resource')
            __props__ = AzurePostgresqlFlexibleDbAdAdministratorArgs.__new__(AzurePostgresqlFlexibleDbAdAdministratorArgs)

            if azure_tenant_id is None and not opts.urn:
                raise TypeError("Missing required property 'azure_tenant_id'")
            __props__.__dict__["azure_tenant_id"] = azure_tenant_id
            if db_name is None and not opts.urn:
                raise TypeError("Missing required property 'db_name'")
            __props__.__dict__["db_name"] = db_name
            if object_id is None and not opts.urn:
                raise TypeError("Missing required property 'object_id'")
            __props__.__dict__["object_id"] = object_id
            if principal_name is None and not opts.urn:
                raise TypeError("Missing required property 'principal_name'")
            __props__.__dict__["principal_name"] = principal_name
            if principal_type is None and not opts.urn:
                raise TypeError("Missing required property 'principal_type'")
            __props__.__dict__["principal_type"] = principal_type
            if tenant_id is None and not opts.urn:
                raise TypeError("Missing required property 'tenant_id'")
            __props__.__dict__["tenant_id"] = tenant_id
        super(AzurePostgresqlFlexibleDbAdAdministrator, __self__).__init__(
            'duplocloud:index/azurePostgresqlFlexibleDbAdAdministrator:AzurePostgresqlFlexibleDbAdAdministrator',
            resource_name,
            __props__,
            opts)

    @staticmethod
    def get(resource_name: str,
            id: pulumi.Input[str],
            opts: Optional[pulumi.ResourceOptions] = None,
            azure_tenant_id: Optional[pulumi.Input[str]] = None,
            db_name: Optional[pulumi.Input[str]] = None,
            object_id: Optional[pulumi.Input[str]] = None,
            principal_name: Optional[pulumi.Input[str]] = None,
            principal_type: Optional[pulumi.Input[str]] = None,
            tenant_id: Optional[pulumi.Input[str]] = None) -> 'AzurePostgresqlFlexibleDbAdAdministrator':
        """
        Get an existing AzurePostgresqlFlexibleDbAdAdministrator resource's state with the given name, id, and optional extra
        properties used to qualify the lookup.

        :param str resource_name: The unique name of the resulting resource.
        :param pulumi.Input[str] id: The unique provider ID of the resource to lookup.
        :param pulumi.ResourceOptions opts: Options for the resource.
        :param pulumi.Input[str] azure_tenant_id: Azure GUID of the tenant
        :param pulumi.Input[str] db_name: Postgres flexible server database name
        :param pulumi.Input[str] object_id: The Azure Active Directory (AAD) Object ID of the user, group, or service principal. This is a globally unique identifier assigned by AAD to each identity, used to manage access and authentication across Azure resources.
        :param pulumi.Input[str] principal_name: Azure account user name
        :param pulumi.Input[str] principal_type: Specify the type of Azure AD identity being used for that administrator.
        :param pulumi.Input[str] tenant_id: The GUID of the tenant that the azure postgresql database will be created in.
        """
        opts = pulumi.ResourceOptions.merge(opts, pulumi.ResourceOptions(id=id))

        __props__ = _AzurePostgresqlFlexibleDbAdAdministratorState.__new__(_AzurePostgresqlFlexibleDbAdAdministratorState)

        __props__.__dict__["azure_tenant_id"] = azure_tenant_id
        __props__.__dict__["db_name"] = db_name
        __props__.__dict__["object_id"] = object_id
        __props__.__dict__["principal_name"] = principal_name
        __props__.__dict__["principal_type"] = principal_type
        __props__.__dict__["tenant_id"] = tenant_id
        return AzurePostgresqlFlexibleDbAdAdministrator(resource_name, opts=opts, __props__=__props__)

    @property
    @pulumi.getter(name="azureTenantId")
    def azure_tenant_id(self) -> pulumi.Output[str]:
        """
        Azure GUID of the tenant
        """
        return pulumi.get(self, "azure_tenant_id")

    @property
    @pulumi.getter(name="dbName")
    def db_name(self) -> pulumi.Output[str]:
        """
        Postgres flexible server database name
        """
        return pulumi.get(self, "db_name")

    @property
    @pulumi.getter(name="objectId")
    def object_id(self) -> pulumi.Output[str]:
        """
        The Azure Active Directory (AAD) Object ID of the user, group, or service principal. This is a globally unique identifier assigned by AAD to each identity, used to manage access and authentication across Azure resources.
        """
        return pulumi.get(self, "object_id")

    @property
    @pulumi.getter(name="principalName")
    def principal_name(self) -> pulumi.Output[str]:
        """
        Azure account user name
        """
        return pulumi.get(self, "principal_name")

    @property
    @pulumi.getter(name="principalType")
    def principal_type(self) -> pulumi.Output[str]:
        """
        Specify the type of Azure AD identity being used for that administrator.
        """
        return pulumi.get(self, "principal_type")

    @property
    @pulumi.getter(name="tenantId")
    def tenant_id(self) -> pulumi.Output[str]:
        """
        The GUID of the tenant that the azure postgresql database will be created in.
        """
        return pulumi.get(self, "tenant_id")

