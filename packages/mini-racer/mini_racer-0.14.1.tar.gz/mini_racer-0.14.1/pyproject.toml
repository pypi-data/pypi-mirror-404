[build-system]
build-backend = "setuptools.build_meta"
requires = ["setuptools>=80.9"]

[project]
name = "mini-racer"
version = "0.14.1"
dynamic = ["readme"]
description = "Minimal, modern embedded V8 for Python."
license = "ISC"
requires-python = ">= 3.10"
authors = [
    { name = "bpcreech", email = "mini-racer@bpcreech.com" },
    { name = "Sqreen", email = "support@sqreen.com" },
]
keywords = [
    "py_mini_racer",
]
classifiers = [
    "Development Status :: 5 - Production/Stable",
    "Intended Audience :: Developers",
    "Natural Language :: English",
    "Programming Language :: Python :: 3",
]
dependencies = []

[project.urls]
Homepage = "https://github.com/bpcreech/PyMiniRacer"

[tool.ruff]
# Ruff changes this from the Black default. Change it back:
line-length = 88

[tool.ruff.lint]
select = ["ALL"]
ignore = ["D", "COM812", "S101", "TD", "FIX002"]
per-file-ignores = { "tests/*" = ["S101"] }

[tool.ruff.lint.isort]
required-imports = ["from __future__ import annotations"]
split-on-trailing-comma = false

[tool.ruff.format]
# Enable reformatting of code snippets in docstrings.
docstring-code-format = true
skip-magic-trailing-comma = true

[tool.coverage.run]
omit = [
    "tests/*",
]

[tool.mypy]
strict = true
exclude = "(v8_workspace)"

[dependency-groups]
dev = [
    # Held back by https://lists.buildroot.org/pipermail/buildroot/2025-November/789511.html:
    "httplib2==0.22.0",
    "mdformat>=1.0.0",
    "mkdocs>=1.6.1",
    "mkdocs-material>=9.7.0",
    "mkdocstrings[python]>=1.0.0",
    "mypy>=1.19.0",
    "packaging>=25.0",
    "pytest>=9.0.2",
    "ruff>=0.14.8",
    "setuptools[core]>=80.9.0",
    "types-setuptools>=80.9.0.20250822",
]
