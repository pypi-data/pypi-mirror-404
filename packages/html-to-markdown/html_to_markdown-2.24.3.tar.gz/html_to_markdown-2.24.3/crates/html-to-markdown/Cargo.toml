[package]
name = "html-to-markdown-rs"
version.workspace = true
edition.workspace = true
authors.workspace = true
license.workspace = true
repository.workspace = true
homepage.workspace = true
documentation.workspace = true
readme = "README.md"
rust-version.workspace = true
description = "High-performance HTML to Markdown converter using the astral-tl parser. Part of the Kreuzberg ecosystem."
keywords = ["html", "markdown", "converter", "astral-tl", "doc-processing"]
categories = ["parsing", "text-processing", "web-programming"]


[lints]
workspace = true

[features]
default = ["metadata"]
inline-images = ["dep:image"]
metadata = ["dep:serde", "dep:serde_json"]
visitor = []
async-visitor = ["visitor", "dep:async-trait", "dep:futures", "dep:tokio"]
serde = ["dep:serde", "dep:serde_json"]

[lib]
crate-type = ["rlib"]

[dependencies]
tl.workspace = true
regex.workspace = true
once_cell.workspace = true
thiserror.workspace = true
base64.workspace = true
html-escape = "0.2.13"
image = { version = "0.25", default-features = false, features = ["gif", "jpeg", "png", "bmp", "webp"], optional = true }
html5ever.workspace = true
markup5ever_rcdom.workspace = true
lru = "0.16"
serde = { version = "1.0", features = ["derive"], optional = true }
serde_json = { version = "1.0", optional = true }
async-trait = { workspace = true, optional = true }
futures = { version = "0.3", optional = true }
tokio = { version = "1.49", features = ["rt-multi-thread", "sync"], optional = true }

[dev-dependencies]
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
