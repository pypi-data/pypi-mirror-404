

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Core Population Model &mdash; vivarium_public_health 4.3.15.dev2+g712190e05 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=7ca62e9d"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Population Data Transformations" href="data_transformations.html" />
    <link rel="prev" title="Fertility Models" href="add_new_birth_cohorts.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            vivarium_public_health
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../utilities.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities.html#vivarium_public_health.utilities.EntityString"><code class="docutils literal notranslate"><span class="pre">EntityString</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities.html#vivarium_public_health.utilities.TargetString"><code class="docutils literal notranslate"><span class="pre">TargetString</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities.html#vivarium_public_health.utilities.to_snake_case"><code class="docutils literal notranslate"><span class="pre">to_snake_case()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities.html#vivarium_public_health.utilities.to_time_delta"><code class="docutils literal notranslate"><span class="pre">to_time_delta()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities.html#vivarium_public_health.utilities.to_years"><code class="docutils literal notranslate"><span class="pre">to_years()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities.html#vivarium_public_health.utilities.is_non_zero"><code class="docutils literal notranslate"><span class="pre">is_non_zero()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities.html#vivarium_public_health.utilities.get_lookup_columns"><code class="docutils literal notranslate"><span class="pre">get_lookup_columns()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../disease/index.html">Disease Modeling Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mslt/index.html">Multi-state Life Table Modeling Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html">Manager Plugins</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Demographic Modeling Tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="add_new_birth_cohorts.html">Fertility Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="add_new_birth_cohorts.html#vivarium_public_health.population.add_new_birth_cohorts.FertilityDeterministic"><code class="docutils literal notranslate"><span class="pre">FertilityDeterministic</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="add_new_birth_cohorts.html#vivarium_public_health.population.add_new_birth_cohorts.FertilityCrudeBirthRate"><code class="docutils literal notranslate"><span class="pre">FertilityCrudeBirthRate</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="add_new_birth_cohorts.html#vivarium_public_health.population.add_new_birth_cohorts.FertilityAgeSpecificRates"><code class="docutils literal notranslate"><span class="pre">FertilityAgeSpecificRates</span></code></a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">The Core Population Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vivarium_public_health.population.base_population.BasePopulation"><code class="docutils literal notranslate"><span class="pre">BasePopulation</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vivarium_public_health.population.base_population.BasePopulation.CONFIGURATION_DEFAULTS"><code class="docutils literal notranslate"><span class="pre">BasePopulation.CONFIGURATION_DEFAULTS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vivarium_public_health.population.base_population.BasePopulation.columns_created"><code class="docutils literal notranslate"><span class="pre">BasePopulation.columns_created</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vivarium_public_health.population.base_population.BasePopulation.time_step_priority"><code class="docutils literal notranslate"><span class="pre">BasePopulation.time_step_priority</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vivarium_public_health.population.base_population.BasePopulation.setup"><code class="docutils literal notranslate"><span class="pre">BasePopulation.setup()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vivarium_public_health.population.base_population.BasePopulation.get_randomness_streams"><code class="docutils literal notranslate"><span class="pre">BasePopulation.get_randomness_streams()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vivarium_public_health.population.base_population.BasePopulation.on_initialize_simulants"><code class="docutils literal notranslate"><span class="pre">BasePopulation.on_initialize_simulants()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vivarium_public_health.population.base_population.BasePopulation.on_time_step"><code class="docutils literal notranslate"><span class="pre">BasePopulation.on_time_step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vivarium_public_health.population.base_population.BasePopulation.get_demographic_proportions_for_creation_time"><code class="docutils literal notranslate"><span class="pre">BasePopulation.get_demographic_proportions_for_creation_time()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#vivarium_public_health.population.base_population.ScaledPopulation"><code class="docutils literal notranslate"><span class="pre">ScaledPopulation</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vivarium_public_health.population.base_population.ScaledPopulation.scaling_factor"><code class="docutils literal notranslate"><span class="pre">ScaledPopulation.scaling_factor</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#vivarium_public_health.population.base_population.AgeOutSimulants"><code class="docutils literal notranslate"><span class="pre">AgeOutSimulants</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vivarium_public_health.population.base_population.AgeOutSimulants.columns_required"><code class="docutils literal notranslate"><span class="pre">AgeOutSimulants.columns_required</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vivarium_public_health.population.base_population.AgeOutSimulants.setup"><code class="docutils literal notranslate"><span class="pre">AgeOutSimulants.setup()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#vivarium_public_health.population.base_population.AgeOutSimulants.on_time_step_cleanup"><code class="docutils literal notranslate"><span class="pre">AgeOutSimulants.on_time_step_cleanup()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#vivarium_public_health.population.base_population.generate_population"><code class="docutils literal notranslate"><span class="pre">generate_population()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_transformations.html">Population Data Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_transformations.html#vivarium_public_health.population.data_transformations.assign_demographic_proportions"><code class="docutils literal notranslate"><span class="pre">assign_demographic_proportions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_transformations.html#vivarium_public_health.population.data_transformations.rescale_binned_proportions"><code class="docutils literal notranslate"><span class="pre">rescale_binned_proportions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_transformations.html#vivarium_public_health.population.data_transformations.AgeValues"><code class="docutils literal notranslate"><span class="pre">AgeValues</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_transformations.html#vivarium_public_health.population.data_transformations.EndpointValues"><code class="docutils literal notranslate"><span class="pre">EndpointValues</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_transformations.html#vivarium_public_health.population.data_transformations.smooth_ages"><code class="docutils literal notranslate"><span class="pre">smooth_ages()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_transformations.html#vivarium_public_health.population.data_transformations.get_cause_deleted_mortality_rate"><code class="docutils literal notranslate"><span class="pre">get_cause_deleted_mortality_rate()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_transformations.html#vivarium_public_health.population.data_transformations.load_population_structure"><code class="docutils literal notranslate"><span class="pre">load_population_structure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_transformations.html#vivarium_public_health.population.data_transformations.get_live_births_per_year"><code class="docutils literal notranslate"><span class="pre">get_live_births_per_year()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_transformations.html#vivarium_public_health.population.data_transformations.rescale_final_age_bin"><code class="docutils literal notranslate"><span class="pre">rescale_final_age_bin()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_transformations.html#vivarium_public_health.population.data_transformations.validate_crude_birth_rate_data"><code class="docutils literal notranslate"><span class="pre">validate_crude_birth_rate_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="mortality.html">The Core Mortality Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="mortality.html#vivarium_public_health.population.mortality.Mortality"><code class="docutils literal notranslate"><span class="pre">Mortality</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../results/index.html">Simulation Observers and Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../risks/index.html">Risk Modeling Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../treatment/index.html">Treatment Modeling Tools</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">vivarium_public_health</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="index.html">Demographic Modeling Tools</a></li>
      <li class="breadcrumb-item active">The Core Population Model</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api_reference/population/base_population.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="the-core-population-model">
<span id="module-vivarium_public_health.population.base_population"></span><h1>The Core Population Model<a class="headerlink" href="#the-core-population-model" title="Link to this heading"></a></h1>
<p>This module contains tools for sampling and assigning core demographic
characteristics to simulants.</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.BasePopulation">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vivarium_public_health.population.base_population.</span></span><span class="sig-name descname"><span class="pre">BasePopulation</span></span><a class="reference internal" href="../../_modules/vivarium_public_health/population/base_population.html#BasePopulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivarium_public_health.population.base_population.BasePopulation" title="Link to this definition"></a></dt>
<dd><p>Component for producing and aging simulants based on demographic data.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.BasePopulation.CONFIGURATION_DEFAULTS">
<span class="sig-name descname"><span class="pre">CONFIGURATION_DEFAULTS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict[str,</span> <span class="pre">Any]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'population':</span> <span class="pre">{'include_sex':</span> <span class="pre">'Both',</span> <span class="pre">'initialization_age_max':</span> <span class="pre">125,</span> <span class="pre">'initialization_age_min':</span> <span class="pre">0,</span> <span class="pre">'untracking_age':</span> <span class="pre">None}}</span></em><a class="headerlink" href="#vivarium_public_health.population.base_population.BasePopulation.CONFIGURATION_DEFAULTS" title="Link to this definition"></a></dt>
<dd><p>A dictionary containing the defaults for any configurations managed by this
component. An empty dictionary indicates no managed configurations.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.BasePopulation.columns_created">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">columns_created</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#vivarium_public_health.population.base_population.BasePopulation.columns_created" title="Link to this definition"></a></dt>
<dd><p>Provides names of columns created by the component.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>Names of the columns created by this component, or an empty list if</em></p></li>
<li><p><em>none.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.BasePopulation.time_step_priority">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_step_priority</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></em><a class="headerlink" href="#vivarium_public_health.population.base_population.BasePopulation.time_step_priority" title="Link to this definition"></a></dt>
<dd><p>Provides the priority of this component’s time_step listener.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>The priority of this component’s time_step listener. This value</em></p></li>
<li><p><em>can range from 0 to 9, inclusive.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.BasePopulation.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vivarium_public_health/population/base_population.html#BasePopulation.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivarium_public_health.population.base_population.BasePopulation.setup" title="Link to this definition"></a></dt>
<dd><p>Defines custom actions this component needs to run during the setup
lifecycle phase.</p>
<p>This method is intended to be overridden by subclasses to perform any
necessary setup operations specific to the component. By default, it
does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>builder</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://vivarium.readthedocs.io/en/latest/api_reference/framework/engine.html#vivarium.framework.engine.Builder" title="(in vivarium v3.6.3.dev1+g2a048b57d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Builder</span></code></a></span>) – The builder object used to set up the component.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.BasePopulation.get_randomness_streams">
<span class="sig-name descname"><span class="pre">get_randomness_streams</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vivarium_public_health/population/base_population.html#BasePopulation.get_randomness_streams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivarium_public_health.population.base_population.BasePopulation.get_randomness_streams" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://vivarium.readthedocs.io/en/latest/api_reference/framework/randomness/stream.html#vivarium.framework.randomness.stream.RandomnessStream" title="(in vivarium v3.6.3.dev1+g2a048b57d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomnessStream</span></code></a>]</span></p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>builder</strong> (<a class="reference external" href="https://vivarium.readthedocs.io/en/latest/api_reference/framework/engine.html#vivarium.framework.engine.Builder" title="(in vivarium v3.6.3.dev1+g2a048b57d)"><em>Builder</em></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.BasePopulation.on_initialize_simulants">
<span class="sig-name descname"><span class="pre">on_initialize_simulants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pop_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vivarium_public_health/population/base_population.html#BasePopulation.on_initialize_simulants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivarium_public_health.population.base_population.BasePopulation.on_initialize_simulants" title="Link to this definition"></a></dt>
<dd><p>Creates a population with fundamental demographic and simulation properties.</p>
<p>When the simulation framework creates new simulants (essentially producing a new
set of simulant ids) and this component is being used, the newly created simulants
arrive here first and are assigned the demographic qualities ‘age’, ‘sex’,
and ‘location’ in a way that is consistent with the demographic distributions
represented by the population-level data.  Additionally, the simulants are assigned
the simulation properties ‘alive’, ‘entrance_time’, and ‘exit_time’.</p>
<p>The ‘alive’ parameter is alive or dead.
In general, most simulation components (except for those computing summary statistics)
ignore simulants if they are not in the ‘alive’ category. The ‘entrance_time’ and
‘exit_time’ categories simply mark when the simulant enters or leaves the simulation,
respectively.  Here we are agnostic to the methods of entrance and exit (e.g., birth,
migration, death, etc.) as these characteristics can be inferred from this column and
other information about the simulant and the simulation parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span></p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pop_data</strong> (<a class="reference external" href="https://vivarium.readthedocs.io/en/latest/api_reference/framework/population/manager.html#vivarium.framework.population.manager.SimulantData" title="(in vivarium v3.6.3.dev1+g2a048b57d)"><em>SimulantData</em></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.BasePopulation.on_time_step">
<span class="sig-name descname"><span class="pre">on_time_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vivarium_public_health/population/base_population.html#BasePopulation.on_time_step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivarium_public_health.population.base_population.BasePopulation.on_time_step" title="Link to this definition"></a></dt>
<dd><p>Ages simulants each time step.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span></p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>event</strong> (<a class="reference external" href="https://vivarium.readthedocs.io/en/latest/api_reference/framework/event.html#vivarium.framework.event.Event" title="(in vivarium v3.6.3.dev1+g2a048b57d)"><em>Event</em></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.BasePopulation.get_demographic_proportions_for_creation_time">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_demographic_proportions_for_creation_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">demographic_proportions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vivarium_public_health/population/base_population.html#BasePopulation.get_demographic_proportions_for_creation_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivarium_public_health.population.base_population.BasePopulation.get_demographic_proportions_for_creation_time" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a></span></p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>year</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.ScaledPopulation">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vivarium_public_health.population.base_population.</span></span><span class="sig-name descname"><span class="pre">ScaledPopulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scaling_factor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vivarium_public_health/population/base_population.html#ScaledPopulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivarium_public_health.population.base_population.ScaledPopulation" title="Link to this definition"></a></dt>
<dd><p>This component is to be used in place of BasePopulation when all simulants are
a subset of the total population and need to be rescaled. The base population
structure is multiplied by a provided scaling factor. This scaling factor
can be a dataframe passed in or a string that corresponds to an artifact key.
If providing an artifact key, users can specify that in the configuration file.
For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<dl class="simple">
<dt>components:</dt><dd><dl class="simple">
<dt>vivarium_public_health:</dt><dd><dl class="simple">
<dt>population:</dt><dd><ul class="simple">
<li><p>ScaledPopulation(“some.artifact.key”)</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scaling_factor</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.3)"><em>DataFrame</em></a>)</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.ScaledPopulation.scaling_factor">
<span class="sig-name descname"><span class="pre">scaling_factor</span></span><a class="headerlink" href="#vivarium_public_health.population.base_population.ScaledPopulation.scaling_factor" title="Link to this definition"></a></dt>
<dd><p>Set a multiplicative scaling factor for the population structure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.AgeOutSimulants">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vivarium_public_health.population.base_population.</span></span><span class="sig-name descname"><span class="pre">AgeOutSimulants</span></span><a class="reference internal" href="../../_modules/vivarium_public_health/population/base_population.html#AgeOutSimulants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivarium_public_health.population.base_population.AgeOutSimulants" title="Link to this definition"></a></dt>
<dd><p>Component for handling aged-out simulants</p>
<dl class="py property">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.AgeOutSimulants.columns_required">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">columns_required</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#vivarium_public_health.population.base_population.AgeOutSimulants.columns_required" title="Link to this definition"></a></dt>
<dd><p>A list of the columns this component requires that it did not create.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.AgeOutSimulants.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vivarium_public_health/population/base_population.html#AgeOutSimulants.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivarium_public_health.population.base_population.AgeOutSimulants.setup" title="Link to this definition"></a></dt>
<dd><p>Defines custom actions this component needs to run during the setup
lifecycle phase.</p>
<p>This method is intended to be overridden by subclasses to perform any
necessary setup operations specific to the component. By default, it
does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>builder</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://vivarium.readthedocs.io/en/latest/api_reference/framework/engine.html#vivarium.framework.engine.Builder" title="(in vivarium v3.6.3.dev1+g2a048b57d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Builder</span></code></a></span>) – The builder object used to set up the component.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.AgeOutSimulants.on_time_step_cleanup">
<span class="sig-name descname"><span class="pre">on_time_step_cleanup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vivarium_public_health/population/base_population.html#AgeOutSimulants.on_time_step_cleanup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivarium_public_health.population.base_population.AgeOutSimulants.on_time_step_cleanup" title="Link to this definition"></a></dt>
<dd><p>Method that vivarium will run during the time_step__cleanup event.</p>
<p>This method is intended to be overridden by subclasses if there are
operations they need to perform specifically during the
time_step__cleanup event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>event</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://vivarium.readthedocs.io/en/latest/api_reference/framework/event.html#vivarium.framework.event.Event" title="(in vivarium v3.6.3.dev1+g2a048b57d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Event</span></code></a></span>) – The event object associated with the time_step__cleanup event.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivarium_public_health.population.base_population.generate_population">
<span class="sig-prename descclassname"><span class="pre">vivarium_public_health.population.base_population.</span></span><span class="sig-name descname"><span class="pre">generate_population</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simulant_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">creation_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">age_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demographic_proportions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomness_streams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">register_simulants</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('entrance_time',</span> <span class="pre">'age')</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vivarium_public_health/population/base_population.html#generate_population"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivarium_public_health.population.base_population.generate_population" title="Link to this definition"></a></dt>
<dd><p>Produces a random set of simulants sampled from the provided <cite>population_data</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simulant_ids</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Index.html#pandas.Index" title="(in pandas v2.3.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a></span>) – Values to serve as the index in the newly generated simulant DataFrame.</p></li>
<li><p><strong>creation_time</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v2.3.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a></span>) – The simulation time when the simulants are created.</p></li>
<li><p><strong>age_params</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]</span>) – <dl class="simple">
<dt>Dictionary with keys</dt><dd><p>age_start : Start of an age range
age_end : End of an age range</p>
</dd>
</dl>
<p>The latter two keys can have values specified to generate simulants over an age range.</p>
</p></li>
<li><p><strong>demographic_proportions</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a></span>) – Table with columns ‘age’, ‘age_start’, ‘age_end’, ‘sex’, ‘year’,
‘location’, ‘population’, ‘P(sex, location, age| year)’,
‘P(sex, location | age, year)’.</p></li>
<li><p><strong>randomness_streams</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://vivarium.readthedocs.io/en/latest/api_reference/framework/randomness/stream.html#vivarium.framework.randomness.stream.RandomnessStream" title="(in vivarium v3.6.3.dev1+g2a048b57d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomnessStream</span></code></a>]</span>) – Source of random number generation within the vivarium common random number framework.</p></li>
<li><p><strong>step_size</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timedelta.html#pandas.Timedelta" title="(in pandas v2.3.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a></span>) – The size of the initial time step.</p></li>
<li><p><strong>register_simulants</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code></a>[[<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]</span>) – A function to register the new simulants with the CRN framework.</p></li>
<li><p><strong>key_columns</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span>) – A list of key columns for random number generation.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Table with columns</dt><dd><dl class="simple">
<dt>’entrance_time’</dt><dd><p>The <cite>pandas.Timestamp</cite> describing when the simulant entered
the simulation. Set to <cite>creation_time</cite> for all simulants.</p>
</dd>
<dt>’exit_time’</dt><dd><p>The <cite>pandas.Timestamp</cite> describing when the simulant exited
the simulation. Set initially to <cite>pandas.NaT</cite>.</p>
</dd>
<dt>’alive’</dt><dd><p>One of ‘alive’ or ‘dead’ indicating how the simulation
interacts with the simulant.</p>
</dd>
<dt>’age’</dt><dd><p>The age of the simulant at the current time step.</p>
</dd>
<dt>’location’</dt><dd><p>The location indicating where the simulant resides.</p>
</dd>
<dt>’sex’</dt><dd><p>Either ‘Male’ or ‘Female’.  The sex of the simulant.</p>
</dd>
</dl>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="add_new_birth_cohorts.html" class="btn btn-neutral float-left" title="Fertility Models" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="data_transformations.html" class="btn btn-neutral float-right" title="Population Data Transformations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The vivarium developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>