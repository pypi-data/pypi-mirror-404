# generated by datamodel-codegen:
#   filename:  tmp2hcn27e0.json
#   timestamp: 2026-01-29T22:45:52+00:00

from __future__ import annotations

from enum import Enum
from typing import Annotated, Any, Literal

from pydantic import AwareDatetime, BaseModel, ConfigDict, Field, RootModel


class ActiveSessionResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str | None, Field(title="Session Id")] = None
    status: Annotated[str | None, Field(title="Status")] = None


class AddMemberRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_id: Annotated[str, Field(title="Job Id")]
    alias: Annotated[str | None, Field(title="Alias")] = None


class ReviewType(Enum):
    env = "env"
    data = "data"


class Outcome(Enum):
    pass_ = "pass"
    reject = "reject"


class AddSSHKeyRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    public_key: Annotated[str, Field(title="Public Key")]
    """
    SSH public key in OpenSSH format
    """
    username: Annotated[str | None, Field(title="Username")] = "root"
    """
    Username to add the key for (default: root)
    """


class AddSSHKeyResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    """
    Whether the key was added successfully
    """
    error: Annotated[str | None, Field(title="Error")] = None
    """
    Error message if the operation failed
    """
    output: Annotated[str | None, Field(title="Output")] = None
    """
    Command output (stdout)
    """


class AgentInfo(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    name: Annotated[str, Field(title="Name")]
    version: Annotated[str, Field(title="Version")]
    image_uri: Annotated[str, Field(title="Image Uri")]
    description: Annotated[str, Field(title="Description")]
    published_at: Annotated[str, Field(title="Published At")]


class AgentListResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    agents: Annotated[list[AgentInfo], Field(title="Agents")]


class Type(Enum):
    info = "info"
    warning = "warning"
    error = "error"
    answer = "answer"
    action = "action"


class AgentLogInput(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    source: Annotated[Literal["agent"], Field(title="Source")] = "agent"
    """
    Log source
    """
    type: Annotated[Type | None, Field(title="Type")] = Type.info
    """
    Log type
    """
    timestamp: Annotated[str, Field(title="Timestamp")]
    """
    ISO 8601 timestamp
    """
    message: Annotated[dict[str, Any], Field(title="Message")]
    """
    Message content
    """


class AgentSchemaResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str, Field(title="Name")]
    version: Annotated[str, Field(title="Version")]
    config_schema: Annotated[dict[str, Any] | None, Field(title="Config Schema")] = None
    template_variables: Annotated[dict[str, str] | None, Field(title="Template Variables")] = None
    secrets_schema: Annotated[dict[str, Any] | None, Field(title="Secrets Schema")] = None


class AgentVersionInfo(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    version: Annotated[str, Field(title="Version")]
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    image_uri: Annotated[str, Field(title="Image Uri")]
    published_at: Annotated[str, Field(title="Published At")]


class AgentVersionsResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str, Field(title="Name")]
    versions: Annotated[list[AgentVersionInfo], Field(title="Versions")]


class AppSimWorkerInfoResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    ready: Annotated[bool, Field(title="Ready")]
    worker_private_ip: Annotated[str | None, Field(title="Worker Private Ip")] = None
    worker_public_ip: Annotated[str | None, Field(title="Worker Public Ip")] = None
    vm_gateway_ip: Annotated[str | None, Field(title="Vm Gateway Ip")] = None
    vm_private_ip: Annotated[str | None, Field(title="Vm Private Ip")] = None
    messaging_port: Annotated[int | None, Field(title="Messaging Port")] = None
    mesh_ip: Annotated[str | None, Field(title="Mesh Ip")] = None
    vm_port: Annotated[int | None, Field(title="Vm Port")] = None
    worker_port: Annotated[int | None, Field(title="Worker Port")] = None
    job_public_id: Annotated[str | None, Field(title="Job Public Id")] = None
    provider: Annotated[str | None, Field(title="Provider")] = None
    error: Annotated[str | None, Field(title="Error")] = None
    message: Annotated[str | None, Field(title="Message")] = None
    detailed_message: Annotated[str | None, Field(title="Detailed Message")] = None
    job_status: Annotated[str | None, Field(title="Job Status")] = None
    status_reason: Annotated[str | None, Field(title="Status Reason")] = None


class ArchiveOrganizationAssignmentsRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    assignment_ids: Annotated[list[str], Field(title="Assignment Ids")]


class ArchiveOrganizationTestCaseRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    test_case_id: Annotated[int, Field(title="Test Case Id")]


class ArtifactFullDetails(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    simulator_name: Annotated[str, Field(title="Simulator Name")]
    dataset: Annotated[str, Field(title="Dataset")]
    git_hash: Annotated[str, Field(title="Git Hash")]
    ecs_task_definition_arn: Annotated[str, Field(title="Ecs Task Definition Arn")]
    worker_image: Annotated[str, Field(title="Worker Image")]
    snapshot_s3_uri: Annotated[str, Field(title="Snapshot S3 Uri")]
    description: Annotated[str | None, Field(title="Description")] = None
    archived: Annotated[bool | None, Field(title="Archived")] = False
    parent_artifact_id: Annotated[str | None, Field(title="Parent Artifact Id")] = None
    rootfs_s3_uri: Annotated[str | None, Field(title="Rootfs S3 Uri")] = None
    archive_type: Annotated[str | None, Field(title="Archive Type")] = "sparse-s3"
    status: Annotated[str | None, Field(title="Status")] = "ready"
    notes: Annotated[str | None, Field(title="Notes")] = None
    internal_app_port: Annotated[int | None, Field(title="Internal App Port")] = None
    messaging_port: Annotated[int | None, Field(title="Messaging Port")] = None
    plato_config: Annotated[str | None, Field(title="Plato Config")] = None
    flows: Annotated[str | None, Field(title="Flows")] = None
    target: Annotated[str | None, Field(title="Target")] = None
    expires_at: Annotated[AwareDatetime | None, Field(title="Expires At")] = None
    memory_manifest_id: Annotated[str | None, Field(title="Memory Manifest Id")] = None
    disk_manifest_id: Annotated[str | None, Field(title="Disk Manifest Id")] = None
    snapshotted_at: Annotated[AwareDatetime | None, Field(title="Snapshotted At")] = None
    created_at: Annotated[AwareDatetime, Field(title="Created At")]


class ArtifactInfoResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    simulator_name: Annotated[str, Field(title="Simulator Name")]
    dataset: Annotated[str, Field(title="Dataset")]
    status: Annotated[str, Field(title="Status")]
    archive_type: Annotated[str, Field(title="Archive Type")]
    parent_artifact_id: Annotated[str | None, Field(title="Parent Artifact Id")] = None
    description: Annotated[str | None, Field(title="Description")] = None


class ArtifactLineageResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact: ArtifactFullDetails
    lineage: Annotated[list[ArtifactFullDetails], Field(title="Lineage")]
    lineage_depth: Annotated[int, Field(title="Lineage Depth")]


class ArtifactMetadata(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    simulator_name: Annotated[str, Field(title="Simulator Name")]
    git_hash: Annotated[str, Field(title="Git Hash")]
    dataset: Annotated[str, Field(title="Dataset")]
    created_at: Annotated[AwareDatetime, Field(title="Created At")]


class AssignTestCaseToOrganizationsRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    organization_ids: Annotated[list[int], Field(title="Organization Ids")]
    requested_recording_count: Annotated[int | None, Field(title="Requested Recording Count")] = 1


class AssignmentStage(Enum):
    needs_labelling = "needs_labelling"
    needs_recording = "needs_recording"
    needs_scoring = "needs_scoring"
    review = "review"
    completed = "completed"
    needs_data_creation = "needs_data_creation"


class AssignmentType(Enum):
    data_creation = "data_creation"


class Authentication(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    user: Annotated[str, Field(title="User")]
    password: Annotated[str, Field(title="Password")]


class ScoringType(Enum):
    mutations = "mutations"
    output = "output"


class AutoVerifySessionInput(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    is_imposter: Annotated[bool | None, Field(title="Is Imposter")] = False
    output: Annotated[Any, Field(title="Output")] = None


class BackupEnvResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    data: Annotated[dict[str, Any], Field(title="Data")]
    details: Annotated[dict[str, Any], Field(title="Details")]


class Type1(Enum):
    offline_step = "offline_step"
    offline_exact_action_match = "offline_exact_action_match"
    offline_exact_state_match = "offline_exact_state_match"
    offline_exact_output_match = "offline_exact_output_match"
    page_action_sequence = "page_action_sequence"
    human_in_the_loop = "human_in_the_loop"
    api = "api"
    criteria = "criteria"
    real_evals_state_check = "real_evals_state_check"
    real_evals_response_check = "real_evals_response_check"
    composite = "composite"
    custom = "custom"
    state_mutation_match = "state_mutation_match"
    system_scoring = "system_scoring"
    json_schema = "json_schema"


class BaseScoringConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Type1, Field(title="Type")]


class Source(Enum):
    system = "system"
    agent = "agent"
    simulator = "simulator"


class Type2(Enum):
    info = "info"
    warning = "warning"
    error = "error"
    answer = "answer"
    action = "action"
    state_mutation = "state_mutation"
    ood_request = "ood_request"
    screen_recording_started = "screen_recording_started"


class BaseStructuredRunLog(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    source: Annotated[Source | None, Field(title="Source")] = Source.system
    type: Annotated[Type2 | None, Field(title="Type")] = Type2.info
    timestamp: Annotated[str | None, Field(title="Timestamp")] = None


class BatchArtifactMetadataRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_ids: Annotated[list[str], Field(title="Artifact Ids")]


class BatchArtifactMetadataResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifacts: Annotated[dict[str, ArtifactMetadata], Field(title="Artifacts")]
    not_found: Annotated[list[str], Field(title="Not Found")]


class BatchSessionsResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_group_sessions: Annotated[dict[str, Any], Field(title="Job Group Sessions")]
    total_job_groups: Annotated[int, Field(title="Total Job Groups")]


class BatchTestCaseInput(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str, Field(title="Name")]
    prompt: Annotated[str, Field(title="Prompt")]
    start_url: Annotated[str | None, Field(title="Start Url")] = None
    hint: Annotated[str | None, Field(title="Hint")] = None
    simulator_config: Annotated[dict[str, Any] | None, Field(title="Simulator Config")] = None
    default_scoring_config: BaseScoringConfig | None = None
    output_schema: Annotated[Any, Field(title="Output Schema")] = None
    config: Annotated[dict[str, Any] | None, Field(title="Config")] = None
    test_case_set_id: Annotated[int | None, Field(title="Test Case Set Id")] = None
    organization_id: Annotated[int | None, Field(title="Organization Id")] = None
    is_sample: Annotated[bool | None, Field(title="Is Sample")] = False
    scoring_types: Annotated[list[Any] | None, Field(title="Scoring Types")] = None
    goal_type: Annotated[str | None, Field(title="Goal Type")] = None
    reasoning_level: Annotated[Any, Field(title="Reasoning Level")] = None
    skills: Annotated[list[Any] | None, Field(title="Skills")] = None
    capabilities: Annotated[list[Any] | None, Field(title="Capabilities")] = None
    tags: Annotated[list[str] | None, Field(title="Tags")] = None
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    """
    Primary simulator artifact ID - must exist in DB
    """
    artifact_ids: Annotated[list[str] | None, Field(title="Artifact Ids")] = None
    """
    Optional list of additional artifact IDs to associate with the test case
    """
    public_id: Annotated[str | None, Field(title="Public Id")] = None
    """
    Optional unique identifier for upsert logic
    """
    archived: Annotated[bool | None, Field(title="Archived")] = False
    average_steps_taken: Annotated[int | None, Field(title="Average Steps Taken")] = None
    average_time_taken: Annotated[float | None, Field(title="Average Time Taken")] = None


class BodyCreateSessionFromEnvRecording(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    video_file: Annotated[bytes, Field(title="Video File")]
    events_file: Annotated[bytes, Field(title="Events File")]
    simulator_id: Annotated[int | None, Field(title="Simulator Id")] = None


class BodyCreateSessionFromHar(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    har_file: Annotated[bytes, Field(title="Har File")]
    simulator_id: Annotated[int, Field(title="Simulator Id")]


class BodyUploadChronosPackage(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    package_name: Annotated[str, Field(title="Package Name")]
    version: Annotated[str, Field(title="Version")]
    alias: Annotated[str, Field(title="Alias")]
    description: Annotated[str, Field(title="Description")]
    agents: Annotated[str, Field(title="Agents")]
    wheel_file: Annotated[bytes, Field(title="Wheel File")]
    sdist_file: Annotated[bytes, Field(title="Sdist File")]


class BulkArchiveTestCasesRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    test_case_ids: Annotated[list[int], Field(title="Test Case Ids")]


class CacheClearAllResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    caches_cleared: Annotated[dict[str, int], Field(title="Caches Cleared")]
    total_cleared: Annotated[int, Field(title="Total Cleared")]


class CacheClearResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    cache_name: Annotated[str, Field(title="Cache Name")]
    entries_cleared: Annotated[int, Field(title="Entries Cleared")]


class CacheKeyDeleteResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    cache_name: Annotated[str, Field(title="Cache Name")]
    key: Annotated[str, Field(title="Key")]
    deleted: Annotated[bool, Field(title="Deleted")]


class CacheName(Enum):
    artifact = "artifact"
    artifact_tag = "artifact_tag"
    simulator = "simulator"
    handler = "handler"
    service_type = "service_type"
    organization = "organization"
    api_key = "api_key"
    access = "access"


class CacheStats(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    size: Annotated[int, Field(title="Size")]
    ttl_seconds: Annotated[int, Field(title="Ttl Seconds")]


class CacheStatsResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    caches: Annotated[dict[str, CacheStats], Field(title="Caches")]


class Capability(Enum):
    forms_and_inputs = "forms_and_inputs"
    search_and_extract = "search_and_extract"
    navigation_and_structure = "navigation_and_structure"
    feedback_and_overlays = "feedback_and_overlays"
    data_displays = "data_displays"
    auth_and_bot_protection = "auth_and_bot_protection"
    iframe_and_shadow_dom = "iframe_and_shadow_dom"
    error_state_handling = "error_state_handling"
    login_screen = "login_screen"
    form_multi_page = "form_multi_page"
    file_uploader = "file_uploader"
    address_form = "address_form"
    payment_form = "payment_form"
    masked_inputs = "masked_inputs"
    tabs_nav = "tabs_nav"
    accordion = "accordion"
    breadcrumb_nav = "breadcrumb_nav"
    multi_step_wizard = "multi_step_wizard"
    infinite_scroll = "infinite_scroll"
    modal = "modal"
    notification_banner = "notification_banner"
    cookie_banner = "cookie_banner"
    toast_notification = "toast_notification"
    tabular_results = "tabular_results"
    list_cards = "list_cards"
    tree_view = "tree_view"
    kanban_board = "kanban_board"
    date_picker = "date_picker"
    time_picker = "time_picker"
    multi_select_dropdown = "multi_select_dropdown"
    slider_widget = "slider_widget"
    captcha = "captcha"
    paywall_gate = "paywall_gate"
    rate_limit_wall = "rate_limit_wall"
    iframe_embed = "iframe_embed"
    shadow_dom = "shadow_dom"
    disabled_state_controls = "disabled_state_controls"
    error_page_404 = "error_page_404"
    error_page_500 = "error_page_500"
    empty_state = "empty_state"


class CdpUrlResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    data: Annotated[dict[str, Any], Field(title="Data")]
    error: Annotated[str | None, Field(title="Error")] = None


class CheckElementStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["check_element"], Field(title="Type")] = "check_element"
    selector: Annotated[str, Field(title="Selector")]
    """
    CSS selector to check
    """
    should_exist: Annotated[bool | None, Field(title="Should Exist")] = True
    """
    Whether element should exist
    """


class ChromeCookie(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str, Field(title="Name")]
    value: Annotated[str, Field(title="Value")]
    domain: Annotated[str, Field(title="Domain")]
    path: Annotated[str, Field(title="Path")]
    expires: Annotated[int, Field(title="Expires")]
    httpOnly: Annotated[bool, Field(title="Httponly")]
    secure: Annotated[bool, Field(title="Secure")]


class CleanupStaleVMsRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    stale_threshold_seconds: Annotated[int | None, Field(title="Stale Threshold Seconds")] = 600
    """
    Age threshold in seconds (default 10 minutes)
    """


class CleanupStaleVMsResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    message: Annotated[str, Field(title="Message")]
    stale_vms_found: Annotated[int, Field(title="Stale Vms Found")]
    shutdown_requests_sent: Annotated[int, Field(title="Shutdown Requests Sent")]
    records_deleted: Annotated[int, Field(title="Records Deleted")]
    stale_vms: Annotated[list[dict[str, Any]], Field(title="Stale Vms")]


class ClickStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["click"], Field(title="Type")] = "click"
    selector: Annotated[str, Field(title="Selector")]
    """
    CSS selector to click
    """


class CloseEnvResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]


class CloseJobResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    message: Annotated[str | None, Field(title="Message")] = None


class CloseSessionResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    message: Annotated[str, Field(title="Message")]
    results: Annotated[dict[str, CloseJobResult] | None, Field(title="Results")] = None
    """
    Results per job_id
    """


class ConnectRoutingInfoResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    ready: Annotated[bool, Field(title="Ready")]
    """
    Whether job is ready for routing
    """
    worker_private_ip: Annotated[str | None, Field(title="Worker Private Ip")] = None
    """
    Worker private IP
    """
    vm_private_ip: Annotated[str | None, Field(title="Vm Private Ip")] = None
    """
    VM private IP
    """
    vm_gateway_ip: Annotated[str | None, Field(title="Vm Gateway Ip")] = None
    """
    VM gateway IP
    """
    vm_port: Annotated[str | None, Field(title="Vm Port")] = None
    """
    VM port
    """
    job_public_id: Annotated[str | None, Field(title="Job Public Id")] = None
    """
    Job public ID
    """
    status: Annotated[str | None, Field(title="Status")] = None
    """
    Job status
    """


class ConnectUrlResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_id: Annotated[str, Field(title="Job Id")]
    """
    Job public ID
    """
    url: Annotated[str | None, Field(title="Url")] = None
    """
    Direct connect URL with embedded token: {token}.connect.plato.so
    """
    error: Annotated[str | None, Field(title="Error")] = None
    """
    Error message if failed
    """


class ConvertTextToStructuredDataRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    text: Annotated[str, Field(title="Text")]
    outputSchema: Annotated[dict[str, Any], Field(title="Outputschema")]


class Type3(Enum):
    human = "human"
    dev = "dev"
    git_container = "git_container"


class CreateAgentArtifactRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    alias: Annotated[str, Field(title="Alias")]
    type: Annotated[Type3, Field(title="Type")]
    description: Annotated[str, Field(title="Description")]
    imgUrl: Annotated[str | None, Field(title="Imgurl")] = None
    humanName: Annotated[str | None, Field(title="Humanname")] = None
    endpoint: Annotated[str | None, Field(title="Endpoint")] = None
    repoUrl: Annotated[str | None, Field(title="Repourl")] = None
    branch: Annotated[str | None, Field(title="Branch")] = None
    commitHash: Annotated[str | None, Field(title="Commithash")] = None


class CreateAnnotatorAssignmentRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    assignment_type: AssignmentType
    stage: AssignmentStage
    organization_id: Annotated[int, Field(title="Organization Id")]
    test_case_id: Annotated[int | None, Field(title="Test Case Id")] = None
    session_id: Annotated[str | None, Field(title="Session Id")] = None
    simulator_id: Annotated[int | None, Field(title="Simulator Id")] = None


class CreateCheckpointRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Optional description
    """
    override_service: Annotated[str | None, Field(title="Override Service")] = None
    """
    Override simulator/service name in artifact
    """
    override_version: Annotated[str | None, Field(title="Override Version")] = None
    """
    Override version/git_hash in artifact
    """
    override_dataset: Annotated[str | None, Field(title="Override Dataset")] = None
    """
    Override dataset in artifact
    """
    expires_at: Annotated[AwareDatetime | None, Field(title="Expires At")] = None
    """
    Optional expiration time for the artifact (ISO 8601)
    """
    flows: Annotated[str | None, Field(title="Flows")] = None
    """
    YAML definition of application flows/workflows
    """
    plato_config: Annotated[str | None, Field(title="Plato Config")] = None
    """
    YAML configuration for Plato-specific settings
    """
    internal_app_port: Annotated[int | None, Field(title="Internal App Port")] = None
    """
    Internal port the application listens on
    """
    messaging_port: Annotated[int | None, Field(title="Messaging Port")] = None
    """
    Port for messaging/communication
    """
    target: Annotated[str | None, Field(title="Target")] = None
    """
    Target domain for routing (e.g., sims.plato.so)
    """
    snapshotted_at: Annotated[AwareDatetime | None, Field(title="Snapshotted At")] = None
    """
    Override the snapshot timestamp. If not provided, calculates as parent's snapshotted_at + 30min or current time
    """


class CreateCheckpointResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    """
    ID of the created checkpoint artifact
    """
    success: Annotated[bool | None, Field(title="Success")] = True
    """
    Whether checkpoint creation succeeded
    """
    error: Annotated[str | None, Field(title="Error")] = None
    """
    Error message if failed
    """


CreateDiskSnapshotRequest = CreateCheckpointRequest


class CreateDiskSnapshotResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    """
    ID of the created disk snapshot artifact
    """


class InterfaceType(Enum):
    browser = "browser"
    computer = "computer"
    noop = "noop"


class CreateEnvRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    interface_type: Annotated[InterfaceType, Field(title="Interface Type")]
    interface_width: Annotated[int | None, Field(title="Interface Width")] = None
    interface_height: Annotated[int | None, Field(title="Interface Height")] = None
    source: Annotated[str, Field(title="Source")]
    open_page_on_start: Annotated[bool | None, Field(title="Open Page On Start")] = False
    env_id: Annotated[str, Field(title="Env Id")]
    env_config: Annotated[dict[str, Any], Field(title="Env Config")]
    record_network_requests: Annotated[bool | None, Field(title="Record Network Requests")] = False
    record_actions: Annotated[bool | None, Field(title="Record Actions")] = False
    load_chrome_extensions: Annotated[list[str] | None, Field(title="Load Chrome Extensions")] = None
    keepalive: Annotated[bool | None, Field(title="Keepalive")] = False
    alias: Annotated[str | None, Field(title="Alias")] = None
    fast: Annotated[bool | None, Field(title="Fast")] = False
    version: Annotated[str | None, Field(title="Version")] = None
    tag: Annotated[str | None, Field(title="Tag")] = None
    dataset: Annotated[str | None, Field(title="Dataset")] = None
    artifact_id: Annotated[str | None, Field(title="Artifact Id")] = None
    timeout: Annotated[int | None, Field(title="Timeout")] = 1800


class CreateNetworkRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    name: Annotated[str | None, Field(title="Name")] = None


class CreateNetworkResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    name: Annotated[str | None, Field(title="Name")] = None
    dns_suffix: Annotated[str, Field(title="Dns Suffix")]
    status: Annotated[str, Field(title="Status")]


class CreateOrgApiKeyRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str | None, Field(title="Name")] = None
    policy_ids: Annotated[list[int] | None, Field(title="Policy Ids")] = []
    permissions_via_scope: Annotated[bool | None, Field(title="Permissions Via Scope")] = False


class CreateOrgApiKeyResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    key_prefix: Annotated[str, Field(title="Key Prefix")]
    name: Annotated[str | None, Field(title="Name")] = None
    full_key: Annotated[str, Field(title="Full Key")]
    permissions_via_scope: Annotated[bool, Field(title="Permissions Via Scope")]


class CreateOrgPolicyRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    role: Annotated[str, Field(title="Role")]
    resource_type: Annotated[str, Field(title="Resource Type")]
    resource_id: Annotated[str, Field(title="Resource Id")]


class CreateRepoRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str, Field(title="Name")]
    description: Annotated[str | None, Field(title="Description")] = None
    private: Annotated[bool | None, Field(title="Private")] = False


class CreateSnapshotResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    """
    ID of the created snapshot artifact
    """
    success: Annotated[bool | None, Field(title="Success")] = True
    """
    Whether snapshot creation succeeded
    """
    error: Annotated[str | None, Field(title="Error")] = None
    """
    Error message if failed
    """


class CreateTestCaseFromLabelsRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    task_prompt: Annotated[str, Field(title="Task Prompt")]
    test_case_name: Annotated[str, Field(title="Test Case Name")]


class CreateVMResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    status: Annotated[str, Field(title="Status")]
    """
    Status
    """
    timestamp: Annotated[str | None, Field(title="Timestamp")] = None
    """
    Timestamp
    """
    correlation_id: Annotated[str, Field(title="Correlation Id")]
    """
    Correlation ID for tracking
    """
    url: Annotated[str, Field(title="Url")]
    """
    Public URL for the VM
    """
    job_public_id: Annotated[str, Field(title="Job Public Id")]
    """
    Public job ID
    """
    job_group_id: Annotated[str, Field(title="Job Group Id")]
    """
    Job group ID
    """


class DatabaseIgnoreConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Literal["database_ignore"], Field(title="Type")] = "database_ignore"
    ignore_tables: Annotated[list[str], Field(title="Ignore Tables")]
    ignore_columns: Annotated[dict[str, list[str]], Field(title="Ignore Columns")]
    ignore_table_values: Annotated[dict[str, dict[str, list[str]]], Field(title="Ignore Table Values")]


class DbType(Enum):
    postgresql = "postgresql"
    mysql = "mysql"
    sqlite = "sqlite"
    clickhouse = "clickhouse"


class DatabaseMutationListenerConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Literal["db"], Field(title="Type")] = "db"
    db_type: Annotated[DbType, Field(title="Db Type")]
    """
    Database type
    """
    db_host: Annotated[str, Field(title="Db Host")]
    """
    Database host
    """
    db_port: Annotated[int, Field(ge=1, le=65535, title="Db Port")]
    """
    Database port
    """
    db_user: Annotated[str, Field(title="Db User")]
    """
    Database user
    """
    db_password: Annotated[str | None, Field(title="Db Password")] = None
    """
    Database password (optional for clickhouse)
    """
    db_database: Annotated[str, Field(title="Db Database")]
    """
    Database name
    """
    schema_name: Annotated[str | None, Field(title="Schema Name")] = "public"
    """
    Database schema (for PostgreSQL)
    """
    seed_data_paths: Annotated[list[str] | None, Field(title="Seed Data Paths")] = None
    """
    Seed data paths
    """
    truncate_tables: Annotated[bool | None, Field(title="Truncate Tables")] = None
    """
    Truncate tables before seed restore
    """
    audit_ignore_tables: Annotated[list[str | dict[str, Any]] | None, Field(title="Audit Ignore Tables")] = None
    """
    Tables or patterns the auditor should ignore
    """
    volumes: Annotated[list[str] | None, Field(title="Volumes")] = None
    """
    Docker volume bind mounts
    """


class DbConfigResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    db_type: Annotated[str, Field(title="Db Type")]
    db_port: Annotated[int, Field(title="Db Port")]
    db_user: Annotated[str, Field(title="Db User")]
    db_password: Annotated[str, Field(title="Db Password")]
    db_database: Annotated[str, Field(title="Db Database")]


class DeleteRepositoryResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    message: Annotated[str, Field(title="Message")]


class DispatcherPauseRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    pause: Annotated[bool, Field(title="Pause")]
    """
    True to pause, False to resume
    """
    dispatcher_id: Annotated[str, Field(title="Dispatcher Id")]
    """
    Specific dispatcher ID to pause/resume (e.g., 'worker-i-1234567890abcdef-0')
    """


class DispatcherPauseResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    message: Annotated[str, Field(title="Message")]
    dispatchers_notified: Annotated[list[str], Field(title="Dispatchers Notified")]
    total_dispatchers: Annotated[int, Field(title="Total Dispatchers")]


class DockerComposeServiceConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Literal["docker-compose"], Field(title="Type")] = "docker-compose"
    file: Annotated[str | None, Field(title="File")] = "docker-compose.yml"
    """
    Entrypoint file path
    """
    required_healthy_containers: Annotated[list[str] | None, Field(title="Required Healthy Containers")] = None
    """
    Services to wait for (use ['all'] for all)
    """
    healthy_wait_timeout: Annotated[int | None, Field(title="Healthy Wait Timeout")] = 300
    """
    Timeout in seconds to wait for healthy
    """


class EcrTokenResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    token: Annotated[str, Field(title="Token")]
    registry: Annotated[str, Field(title="Registry")]
    repository: Annotated[str, Field(title="Repository")]
    image_uri: Annotated[str, Field(title="Image Uri")]


class EnvCleanupResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    error: Annotated[str | None, Field(title="Error")] = None


EnvFlowsResponse = CdpUrlResponse


class EnvFromArtifact(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Literal["artifact"], Field(title="Type")] = "artifact"
    """
    Environment type
    """
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    """
    Specific artifact/snapshot ID to use
    """
    alias: Annotated[str | None, Field(title="Alias")] = None
    """
    Custom name for this environment
    """
    restore_memory: Annotated[bool | None, Field(title="Restore Memory")] = True
    """
    If True (default), resume from memory snapshot. If False, do a fresh boot with disk state only.
    """


class RootfsStorageBackend(Enum):
    sparse_s3 = "sparse-s3"
    blockdiff = "blockdiff"
    blockdiff_checkpoint = "blockdiff_checkpoint"
    blockdiff_disk = "blockdiff_disk"
    snapshot_store = "snapshot-store"


class EnvFromSimulator(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Literal["simulator"], Field(title="Type")] = "simulator"
    """
    Environment type
    """
    simulator: Annotated[str, Field(title="Simulator")]
    """
    Simulator/service name
    """
    tag: Annotated[str | None, Field(title="Tag")] = "latest"
    """
    Artifact tag (defaults to 'latest')
    """
    dataset: Annotated[str | None, Field(title="Dataset")] = None
    """
    Dataset to use for the environment
    """
    alias: Annotated[str | None, Field(title="Alias")] = None
    """
    Custom name for this environment
    """


class EnvInfo(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_id: Annotated[str | None, Field(title="Job Id")] = None
    """
    Job public ID (null if failed)
    """
    alias: Annotated[str, Field(title="Alias")]
    """
    Environment alias
    """
    artifact_id: Annotated[str | None, Field(title="Artifact Id")] = None
    """
    Artifact ID used (null for resource-based launch)
    """
    success: Annotated[bool | None, Field(title="Success")] = True
    """
    Whether job creation succeeded
    """
    error: Annotated[str | None, Field(title="Error")] = None
    """
    Error message if failed
    """


class EnvResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_id: Annotated[str, Field(title="Job Id")]
    env_id: Annotated[str, Field(title="Env Id")]


class EnvSpec(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    env_id: Annotated[str | None, Field(title="Env Id")] = None
    artifact_id: Annotated[str | None, Field(title="Artifact Id")] = None


class EnvStateResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    data: Annotated[dict[str, Any], Field(title="Data")]
    error: Annotated[str | None, Field(title="Error")] = None
    success: Annotated[bool, Field(title="Success")]


class EnvironmentContext(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_id: Annotated[str, Field(title="Job Id")]
    """
    Job public ID
    """
    alias: Annotated[str, Field(title="Alias")]
    """
    Environment alias
    """
    artifact_id: Annotated[str | None, Field(title="Artifact Id")] = None
    """
    Artifact ID (null for resource-based)
    """
    simulator: Annotated[str | None, Field(title="Simulator")] = None
    """
    Simulator/service name
    """


class ErrorDetail(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    detail: Annotated[str, Field(title="Detail")]
    """
    Error message
    """


class EvaluatePythonRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    code: Annotated[str, Field(title="Code")]


class ExecuteCommandRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    command: Annotated[str, Field(title="Command")]
    """
    Command to execute
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 30
    """
    Command timeout in seconds
    """


class ExecuteCommandResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    stdout: Annotated[str, Field(title="Stdout")]
    stderr: Annotated[str, Field(title="Stderr")]
    exit_code: Annotated[int, Field(title="Exit Code")]
    timed_out: Annotated[bool | None, Field(title="Timed Out")] = False


class ExecuteSSHRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    command: Annotated[str, Field(title="Command")]
    """
    The shell command to execute
    """
    timeout: Annotated[int | None, Field(ge=1, le=600, title="Timeout")] = 60
    """
    Command timeout in seconds
    """


class ExecuteSSHResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    status: Annotated[str, Field(title="Status")]
    """
    Status of the operation
    """
    correlation_id: Annotated[str, Field(title="Correlation Id")]
    """
    Correlation ID for tracking the result
    """
    timestamp: Annotated[str, Field(title="Timestamp")]
    """
    Timestamp of the request
    """


class ExecuteScriptStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["execute_script"], Field(title="Type")] = "execute_script"
    script: Annotated[str, Field(title="Script")]
    """
    JavaScript script to execute
    """


class Type4(Enum):
    simulator = "simulator"
    artifact = "artifact"
    testcase = "testcase"
    testcase_artifact = "testcase_artifact"


class ExistingPublicIdsResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Type4, Field(title="Type")]
    public_ids: Annotated[list[str], Field(title="Public Ids")]


class FileContentResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str, Field(title="Name")]
    path: Annotated[str, Field(title="Path")]
    content: Annotated[str, Field(title="Content")]
    size: Annotated[int, Field(title="Size")]
    encoding: Annotated[str, Field(title="Encoding")]


class FileMutationListenerConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Literal["file"], Field(title="Type")] = "file"
    seed_data_path: Annotated[str | None, Field(title="Seed Data Path")] = None
    """
    Seed data path
    """
    target_dir: Annotated[str, Field(title="Target Dir")]
    """
    Main directory for file monitoring
    """
    watch_enabled: Annotated[bool | None, Field(title="Watch Enabled")] = True
    """
    Enable mutation tracking
    """
    watch_patterns: Annotated[list[str] | None, Field(title="Watch Patterns")] = None
    """
    Glob patterns to watch
    """
    ignore_patterns: Annotated[list[str] | None, Field(title="Ignore Patterns")] = None
    """
    Glob patterns to ignore
    """
    scan_frequency: Annotated[int | None, Field(title="Scan Frequency")] = 5
    """
    State rescan frequency in seconds
    """
    volumes: Annotated[list[str] | None, Field(title="Volumes")] = None
    """
    Docker volume bind mounts
    """


class FillStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["fill"], Field(title="Type")] = "fill"
    selector: Annotated[str, Field(title="Selector")]
    """
    CSS selector for input field
    """
    value: Annotated[str | int | bool, Field(title="Value")]
    """
    Value to fill
    """


class GenerateMutationsRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    test_case_ids: Annotated[list[int] | None, Field(title="Test Case Ids")] = None
    simulator_id: Annotated[int | None, Field(title="Simulator Id")] = None


GenerateMutationsSingleRequest = ArchiveOrganizationTestCaseRequest


class GenerateScoringConfigFromSessionsRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    sessionIds: Annotated[list[str], Field(title="Sessionids")]
    scoringType: Annotated[ScoringType | None, Field(title="Scoringtype")] = ScoringType.mutations
    outputs: Annotated[list[Any] | None, Field(title="Outputs")] = None


class GetConcurrencyStatusResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    organization_id: Annotated[int, Field(title="Organization Id")]
    organization_name: Annotated[str, Field(title="Organization Name")]
    max_concurrent_runs: Annotated[int, Field(title="Max Concurrent Runs")]
    """
    Concurrency limit from DB (org plan)
    """
    nats_available_tokens: Annotated[int, Field(title="Nats Available Tokens")]
    """
    Number of available tokens in NATS
    """
    running_jobs: Annotated[int, Field(title="Running Jobs")]
    """
    Number of currently running jobs
    """
    total_tokens: Annotated[int, Field(title="Total Tokens")]
    """
    Total tokens (NATS available + running jobs)
    """


class GetVersionByTagRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    simulator_name: Annotated[str, Field(title="Simulator Name")]
    tag: Annotated[str, Field(title="Tag")]
    dataset: Annotated[str | None, Field(title="Dataset")] = "base"


class GetVersionByTagResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    git_hash: Annotated[str | None, Field(title="Git Hash")] = None
    worker_image: Annotated[str | None, Field(title="Worker Image")] = None
    snapshot_s3_uri: Annotated[str | None, Field(title="Snapshot S3 Uri")] = None
    ecs_task_definition_arn: Annotated[str | None, Field(title="Ecs Task Definition Arn")] = None
    error: Annotated[str | None, Field(title="Error")] = None


class GiteaCredentialsResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    username: Annotated[str, Field(title="Username")]
    password: Annotated[str, Field(title="Password")]
    org_name: Annotated[str, Field(title="Org Name")]
    is_admin: Annotated[bool, Field(title="Is Admin")]


class GiteaInfoResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    username: Annotated[str, Field(title="Username")]
    password: Annotated[str, Field(title="Password")]
    org_name: Annotated[str, Field(title="Org Name")]
    is_admin: Annotated[bool, Field(title="Is Admin")]
    provisioned: Annotated[bool | None, Field(title="Provisioned")] = None


class HeartbeatJobResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    errors: Annotated[list[str] | None, Field(title="Errors")] = None
    """
    List of errors if heartbeat failed (e.g., 'vm_heartbeat_message: ...', 'registry_heartbeat_update: ...')
    """


class HumanInTheLoopScoreRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    correct: Annotated[bool, Field(title="Correct")]
    annotatorReasoning: Annotated[str | None, Field(title="Annotatorreasoning")] = None
    sessionSnapshotId: Annotated[int | None, Field(title="Sessionsnapshotid")] = None
    sessionTime: Annotated[int | None, Field(title="Sessiontime")] = None
    is_ambiguous: Annotated[bool | None, Field(title="Is Ambiguous")] = False


class ImportAgentRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str, Field(title="Name")]
    version: Annotated[str, Field(title="Version")]
    image_uri: Annotated[str, Field(title="Image Uri")]
    description: Annotated[str | None, Field(title="Description")] = None
    config_schema: Annotated[dict[str, Any] | None, Field(title="Config Schema")] = None
    template_variables: Annotated[dict[str, str] | None, Field(title="Template Variables")] = None
    secrets_schema: Annotated[dict[str, Any] | None, Field(title="Secrets Schema")] = None


class ImportAgentResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    name: Annotated[str, Field(title="Name")]
    version: Annotated[str, Field(title="Version")]
    image_uri: Annotated[str, Field(title="Image Uri")]
    created: Annotated[bool, Field(title="Created")]


class ImportRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Type4, Field(title="Type")]
    item: Annotated[dict[str, Any], Field(title="Item")]


class ImportResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[str, Field(title="Id")]
    action: Annotated[str, Field(title="Action")]


class InterfaceWorkerInfoResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    ready: Annotated[bool, Field(title="Ready")]
    worker_private_ip: Annotated[str | None, Field(title="Worker Private Ip")] = None
    worker_public_ip: Annotated[str | None, Field(title="Worker Public Ip")] = None
    messaging_port: Annotated[int | None, Field(title="Messaging Port")] = None
    vm_port: Annotated[str | None, Field(title="Vm Port")] = None
    worker_port: Annotated[str | None, Field(title="Worker Port")] = None
    vm_private_ip: Annotated[str | None, Field(title="Vm Private Ip")] = None
    vm_gateway_ip: Annotated[str | None, Field(title="Vm Gateway Ip")] = None
    job_public_id: Annotated[str | None, Field(title="Job Public Id")] = None
    provider: Annotated[str | None, Field(title="Provider")] = None


class JobInfo(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_id: Annotated[str, Field(title="Job Id")]
    """
    Job public ID
    """
    alias: Annotated[str, Field(title="Alias")]
    """
    Environment alias
    """
    simulator: Annotated[str, Field(title="Simulator")]
    """
    Simulator name
    """
    status: Annotated[str | None, Field(title="Status")] = None
    """
    Job status
    """
    status_reason: Annotated[str | None, Field(title="Status Reason")] = None
    """
    Job status reason
    """


class JobInfoResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_id: Annotated[str, Field(title="Job Id")]
    internal_id: Annotated[int, Field(title="Internal Id")]
    status: Annotated[str, Field(title="Status")]
    service: Annotated[str, Field(title="Service")]
    ecs_task_arn: Annotated[str | None, Field(title="Ecs Task Arn")] = None
    worker_private_ip: Annotated[str | None, Field(title="Worker Private Ip")] = None
    worker_public_ip: Annotated[str | None, Field(title="Worker Public Ip")] = None
    created_at: Annotated[str | None, Field(title="Created At")] = None
    updated_at: Annotated[str | None, Field(title="Updated At")] = None


class JobStatus(Enum):
    value_0 = {"use_enum_values": True}
    created = "created"
    queued = "queued"
    running = "running"
    completed = "completed"
    failed = "failed"
    cancelled = "cancelled"
    timeout = "timeout"


class JobStatusResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    status: Annotated[str, Field(title="Status")]
    status_reason: Annotated[str | None, Field(title="Status Reason")] = None
    created_at: Annotated[AwareDatetime, Field(title="Created At")]
    updated_at: Annotated[AwareDatetime, Field(title="Updated At")]


class JobStatusUpdateRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_public_id: Annotated[str, Field(title="Job Public Id")]
    status: Annotated[str | None, Field(title="Status")] = None
    worker_private_ip: Annotated[str | None, Field(title="Worker Private Ip")] = None
    worker_public_ip: Annotated[str | None, Field(title="Worker Public Ip")] = None
    messaging_port: Annotated[int | None, Field(title="Messaging Port")] = None
    last_heartbeat: Annotated[AwareDatetime | None, Field(title="Last Heartbeat")] = None
    status_reason: Annotated[str | None, Field(title="Status Reason")] = None


JobWorkerInfoResponse = AppSimWorkerInfoResponse


class LaunchResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    job_id: Annotated[str | None, Field(title="Job Id")] = None
    status: Annotated[str, Field(title="Status")]
    error: Annotated[str | None, Field(title="Error")] = None


class ListJobsResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    jobs: Annotated[list[JobInfo], Field(title="Jobs")]


class LogResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    status: Annotated[str, Field(title="Status")]
    message: Annotated[str, Field(title="Message")]
    count: Annotated[int | None, Field(title="Count")] = None


class Status(Enum):
    available = "available"
    archived = "archived"
    restoring = "restoring"


class LogStatusResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    status: Annotated[Status, Field(title="Status")]
    message: Annotated[str | None, Field(title="Message")] = None
    logs_count: Annotated[int | None, Field(title="Logs Count")] = None


class MakeEnvBatchRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    envs: Annotated[list[EnvSpec], Field(title="Envs")]
    source: Annotated[str | None, Field(title="Source")] = "SDK"


class MakeEnvBatchResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    batch_id: Annotated[str, Field(title="Batch Id")]
    envs: Annotated[list[EnvResult], Field(title="Envs")]


class MakeEnvResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_id: Annotated[str, Field(title="Job Id")]
    alias: Annotated[str | None, Field(title="Alias")] = None
    results: Annotated[list[dict[str, Any]], Field(title="Results")]
    status: Annotated[str, Field(title="Status")]
    message: Annotated[str, Field(title="Message")]


class NavigateStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["navigate"], Field(title="Type")] = "navigate"
    url: Annotated[str, Field(title="Url")]
    """
    URL to navigate to
    """


class NetworkMemberResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_id: Annotated[str, Field(title="Job Id")]
    alias: Annotated[str | None, Field(title="Alias")] = None
    dns_name: Annotated[str | None, Field(title="Dns Name")] = None
    wireguard_ip: Annotated[str | None, Field(title="Wireguard Ip")] = None
    status: Annotated[str, Field(title="Status")]
    joined_at: Annotated[str | None, Field(title="Joined At")] = None


class NetworkResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    name: Annotated[str | None, Field(title="Name")] = None
    dns_suffix: Annotated[str, Field(title="Dns Suffix")]
    status: Annotated[str, Field(title="Status")]
    member_count: Annotated[int, Field(title="Member Count")]
    created_at: Annotated[str | None, Field(title="Created At")] = None


class NodeBuildConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    ssh_private_key: Annotated[str | None, Field(title="Ssh Private Key")] = None
    """
    SSH private key for VM access. If not set, a new key will be generated.
    """
    ssh_public_key: Annotated[str | None, Field(title="Ssh Public Key")] = None
    """
    SSH public key for VM access. Derived from private key if not set.
    """
    default_image: Annotated[str | None, Field(title="Default Image")] = (
        "383806609161.dkr.ecr.us-west-1.amazonaws.com/vm/rootfs/plato-ubuntu-22.04:1.1.0"
    )
    """
    Default VM image URL with tag (e.g., 'ecr-url/repo:tag').
    """


class NodeInstance(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    instance_id: Annotated[str, Field(title="Instance Id")]
    total_vms: Annotated[int, Field(title="Total Vms")]
    total_capacity: Annotated[int, Field(title="Total Capacity")]
    vms_by_state: Annotated[dict[str, int], Field(title="Vms By State")]


class NodeNatsConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    servers: Annotated[list[str] | None, Field(title="Servers")] = ["nats://localhost:4222"]
    subject_prefix: Annotated[str | None, Field(title="Subject Prefix")] = "firecracker"


class NodePolicyConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    vms_per_core: Annotated[float | None, Field(title="Vms Per Core")] = 0.5
    """
    Number of VMs per CPU core (e.g., 0.5 means 2 cores per VM)
    """
    max_vms_per_dispatcher: Annotated[int | None, Field(title="Max Vms Per Dispatcher")] = 100
    """
    Maximum VMs per dispatcher (used to calculate dispatcher count)
    """
    vm_heartbeat_timeout: Annotated[int | None, Field(title="Vm Heartbeat Timeout")] = 300
    """
    Seconds before a VM is considered dead if no heartbeat. Set to 0 to disable.
    """
    vm_heartbeat_check_interval: Annotated[int | None, Field(title="Vm Heartbeat Check Interval")] = 30
    """
    Seconds between heartbeat checks
    """


class NodeRedisConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    host: Annotated[str | None, Field(title="Host")] = "localhost"
    port: Annotated[int | None, Field(title="Port")] = 6379
    db: Annotated[int | None, Field(title="Db")] = 0
    password: Annotated[str | None, Field(title="Password")] = None


class NodeS3Config(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    endpoint_url: Annotated[str | None, Field(title="Endpoint Url")] = None
    """
    S3 endpoint URL. Set for MinIO/LocalStack, leave None for AWS.
    """
    access_key_id: Annotated[str | None, Field(title="Access Key Id")] = None
    """
    S3 access key ID. Leave None to use IAM roles in production.
    """
    secret_access_key: Annotated[str | None, Field(title="Secret Access Key")] = None
    """
    S3 secret access key. Leave None to use IAM roles in production.
    """
    region: Annotated[str | None, Field(title="Region")] = "us-west-1"
    """
    AWS region for S3 operations.
    """
    snapshot_bucket: Annotated[str | None, Field(title="Snapshot Bucket")] = "plato-firecracker-snapshots"
    """
    S3 bucket for Firecracker snapshots.
    """


class NodeSessionNetworkConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    enabled: Annotated[bool | None, Field(title="Enabled")] = False
    """
    Enable session networking (WireGuard-based VM-to-VM communication).
    """
    gateway_public_key: Annotated[str | None, Field(title="Gateway Public Key")] = None
    """
    WireGuard public key of the session network gateway.
    """
    gateway_endpoint: Annotated[str | None, Field(title="Gateway Endpoint")] = None
    """
    Gateway WireGuard endpoint (ip:port), e.g., '10.0.0.1:51820'.
    """
    gateway_ip: Annotated[str | None, Field(title="Gateway Ip")] = "10.255.0.1"
    """
    Gateway's WireGuard IP address.
    """


class DefaultRootfsStorageBackend(Enum):
    sparse_s3 = "sparse-s3"
    snapshot_store = "snapshot-store"


class NodeSnapshotStoreConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    bucket: Annotated[str | None, Field(title="Bucket")] = "plato-firecracker-snapshots"
    """
    S3 bucket for snapshot-store packs/manifests.
    """
    prefix: Annotated[str | None, Field(title="Prefix")] = "snapshot-packs"
    """
    S3 prefix for snapshot-store packs/manifests.
    """
    region: Annotated[str | None, Field(title="Region")] = "us-west-1"
    """
    AWS region for snapshot-store S3 operations.
    """
    endpoint_url: Annotated[str | None, Field(title="Endpoint Url")] = None
    """
    S3 endpoint URL for snapshot-store (MinIO/LocalStack).
    """
    metadata_store: Annotated[Literal["postgres"], Field(title="Metadata Store")] = "postgres"
    """
    Snapshot-store metadata backend.
    """
    postgres_dsn: Annotated[str | None, Field(title="Postgres Dsn")] = None
    """
    Postgres DSN for snapshot-store metadata.
    """
    cache_mb: Annotated[int | None, Field(title="Cache Mb")] = 0
    """
    Snapshot-store userspace decompressed page cache size in MB (0 to disable). This cache deduplicates pages by content hash across all manifests. For memory mounts (mount-mem): direct_io is disabled by default, so the kernel page cache already handles caching and deduplication for mmap'd files. Multiple VMs restoring from the same snapshot share kernel-cached pages automatically. The userspace cache is redundant here. For disk mounts (mount-tree): direct_io is enabled by default for overlay write coherency, bypassing the kernel cache. However, the userspace cache only helps for unmodified base image pages read by multiple VMs. Since disk workloads involve frequent writes (logs, temp files, databases), written pages are served from the overlay and bypass this cache entirely. The benefit is marginal for typical workloads. Recommendation: Leave at 0 for most deployments.
    """
    compression_workers: Annotated[int | None, Field(title="Compression Workers")] = 1
    """
    Worker threads for snapshot-store compression.
    """
    upload_workers: Annotated[int | None, Field(title="Upload Workers")] = 6
    """
    Number of concurrent snapshot upload jobs.
    """
    upload_max_attempts: Annotated[int | None, Field(title="Upload Max Attempts")] = 3
    """
    Max upload attempts for snapshot-store uploads.
    """
    storage_root: Annotated[str | None, Field(title="Storage Root")] = None
    """
    Local storage root for snapshot-store data.
    """
    default_rootfs_storage_backend: Annotated[
        DefaultRootfsStorageBackend | None,
        Field(title="Default Rootfs Storage Backend"),
    ] = DefaultRootfsStorageBackend.sparse_s3
    """
    Default rootfs storage backend. 'sparse-s3' uses S3 archives, 'snapshot-store' uses FUSE-based dedup.
    """


class NodeStatusResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    total_instances: Annotated[int, Field(title="Total Instances")]
    total_vms: Annotated[int, Field(title="Total Vms")]
    total_capacity: Annotated[int, Field(title="Total Capacity")]
    stale_vms: Annotated[int, Field(title="Stale Vms")]
    instances: Annotated[list[NodeInstance], Field(title="Instances")]


class NodeStreamConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    demand_stream: Annotated[str | None, Field(title="Demand Stream")] = "vm-demand"
    supply_stream: Annotated[str | None, Field(title="Supply Stream")] = "vm-supply"
    worker_req_ops_stream_prefix: Annotated[str | None, Field(title="Worker Req Ops Stream Prefix")] = (
        "vm-worker-req-ops"
    )
    worker_res_ops_stream_prefix: Annotated[str | None, Field(title="Worker Res Ops Stream Prefix")] = (
        "vm-worker-res-ops"
    )
    lb_consumer_group: Annotated[str | None, Field(title="Lb Consumer Group")] = "vm-worker-node"
    worker_consumer_group_prefix: Annotated[str | None, Field(title="Worker Consumer Group Prefix")] = "vm-worker-node"
    resource_matcher_key_prefix: Annotated[str | None, Field(title="Resource Matcher Key Prefix")] = (
        "vm-resource-matcher"
    )
    artifact_upload_notification_channel: Annotated[str | None, Field(title="Artifact Upload Notification Channel")] = (
        "artifact-upload-notifications"
    )
    """
    Pubsub channel for artifact upload status updates.
    """


class OODRequestLogInput(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    source: Annotated[Literal["simulator"], Field(title="Source")] = "simulator"
    """
    Log source
    """
    type: Annotated[Literal["ood_request"], Field(title="Type")] = "ood_request"
    """
    Log type
    """
    timestamp: Annotated[str, Field(title="Timestamp")]
    """
    ISO 8601 timestamp
    """
    request: Annotated[dict[str, Any], Field(title="Request")]
    """
    Request data
    """


class OrgApiKeyResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    key_prefix: Annotated[str, Field(title="Key Prefix")]
    name: Annotated[str | None, Field(title="Name")] = None
    is_active: Annotated[bool, Field(title="Is Active")]
    created_at: Annotated[str, Field(title="Created At")]
    last_used_at: Annotated[str | None, Field(title="Last Used At")] = None
    permissions_via_scope: Annotated[bool, Field(title="Permissions Via Scope")]


class OrgPolicyResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    role: Annotated[str, Field(title="Role")]
    resource_type: Annotated[str, Field(title="Resource Type")]
    resource_id: Annotated[str, Field(title="Resource Id")]


class PackageInfo(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    package_name: Annotated[str, Field(title="Package Name")]
    version: Annotated[str, Field(title="Version")]
    alias: Annotated[str, Field(title="Alias")]
    agents: Annotated[list[str], Field(title="Agents")]
    published_at: Annotated[str, Field(title="Published At")]
    created_at: Annotated[str, Field(title="Created At")]


class PackageListResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    packages: Annotated[list[PackageInfo], Field(title="Packages")]


class PackageLookupResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    package_name: Annotated[str, Field(title="Package Name")]
    version: Annotated[str, Field(title="Version")]
    alias: Annotated[str, Field(title="Alias")]
    agents: Annotated[list[str], Field(title="Agents")]


class PackageVersionInfo(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    version: Annotated[str, Field(title="Version")]
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    agents: Annotated[list[str], Field(title="Agents")]
    published_at: Annotated[str, Field(title="Published At")]


class PackageVersionsResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    package_name: Annotated[str, Field(title="Package Name")]
    versions: Annotated[list[PackageVersionInfo], Field(title="Versions")]


class PassthroughRequestLogInput(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    source: Annotated[Literal["simulator"], Field(title="Source")] = "simulator"
    """
    Log source
    """
    type: Annotated[Literal["passthrough_request"], Field(title="Type")] = "passthrough_request"
    """
    Log type
    """
    timestamp: Annotated[str, Field(title="Timestamp")]
    """
    ISO 8601 timestamp
    """
    uuid: Annotated[str, Field(title="Uuid")]
    """
    Request UUID
    """


class PlatoConfigResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    plato_config: Annotated[str | None, Field(title="Plato Config")] = None


class PrefetchRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str | None, Field(title="Artifact Id")] = None
    """
    Artifact ID (preferred method)
    """
    service: Annotated[str | None, Field(title="Service")] = None
    """
    Service name (legacy - use artifact_id instead)
    """
    version: Annotated[str | None, Field(title="Version")] = None
    """
    Version string (legacy - use artifact_id instead)
    """
    dataset: Annotated[str | None, Field(title="Dataset")] = "base"
    """
    Dataset name (legacy - use artifact_id instead)
    """
    priority: Annotated[int | None, Field(title="Priority")] = 0
    """
    Priority (higher = more urgent)
    """


class PrefetchResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    message: Annotated[str, Field(title="Message")]
    instances_notified: Annotated[list[str], Field(title="Instances Notified")]
    total_instances: Annotated[int, Field(title="Total Instances")]


class PrepAssignedTestcasesRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    organization_id: Annotated[int, Field(title="Organization Id")]
    """
    Organization ID to prep for
    """


class ProxyMutationListenerConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Literal["proxy"], Field(title="Type")] = "proxy"
    sim_name: Annotated[str | None, Field(title="Sim Name")] = None
    """
    Name of the simulation
    """
    dataset: Annotated[str | None, Field(title="Dataset")] = None
    """
    Dataset to use
    """
    proxy_host: Annotated[str | None, Field(title="Proxy Host")] = "localhost"
    """
    Proxy server host
    """
    proxy_port: Annotated[int | None, Field(title="Proxy Port")] = 8888
    """
    Proxy server port
    """
    passthrough_all_ood_requests: Annotated[bool | None, Field(title="Passthrough All Ood Requests")] = True
    """
    Pass through out-of-domain requests
    """
    replay_sessions: Annotated[list[dict[str, Any]] | None, Field(title="Replay Sessions")] = None
    """
    Replay sessions configuration
    """


ProxyUrlResponse = CdpUrlResponse


class PublicUrlResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_id: Annotated[str, Field(title="Job Id")]
    """
    Job public ID
    """
    url: Annotated[str | None, Field(title="Url")] = None
    """
    Public URL for browser access: {job_id}--{port}.sims.plato.so
    """
    error: Annotated[str | None, Field(title="Error")] = None
    """
    Error message if failed
    """


class ReasoningLevel(Enum):
    level_1 = "level_1"
    level_2 = "level_2"
    level_3 = "level_3"
    level_4 = "level_4"
    level_5 = "level_5"


class Recording(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    simulatorId: Annotated[int, Field(title="Simulatorid")]


RegisterDockerAgentRequest = ImportAgentRequest


RegisterDockerAgentResponse = ImportAgentResponse


class RegisterPackageRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    package_name: Annotated[str, Field(title="Package Name")]
    version: Annotated[str, Field(title="Version")]
    alias: Annotated[str, Field(title="Alias")]
    description: Annotated[str, Field(title="Description")]
    agents: Annotated[list[str], Field(title="Agents")]


class RegisterPackageResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    package_name: Annotated[str, Field(title="Package Name")]
    version: Annotated[str, Field(title="Version")]
    created: Annotated[bool, Field(title="Created")]


class RegisterRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    git_hash: Annotated[str, Field(title="Git Hash")]
    tags: Annotated[list[str], Field(title="Tags")]
    ecs_task_definition_arn: Annotated[str, Field(title="Ecs Task Definition Arn")]
    worker_image: Annotated[str, Field(title="Worker Image")]
    snapshot_s3_uri: Annotated[str, Field(title="Snapshot S3 Uri")]
    dataset: Annotated[str | None, Field(title="Dataset")] = "base"
    artifact_id: Annotated[str | None, Field(title="Artifact Id")] = None
    notes: Annotated[str | None, Field(title="Notes")] = None
    description: Annotated[str | None, Field(title="Description")] = None
    archived: Annotated[bool | None, Field(title="Archived")] = False
    parent_artifact_id: Annotated[str | None, Field(title="Parent Artifact Id")] = None
    rootfs_s3_uri: Annotated[str | None, Field(title="Rootfs S3 Uri")] = None
    archive_type: Annotated[str | None, Field(title="Archive Type")] = "sparse-s3"
    status: Annotated[str | None, Field(title="Status")] = "ready"
    internal_app_port: Annotated[int | None, Field(title="Internal App Port")] = None
    messaging_port: Annotated[int | None, Field(title="Messaging Port")] = None
    plato_config: Annotated[str | None, Field(title="Plato Config")] = None
    flows: Annotated[str | None, Field(title="Flows")] = None
    target: Annotated[str | None, Field(title="Target")] = None
    snapshotted_at: Annotated[AwareDatetime | None, Field(title="Snapshotted At")] = None


class RegisterResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    artifact_id: Annotated[str | None, Field(title="Artifact Id")] = None


class ReleaseManifest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    simulator_public_ids: Annotated[list[str] | None, Field(title="Simulator Public Ids")] = []
    artifact_public_ids: Annotated[list[str] | None, Field(title="Artifact Public Ids")] = []
    testcase_public_ids: Annotated[list[str] | None, Field(title="Testcase Public Ids")] = []
    testcase_artifact_public_ids: Annotated[list[str] | None, Field(title="Testcase Artifact Public Ids")] = []


class ReleaseStatus(Enum):
    drafted = "drafted"
    deploying = "deploying"
    deployed = "deployed"
    failed = "failed"


class RemoveJobRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    job_id: Annotated[str, Field(title="Job Id")]
    """
    Job ID to remove from the session
    """


class RemoveJobResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    """
    Session ID the job was removed from
    """
    job_id: Annotated[str, Field(title="Job Id")]
    """
    Job ID that was removed
    """
    success: Annotated[bool, Field(title="Success")]
    """
    Whether the removal was successful
    """
    message: Annotated[str | None, Field(title="Message")] = None
    """
    Status message or error details
    """


class RepositoryResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    name: Annotated[str, Field(title="Name")]
    full_name: Annotated[str, Field(title="Full Name")]
    description: Annotated[str | None, Field(title="Description")] = None
    private: Annotated[bool, Field(title="Private")]
    fork: Annotated[bool | None, Field(title="Fork")] = None
    html_url: Annotated[str, Field(title="Html Url")]
    ssh_url: Annotated[str, Field(title="Ssh Url")]
    clone_url: Annotated[str, Field(title="Clone Url")]
    default_branch: Annotated[str | None, Field(title="Default Branch")] = None
    size: Annotated[int | None, Field(title="Size")] = None
    language: Annotated[str | None, Field(title="Language")] = None
    stars_count: Annotated[int | None, Field(title="Stars Count")] = None
    forks_count: Annotated[int | None, Field(title="Forks Count")] = None
    open_issues_count: Annotated[int | None, Field(title="Open Issues Count")] = None


class RescoreTestCaseResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    test_case_id: Annotated[int, Field(title="Test Case Id")]
    test_case_name: Annotated[str, Field(title="Test Case Name")]
    status: Annotated[str, Field(title="Status")]
    result: Annotated[dict[str, Any] | None, Field(title="Result")] = None
    error: Annotated[str | None, Field(title="Error")] = None
    reason: Annotated[str | None, Field(title="Reason")] = None


class ResetEnvResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    error: Annotated[str | None, Field(title="Error")] = None
    data: Annotated[dict[str, Any], Field(title="Data")]


class ResetEnvTask(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    prompt: Annotated[str, Field(title="Prompt")]
    start_url: Annotated[str | None, Field(title="Start Url")] = ""
    name: Annotated[str, Field(title="Name")]
    dataset_name: Annotated[str | None, Field(title="Dataset Name")] = None
    eval_config: Annotated[
        BaseScoringConfig | None,
        Field(default_factory=lambda: BaseScoringConfig.model_validate({"type": "human_in_the_loop"})),
    ]


ResetJobResult = CloseJobResult


class ResetSessionResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    session_id: Annotated[str, Field(title="Session Id")]
    results: Annotated[dict[str, ResetJobResult] | None, Field(title="Results")] = None
    """
    Results per job_id
    """


class ResourceBreakdown(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    service: Annotated[str, Field(title="Service")]
    version: Annotated[str, Field(title="Version")]
    dataset: Annotated[str, Field(title="Dataset")]
    pending_demands: Annotated[int, Field(title="Pending Demands")]
    available_supplies: Annotated[int, Field(title="Available Supplies")]


class RunSessionSource(Enum):
    value_0 = {"use_enum_values": True}
    PLAYGROUND = "PLAYGROUND"
    SDK = "SDK"
    DEV = "DEV"


class ScoreRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    reason: Annotated[str | None, Field(title="Reason")] = ""
    agent_version: Annotated[str | None, Field(title="Agent Version")] = ""
    mutations: Annotated[list[dict[str, Any]] | None, Field(title="Mutations")] = []


class ScoreResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    status: Annotated[str, Field(title="Status")]
    message: Annotated[str, Field(title="Message")]


class ScoringType2(Enum):
    output = "output"
    mutations = "mutations"


class ScreenRecordingStartedLogInput(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    source: Annotated[Literal["simulator"], Field(title="Source")] = "simulator"
    """
    Log source
    """
    type: Annotated[Literal["screen_recording_started"], Field(title="Type")] = "screen_recording_started"
    """
    Log type
    """
    timestamp: Annotated[str, Field(title="Timestamp")]
    """
    ISO 8601 timestamp
    """


class ScreenshotStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 60000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["screenshot"], Field(title="Type")] = "screenshot"
    filename: Annotated[str, Field(title="Filename")]
    """
    Screenshot filename
    """
    full_page: Annotated[bool | None, Field(title="Full Page")] = False
    """
    Take full page screenshot
    """


class SdkConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    package_name: Annotated[str | None, Field(title="Package Name")] = None
    """
    Package name for PyPI
    """
    version: Annotated[str | None, Field(title="Version")] = "0.1.0"
    """
    SDK version
    """
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Package description
    """
    specs_dir: Annotated[str | None, Field(title="Specs Dir")] = None
    """
    Directory containing OpenAPI spec and auth config (e.g., 'specs')
    """
    spec_path: Annotated[str | None, Field(title="Spec Path")] = None
    """
    Legacy: direct path to OpenAPI spec file
    """
    auth_config: Annotated[str | None, Field(title="Auth Config")] = None
    """
    Path to auth.yaml config file
    """


class SessionArchivalInfo(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    created_at: Annotated[AwareDatetime, Field(title="Created At")]
    logs_archived_at: Annotated[AwareDatetime | None, Field(title="Logs Archived At")] = None
    organization_id: Annotated[int, Field(title="Organization Id")]
    simulator_id: Annotated[int | None, Field(title="Simulator Id")] = None


class SessionArchivalListResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    sessions: Annotated[list[SessionArchivalInfo], Field(title="Sessions")]
    total_count: Annotated[int, Field(title="Total Count")]
    page: Annotated[int, Field(title="Page")]
    page_size: Annotated[int, Field(title="Page Size")]


class SessionBackupLogInput(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    source: Annotated[Literal["simulator"], Field(title="Source")] = "simulator"
    """
    Log source
    """
    type: Annotated[Literal["session_backup"], Field(title="Type")] = "session_backup"
    """
    Log type
    """
    timestamp: Annotated[str, Field(title="Timestamp")]
    """
    ISO 8601 timestamp
    """
    s3_uris: Annotated[dict[str, Any], Field(title="S3 Uris")]
    """
    S3 URIs for backup files
    """


class SessionContext(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    """
    Unique session ID
    """
    envs: Annotated[list[EnvironmentContext] | None, Field(title="Envs")] = None
    """
    Environment contexts
    """
    task_public_id: Annotated[str | None, Field(title="Task Public Id")] = None
    """
    Associated task public ID if created from task
    """


class SessionIdsRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_ids: Annotated[list[str], Field(title="Session Ids")]


class SessionListResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    sessions: Annotated[list[dict[str, Any]], Field(title="Sessions")]
    total_count: Annotated[int, Field(title="Total Count")]
    page: Annotated[int, Field(title="Page")]
    page_size: Annotated[int, Field(title="Page Size")]
    has_more_pages: Annotated[bool, Field(title="Has More Pages")]


class SessionStateResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    state: Annotated[Any, Field(title="State")]


class SetDateRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    datetime: Annotated[str, Field(title="Datetime")]
    """
    The datetime to set in ISO 8601 format (e.g., '2024-01-15T10:30:00')
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 30
    """
    Command timeout in seconds
    """


class SetDateResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    """
    Whether the date was set successfully
    """
    stdout: Annotated[str | None, Field(title="Stdout")] = ""
    """
    Command stdout
    """
    stderr: Annotated[str | None, Field(title="Stderr")] = ""
    """
    Command stderr
    """
    error: Annotated[str | None, Field(title="Error")] = None
    """
    Error message if failed
    """


class SetOutputRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    output: Annotated[Any, Field(title="Output")]


SetOutputResponse = DeleteRepositoryResponse


class SetupRootPasswordRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    ssh_public_key: Annotated[str, Field(title="Ssh Public Key")]
    """
    SSH public key to add to root user's authorized_keys
    """
    request_timeout: Annotated[int | None, Field(ge=10, le=300, title="Request Timeout")] = 60
    """
    SSH command timeout in seconds
    """


class SetupSandboxResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    """
    Whether setup completed successfully
    """
    stdout: Annotated[str | None, Field(title="Stdout")] = ""
    """
    Command stdout
    """
    stderr: Annotated[str | None, Field(title="Stderr")] = ""
    """
    Command stderr
    """
    error: Annotated[str | None, Field(title="Error")] = None
    """
    Error message if failed
    """


class Type6(Enum):
    db = "db"
    proxy = "proxy"
    file = "file"


class SimConfigListener(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Type6, Field(title="Type")]
    """
    Listener type
    """


class Type7(Enum):
    docker_compose = "docker-compose"
    docker = "docker"


class SimConfigService(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Type7, Field(title="Type")]
    """
    Service type
    """


class SimResetLogInput(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    source: Annotated[Literal["simulator"], Field(title="Source")] = "simulator"
    """
    Log source
    """
    type: Annotated[Literal["sim_reset"], Field(title="Type")] = "sim_reset"
    """
    Log type
    """
    timestamp: Annotated[str, Field(title="Timestamp")]
    """
    ISO 8601 timestamp
    """


class SimReviewComment(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    comment: Annotated[str, Field(title="Comment")]
    s3_path: Annotated[str, Field(title="S3 Path")]


class SimStatusHistory(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    timestamp_iso: Annotated[str, Field(title="Timestamp Iso")]
    old_status: Annotated[str, Field(title="Old Status")]
    new_status: Annotated[str, Field(title="New Status")]
    user_id: Annotated[int | None, Field(title="User Id")] = None


class SimulatorArtifactInfo(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    git_hash: Annotated[str, Field(title="Git Hash")]
    created_at: Annotated[AwareDatetime, Field(title="Created At")]
    worker_image: Annotated[str, Field(title="Worker Image")]
    ecs_task_definition_arn: Annotated[str, Field(title="Ecs Task Definition Arn")]
    snapshot_s3_uri: Annotated[str, Field(title="Snapshot S3 Uri")]


class Type8(Enum):
    proxy = "proxy"
    docker_app = "docker_app"


class Status1(Enum):
    requested = "requested"
    in_progress = "in_progress"
    environment_in_progress = "environment_in_progress"
    environment_ready = "environment_ready"
    data_in_progress = "data_in_progress"
    data_ready = "data_ready"
    tasks_in_progress = "tasks_in_progress"
    not_started = "not_started"
    env_in_progress = "env_in_progress"
    env_review_requested = "env_review_requested"
    env_approved = "env_approved"
    data_review_requested = "data_review_requested"
    ready = "ready"
    ready_disabled_testing = "ready-disabled-testing"
    out_of_service = "out_of_service"


class SimulatorIdResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    simulator_id: Annotated[int, Field(title="Simulator Id")]


class SimulatorListItem(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    name: Annotated[str, Field(title="Name")]
    description: Annotated[str | None, Field(title="Description")] = None
    img_url: Annotated[str | None, Field(title="Img Url")] = None
    enabled: Annotated[bool, Field(title="Enabled")]
    sim_type: Annotated[str, Field(title="Sim Type")]
    job_name: Annotated[str | None, Field(title="Job Name")] = None
    internal_app_port: Annotated[int | None, Field(title="Internal App Port")] = None
    version_tag: Annotated[str, Field(title="Version Tag")]
    image_uri: Annotated[str | None, Field(title="Image Uri")] = None


class SimulatorRepositoryResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    has_repo: Annotated[bool, Field(title="Has Repo")]
    simulator_name: Annotated[str, Field(title="Simulator Name")]
    message: Annotated[str | None, Field(title="Message")] = None
    id: Annotated[int | None, Field(title="Id")] = None
    name: Annotated[str | None, Field(title="Name")] = None
    full_name: Annotated[str | None, Field(title="Full Name")] = None
    description: Annotated[str | None, Field(title="Description")] = None
    private: Annotated[bool | None, Field(title="Private")] = None
    html_url: Annotated[str | None, Field(title="Html Url")] = None
    ssh_url: Annotated[str | None, Field(title="Ssh Url")] = None
    clone_url: Annotated[str | None, Field(title="Clone Url")] = None
    default_branch: Annotated[str | None, Field(title="Default Branch")] = None
    size: Annotated[int | None, Field(title="Size")] = None
    language: Annotated[str | None, Field(title="Language")] = None


class SimulatorResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    publicId: Annotated[str, Field(title="Publicid")]
    name: Annotated[str, Field(title="Name")]
    url: Annotated[str | None, Field(title="Url")] = None
    description: Annotated[str | None, Field(title="Description")] = None
    imgUrl: Annotated[str | None, Field(title="Imgurl")] = None
    config: Annotated[dict[str, Any], Field(title="Config")]
    ancestors: Annotated[list[str] | None, Field(title="Ancestors")] = []
    enabled: Annotated[bool, Field(title="Enabled")]
    simType: Annotated[str, Field(title="Simtype")]
    jobName: Annotated[str | None, Field(title="Jobname")] = None
    internalAppPort: Annotated[int | None, Field(title="Internalappport")] = None
    supportedProviders: Annotated[list[str], Field(title="Supportedproviders")]
    versionTag: Annotated[str, Field(title="Versiontag")]
    stages: Annotated[list[Any] | None, Field(title="Stages")] = []
    imageUri: Annotated[str | None, Field(title="Imageuri")] = None
    organizationId: Annotated[int | None, Field(title="Organizationid")] = None
    giteaRepoName: Annotated[str | None, Field(title="Giteareponame")] = None
    giteaRepoOwner: Annotated[str | None, Field(title="Gitearepoowner")] = None
    createdAt: Annotated[str, Field(title="Createdat")]
    updatedAt: Annotated[str, Field(title="Updatedat")]


class SimulatorStatus(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    simulator_name: Annotated[str, Field(title="Simulator Name")]
    status: Annotated[str | None, Field(title="Status")] = None


class SimulatorTagInfo(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    tag_name: Annotated[str, Field(title="Tag Name")]
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    created_at: Annotated[AwareDatetime, Field(title="Created At")]


class SimulatorVersionDetails(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    version: Annotated[str, Field(title="Version")]
    created_at: Annotated[AwareDatetime, Field(title="Created At")]
    worker_image: Annotated[str, Field(title="Worker Image")]
    ecs_task_definition_arn: Annotated[str, Field(title="Ecs Task Definition Arn")]
    snapshot_s3_uri: Annotated[str, Field(title="Snapshot S3 Uri")]
    dataset: Annotated[str, Field(title="Dataset")]
    tags: Annotated[list[str] | None, Field(title="Tags")] = []


class SimulatorVersionsResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    simulator_name: Annotated[str, Field(title="Simulator Name")]
    versions: Annotated[list[SimulatorVersionDetails], Field(title="Versions")]
    total_versions: Annotated[int, Field(title="Total Versions")]


class Skills(Enum):
    navigation_and_input = "navigation_and_input"
    extract_and_understand = "extract_and_understand"
    reasoning_and_control_flow = "reasoning_and_control_flow"
    go_to_url = "go_to_url"
    click = "click"
    text_input = "text_input"
    dropdown_selection = "dropdown_selection"
    checkbox_toggle = "checkbox_toggle"
    radio_select = "radio_select"
    scroll = "scroll"
    form_submit = "form_submit"
    file_upload = "file_upload"
    read_visible_text = "read_visible_text"
    extract_table = "extract_table"
    summarize_text = "summarize_text"
    classify_content = "classify_content"
    identify_element_state = "identify_element_state"
    conditional_logic = "conditional_logic"
    iterate_items = "iterate_items"
    numeric_compare = "numeric_compare"
    date_time_select = "date_time_select"
    form_validation_check = "form_validation_check"
    login_with_creds = "login_with_creds"
    handle_2fa_hitl = "handle_2fa_hitl"
    captcha_detect = "captcha_detect"
    hitl_request_input = "hitl_request_input"
    tool_call = "tool_call"
    tool_call_parallel = "tool_call_parallel"
    context_memory_use = "context_memory_use"
    webhook_trigger = "webhook_trigger"
    detect_blocker = "detect_blocker"
    raise_descriptive_error = "raise_descriptive_error"
    timeout_aware = "timeout_aware"


class SnapshotArtifact(BaseModel):
    pass
    model_config = ConfigDict(
        extra="allow",
    )


class SnapshotConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    lineage: Annotated[list[SnapshotArtifact], Field(min_length=1, title="Lineage")]
    """
    Artifact lineage chain (must have at least one artifact)
    """


class SnapshotStatusDetail(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    instance_id: Annotated[str, Field(title="Instance Id")]
    status: Annotated[str, Field(title="Status")]
    simulator_name: Annotated[str | None, Field(title="Simulator Name")] = None
    dataset: Annotated[str | None, Field(title="Dataset")] = None
    git_hash: Annotated[str | None, Field(title="Git Hash")] = None
    snapshot_path: Annotated[str | None, Field(title="Snapshot Path")] = None
    error_message: Annotated[str | None, Field(title="Error Message")] = None
    started_at: Annotated[AwareDatetime | None, Field(title="Started At")] = None
    completed_at: Annotated[AwareDatetime | None, Field(title="Completed At")] = None
    download_duration: Annotated[float | None, Field(title="Download Duration")] = None
    last_updated: Annotated[AwareDatetime, Field(title="Last Updated")]
    last_heartbeat: Annotated[float | None, Field(title="Last Heartbeat")] = None
    used_disk_space_bytes: Annotated[int | None, Field(title="Used Disk Space Bytes")] = None


class SnapshotsByInstance(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    instance_id: Annotated[str, Field(title="Instance Id")]
    total_snapshots: Annotated[int, Field(title="Total Snapshots")]
    available: Annotated[int, Field(title="Available")]
    downloading: Annotated[int, Field(title="Downloading")]
    failed: Annotated[int, Field(title="Failed")]
    not_downloaded: Annotated[int, Field(title="Not Downloaded")]
    snapshots: Annotated[list[SnapshotStatusDetail], Field(title="Snapshots")]


class StartEvalFromGitRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    git_repo_url: Annotated[str, Field(title="Git Repo Url")]
    git_branch: Annotated[str, Field(title="Git Branch")]
    git_commit_hash: Annotated[str, Field(title="Git Commit Hash")]
    test_case_set_id: Annotated[str, Field(title="Test Case Set Id")]


class StartPathRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    simulator_name: Annotated[str, Field(title="Simulator Name")]
    test_case_public_id: Annotated[str | None, Field(title="Test Case Public Id")] = None


class StartPathResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    start_path: Annotated[str | None, Field(title="Start Path")] = None
    source: Annotated[str, Field(title="Source")]


class StateMutationLogInput(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    source: Annotated[Literal["simulator"], Field(title="Source")] = "simulator"
    """
    Log source
    """
    type: Annotated[Literal["state_mutation"], Field(title="Type")] = "state_mutation"
    """
    Log type
    """
    timestamp: Annotated[str, Field(title="Timestamp")]
    """
    ISO 8601 timestamp
    """
    mutation: Annotated[dict[str, Any], Field(title="Mutation")]
    """
    Mutation data
    """


class SwitchPageStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["switch_page"], Field(title="Type")] = "switch_page"
    page_index: Annotated[int, Field(title="Page Index")]
    """
    Index of the page to switch to (0-based)
    """


class SystemLogInput(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    source: Annotated[Literal["system"], Field(title="Source")] = "system"
    """
    Log source
    """
    type: Annotated[Type | None, Field(title="Type")] = Type.info
    """
    Log type
    """
    timestamp: Annotated[str, Field(title="Timestamp")]
    """
    ISO 8601 timestamp
    """
    message: Annotated[dict[str, Any], Field(title="Message")]
    """
    Message content
    """


class TestCaseGenerateOutcomeSchemaRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    task: Annotated[str, Field(title="Task")]
    img: Annotated[str, Field(title="Img")]


class TestCaseGeneratePredictionFromStepsRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    prompt: Annotated[list[dict[str, Any]], Field(title="Prompt")]


class TestCaseGeneratePredictionRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    prompt: Annotated[str, Field(title="Prompt")]
    task: Annotated[str, Field(title="Task")]


class TestCaseMetadata(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    name: Annotated[str, Field(title="Name")]
    start_url: Annotated[str, Field(title="Start Url")]


class TestCaseResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    test_case_id: Annotated[int | None, Field(title="Test Case Id")] = None
    test_case_public_id: Annotated[str | None, Field(title="Test Case Public Id")] = None
    test_case_name: Annotated[str, Field(title="Test Case Name")]
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    error: Annotated[str | None, Field(title="Error")] = None
    action: Annotated[str, Field(title="Action")]


class TestCaseReviewRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    testCasePublicId: Annotated[str, Field(title="Testcasepublicid")]
    isAmbiguous: Annotated[bool | None, Field(title="Isambiguous")] = False
    correctSessionIds: Annotated[list[str] | None, Field(title="Correctsessionids")] = None
    incorrectSessionIds: Annotated[list[str] | None, Field(title="Incorrectsessionids")] = None
    reason: Annotated[str | None, Field(title="Reason")] = None
    reviewTime: Annotated[int | None, Field(title="Reviewtime")] = None


class TestCaseSetCreateRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str, Field(title="Name")]
    description: Annotated[str, Field(title="Description")]
    icon: Annotated[str, Field(title="Icon")]


class UpdateAnnotatorAssignmentStageRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    stage: AssignmentStage


UpdateAnnotatorAssignmentStageResponse = UpdateAnnotatorAssignmentStageRequest


class UpdateConcurrencyLimitRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    max_concurrent_runs: Annotated[int, Field(gt=0, title="Max Concurrent Runs")]
    """
    Maximum number of concurrent runs allowed
    """


class UpdateConcurrencyLimitResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    organization_id: Annotated[int, Field(title="Organization Id")]
    organization_name: Annotated[str, Field(title="Organization Name")]
    max_concurrent_runs: Annotated[int, Field(title="Max Concurrent Runs")]
    plan_type: Annotated[str, Field(title="Plan Type")]


class UpdateMemberRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    wireguard_ip: Annotated[str | None, Field(title="Wireguard Ip")] = None
    wireguard_public_key: Annotated[str | None, Field(title="Wireguard Public Key")] = None
    worker_endpoint: Annotated[str | None, Field(title="Worker Endpoint")] = None
    status: Annotated[str | None, Field(title="Status")] = None


class UpdateReleaseRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    manifest: ReleaseManifest | None = None
    """
    Updated manifest data
    """


class UpdateSessionPublicRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    is_public: Annotated[bool, Field(title="Is Public")]


class UpdateSessionTestCaseRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    testCaseId: Annotated[int | None, Field(title="Testcaseid")] = None


class UpdateStatusRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    status: Annotated[str, Field(title="Status")]


class UpdateTagRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    simulator_name: Annotated[str, Field(title="Simulator Name")]
    tag_name: Annotated[str, Field(title="Tag Name")]
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    dataset: Annotated[str | None, Field(title="Dataset")] = "base"


class UpdateTagResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    message: Annotated[str | None, Field(title="Message")] = None
    error: Annotated[str | None, Field(title="Error")] = None


class UploadPackageResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    package_name: Annotated[str, Field(title="Package Name")]
    version: Annotated[str, Field(title="Version")]
    message: Annotated[str, Field(title="Message")]


class UserResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    public_id: Annotated[str, Field(title="Public Id")]
    email: Annotated[str | None, Field(title="Email")] = None
    name: Annotated[str | None, Field(title="Name")] = None
    organization_id: Annotated[int | None, Field(title="Organization Id")] = None
    organization_name: Annotated[str | None, Field(title="Organization Name")] = None


class VMManagementResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    status: Annotated[str, Field(title="Status")]
    """
    Status
    """
    timestamp: Annotated[str | None, Field(title="Timestamp")] = None
    """
    Timestamp
    """
    correlation_id: Annotated[str, Field(title="Correlation Id")]
    """
    Correlation ID for tracking
    """


class VMStatus(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    vm_id: Annotated[int, Field(title="Vm Id")]
    worker_id: Annotated[str, Field(title="Worker Id")]
    state: Annotated[str, Field(title="State")]
    created_at: Annotated[AwareDatetime, Field(title="Created At")]
    updated_at: Annotated[AwareDatetime, Field(title="Updated At")]
    last_heartbeat: Annotated[float | None, Field(title="Last Heartbeat")] = None
    heartbeat_age_seconds: Annotated[float | None, Field(title="Heartbeat Age Seconds")] = None
    is_stale: Annotated[bool, Field(title="Is Stale")]
    config: Annotated[dict[str, Any] | None, Field(title="Config")] = None


class ValidationError(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    loc: Annotated[list[str | int], Field(title="Location")]
    msg: Annotated[str, Field(title="Message")]
    type: Annotated[str, Field(title="Error Type")]


class ValidationErrorItem(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    loc: Annotated[list[str], Field(title="Loc")]
    """
    Location of the error
    """
    msg: Annotated[str, Field(title="Msg")]
    """
    Error message
    """
    type: Annotated[str, Field(title="Type")]
    """
    Error type
    """


class ValidationErrorResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    detail: Annotated[list[ValidationErrorItem], Field(title="Detail")]
    """
    List of validation errors
    """


class VerifyNoErrorsStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["verify_no_errors"], Field(title="Type")] = "verify_no_errors"
    error_selectors: Annotated[list[str] | None, Field(title="Error Selectors")] = None
    """
    Selectors for error elements
    """


class VerifyType(Enum):
    element_exists = "element_exists"
    element_visible = "element_visible"
    element_text = "element_text"
    element_count = "element_count"
    page_title = "page_title"


class VerifyStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["verify"], Field(title="Type")] = "verify"
    verify_type: Annotated[VerifyType, Field(title="Verify Type")]
    """
    Verification type
    """
    selector: Annotated[str | None, Field(title="Selector")] = None
    """
    CSS selector (for element verifications)
    """
    text: Annotated[str | None, Field(title="Text")] = None
    """
    Expected text
    """
    contains: Annotated[bool | None, Field(title="Contains")] = True
    """
    Whether to use contains matching
    """
    count: Annotated[int | None, Field(title="Count")] = None
    """
    Expected element count
    """
    title: Annotated[str | None, Field(title="Title")] = None
    """
    Expected page title
    """


class VerifyTextStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["verify_text"], Field(title="Type")] = "verify_text"
    text: Annotated[str, Field(title="Text")]
    """
    Text to verify
    """
    should_exist: Annotated[bool | None, Field(title="Should Exist")] = True
    """
    Whether text should exist
    """


class VerifyUrlStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["verify_url"], Field(title="Type")] = "verify_url"
    url: Annotated[str, Field(title="Url")]
    """
    Expected URL
    """
    contains: Annotated[bool | None, Field(title="Contains")] = True
    """
    Whether to use contains matching
    """


class VersionBumpRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    note: Annotated[str, Field(title="Note")]


class WaitForReadyResult(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    ready: Annotated[bool, Field(title="Ready")]
    """
    Whether the job is ready
    """
    job_id: Annotated[str, Field(title="Job Id")]
    """
    Job public ID
    """
    worker_private_ip: Annotated[str | None, Field(title="Worker Private Ip")] = None
    """
    Worker private IP
    """
    worker_public_ip: Annotated[str | None, Field(title="Worker Public Ip")] = None
    """
    Worker public IP
    """
    mesh_ip: Annotated[str | None, Field(title="Mesh Ip")] = None
    """
    Mesh IP
    """
    error: Annotated[str | None, Field(title="Error")] = None
    """
    Error message if not ready
    """


class WaitForSelectorStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["wait_for_selector"], Field(title="Type")] = "wait_for_selector"
    selector: Annotated[str, Field(title="Selector")]
    """
    CSS selector to wait for
    """


class WaitForUrlStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["wait_for_url"], Field(title="Type")] = "wait_for_url"
    url_contains: Annotated[str, Field(title="Url Contains")]
    """
    URL substring to wait for
    """


class WaitStep(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Step description
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 8000
    """
    Timeout in milliseconds
    """
    retries: Annotated[int | None, Field(ge=0, title="Retries")] = 0
    """
    Number of retries on failure
    """
    retry_delay_ms: Annotated[int | None, Field(ge=0, title="Retry Delay Ms")] = 500
    """
    Delay between retries in ms
    """
    type: Annotated[Literal["wait"], Field(title="Type")] = "wait"
    duration: Annotated[int, Field(title="Duration")]
    """
    Duration to wait in milliseconds
    """


class WorkerReadyResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    ready: Annotated[bool, Field(title="Ready")]
    job_id: Annotated[str | None, Field(title="Job Id")] = None
    worker_private_ip: Annotated[str | None, Field(title="Worker Private Ip")] = None
    worker_public_ip: Annotated[str | None, Field(title="Worker Public Ip")] = None
    mesh_ip: Annotated[str | None, Field(title="Mesh Ip")] = None
    worker_port: Annotated[int | None, Field(title="Worker Port")] = None
    health_status: Annotated[dict[str, Any] | None, Field(title="Health Status")] = None
    error: Annotated[str | None, Field(title="Error")] = None


class WorkerStatus(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    dispatcher_id: Annotated[str, Field(title="Dispatcher Id")]
    state: Annotated[str, Field(title="State")]
    last_heartbeat: Annotated[float, Field(title="Last Heartbeat")]
    heartbeat_age_seconds: Annotated[float, Field(title="Heartbeat Age Seconds")]
    is_stale: Annotated[bool, Field(title="Is Stale")]
    vm_count: Annotated[int, Field(title="Vm Count")]
    vms_by_state: Annotated[dict[str, int], Field(title="Vms By State")]
    metadata: Annotated[dict[str, Any], Field(title="Metadata")]


class WorldConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    task: Annotated[dict[str, Any], Field(title="Task")]
    """
    Task configuration
    """
    repository: Annotated[dict[str, Any], Field(title="Repository")]
    """
    Repository configuration
    """
    environment: Annotated[dict[str, Any] | None, Field(title="Environment")] = None
    """
    Environment setup
    """
    timeout_seconds: Annotated[int | None, Field(title="Timeout Seconds")] = 1800
    """
    Max execution time
    """
    max_steps: Annotated[int | None, Field(title="Max Steps")] = 200
    """
    Max agent steps
    """


class AppApiV1ClusterRoutesDispatcherInfo(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    dispatcher_id: Annotated[str, Field(title="Dispatcher Id")]
    instance_id: Annotated[str, Field(title="Instance Id")]
    worker_idx: Annotated[int, Field(title="Worker Idx")]
    state: Annotated[str, Field(title="State")]
    paused: Annotated[bool, Field(title="Paused")]
    last_heartbeat: Annotated[AwareDatetime, Field(title="Last Heartbeat")]
    vms_by_state: Annotated[dict[str, int], Field(title="Vms By State")]


class AppApiV1EnvRoutesBatchLogRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    source: Annotated[str, Field(title="Source")]
    type: Annotated[str, Field(title="Type")]
    timestamp: Annotated[str, Field(title="Timestamp")]
    session_id: Annotated[str, Field(title="Session Id")]
    mutations: Annotated[list[BaseStructuredRunLog], Field(title="Mutations")]
    count: Annotated[int, Field(title="Count")]


class AppApiV1PublicBuildRoutesCreateSnapshotRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    service: Annotated[str | None, Field(title="Service")] = None
    git_hash: Annotated[str | None, Field(title="Git Hash")] = None
    dataset: Annotated[str | None, Field(title="Dataset")] = None
    notes: Annotated[str | None, Field(title="Notes")] = None
    flows: Annotated[str | None, Field(title="Flows")] = None
    plato_config: Annotated[str | None, Field(title="Plato Config")] = None
    internal_app_port: Annotated[int | None, Field(title="Internal App Port")] = None
    messaging_port: Annotated[int | None, Field(title="Messaging Port")] = None
    target: Annotated[str | None, Field(title="Target")] = None


class AppApiV1PublicBuildRoutesCreateSnapshotResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    status: Annotated[str, Field(title="Status")]
    timestamp: Annotated[str, Field(title="Timestamp")]
    correlation_id: Annotated[str, Field(title="Correlation Id")]
    s3_uri: Annotated[str, Field(title="S3 Uri")]


class AppApiV1QueueRoutesDispatcherInfo(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    dispatcher_id: Annotated[str, Field(title="Dispatcher Id")]
    state: Annotated[str, Field(title="State")]
    paused: Annotated[bool, Field(title="Paused")]
    is_healthy: Annotated[bool, Field(title="Is Healthy")]


class AppApiV1SimulatorRoutesUpdateSimulatorRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    url: Annotated[str | None, Field(title="Url")] = None
    description: Annotated[str | None, Field(title="Description")] = None
    img_url: Annotated[str | None, Field(title="Img Url")] = None
    enabled: Annotated[bool | None, Field(title="Enabled")] = None
    internal_app_port: Annotated[int | None, Field(title="Internal App Port")] = None
    cookies: Annotated[list[ChromeCookie] | None, Field(title="Cookies")] = None
    authentication: Authentication | None = None
    default_start_path: Annotated[str | None, Field(title="Default Start Path")] = None
    base_artifact_id: Annotated[str | None, Field(title="Base Artifact Id")] = None
    env_assignees: Annotated[list[int] | None, Field(title="Env Assignees")] = None
    env_review_assignees: Annotated[list[int] | None, Field(title="Env Review Assignees")] = None
    data_assignees: Annotated[list[int] | None, Field(title="Data Assignees")] = None
    data_review_assignees: Annotated[list[int] | None, Field(title="Data Review Assignees")] = None
    data_artifact_id: Annotated[str | None, Field(title="Data Artifact Id")] = None
    notes: Annotated[str | None, Field(title="Notes")] = None
    ignore_tables: Annotated[list[str] | None, Field(title="Ignore Tables")] = None
    ignore_columns: Annotated[dict[str, list[str]] | None, Field(title="Ignore Columns")] = None
    ignore_tables_with_column_values: Annotated[
        dict[str, dict[str, list[Any]]] | None,
        Field(title="Ignore Tables With Column Values"),
    ] = None
    license: Annotated[str | None, Field(title="License")] = None
    source_code_url: Annotated[str | None, Field(title="Source Code Url")] = None
    start_url: Annotated[str | None, Field(title="Start Url")] = None


class AppApiV2SchemasArtifactSimConfigCompute(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    cpus: Annotated[int | None, Field(title="Cpus")] = 1
    """
    vCPUs
    """
    memory: Annotated[int | None, Field(title="Memory")] = 2048
    """
    Memory in MB
    """
    disk: Annotated[int | None, Field(title="Disk")] = 10240
    """
    Disk space in MB
    """
    app_port: Annotated[int | None, Field(title="App Port")] = 8080
    """
    Application port
    """
    plato_messaging_port: Annotated[int | None, Field(title="Plato Messaging Port")] = 7000
    """
    Plato messaging port
    """


class AppApiV2SchemasArtifactSimConfigMetadata(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    favicon: Annotated[str | None, Field(title="Favicon")] = "https://plato.so/favicon.ico"
    """
    Favicon URL
    """
    name: Annotated[str | None, Field(title="Name")] = "Plato"
    """
    Name
    """
    description: Annotated[str | None, Field(title="Description")] = ""
    """
    Description
    """
    source_code_url: Annotated[str | None, Field(title="Source Code Url")] = ""
    """
    Source code URL
    """
    start_url: Annotated[str | None, Field(title="Start Url")] = ""
    """
    Start URL
    """
    license: Annotated[str | None, Field(title="License")] = "MIT"
    """
    License
    """
    variables: Annotated[list[dict[str, str]] | None, Field(title="Variables")] = None
    """
    Variables
    """
    flows_path: Annotated[str | None, Field(title="Flows Path")] = None
    """
    Flows path
    """


class AppApiV2SchemasSessionBatchLogRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    source: Annotated[str, Field(title="Source")]
    """
    Batch source
    """
    type: Annotated[Literal["batch_mutations"], Field(title="Type")] = "batch_mutations"
    """
    Must be 'batch_mutations'
    """
    timestamp: Annotated[str, Field(title="Timestamp")]
    """
    ISO 8601 timestamp
    """
    session_id: Annotated[str, Field(title="Session Id")]
    """
    Session ID
    """
    mutations: Annotated[
        list[
            SystemLogInput
            | AgentLogInput
            | StateMutationLogInput
            | OODRequestLogInput
            | PassthroughRequestLogInput
            | ScreenRecordingStartedLogInput
            | SimResetLogInput
            | SessionBackupLogInput
        ],
        Field(title="Mutations"),
    ]
    """
    List of log mutations
    """
    count: Annotated[int, Field(title="Count")]
    """
    Number of mutations in batch
    """


AppApiV2SchemasSessionCreateSnapshotRequest = CreateCheckpointRequest


class AppApiV2SchemasSessionCreateSnapshotResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    results: Annotated[dict[str, CreateSnapshotResult], Field(title="Results")]


class AppApiV2SchemasSessionEvaluateRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    value: Annotated[dict[str, Any] | None, Field(title="Value")] = None


class AppApiV2SchemasSessionEvaluateResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    session_id: Annotated[str, Field(title="Session Id")]
    score: Annotated[dict[str, Any] | None, Field(title="Score")] = None


class AppApiV2SchemasSessionHeartbeatResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    session_id: Annotated[str, Field(title="Session Id")]
    timestamp: Annotated[AwareDatetime, Field(title="Timestamp")]
    results: Annotated[dict[str, HeartbeatJobResult] | None, Field(title="Results")] = None
    """
    Results per job_id
    """


class AppApiV2SchemasSessionPublicUrlResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    """
    Session ID
    """
    results: Annotated[dict[str, PublicUrlResult] | None, Field(title="Results")] = None
    """
    Public URL results per job_id
    """


class AppApiV2SchemasSessionSetupSandboxRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    timeout: Annotated[int | None, Field(title="Timeout")] = 120
    """
    Setup timeout in seconds
    """


class AppApiV2SchemasSessionSetupSandboxResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    results: Annotated[dict[str, SetupSandboxResult], Field(title="Results")]


class AppSchemasBuildModelsSetupSandboxResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    status: Annotated[str, Field(title="Status")]
    """
    Status
    """
    timestamp: Annotated[str | None, Field(title="Timestamp")] = None
    """
    Timestamp
    """
    correlation_id: Annotated[str, Field(title="Correlation Id")]
    """
    Correlation ID for tracking
    """
    ssh_url: Annotated[str, Field(title="Ssh Url")]
    """
    SSH URL for connecting to sandbox
    """


class AppSchemasBuildModelsSimConfigCompute(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    cpus: Annotated[int | None, Field(ge=1, le=8, title="Cpus")] = 1
    """
    vCPUs
    """
    memory: Annotated[int | None, Field(ge=512, le=16384, title="Memory")] = 2048
    """
    Memory in MB
    """
    disk: Annotated[int | None, Field(ge=1024, le=102400, title="Disk")] = 10240
    """
    Disk space in MB
    """
    app_port: Annotated[int | None, Field(ge=0, le=65535, title="App Port")] = 8080
    """
    Application port
    """
    plato_messaging_port: Annotated[int | None, Field(ge=0, le=65535, title="Plato Messaging Port")] = 7000
    """
    Plato messaging port
    """


class AppSchemasBuildModelsSimConfigMetadata(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    favicon: Annotated[str | None, Field(title="Favicon")] = "https://plato.so/favicon.ico"
    """
    Favicon URL
    """
    name: Annotated[str | None, Field(title="Name")] = "Plato"
    """
    Name
    """
    description: Annotated[str | None, Field(title="Description")] = (
        "Plato is a platform for building and running simulations."
    )
    """
    Description
    """
    source_code_url: Annotated[str | None, Field(title="Source Code Url")] = "https://github.com/plato/plato"
    """
    Source code URL
    """
    start_url: Annotated[str | None, Field(title="Start Url")] = "https://plato.so"
    """
    Start URL
    """
    license: Annotated[str | None, Field(title="License")] = "MIT"
    """
    License
    """
    variables: Annotated[list[dict[str, str]] | None, Field(title="Variables")] = [
        {"name": "PLATO_API_KEY", "value": "plato"}
    ]
    """
    Variables
    """
    flows_path: Annotated[str | None, Field(title="Flows Path")] = None
    """
    Flows path
    """


AppSchemasEnvRequestsEvaluateRequest = AppApiV2SchemasSessionEvaluateRequest


class AppSchemasEnvResponsesEvaluateResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    message: Annotated[str, Field(title="Message")]
    score: Annotated[dict[str, Any] | None, Field(title="Score")] = None


class AppSchemasEnvResponsesHeartbeatResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    timestamp: Annotated[str, Field(title="Timestamp")]


AppSchemasEnvResponsesPublicUrlResponse = CdpUrlResponse


class AppSchemasEnvResponsesSimulatorListItemResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    publicId: Annotated[str, Field(title="Publicid")]
    name: Annotated[str, Field(title="Name")]
    url: Annotated[str | None, Field(title="Url")] = None
    description: Annotated[str | None, Field(title="Description")] = None
    imgUrl: Annotated[str | None, Field(title="Imgurl")] = None
    config: Annotated[dict[str, Any], Field(title="Config")]
    ancestors: Annotated[list[str] | None, Field(title="Ancestors")] = []
    enabled: Annotated[bool, Field(title="Enabled")]
    simType: Annotated[str, Field(title="Simtype")]
    jobName: Annotated[str | None, Field(title="Jobname")] = None
    internalAppPort: Annotated[int | None, Field(title="Internalappport")] = None
    supportedProviders: Annotated[list[str], Field(title="Supportedproviders")]
    versionTag: Annotated[str, Field(title="Versiontag")]
    stages: Annotated[list[Any] | None, Field(title="Stages")] = []
    imageUri: Annotated[str | None, Field(title="Imageuri")] = None
    organizationId: Annotated[int | None, Field(title="Organizationid")] = None
    giteaRepoName: Annotated[str | None, Field(title="Giteareponame")] = None
    giteaRepoOwner: Annotated[str | None, Field(title="Gitearepoowner")] = None
    createdAt: Annotated[str, Field(title="Createdat")]
    updatedAt: Annotated[str, Field(title="Updatedat")]
    test_count: Annotated[int | None, Field(title="Test Count")] = 0
    test_count_with_scoring_configs: Annotated[int | None, Field(title="Test Count With Scoring Configs")] = 0
    num_sessions_breakdown: Annotated[dict[str, int], Field(title="Num Sessions Breakdown")]


class AppSchemasGiteaResponsesSimulatorListItemResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    name: Annotated[str, Field(title="Name")]
    description: Annotated[str | None, Field(title="Description")] = None
    img_url: Annotated[str | None, Field(title="Img Url")] = None
    organization_name: Annotated[str | None, Field(title="Organization Name")] = None
    gitea_repo_name: Annotated[str | None, Field(title="Gitea Repo Name")] = None
    gitea_repo_owner: Annotated[str | None, Field(title="Gitea Repo Owner")] = None
    has_repo: Annotated[bool, Field(title="Has Repo")]


class DbModelsTestCaseModelJSONSchemaDraft7(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[str | list[str] | None, Field(title="Type")] = None
    """
    The type of the schema. Valid types are 'string', 'number', 'boolean', 'array', 'object', 'null'
    """
    properties: Annotated[
        dict[str, DbModelsTestCaseModelJSONSchemaDraft7] | None,
        Field(title="Properties"),
    ] = None
    """
    The properties of the schema. If the schema is an array, this field should be null
    """
    required: Annotated[list[str] | None, Field(title="Required")] = None
    """
    The required fields of the schema. All fields present must be required
    """
    items: Annotated[
        DbModelsTestCaseModelJSONSchemaDraft7 | list[DbModelsTestCaseModelJSONSchemaDraft7] | None,
        Field(title="Items"),
    ] = None
    """
    The items of the schema. If the schema is an array, this field is the schema of the items. If the schema is an object, this field should be null
    """
    description: Annotated[str | None, Field(title="Description")] = None
    """
    The description of the field/schema. This is a human-readable description of the schema.
    """


class ModelsScoringConfigJSONSchemaDraft7(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[str | list[str] | None, Field(title="Type")] = None
    """
    The type of the schema. Valid types are 'string', 'number', 'boolean', 'array', 'object', 'null'
    """
    properties: Annotated[dict[str, ModelsScoringConfigJSONSchemaDraft7] | None, Field(title="Properties")] = None
    """
    The properties of the schema. If the schema is an array, this field should be null
    """
    required: Annotated[list[str] | None, Field(title="Required")] = None
    """
    The required fields of the schema. All fields present must be required
    """
    items: Annotated[
        ModelsScoringConfigJSONSchemaDraft7 | list[ModelsScoringConfigJSONSchemaDraft7] | None,
        Field(title="Items"),
    ] = None
    """
    The items of the schema. If the schema is an array, this field is the schema of the items. If the schema is an object, this field should be null
    """
    description: Annotated[str | None, Field(title="Description")] = None
    """
    The description of the field/schema. This is a human-readable description of the schema.
    """


class AddJobResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    """
    Session ID the job was added to
    """
    env: EnvInfo
    """
    Created environment info
    """


class AddReviewRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    review_type: Annotated[ReviewType, Field(title="Review Type")]
    outcome: Annotated[Outcome, Field(title="Outcome")]
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    video_s3_path: Annotated[str | None, Field(title="Video S3 Path")] = None
    events_s3_path: Annotated[str | None, Field(title="Events S3 Path")] = None
    comments: Annotated[str | None, Field(title="Comments")] = None
    sim_comments: Annotated[list[SimReviewComment] | None, Field(title="Sim Comments")] = None


class AddSSHKeyResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    """
    Whether all keys were added successfully
    """
    session_id: Annotated[str, Field(title="Session Id")]
    """
    Session ID
    """
    results: Annotated[dict[str, AddSSHKeyResult], Field(title="Results")]
    """
    Results keyed by job_id
    """


class AutoVerifyRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    sessions: Annotated[list[AutoVerifySessionInput], Field(title="Sessions")]
    scoring_type: Annotated[ScoringType, Field(title="Scoring Type")]
    scoring_config: BaseScoringConfig | None = None
    ignore_config: DatabaseIgnoreConfig | None = None


class BatchCreateTestCasesRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    test_cases: Annotated[list[BatchTestCaseInput], Field(title="Test Cases")]


class BatchCreateTestCasesResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    results: Annotated[list[TestCaseResult], Field(title="Results")]
    total_requested: Annotated[int, Field(title="Total Requested")]
    successful: Annotated[int, Field(title="Successful")]
    failed: Annotated[int, Field(title="Failed")]


class ConnectUrlResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    """
    Session ID
    """
    results: Annotated[dict[str, ConnectUrlResult] | None, Field(title="Results")] = None
    """
    Connect URL results per job_id
    """


class CreateCheckpointResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    results: Annotated[dict[str, CreateCheckpointResult], Field(title="Results")]


class CreateDiskSnapshotResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    results: Annotated[dict[str, CreateDiskSnapshotResult], Field(title="Results")]


class CreateReleaseRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    organization_id: Annotated[int, Field(title="Organization Id")]
    """
    Target organization ID.
    """
    datapack: Annotated[str, Field(title="Datapack")]
    """
    Datapack name (e.g., wintergreen, summersale)
    """
    version: Annotated[str, Field(title="Version")]
    """
    Semantic version (e.g., 1.2.3)
    """
    manifest: ReleaseManifest | None = None
    """
    Optional manifest data for the release
    """


class CreateSessionFromTask(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Literal["task"], Field(title="Type")] = "task"
    """
    Request type
    """
    task_id: Annotated[str, Field(title="Task Id")]
    """
    Task public ID to create session from
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 1800
    """
    VM timeout in seconds
    """
    source: RunSessionSource | None = RunSessionSource.SDK
    """
    Source of the request
    """


class CreateSessionResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    """
    Unique session ID (use this for all operations)
    """
    envs: Annotated[list[EnvInfo], Field(title="Envs")]
    """
    List of created environments
    """


class DispatchersResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    total_dispatchers: Annotated[int, Field(title="Total Dispatchers")]
    dispatchers: Annotated[list[AppApiV1ClusterRoutesDispatcherInfo], Field(title="Dispatchers")]


class EnvFromResource(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Literal["resource"], Field(title="Type")] = "resource"
    """
    Environment type
    """
    simulator: Annotated[str, Field(title="Simulator")]
    """
    Simulator/service name
    """
    sim_config: AppSchemasBuildModelsSimConfigCompute
    """
    Compute config for blank VM (CPUs, memory, disk)
    """
    alias: Annotated[str | None, Field(title="Alias")] = None
    """
    Custom name for this environment
    """
    docker_image_url: Annotated[str | None, Field(title="Docker Image Url")] = None
    """
    Custom Docker image URL (ECR). If not set, uses default from settings.
    """
    rootfs_storage_backend: Annotated[RootfsStorageBackend | None, Field(title="Rootfs Storage Backend")] = None
    """
    Storage backend for rootfs ('sparse-s3' or 'snapshot-store'). If not set, uses default.
    """
    upload_rootfs: Annotated[bool | None, Field(title="Upload Rootfs")] = True
    """
    Upload rootfs to S3/snapshot-store if not already cached. Set to False for one-off VMs.
    """


class ExecuteCommandResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    results: Annotated[dict[str, ExecuteCommandResult], Field(title="Results")]


class Steps(
    RootModel[
        WaitForSelectorStep
        | ClickStep
        | FillStep
        | WaitStep
        | NavigateStep
        | WaitForUrlStep
        | CheckElementStep
        | ScreenshotStep
        | SwitchPageStep
        | VerifyTextStep
        | VerifyUrlStep
        | VerifyNoErrorsStep
        | ExecuteScriptStep
        | VerifyStep
    ]
):
    root: Annotated[
        WaitForSelectorStep
        | ClickStep
        | FillStep
        | WaitStep
        | NavigateStep
        | WaitForUrlStep
        | CheckElementStep
        | ScreenshotStep
        | SwitchPageStep
        | VerifyTextStep
        | VerifyUrlStep
        | VerifyNoErrorsStep
        | ExecuteScriptStep
        | VerifyStep,
        Field(discriminator="type"),
    ]


class Flow(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str, Field(title="Name")]
    """
    Flow name
    """
    description: Annotated[str | None, Field(title="Description")] = None
    """
    Flow description
    """
    har_path: Annotated[str | None, Field(title="Har Path")] = None
    """
    HAR file path
    """
    steps: Annotated[list[Steps] | None, Field(title="Steps")] = None
    """
    Flow steps
    """


class HTTPValidationError(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    detail: Annotated[list[ValidationError] | None, Field(title="Detail")] = None


class JobRecord(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    public_id: Annotated[str, Field(title="Public Id")]
    id: Annotated[int | None, Field(title="Id")] = None
    service: Annotated[str, Field(title="Service")]
    version: Annotated[str | None, Field(title="Version")] = None
    dataset: Annotated[str | None, Field(title="Dataset")] = "base"
    artifact_id: Annotated[str | None, Field(title="Artifact Id")] = None
    provider: Annotated[str | None, Field(title="Provider")] = None
    environment: Annotated[str | None, Field(title="Environment")] = None
    organization_id: Annotated[int | None, Field(title="Organization Id")] = None
    job_group_id: Annotated[str | None, Field(title="Job Group Id")] = None
    session_id: Annotated[str | None, Field(title="Session Id")] = None
    alias: Annotated[str | None, Field(title="Alias")] = None
    keepalive: Annotated[bool | None, Field(title="Keepalive")] = None
    timeout: Annotated[int | None, Field(title="Timeout")] = 1800
    heartbeat_timeout: Annotated[int | None, Field(title="Heartbeat Timeout")] = None
    restore_memory: Annotated[bool | None, Field(title="Restore Memory")] = True
    status: JobStatus | None = JobStatus.created
    status_reason: Annotated[str | None, Field(title="Status Reason")] = None
    worker_id: Annotated[str | None, Field(title="Worker Id")] = None
    vm_id: Annotated[str | None, Field(title="Vm Id")] = None
    worker_private_ip: Annotated[str | None, Field(title="Worker Private Ip")] = None
    worker_public_ip: Annotated[str | None, Field(title="Worker Public Ip")] = None
    vm_gateway_ip: Annotated[str | None, Field(title="Vm Gateway Ip")] = None
    vm_private_ip: Annotated[str | None, Field(title="Vm Private Ip")] = None
    messaging_port: Annotated[int | None, Field(title="Messaging Port")] = None
    mesh_ip: Annotated[str | None, Field(title="Mesh Ip")] = None
    created_at: Annotated[AwareDatetime | None, Field(title="Created At")] = None
    updated_at: Annotated[AwareDatetime | None, Field(title="Updated At")] = None
    last_heartbeat: Annotated[AwareDatetime | None, Field(title="Last Heartbeat")] = None
    time_to_start: Annotated[float | None, Field(title="Time To Start")] = None


class LaunchRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    world_package: Annotated[str, Field(title="World Package")]
    """
    World package name (e.g., plato-world-code)
    """
    world_version: Annotated[str | None, Field(title="World Version")] = None
    """
    World version
    """
    world_config: WorldConfig
    agent_artifact_id: Annotated[str, Field(title="Agent Artifact Id")]
    """
    Agent artifact ID (from /api/v2/agents/import)
    """
    agent_config: Annotated[dict[str, Any] | None, Field(title="Agent Config")] = None
    """
    Agent config overrides
    """
    secrets: Annotated[dict[str, Any] | None, Field(title="Secrets")] = None
    """
    Secrets to encrypt
    """


class NodeConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    env: Annotated[str | None, Field(title="Env")] = "dev"
    """
    Environment: 'prod', 'staging', 'dev'
    """
    queue_type: Annotated[str | None, Field(title="Queue Type")] = "nats"
    """
    Queue backend type: 'redis' or 'nats'
    """
    redis: NodeRedisConfig | None = None
    """
    Redis configuration
    """
    nats: NodeNatsConfig | None = None
    """
    NATS configuration
    """
    streams: NodeStreamConfig | None = None
    """
    Stream/queue naming configuration
    """
    policy: NodePolicyConfig | None = None
    """
    Node policy for dispatcher/VM allocation
    """
    s3: NodeS3Config | None = None
    """
    S3/Minio configuration for snapshots and artifacts
    """
    snapshot_store: NodeSnapshotStoreConfig | None = None
    """
    Snapshot-store configuration for manifest/pack pipeline
    """
    build: NodeBuildConfig | None = None
    """
    Build configuration including SSH keys for VMs
    """
    session_network: NodeSessionNetworkConfig | None = None
    """
    Session network configuration for WireGuard-based VM-to-VM networking
    """


class QueueStatusResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    vms_by_state: Annotated[dict[str, int], Field(title="Vms By State")]
    vms_by_state_by_worker: Annotated[dict[str, dict[str, int]], Field(title="Vms By State By Worker")]
    total_workers: Annotated[int, Field(title="Total Workers")]
    dispatchers: Annotated[list[AppApiV1QueueRoutesDispatcherInfo], Field(title="Dispatchers")]
    pending_demands: Annotated[int, Field(title="Pending Demands")]
    available_supplies: Annotated[int, Field(title="Available Supplies")]
    resource_breakdown: Annotated[list[ResourceBreakdown], Field(title="Resource Breakdown")]


class ReleaseResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    organization_id: Annotated[int, Field(title="Organization Id")]
    datapack: Annotated[str, Field(title="Datapack")]
    version: Annotated[str, Field(title="Version")]
    manifest: ReleaseManifest
    status: ReleaseStatus
    deployed_at: Annotated[AwareDatetime | None, Field(title="Deployed At")] = None
    deployment_logs: Annotated[list[dict[str, Any]] | None, Field(title="Deployment Logs")] = None
    created_at: Annotated[AwareDatetime, Field(title="Created At")]
    updated_at: Annotated[AwareDatetime, Field(title="Updated At")]


class RescoreResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    success: Annotated[bool, Field(title="Success")]
    simulator_id: Annotated[int, Field(title="Simulator Id")]
    results: Annotated[list[RescoreTestCaseResult], Field(title="Results")]
    total_test_cases: Annotated[int, Field(title="Total Test Cases")]
    rescored_count: Annotated[int, Field(title="Rescored Count")]
    error_count: Annotated[int, Field(title="Error Count")]
    skipped_count: Annotated[int, Field(title="Skipped Count")]


class ResetEnvRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    task: ResetEnvTask | None = None
    agent_version: Annotated[str | None, Field(title="Agent Version")] = None
    model: Annotated[str | None, Field(title="Model")] = None
    source: Annotated[str | None, Field(title="Source")] = "SDK"
    load_browser_state: Annotated[bool | None, Field(title="Load Browser State")] = False
    viewport_width: Annotated[int | None, Field(title="Viewport Width")] = None
    viewport_height: Annotated[int | None, Field(title="Viewport Height")] = None
    test_case_public_id: Annotated[str | None, Field(title="Test Case Public Id")] = None
    replayed_from_session_id: Annotated[str | None, Field(title="Replayed From Session Id")] = None
    user_id: Annotated[int | None, Field(title="User Id")] = None


class ResetSessionRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    task_id: Annotated[int | None, Field(title="Task Id")] = None
    """
    Test case ID to link to the new session
    """
    source: RunSessionSource | None = RunSessionSource.SDK
    """
    Source of the request
    """


class ScoreWithConfigRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    scoringConfig: BaseScoringConfig
    outputSchema: ModelsScoringConfigJSONSchemaDraft7 | None = None
    outputValue: Annotated[dict[str, Any] | None, Field(title="Outputvalue")] = None


class SessionStateResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    session_id: Annotated[str, Field(title="Session Id")]
    results: Annotated[dict[str, SessionStateResult], Field(title="Results")]


class SetDateResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    results: Annotated[dict[str, SetDateResult], Field(title="Results")]


class SimReview(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    timestamp_iso: Annotated[str, Field(title="Timestamp Iso")]
    review_type: Annotated[ReviewType, Field(title="Review Type")]
    outcome: Annotated[Outcome, Field(title="Outcome")]
    artifact_id: Annotated[str, Field(title="Artifact Id")]
    reviewer_user_id: Annotated[int | None, Field(title="Reviewer User Id")] = None
    sim_comments: Annotated[list[SimReviewComment] | None, Field(title="Sim Comments")] = None


class SimulatorConfigInput(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Type8, Field(title="Type")]
    cookies: Annotated[list[ChromeCookie] | None, Field(title="Cookies")] = None
    authentication: Authentication | None = None
    default_start_path: Annotated[str | None, Field(title="Default Start Path")] = "/"
    status: Annotated[Status1 | None, Field(title="Status")] = Status1.not_started
    env_assignees: Annotated[list[int] | None, Field(title="Env Assignees")] = None
    env_review_assignees: Annotated[list[int] | None, Field(title="Env Review Assignees")] = None
    data_assignees: Annotated[list[int] | None, Field(title="Data Assignees")] = None
    data_review_assignees: Annotated[list[int] | None, Field(title="Data Review Assignees")] = None
    status_history: Annotated[list[SimStatusHistory] | None, Field(title="Status History")] = None
    reviews: Annotated[list[SimReview] | None, Field(title="Reviews")] = None
    assigned_user_id: Annotated[int | None, Field(title="Assigned User Id")] = None
    base_artifact_id: Annotated[str | None, Field(title="Base Artifact Id")] = None
    data_artifact_id: Annotated[str | None, Field(title="Data Artifact Id")] = None
    notes: Annotated[str | None, Field(title="Notes")] = None


SimulatorConfigOutput = SimulatorConfigInput


class SimulatorInfoResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    simulator_name: Annotated[str, Field(title="Simulator Name")]
    artifacts: Annotated[list[SimulatorArtifactInfo], Field(title="Artifacts")]
    tags: Annotated[list[SimulatorTagInfo], Field(title="Tags")]


class SimulatorMetadata(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    id: Annotated[int, Field(title="Id")]
    name: Annotated[str, Field(title="Name")]
    imgUrl: Annotated[str | None, Field(title="Imgurl")] = None
    config: SimulatorConfigOutput | None = None


class SnapshotStatusResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    total_instances: Annotated[int, Field(title="Total Instances")]
    total_snapshots: Annotated[int, Field(title="Total Snapshots")]
    snapshots_by_status: Annotated[dict[str, int], Field(title="Snapshots By Status")]
    instances: Annotated[list[SnapshotsByInstance], Field(title="Instances")]


class TestCaseCreateRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str, Field(title="Name")]
    prompt: Annotated[str, Field(title="Prompt")]
    start_url: Annotated[str | None, Field(title="Start Url")] = None
    hint: Annotated[str | None, Field(title="Hint")] = None
    simulatorConfig: Annotated[dict[str, Any] | None, Field(title="Simulatorconfig")] = None
    defaultScoringConfig: BaseScoringConfig | None = None
    outputSchema: DbModelsTestCaseModelJSONSchemaDraft7 | None = None
    config: Annotated[dict[str, Any] | None, Field(title="Config")] = None
    testCaseSetId: Annotated[int | None, Field(title="Testcasesetid")] = None
    organization_id: Annotated[int | None, Field(title="Organization Id")] = None
    isSample: Annotated[bool | None, Field(title="Issample")] = False
    scoringTypes: Annotated[list[ScoringType2] | None, Field(title="Scoringtypes")] = None
    goalType: Annotated[str | None, Field(title="Goaltype")] = None
    reasoningLevel: ReasoningLevel | None = None
    skills: Annotated[list[Skills] | None, Field(title="Skills")] = None
    capabilities: Annotated[list[Capability] | None, Field(title="Capabilities")] = None
    tags: Annotated[list[str] | None, Field(title="Tags")] = None
    startPath: Annotated[str | None, Field(title="Startpath")] = None
    mutationIgnoreConfig: DatabaseIgnoreConfig | None = None
    simulatorId: Annotated[int | None, Field(title="Simulatorid")] = None
    simulatorArtifactId: Annotated[str | None, Field(title="Simulatorartifactid")] = None
    simulatorArtifactIds: Annotated[list[str] | None, Field(title="Simulatorartifactids")] = None
    workorder: Annotated[str | None, Field(title="Workorder")] = None
    infeasible: Annotated[bool | None, Field(title="Infeasible")] = None


class TestCaseUpdateRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    prompt: Annotated[str | None, Field(title="Prompt")] = None
    name: Annotated[str | None, Field(title="Name")] = None
    startPath: Annotated[str | None, Field(title="Startpath")] = None
    correctOutputs: Annotated[list[Any] | None, Field(title="Correctoutputs")] = None
    defaultScoringConfig: BaseScoringConfig | None = None
    outputSchema: DbModelsTestCaseModelJSONSchemaDraft7 | None = None
    simulatorConfig: Annotated[dict[str, Any] | None, Field(title="Simulatorconfig")] = None
    scoringTypes: Annotated[list[ScoringType2] | None, Field(title="Scoringtypes")] = None
    hint: Annotated[str | None, Field(title="Hint")] = None
    organization_id: Annotated[int | None, Field(title="Organization Id")] = None
    goalType: Annotated[str | None, Field(title="Goaltype")] = None
    reasoningLevel: ReasoningLevel | None = None
    skills: Annotated[list[Skills] | None, Field(title="Skills")] = None
    capabilities: Annotated[list[Capability] | None, Field(title="Capabilities")] = None
    tags: Annotated[list[str] | None, Field(title="Tags")] = None
    simulatorArtifactId: Annotated[str | None, Field(title="Simulatorartifactid")] = None
    simulatorArtifactIds: Annotated[list[str] | None, Field(title="Simulatorartifactids")] = None
    mutationIgnoreConfig: DatabaseIgnoreConfig | None = None
    workorder: Annotated[str | None, Field(title="Workorder")] = None
    infeasible: Annotated[bool | None, Field(title="Infeasible")] = None


class WaitForReadyResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    ready: Annotated[bool, Field(title="Ready")]
    """
    Whether all jobs are ready
    """
    session_id: Annotated[str, Field(title="Session Id")]
    """
    Session ID
    """
    results: Annotated[dict[str, WaitForReadyResult] | None, Field(title="Results")] = None
    """
    Results per job_id
    """
    context: SessionContext | None = None
    """
    Session context when ready (null if not ready)
    """


class AppApiV1EnvRoutesUpdateSimulatorRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str | None, Field(title="Name")] = None
    url: Annotated[str | None, Field(title="Url")] = None
    description: Annotated[str | None, Field(title="Description")] = None
    imgUrl: Annotated[str | None, Field(title="Imgurl")] = None
    config: SimulatorConfigInput | None = None
    ancestors: Annotated[list[str] | None, Field(title="Ancestors")] = None
    enabled: Annotated[bool | None, Field(title="Enabled")] = None
    simType: Annotated[str | None, Field(title="Simtype")] = None
    jobName: Annotated[str | None, Field(title="Jobname")] = None
    internalAppPort: Annotated[int | None, Field(title="Internalappport")] = None
    supportedProviders: Annotated[list[str] | None, Field(title="Supportedproviders")] = None


class AppApiV2SchemasArtifactSimConfigDataset(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    compute: AppApiV2SchemasArtifactSimConfigCompute | None = None
    """
    Compute configuration
    """
    metadata: AppApiV2SchemasArtifactSimConfigMetadata | None = None
    """
    Metadata configuration
    """
    services: Annotated[dict[str, DockerComposeServiceConfig] | None, Field(title="Services")] = None
    """
    Services
    """
    listeners: Annotated[
        dict[
            str,
            DatabaseMutationListenerConfig | ProxyMutationListenerConfig | FileMutationListenerConfig,
        ]
        | None,
        Field(title="Listeners"),
    ] = None
    """
    Listeners
    """


class AppSchemasBuildModelsSimConfigDataset(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    compute: AppSchemasBuildModelsSimConfigCompute
    """
    Compute configuration
    """
    metadata: AppSchemasBuildModelsSimConfigMetadata
    """
    Metadata configuration
    """
    services: Annotated[dict[str, SimConfigService] | None, Field(title="Services")] = None
    """
    Services
    """
    listeners: Annotated[dict[str, SimConfigListener] | None, Field(title="Listeners")] = None
    """
    Listeners
    """


class AddJobRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    env: Annotated[
        EnvFromSimulator | EnvFromArtifact | EnvFromResource,
        Field(discriminator="type", title="Env"),
    ]
    """
    Environment configuration for the new job
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 1800
    """
    VM timeout in seconds (default: 30 minutes)
    """
    heartbeat_timeout: Annotated[int | None, Field(title="Heartbeat Timeout")] = None
    """
    Per-VM heartbeat timeout. None=use default (300s), 0=disabled.
    """


class AnnotatorAssignmentListItem(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    assignment_id: Annotated[int, Field(title="Assignment Id")]
    type: AssignmentType
    stage: AssignmentStage
    simulator: SimulatorMetadata | None = None
    createdAt: Annotated[AwareDatetime, Field(title="Createdat")]
    test_case: TestCaseMetadata | None = None


class Envs(RootModel[EnvFromSimulator | EnvFromArtifact | EnvFromResource]):
    root: Annotated[
        EnvFromSimulator | EnvFromArtifact | EnvFromResource,
        Field(discriminator="type"),
    ]


class CreateSessionFromEnvs(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    type: Annotated[Literal["envs"], Field(title="Type")] = "envs"
    """
    Request type
    """
    envs: Annotated[list[Envs], Field(title="Envs")]
    """
    List of environments to create. Each gets a job.
    """
    timeout: Annotated[int | None, Field(title="Timeout")] = 1800
    """
    VM timeout in seconds
    """
    source: RunSessionSource | None = RunSessionSource.SDK
    """
    Source of the request
    """
    agent_artifact_id: Annotated[str | None, Field(title="Agent Artifact Id")] = None
    """
    Agent artifact ID to associate with the session (e.g., chronos package)
    """


class CreateSimulatorRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    name: Annotated[str, Field(title="Name")]
    url: Annotated[str | None, Field(title="Url")] = None
    description: Annotated[str | None, Field(title="Description")] = None
    imgUrl: Annotated[str | None, Field(title="Imgurl")] = None
    config: SimulatorConfigInput
    ancestors: Annotated[list[str] | None, Field(title="Ancestors")] = None
    enabled: Annotated[bool | None, Field(title="Enabled")] = False
    simType: Annotated[str, Field(title="Simtype")]
    jobName: Annotated[str | None, Field(title="Jobname")] = None
    internalAppPort: Annotated[int | None, Field(title="Internalappport")] = None
    supportedProviders: Annotated[list[str] | None, Field(title="Supportedproviders")] = None


class CreateVMRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    service: Annotated[str | None, Field(title="Service")] = None
    """
    Service name
    """
    dataset: Annotated[str, Field(title="Dataset")]
    """
    Dataset name
    """
    plato_dataset_config: AppSchemasBuildModelsSimConfigDataset
    """
    Dataset config for templating
    """
    request_timeout: Annotated[int | None, Field(ge=60, le=1200, title="Request Timeout")] = 600
    """
    Request timeout in seconds
    """
    artifact_id: Annotated[str | None, Field(title="Artifact Id")] = None
    """
    Artifact ID for the VM
    """
    alias: Annotated[str | None, Field(title="Alias")] = None
    """
    Optional alias for the VM
    """
    sandbox_timeout: Annotated[int | None, Field(ge=600, le=7200, title="Sandbox Timeout")] = 7200
    """
    Max amount of time the sandbox will be available for
    """


class JobListResponse(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    jobs: Annotated[list[JobRecord], Field(title="Jobs")]
    total_count: Annotated[int, Field(title="Total Count")]
    page: Annotated[int, Field(title="Page")]
    page_size: Annotated[int, Field(title="Page Size")]
    has_more_pages: Annotated[bool, Field(title="Has More Pages")]


class PlatoConfig(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    service: Annotated[str | None, Field(title="Service")] = None
    """
    Service name
    """
    sdk: SdkConfig | None = None
    """
    SDK configuration
    """
    datasets: Annotated[dict[str, AppApiV2SchemasArtifactSimConfigDataset], Field(title="Datasets")]
    """
    Datasets
    """


class VMManagementRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    service: Annotated[str | None, Field(title="Service")] = None
    """
    Service name
    """
    dataset: Annotated[str, Field(title="Dataset")]
    """
    Dataset name
    """
    plato_dataset_config: AppSchemasBuildModelsSimConfigDataset
    """
    Dataset config for templating
    """
    request_timeout: Annotated[int | None, Field(ge=60, le=1200, title="Request Timeout")] = 600
    """
    Request timeout in seconds
    """


class AppSchemasBuildModelsSetupSandboxRequest(BaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    service: Annotated[str | None, Field(title="Service")] = None
    """
    Service name
    """
    dataset: Annotated[str, Field(title="Dataset")]
    """
    Dataset name
    """
    plato_dataset_config: AppSchemasBuildModelsSimConfigDataset
    """
    Dataset config for templating
    """
    request_timeout: Annotated[int | None, Field(ge=60, le=1200, title="Request Timeout")] = 600
    """
    Request timeout in seconds
    """
    ssh_password: Annotated[str | None, Field(title="Ssh Password")] = None
    """
    SSH password for plato user (optional)
    """
    ssh_public_key: Annotated[str | None, Field(title="Ssh Public Key")] = None
    """
    SSH public key to add to plato user's authorized_keys (optional)
    """


DbModelsTestCaseModelJSONSchemaDraft7.model_rebuild()
ModelsScoringConfigJSONSchemaDraft7.model_rebuild()
