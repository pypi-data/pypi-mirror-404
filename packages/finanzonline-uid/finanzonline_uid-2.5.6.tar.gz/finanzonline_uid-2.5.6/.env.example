# Copy to .env and fill values as needed.
#
# .env file format (no prefix needed):
#   SECTION__KEY=value
#
# Environment variable format (requires prefix):
#   FINANZONLINE_UID___SECTION__KEY=value

# =============================================================================
# CI/CD Tokens
# =============================================================================

# Codecov upload token (required for private repos; optional for public repos)
CODECOV_TOKEN=

# PyPI API token for release workflow (.github/workflows/release.yml)
# Format: pypi-AgENdGVzdC5weXBpLm9yZwIk...
PYPI_API_TOKEN=

# Optional: GitHub token for API-limited tasks
GITHUB_TOKEN=

# =============================================================================
# Application Settings
# =============================================================================

# Language for user-facing messages and email notifications
# Supported: en (English), de (German), es (Spanish), fr (French), ru (Russian)
APP__LANGUAGE=en

# =============================================================================
# FinanzOnline Configuration (required for UID checks)
# =============================================================================
#
# IMPORTANT: The user (BENID) must have webservice permissions enabled!
# Check FinanzOnline user administration to ensure the user is configured
# as a webservice user, not just a regular FinanzOnline user.
#
# Return code -7 means "The user is not a web service user"
# Return code -4 means "The access codes are not valid"
#

# Participant ID (Teilnehmer-ID) - 8-12 alphanumeric characters
FINANZONLINE__TID=123456789

# User ID (Benutzer-ID) - 5-12 characters
# IMPORTANT: Must be a WEBSERVICE user created in FinanzOnline user admin!
FINANZONLINE__BENID=MYUSER

# Password/PIN - 5-128 characters
FINANZONLINE__PIN=secret

# Your Austrian UID (must start with ATU)
FINANZONLINE__UID_TN=ATU12345678

# Software Producer VAT-ID - 10-24 alphanumeric characters
# This is the VAT-ID of the company that produced the software - put Your own ATU Number there
FINANZONLINE__HERSTELLERID=ATU12345678

# Optional: Session and query timeouts
# FINANZONLINE__SESSION_TIMEOUT=60.0
# FINANZONLINE__QUERY_TIMEOUT=60.0

# Default email recipients for UID check results (JSON array format)
# Note: EMAIL__DEFAULT_RECIPIENTS is preferred as it works even when FO config fails
# FINANZONLINE__DEFAULT_RECIPIENTS=["admin@example.com"]

# Email format for notifications (default: both)
# Options: html, plain, both
#   - html:  Send HTML-only emails (rich formatting)
#   - plain: Send plain text-only emails
#   - both:  Send multipart/alternative with both formats
FINANZONLINE__EMAIL_FORMAT=both

# Cache valid UID results for this many hours (0 = disabled, default: 48)
# Only valid results are cached. Email notifications include cache timestamp.
FINANZONLINE__CACHE_RESULTS_HOURS=48

# Path to cache file (default: platform-specific cache directory)
# Uses file locking for safe concurrent access on network drives
# FINANZONLINE__CACHE_FILE=/shared/network/uid_cache.json

# Rate limiting: Maximum API queries allowed within the time window (0 = disabled)
# When exceeded: logs warning, sends email, but query still proceeds (BMF handles actual limit)
# Note: Cache hits don't count toward rate limit - only actual API calls are tracked
FINANZONLINE__RATELIMIT_QUERIES=50

# Rate limiting: Sliding window duration in hours (default: 24)
FINANZONLINE__RATELIMIT_HOURS=24.0

# Path to rate limit tracking file (default: platform-specific cache directory)
# Uses file locking for safe concurrent access
# FINANZONLINE__RATELIMIT_FILE=/shared/network/rate_limits.json

# Default email recipients for ALL notifications (including config errors)
# This is the PRIMARY recipient setting - used even when FinanzOnline config fails
FINANZONLINE__DEFAULT_RECIPIENTS=["admin@example.com"]

# =============================================================================
# Email Configuration (for sending notifications)
# =============================================================================

# SMTP servers in JSON array format (tried in order)
EMAIL__SMTP_HOSTS=["smtp.example.com:587"]

# Default sender address
EMAIL__FROM_ADDRESS=alerts@example.com

# SMTP authentication (optional, both needed for auth)
# EMAIL__SMTP_USERNAME=your-email@example.com
# EMAIL__SMTP_PASSWORD=your-app-password

# SMTP connection settings
# EMAIL__USE_STARTTLS=true
# EMAIL__TIMEOUT=30.0


# =============================================================================
# Testing (for local development)
# =============================================================================

# Test SMTP server configuration
TEST_SMTP_SERVER=
TEST_EMAIL_ADDRESS=

# =============================================================================
# Logging Configuration
# =============================================================================
# Uses same SECTION__KEY format as other settings (via lib_layered_config)
# LIB_LOG_RICH__CONSOLE_LEVEL=DEBUG
# LIB_LOG_RICH__CONSOLE_FORMAT_PRESET=short
