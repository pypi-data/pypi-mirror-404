# Default configuration for finanzonline_uid
#
# This file contains the default configuration that ships with the application.
# settings can be also set in defaultconfig.d

# Settings can be overridden via:
#   - Application-level config (LINUX):
#        - /etc/xdg/finanzonline-uid/config.[toml|yaml|json]
#        - /etc/xdg/finanzonline-uid/config.d/*.[toml|yaml|json]
#   - Host-level config: (macOS)
#        - /Library/Application Support/bitranox/FinanzOnline UID/config.[toml|yaml|json]
#        - /Library/Application Support/bitranox/FinanzOnline UID/config.d/*.[toml|yaml|json]
#   - User-level config: (Linux)
#        - ~/.config/finanzonline-uid/config.[toml|yaml|json]
#        - ~/.config/finanzonline-uid/config.d/*.[toml|yaml|json]
#   - .env files: .env in current directory or parent directories
#   - Environment variables: Prefix with FINANZONLINE_UID___
#
# Precedence (lowest to highest): defaults → app → host → user → dotenv → env
#
# IMPORTANT: Naming Conventions for .env Files vs Environment Variables
# ----------------------------------------------------------------------
#
# .env FILES (no prefix needed):
#   Format: SECTION__KEY=value
#   Uses double underscore (__) to create nested structures.
#
#   Examples in .env file:
#     FINANZONLINE__TID=123456789
#     FINANZONLINE__BENID=MYUSER
#     FINANZONLINE__PIN=secret
#     FINANZONLINE__UID_TN=ATU12345678
#     FINANZONLINE__SESSION_TIMEOUT=60.0
#
# ENVIRONMENT VARIABLES (require prefix):
#   Format: PREFIX___SECTION__KEY=value
#   Uses triple underscore (___) to separate PREFIX from SECTION,
#   and double underscore (__) to separate SECTION from KEY.
#
#   Examples as environment variables:
#     FINANZONLINE_UID___FINANZONLINE__TID=123456789
#     FINANZONLINE_UID___FINANZONLINE__PIN=secret
#
# Value coercion: "true"/"false" → bool, "null"/"none" → None, numbers → int/float


# ==============================================================================
# Application Settings - General application behavior
# ==============================================================================

[app]

# language = "en"
# Purpose: Language for user-facing messages and email notifications
# Type: string (language code)
# Default: "en" (English)
# Environment: FINANZONLINE_UID___APP__LANGUAGE
# Supported: "en" (English), "de" (German), "es" (Spanish), "fr" (French), "ru" (Russian)
# Note: Affects CLI output, help text, error messages, and email content.
# Example: language = "de"


# ==============================================================================
# FinanzOnline Configuration - BMF UID verification service credentials
# ==============================================================================
#
# Documentation: See docs/prd/prd.md for detailed API specification
# Settings can be overridden via lib_layered_config precedence chain
# Environment variables: FINANZONLINE_UID___FINANZONLINE__*
#
# IMPORTANT: Never commit credentials to version control!
# Use environment variables or user config (~/.config/finanzonline-uid/config.toml)
#
[finanzonline]

# tid = ""
# Purpose: Participant ID (Teilnehmer-ID) for FinanzOnline authentication
# Type: string
# Default: "" (REQUIRED - must be configured)
# Environment: FINANZONLINE_UID___FINANZONLINE__TID
# Example: tid = "123456789"

# benid = ""
# Purpose: User ID (Benutzer-ID) for FinanzOnline authentication
# Type: string
# Default: "" (REQUIRED - must be configured)
# Environment: FINANZONLINE_UID___FINANZONLINE__BENID
# Example: benid = "MYUSER"

# pin = ""
# Purpose: Password/PIN for FinanzOnline authentication
# Type: string
# Default: "" (REQUIRED - must be configured)
# Environment: FINANZONLINE_UID___FINANZONLINE__PIN
# Security: Store in environment variable, not config file!
# Example: Set via environment variable for security

# uid_tn = ""
# Purpose: Own Austrian UID (must start with "ATU")
# Type: string
# Default: "" (REQUIRED - must be configured)
# Environment: FINANZONLINE_UID___FINANZONLINE__UID_TN
# Example: uid_tn = "ATU12345678"

# herstellerid = ""
# Purpose: VAT-ID of software producer (required by BMF for session login)
# Type: string
# Default: "" (REQUIRED - must be configured)
# Environment: FINANZONLINE_UID___FINANZONLINE__HERSTELLERID
# Note: This is YOUR company's Austrian UID (ATU number) as the software developer
# Example: herstellerid = "ATU12345678"

# session_timeout = 30.0
# Purpose: Timeout in seconds for session operations (login/logout)
# Type: float
# Default: 30.0
# Environment: FINANZONLINE_UID___FINANZONLINE__SESSION_TIMEOUT
# Example: session_timeout = 60.0

# query_timeout = 30.0
# Purpose: Timeout in seconds for UID query operations
# Type: float
# Default: 30.0
# Environment: FINANZONLINE_UID___FINANZONLINE__QUERY_TIMEOUT
# Example: query_timeout = 60.0

# default_recipients = []
# Purpose: Default email recipients for UID check result notifications
# Type: array of strings (email addresses)
# Default: [] (empty - no email notifications unless specified)
# Environment: FINANZONLINE_UID___FINANZONLINE__DEFAULT_RECIPIENTS
# Note: Can be overridden with --recipient CLI option
# Example: default_recipients = ["admin@example.com", "accounting@example.com"]

# email_format = "html"
# Purpose: Email body format for notifications
# Type: string (one of: "html", "plain", "both")
# Default: "html" (sends HTML-only emails with rich formatting)
# Environment: FINANZONLINE_UID___FINANZONLINE__EMAIL_FORMAT
# Options:
#   - "html":  Send HTML-only emails (rich formatting) [DEFAULT]
#   - "plain": Send plain text-only emails
#   - "both":  Send multipart/alternative with both formats
# Example: email_format = "plain"

# cache_results_hours = 48.0
# Purpose: Hours to cache valid UID query results (0 = disabled)
# Type: float
# Default: 48.0 (caching enabled, results cached for 48 hours)
# Environment: FINANZONLINE_UID___FINANZONLINE__CACHE_RESULTS_HOURS
# Note: Only valid results (return_code=0) are cached. Cached results include
#       a note in email notifications showing the original query timestamp.
# Example: cache_results_hours = 24.0

# cache_file = ""
# Purpose: Path to the JSON cache file
# Type: string (file path)
# Default: Platform-specific cache directory:
#   - Linux: ~/.cache/finanzonline-uid/uid_cache.json
#   - macOS: ~/Library/Caches/finanzonline-uid/uid_cache.json
#   - Windows: %LOCALAPPDATA%/finanzonline-uid/uid_cache.json
# Environment: FINANZONLINE_UID___FINANZONLINE__CACHE_FILE
# Note: Uses file locking for safe concurrent access on network drives.
#       Parent directories are created automatically if needed.
#       Cross-platform: Use forward slashes (/) even for Windows UNC paths.
#       Example: "//server/share/cache.json" works on Windows (converted to \\server\share\cache.json)
# Example: cache_file = "/shared/network/uid_cache.json"

# ratelimit_queries = 50
# Purpose: Maximum number of API queries allowed within the rate limit window
# Type: integer
# Default: 50 (0 = disabled)
# Environment: FINANZONLINE_UID___FINANZONLINE__RATELIMIT_QUERIES
# Note: Cache hits don't count; only actual BMF API calls are tracked.
#       When exceeded, a warning email is sent but queries still proceed.
# Example: ratelimit_queries = 100

# ratelimit_hours = 24.0
# Purpose: Sliding window duration in hours for rate limit tracking
# Type: float
# Default: 24.0 (daily limit)
# Environment: FINANZONLINE_UID___FINANZONLINE__RATELIMIT_HOURS
# Example: ratelimit_hours = 12.0

# ratelimit_file = ""
# Purpose: Path to the JSON rate limit tracking file
# Type: string (file path)
# Default: Platform-specific cache directory:
#   - Linux: ~/.cache/finanzonline-uid/rate_limits.json
#   - macOS: ~/Library/Caches/finanzonline-uid/rate_limits.json
#   - Windows: %LOCALAPPDATA%/finanzonline-uid/rate_limits.json
# Environment: FINANZONLINE_UID___FINANZONLINE__RATELIMIT_FILE
# Note: Uses file locking for safe concurrent access.
#       Cross-platform: Use forward slashes (/) even for Windows UNC paths.
# Example: ratelimit_file = "/shared/network/rate_limits.json"

# output_dir = ""
# Purpose: Directory to save valid UID check results as files
# Type: string (directory path)
# Default: "" (disabled - no file output)
# Environment: FINANZONLINE_UID___FINANZONLINE__OUTPUT_DIR
# Note: Only valid results (return_code=0) are saved. Files are named
#       <UID>_<YYYY-MM-DD>.<ext> and overwritten if they already exist.
#       File format/extension is controlled by output_format setting.
#       Can be overridden with --outputdir CLI option.
#       Cross-platform: Use forward slashes (/) even for Windows UNC paths.
#       Example: "//server/share/uid-checks/" works on Windows.
# Example: output_dir = "/var/log/uid-checks/"

# output_format = "html"
# Purpose: Format for saved UID check result files
# Type: string ("json", "txt", or "html")
# Default: "html"
# Environment: FINANZONLINE_UID___FINANZONLINE__OUTPUT_FORMAT
# Note: Determines file extension and content format:
#       - json: Structured JSON data (.json)
#       - txt: Human-readable plain text (.txt)
#       - html: Formatted HTML document (.html)
#       Can be overridden with --outputformat CLI option.
