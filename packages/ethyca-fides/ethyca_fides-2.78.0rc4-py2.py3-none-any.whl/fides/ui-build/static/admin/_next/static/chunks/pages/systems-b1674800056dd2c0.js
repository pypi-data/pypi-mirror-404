(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3785],{58095:function(e,t,n){var s=n(8817);e.exports=function(e,t){return!!(null==e?0:e.length)&&s(e,t,0)>-1}},21796:function(e){e.exports=function(e,t,n){for(var s=-1,a=null==e?0:e.length;++s<a;)if(n(t,e[s]))return!0;return!1}},95372:function(e){e.exports=function(e,t,n,s){for(var a=e.length,r=n+(s?1:-1);s?r--:++r<a;)if(t(e[r],r,e))return r;return -1}},8817:function(e,t,n){var s=n(95372),a=n(1129),r=n(58263);e.exports=function(e,t,n){return t==t?r(e,t,n):s(e,a,n)}},1129:function(e){e.exports=function(e){return e!=e}},92198:function(e,t,n){var s=n(52485),a=n(58095),r=n(21796),l=n(65581),i=n(47111),o=n(43735);e.exports=function(e,t,n){var u=-1,d=a,c=e.length,g=!0,p=[],m=p;if(n)g=!1,d=r;else if(c>=200){var f=t?null:i(e);if(f)return o(f);g=!1,d=l,m=new s}else m=t?[]:p;e:for(;++u<c;){var y=e[u],h=t?t(y):y;if(y=n||0!==y?y:0,g&&h==h){for(var x=m.length;x--;)if(m[x]===h)continue e;t&&m.push(h),p.push(y)}else d(m,h,n)||(m!==p&&m.push(h),p.push(y))}return p}},56632:function(e,t,n){var s=n(89278),a=n(80068),r=n(50098);e.exports=function(e){return function(t,n,l){var i=Object(t);if(!a(t)){var o=s(n,3);t=r(t),n=function(e){return o(i[e],e,i)}}var u=e(t,n,l);return u>-1?i[o?t[u]:u]:void 0}}},47111:function(e,t,n){var s=n(46151),a=n(50344),r=n(43735),l=s&&1/r(new s([,-0]))[1]==1/0?function(e){return new s(e)}:a;e.exports=l},58263:function(e){e.exports=function(e,t,n){for(var s=n-1,a=e.length;++s<a;)if(e[s]===t)return s;return -1}},64925:function(e,t,n){var s=n(56632)(n(66259));e.exports=s},66259:function(e,t,n){var s=n(95372),a=n(89278),r=n(47991),l=Math.max;e.exports=function(e,t,n){var i=null==e?0:e.length;if(!i)return -1;var o=null==n?0:r(n);return o<0&&(o=l(i+o,0)),s(e,a(t,3),o)}},56141:function(e,t,n){var s=n(32866);e.exports=function(e,t){return s(e,t)}},50344:function(e){e.exports=function(){}},94919:function(e,t,n){var s=n(91936),a=1/0;e.exports=function(e){return e?(e=s(e))===a||e===-a?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},47991:function(e,t,n){var s=n(94919);e.exports=function(e){var t=s(e),n=t%1;return t==t?n?t-n:t:0}},83766:function(e,t,n){var s=n(92198);e.exports=function(e){return e&&e.length?s(e):[]}},90988:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/systems",function(){return n(74233)}])},30952:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var s=n(24246),a=n(26917);let r=e=>{let{...t}=e;return(0,s.jsx)(a.Z,{debounce:!0,...t})}},77213:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var s=n(24246),a=n(36010),r=n(88038),l=n.n(r),i=n(86677);n(27378);var o=n(25980),u=n(90867),d=n(42478),c=n(77830),g=()=>{let e=(0,i.useRouter)();return(0,s.jsx)(a.TJV,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,s.jsxs)(a.TJV,{children:[(0,s.jsxs)(a.EO$,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,s.jsx)(a.Bjg,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,s.jsx)(a.zxk,{onClick:()=>{e.push(c.AD)},children:"Configure"})]}),(0,s.jsxs)(a.Bjg,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},p=e=>{let{children:t,title:n,padded:r=!0,mainProps:c}=e,p=(0,o.hz)(),m=(0,i.useRouter)(),f="/privacy-requests"===m.pathname||"/datastore-connection"===m.pathname,y=!(p.flags.messagingConfiguration&&f),{data:h}=(0,d.JE)(void 0,{skip:y}),{data:x}=(0,u.PW)(void 0,{skip:y}),v=p.flags.messagingConfiguration&&(!h||!x)&&f;return(0,s.jsxs)(a.ad9,{"data-testid":n,direction:"column",h:"100vh",children:[(0,s.jsxs)(l(),{children:[(0,s.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,s.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)(a.ad9,{as:"main",direction:"column",py:r?6:0,px:r?10:0,h:r?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[v?(0,s.jsx)(g,{}):null,t]})]})}},58754:function(e,t,n){"use strict";var s=n(24246),a=n(36010),r=n(70788);t.Z=e=>{let{heading:t,breadcrumbItems:n,isSticky:l=!0,children:i,rightContent:o,style:u,...d}=e;return(0,s.jsxs)("div",{...d,style:l?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...u}:{paddingBottom:"24px",...u},children:[(0,s.jsxs)(a.kCb,{justify:"space-between",children:["string"==typeof t?(0,s.jsx)(a.Dxz,{className:n||i?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,o&&(0,s.jsx)("div",{"data-testid":"page-header-right-content",children:o})]}),!!n&&(0,s.jsx)(r.m,{className:i?"pb-4":void 0,items:n,"data-testid":"page-breadcrumb"}),i]})}},19904:function(e,t,n){"use strict";n.d(t,{Tg:function(){return l}});var s=n(24246),a=n(16134),r=n(31793);let l=e=>(0,a.C)(r.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:n}=e;return l(t)?(0,s.jsx)(s.Fragment,{children:n}):null}},59849:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var s=n(24246),a=n(36010),r=n(86677),l=n(88340);let i="/images/errors";var o=e=>{let{status:t}=e;return 404===t?(0,s.jsx)(a.Eep,{src:"".concat(i,"/404.svg"),alt:"Error 404",preview:!1}):500===t?(0,s.jsx)(a.Eep,{src:"".concat(i,"/500.svg"),alt:"Error 500",preview:!1}):(0,s.jsx)(a.Eep,{src:"".concat(i,"/unknown.svg"),alt:"Error Unknown",preview:!1})},u=n(812),d=e=>{let{error:t,defaultMessage:n="An unexpected error occurred.  Please try again",actions:i,showReload:d=!0}=e,c=(0,u.e$)(t,n),g="data"in t&&t.data?JSON.stringify(t.data):JSON.stringify(t),p="status"in t&&t.status?t.status:void 0,m=(0,r.useRouter)(),f=i&&i.length>0||d;return(0,s.jsx)(a.kCb,{vertical:!0,align:"center",justify:"center",className:"h-screen","data-testid":"error-page-result",children:(0,s.jsx)(a.x4B,{status:"error",icon:(0,s.jsx)(o,{status:p}),title:"Error ".concat(p),subTitle:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Typography.Paragraph,{type:"secondary",children:c}),(0,s.jsx)(a.kCb,{justify:"start",className:"max-w-96",children:(0,s.jsx)(a.UO1,{ghost:!0,size:"small",items:[{key:"1",label:"Show details",classNames:{header:"w-fit"},children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Typography.Text,{type:"secondary",children:g}),(0,s.jsx)(l.Z,{copyText:g})]})}]})})]}),extra:f&&(0,s.jsxs)(a.kCb,{gap:"small",justify:"center",children:[null==i?void 0:i.map((e,t)=>(0,s.jsx)(a.zxk,{...e,children:e.label},t)),d&&(0,s.jsx)(a.zxk,{onClick:()=>m.reload(),type:"primary",children:"Reload"})]})})})}},97181:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var s=n(24246),a=n(36010),r=n(34090),l=n(27378),i=n(46238),o=n(40324);let u=e=>{let{name:t,label:n,labelProps:u,tooltip:d,isRequired:c,layout:g="inline",helperText:p,...m}=e,[f,y,{setValue:h}]=(0,r.U$)(t),x=!!(y.touched&&y.error),[v,j]=(0,l.useState)("");f.value||"tags"!==m.mode&&"multiple"!==m.mode||(f.value=[]),"tags"===m.mode&&"string"==typeof f.value&&(f.value=[f.value]);let b="tags"===m.mode?(e,t)=>e?e.value!==v||f.value.includes(v)?m.optionRender?m.optionRender(e,t):e.label:'Create "'.concat(v,'"'):void 0:m.optionRender||void 0,k=e=>{j(e),m.onSearch&&m.onSearch(e)},C=(e,t)=>{h(e),m.onChange&&m.onChange(e,t)};return"inline"===g?(0,s.jsx)(a.DTt,{isInvalid:x,isRequired:c,children:(0,s.jsxs)(a.MoG,{templateColumns:n?"1fr 3fr":"1fr",children:[n?(0,s.jsx)(o.__,{htmlFor:m.id||t,...u,children:n}):null,(0,s.jsxs)(a.kCb,{align:"center",children:[(0,s.jsxs)(a.kCb,{vertical:!0,flex:1,className:"mr-2",children:[(0,s.jsx)(a.PhF,{...f,id:m.id||t,"data-testid":"controlled-select-".concat(f.name),...m,optionRender:b,onSearch:"tags"===m.mode?k:void 0,onChange:C,value:f.value||void 0,status:x?"error":void 0}),p&&(0,s.jsx)(a.Kug,{children:p}),(0,s.jsx)(o.Bc,{isInvalid:x,message:y.error,fieldName:f.name})]}),(0,s.jsx)(i.b,{label:d,className:x?"mt-2 self-start":void 0})]})]})}):(0,s.jsx)(a.DTt,{isInvalid:x,isRequired:c,children:(0,s.jsxs)(a.s_g,{alignItems:"start",children:[(0,s.jsxs)(a.kCb,{align:"center",children:[n?(0,s.jsx)(o.__,{htmlFor:m.id||t,fontSize:"xs",my:0,mr:1,...u,children:n}):null,(0,s.jsx)(i.b,{label:d})]}),(0,s.jsx)(a.PhF,{...f,id:m.id||t,"data-testid":"controlled-select-".concat(f.name),...m,optionRender:b,onSearch:"tags"===m.mode?k:void 0,onChange:C,value:f.value||void 0,status:x?"error":void 0}),p&&(0,s.jsx)(a.Kug,{style:{marginTop:0},children:p}),(0,s.jsx)(o.Bc,{isInvalid:x,message:y.error,fieldName:f.name})]})})}},34929:function(e,t,n){"use strict";var s=n(24246),a=n(64925),r=n.n(a),l=n(27378),i=n(16134),o=n(30002),u=n(28079),d=n(57072);let c=()=>{let{isLoading:e}=(0,u.fd)(),t=(0,i.C)(u.U3),{isLoading:n}=(0,d.MO)(),s=(0,i.C)(d.qb),{isLoading:a}=(0,o.te)();return{dataUses:t,dataSubjects:(0,i.C)(o.ZL),dataCategories:s,isLoading:e||n||a}};t.Z=()=>{let{dataUses:e,dataCategories:t,dataSubjects:n,isLoading:a}=c(),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.split(".").slice(0,t).join(".")},o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=t(e);if(!s)return{};let a=t(i(e,n)),r=!!s.parent_key;return{name:s.name||void 0,primaryName:r&&(null==a?void 0:a.name)!==s.name&&(null==a?void 0:a.name)||void 0}},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,{name:a,primaryName:r}=o(e,t,n);return a?r?(0,s.jsxs)(l.Fragment,{children:[(0,s.jsxs)("strong",{children:[r,":"]})," ",a]},e):(0,s.jsx)("strong",{children:a},e):e},d=t=>r()(e,{fides_key:t}),g=e=>r()(t,{fides_key:e}),p=e=>r()(n,{fides_key:e});return{getDataUses:()=>e,getDataUseByKey:d,getDataUseDisplayName:e=>u(e,d,1),getDataUseDisplayNameProps:e=>o(e,d,1),getDataCategories:()=>t,getDataCategoryByKey:g,getDataCategoryDisplayName:e=>u(e,g,2),getDataCategoryDisplayNameProps:e=>o(e,g,2),getDataSubjects:()=>n,getDataSubjectByKey:p,getDataSubjectDisplayName:e=>{let t=p(e);return t?t.name:e},getDataSubjectDisplayNameProps:e=>{let t=p(e);return t?{name:t.name||e}:{}},getPrimaryKey:i,isLoading:a}}},70788:function(e,t,n){"use strict";n.d(t,{m:function(){return u}});var s=n(24246),a=n(36010),r=n(79894),l=n.n(r),i=n(27378);let{Text:o}=a.Typography,u=e=>{let{items:t,...n}=e,r=(0,i.useMemo)(()=>null==t?void 0:t.map((e,n)=>{let r=n===t.length-1,i={...e},u=i.onClick&&!i.href;return("string"==typeof i.title&&(i.title=(0,s.jsx)(o,{style:{color:"inherit",maxWidth:r?void 0:400},ellipsis:!r,id:r?"breadcrumb-current-page":void 0,children:i.title})),u)?i.title=(0,s.jsx)(a.zxk,{type:"text",size:"small",icon:i.icon,onClick:i.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:i.title}):(i.icon&&(i.title=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"anticon align-text-bottom",children:i.icon}),i.title]})),i.href&&i.title&&(i.title=(0,s.jsx)(l(),{href:i.href,className:"ant-breadcrumb-link",children:i.title}),delete i.href)),i}),[t]);return(0,s.jsx)(a.aGc,{items:r,...n})}},94770:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var s=n(24246),a=n(36010);let r=e=>{let{children:t,...n}=e;return t&&"string"==typeof t?(0,s.jsx)(a.Typography.Text,{ellipsis:{tooltip:t},...n,children:t}):t}},99640:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var s=n(24246),a=n(36010),r=n(79894),l=n.n(r);let{Link:i,Text:o}=a.Typography,u=e=>{let{href:t,children:n,containerProps:r,strong:u=!0,...d}=e;return n&&(0,s.jsx)(a.kCb,{...r,children:t?(0,s.jsx)(l(),{href:t,passHref:!0,legacyBehavior:!0,children:(0,s.jsx)(i,{strong:u,ellipsis:!0,onClick:e=>e.stopPropagation(),variant:"primary",...d,children:(0,s.jsx)(o,{unStyled:!0,ellipsis:{tooltip:n},children:n})})}):(0,s.jsx)(o,{strong:u,ellipsis:!0,...d,children:n})})}},2525:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var s=n(24246),a=n(36010),r=n(27378),l=n(3110);let i=e=>{let{values:t,columnState:n,tagProps:i,onTagClose:o,onStateChange:u,...d}=e,{isExpanded:c,isWrapped:g,version:p}=n||{},[m,f]=(0,r.useState)(!c),[y,h]=(0,r.useState)(!!g),[x,v]=(0,r.useState)(c?t:null==t?void 0:t.slice(0,2));(0,r.useEffect)(()=>{f(!c)},[c,p]),(0,r.useEffect)(()=>{h(!!g)},[g]),(0,r.useEffect)(()=>{(null==t?void 0:t.length)?v(m?t.slice(0,2):t):v(t)},[m,t,u]),(0,r.useEffect)(()=>{(null==t?void 0:t.length)&&t.length<=2&&!m&&(f(!0),null==u||u(!1))},[t,u,m]);let j=(0,r.useCallback)(()=>{v(null==t?void 0:t.slice(0,2)),f(!0),null==u||u(!1)},[t,u]),b=(0,r.useCallback)(()=>{f(!1),null==u||u(!0)},[u]),k=(0,r.useCallback)(()=>{m?b():j()},[m,b,j]);return(0,r.useMemo)(()=>(null==x?void 0:x.length)?(0,s.jsxs)(a.kCb,{align:m?"center":"start",wrap:y?"wrap":"nowrap",vertical:!m,gap:"small","data-testid":"tag-expandable-cell",style:{overflowX:"auto",...d.style},...d,children:[x.map(e=>(0,s.jsx)(a.Vp9,{color:"white","data-testid":e.key,onClose:o?()=>o(e.key):void 0,...i,...e.tagProps,children:(0,s.jsx)(a.xvT,{ellipsis:!!m&&{tooltip:!0},style:{color:"inherit",maxWidth:m?l.TD:void 0},children:e.label})},e.key)),t&&t.length>2&&(0,s.jsx)(a.zxk,{type:"link",size:"small",onClick:e=>{e.stopPropagation(),k()},className:"h-auto p-0",style:{fontSize:"var(--ant-font-size)"},children:m?"+".concat(t.length-2," more"):l.T5})]}):(0,s.jsx)("span",{"data-testid":"tag-expandable-cell-empty"}),[x,m,y,d,t,i,o,k])}},3110:function(e,t,n){"use strict";n.d(t,{DI:function(){return i},T5:function(){return r},TD:function(){return l}});var s=n(24246),a=n(36010);let r="show less",l=150,i=[{key:"expand-all",label:"Expand all",icon:(0,s.jsx)(a.PJP.jbG,{})},{key:"collapse-all",label:"Collapse all",icon:(0,s.jsx)(a.PJP.MVB,{})}]},24813:function(e,t,n){"use strict";n.d(t,{ED:function(){return l},vx:function(){return d},Q3:function(){return c.Q}});var s=n(24246),a=n(36010),r=n(46238);let l=e=>{let{value:t,tooltip:n}=e;return(0,s.jsxs)(a.kCb,{align:"center",gap:"small",children:[t,(0,s.jsx)(r.b,{label:n})]})};var i=n(27378),o=n(3110);let{Text:u}=a.Typography,d=e=>{let{values:t,valueSuffix:n,columnState:r,containerProps:l}=e,{isExpanded:d,version:c}=r||{},[g,p]=(0,i.useState)(!d);(0,i.useEffect)(()=>{p(!d)},[d,c]);let m=(0,i.useCallback)(()=>{p(!0)},[]),f=(0,i.useCallback)(()=>{p(!1)},[]),y=(0,i.useCallback)(()=>{g?f():m()},[g,f,m]);return(0,i.useMemo)(()=>(null==t?void 0:t.length)?1===t.length?(0,s.jsx)(a.kCb,{...l,children:(0,s.jsx)(u,{ellipsis:!0,"data-testid":"list-expandable-cell-single",children:t[0]})}):(0,s.jsxs)(a.kCb,{align:g?"center":"flex-start",vertical:!g,gap:g?"small":"none","data-testid":"list-expandable-cell",...l,children:[g?(0,s.jsxs)(u,{ellipsis:!0,children:[t.length," ",n]}):(0,s.jsx)(a.aVo,{dataSource:t,renderItem:e=>(0,s.jsx)("li",{children:e})}),(0,s.jsx)(a.zxk,{type:"link",size:"small",onClick:e=>{e.stopPropagation(),y()},className:"h-auto p-0",style:{fontSize:"var(--ant-font-size)"},children:g?"view":o.T5})]}):null,[g,t,n,y,l])};var c=n(2525)},8125:function(e,t,n){"use strict";n.d(t,{V:function(){return r},o:function(){return u}});var s=n(27378),a=n(32735);let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{enableSelection:n=!1,getRowKey:r,bulkActions:l,isLoading:i=!1,isFetching:o=!1,dataSource:u=[],totalRows:d=0,currentPage:c,pageSize:g,customTableProps:p={}}=t,m=(0,s.useCallback)(e=>{if(e&&"object"==typeof e){if(e.id)return String(e.id);if(e.key)return String(e.key)}return String(e)},[]),f=r||m,[y,h]=(0,s.useState)([]),[x,v]=(0,s.useState)([]),j=(0,s.useCallback)(()=>{h([]),v([])},[]),b=(0,s.useMemo)(()=>({selectedRowKeys:y,selectedRows:x,resetSelections:j}),[y,x,j]),k=(0,s.useMemo)(()=>{if(n)return{selectedRowKeys:y,onChange:(e,t)=>{h(e),v(t)}}},[n,y]),C=(0,s.useCallback)((t,n,s)=>{var a,r;let l=null!==(a=t.current)&&void 0!==a?a:e.pageIndex,i=null!==(r=t.pageSize)&&void 0!==r?r:e.pageSize,o=l!==e.pageIndex||i!==e.pageSize;o?(t.current&&t.current!==e.pageIndex&&e.updatePageIndex(t.current),t.pageSize&&t.pageSize!==e.pageSize&&e.updatePageSize(t.pageSize)):e.updateFilters(n||{});let u=s&&!Array.isArray(s)?s.field:void 0,d=s&&!Array.isArray(s)&&null!==s.order?s.order:void 0;o||e.updateSorting(u,d)},[e]),S=(0,s.useMemo)(()=>{var t,n,s,r,l;return{current:null!=c?c:e.pageIndex,pageSize:null!=g?g:e.pageSize,total:d,showSizeChanger:null===(r=null===(t=e.paginationConfig)||void 0===t?void 0:t.showSizeChanger)||void 0===r||r,pageSizeOptions:null!==(l=null===(s=e.paginationConfig)||void 0===s?void 0:null===(n=s.pageSizeOptions)||void 0===n?void 0:n.map(String))&&void 0!==l?l:a.VZ}},[c,e.pageIndex,g,e.pageSize,d,e.paginationConfig]),E=(0,s.useMemo)(()=>({dataSource:u,loading:i||o,pagination:S,onChange:C,rowKey:f,scroll:{x:"max-content",scrollToFirstRowOnChange:!0},size:"small",bordered:!0,...p}),[u,i,o,S,C,f,p]),_=y.map(String),T=x.length>0,w=(0,s.useCallback)(e=>{let t=null==l?void 0:l.actions.find(t=>t.key===e);return t?{disabled:!T||!!t.disabled&&t.disabled(x),loading:t.loading||!1,onClick:()=>t.onClick(x)}:{disabled:!0,loading:!1}},[l,T,x]);return(0,s.useMemo)(()=>({tableProps:E,selectionProps:k,selectionState:b,selectedRows:x,selectedKeys:_,hasSelectedRows:T,resetSelections:j,getBulkActionProps:w,isLoadingOrFetching:i||o,hasData:u.length>0}),[E,k,b,x,_,T,j,w,i,o,u.length])};var l=n(40431),i=n(17245);let o=()=>({filters:(0,l.WJ)(e=>e).withDefault({})}),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{pagination:t={},sorting:n={},search:a={},onStateChange:r,disableUrlState:u=!1}=e,{pageIndex:d,pageSize:c,resetPagination:g,updatePageIndex:p,updatePageSize:m,pageSizeOptions:f,showSizeChanger:y}=(0,i.h0)({...t,disableUrlState:u}),{sortKey:h,sortOrder:x,updateSorting:v,resetSorting:j}=(0,i.rK)({...n,disableUrlState:u}),{searchQuery:b,updateSearch:k,resetSearch:C}=(0,i.Rx)({...a,disableUrlState:u}),[S,E]=(0,s.useState)({}),_=(0,s.useMemo)(()=>u?null:o(),[u]),[T,w]=(0,l.XI)(null!=_?_:{},{history:"push"}),N=(0,s.useMemo)(()=>{var e;return{pageIndex:d,pageSize:c,sortKey:h,sortOrder:x,columnFilters:u?S:null!==(e=T.filters)&&void 0!==e?e:{},searchQuery:b}},[u,S,T,d,c,h,x,b]),O=(0,s.useCallback)((e,t)=>{v(e,t),g()},[v,g]),M=(0,s.useCallback)(e=>{if(u)E(e);else{let t=Object.fromEntries(Object.entries(e).filter(e=>{let[,t]=e;return null!=t}));w({filters:Object.keys(t).length>0?t:null})}g()},[u,w,g]),A=(0,s.useCallback)(e=>{k(e),g()},[k,g]),D=(0,s.useCallback)(()=>{u?E({}):w({filters:null}),g(),j(),C()},[u,w,g,j,C]);return(0,s.useEffect)(()=>{r&&r(N)},[N,r]),{state:N,pageIndex:N.pageIndex,pageSize:N.pageSize,updatePageIndex:p,updatePageSize:m,sortKey:N.sortKey,sortOrder:N.sortOrder,updateSorting:O,columnFilters:N.columnFilters,updateFilters:M,searchQuery:N.searchQuery,updateSearch:A,resetState:D,paginationConfig:{pageSizeOptions:f,showSizeChanger:y}}}},33335:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});let s=e=>e.toLowerCase().replace(/[ .]/g,"_").replace(/[^a-zA-Z0-9_<>-]/g,"")},42478:function(e,t,n){"use strict";n.d(t,{FU:function(){return u},JE:function(){return a},Ki:function(){return c},SU:function(){return g},W:function(){return p},h9:function(){return r},jc:function(){return s},qt:function(){return o},sn:function(){return d}});let{useGetEmailInviteStatusQuery:s,useGetActiveMessagingProviderQuery:a,useCreateMessagingConfigurationMutation:r,useCreateMessagingConfigurationSecretsMutation:l,useGetMessagingConfigurationDetailsQuery:i,useGetMessagingConfigurationsQuery:o,useGetMessagingConfigurationByKeyQuery:u,useUpdateMessagingConfigurationByKeyMutation:d,useUpdateMessagingConfigurationSecretsByKeyMutation:c,useCreateTestConnectionMessageMutation:g,useDeleteMessagingConfigurationByKeyMutation:p}=n(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,t,n,s)=>{let a=await s({url:"messaging/default/active"});return a.error&&404===a.error.status?{data:null}:a},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},22583:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var s=n(36010),a=n(60240);let r={[a.Ej.TAXONOMY_WHITE]:s.tAb.DEFAULT,[a.Ej.TAXONOMY_RED]:s.tAb.ERROR,[a.Ej.TAXONOMY_ORANGE]:s.tAb.WARNING,[a.Ej.TAXONOMY_YELLOW]:s.tAb.CAUTION,[a.Ej.TAXONOMY_GREEN]:s.tAb.SUCCESS,[a.Ej.TAXONOMY_BLUE]:s.tAb.INFO,[a.Ej.TAXONOMY_PURPLE]:s.tAb.ALERT,[a.Ej.SANDSTONE]:s.tAb.SANDSTONE,[a.Ej.MINOS]:s.tAb.MINOS}},92818:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var s=n(24246),a=n(27378),r=n(97181),l=n(22583),i=n(60240);let o={[i.Ej.TAXONOMY_WHITE]:"White",[i.Ej.TAXONOMY_RED]:"Red",[i.Ej.TAXONOMY_ORANGE]:"Orange",[i.Ej.TAXONOMY_YELLOW]:"Yellow",[i.Ej.TAXONOMY_GREEN]:"Green",[i.Ej.TAXONOMY_BLUE]:"Blue",[i.Ej.TAXONOMY_PURPLE]:"Purple",[i.Ej.SANDSTONE]:"Sandstone",[i.Ej.MINOS]:"Minos"},u=e=>{let{color:t,...n}=e;return(0,s.jsx)("span",{"aria-hidden":!0,className:"mr-2 inline-block size-4 rounded-lg align-middle",style:{backgroundColor:"var(--fidesui-bg-".concat(l.j[t],")"),border:t===i.Ej.TAXONOMY_WHITE?"1px solid var(--fidesui-neutral-200)":"none",...n.style}})},d=e=>{let t=null==e?void 0:e.value,n=null==e?void 0:e.label;return(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(u,{color:t}),(0,s.jsx)("span",{children:n})]})};t.Z=e=>{let t=Object.values(i.Ej).map(e=>({value:e,label:o[e]})),[n,l]=(0,a.useState)(void 0);return(0,s.jsx)(r.d,{...e,options:t,optionRender:d,layout:"stacked",value:n,onChange:e=>{l(e)},prefix:(0,s.jsx)(u,{color:null!=n?n:i.Ej.TAXONOMY_WHITE,style:{marginBottom:"2px"}})})}},57072:function(e,t,n){"use strict";n.d(t,{Bd:function(){return s.Bd},L5:function(){return s.L5},MO:function(){return s.MO},qb:function(){return s.qb}});var s=n(5785)},74233:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var s=n(24246),a=n(36010),r=n(27378),l=n(59849),i=n(77213),o=n(58754),u=n(86677),d=n(25980),c=n(77830),g=()=>{let{dictionaryService:e}=(0,d.hz)(),t=(0,u.useRouter)();return(0,s.jsxs)(a.kCb,{children:[e&&(0,s.jsx)(a.Ltx,{trigger:["click"],menu:{items:[{label:"Create new system",key:"add-system",onClick:()=>t.push(c.N5)},{label:"Add multiple systems",key:"add-multiple-systems",onClick:()=>t.push(c.bJ)}]},children:(0,s.jsx)(a.zxk,{type:"primary","data-testid":"add-system-btn",icon:(0,s.jsx)(a.PJP._ME,{}),children:"Add system"})}),!e&&(0,s.jsx)(a.zxk,{type:"primary","data-testid":"add-system-btn",onClick:()=>t.push(c.N5),children:"Add new system"})]})},p=n(30952),m=n(812),f=n(65450),y=n(34090),h=n(83766),x=n.n(h),v=n(55484),j=n(97181),b=n(40324),k=n(28079),C=n(1315),S=n(92818);let E="all-suggested";var _=e=>{let{options:t,loading:n,name:l,suggestedDataUses:i,...o}=e,[u,d,{setValue:c}]=(0,y.U$)(l),g=!!(d.touched&&d.error),p=(0,r.useMemo)(()=>{let e=[],n=[];return null==t||t.forEach(t=>{i.includes(t.value)?e.push(t):n.push(t)}),{suggested:e,all:n}},[t,i]),m=p.suggested.length?[{label:"Select all suggested",value:E},{label:(0,s.jsxs)(a.TaI,{children:[(0,s.jsx)(a.QMR,{size:14}),(0,s.jsx)("span",{children:"Suggested data uses"})]}),value:"suggested",options:p.suggested},{label:(0,s.jsxs)(a.TaI,{children:[(0,s.jsx)(a.PJP.BBB,{}),(0,s.jsx)("span",{children:"All data uses"})]}),value:"all",options:p.all}]:p.all;return(0,s.jsxs)(a.kCb,{vertical:!0,gap:"small",children:[(0,s.jsx)(a.kCb,{align:"center",children:(0,s.jsx)(b.__,{htmlFor:o.id||l,fontSize:"xs",my:0,mr:1,children:"Data uses"})}),(0,s.jsx)(a.PhF,{options:m,mode:"multiple",placeholder:"Select data uses",allowClear:!0,loading:n,value:u.value,onChange:e=>{e.includes(E)?c(x()([...i,...e.filter(e=>e!==E)])):c(e)},status:g?"error":void 0,virtual:!1,...o}),(0,s.jsx)(b.Bc,{isInvalid:g,message:d.error,fieldName:u.name})]})},T=n(60240);let w=v.Ry().shape({name:v.Z_().required("Name is required").label("Name"),label_color:v.Z_().required("Color is required").label("Color"),systems:v.IX().of(v.Z_()).label("Systems"),data_uses:v.IX().of(v.Z_()).label("Data uses")});var N=e=>{let{selectedSystemKeys:t=[],onSubmit:n,onCancel:l,isSubmitting:i=!1}=e,{data:o=[],isLoading:u}=(0,k.fd)(),{data:d,isLoading:c}=(0,C.K3)(),g=(0,r.useMemo)(()=>o.map(e=>({label:e.name||e.fides_key,value:e.fides_key})),[o]),p=(0,r.useMemo)(()=>{var e;let n=null!==(e=null==d?void 0:d.filter(e=>t.includes(e.fides_key)))&&void 0!==e?e:[];return x()(null==n?void 0:n.flatMap(e=>e.privacy_declarations.map(e=>e.data_use)))},[d,t]),m=(0,r.useMemo)(()=>{var e;return null!==(e=null==d?void 0:d.map(e=>({label:e.name||e.fides_key,value:e.fides_key})))&&void 0!==e?e:[]},[d]),f={name:"",description:"",label_color:T.Ej.TAXONOMY_WHITE,systems:t,data_uses:[],active:!0};return(0,s.jsx)(y.J9,{initialValues:f,validationSchema:w,onSubmit:n,enableReinitialize:!0,children:e=>{let{isValid:t,dirty:n}=e;return(0,s.jsx)(y.l0,{children:(0,s.jsxs)(a.kCb,{vertical:!0,gap:"middle",children:[(0,s.jsx)(a.Typography.Title,{level:2,children:"Create system group"}),(0,s.jsx)(b.j0,{name:"name",label:"Name",isRequired:!0,variant:"stacked",placeholder:"Enter system group name"}),(0,s.jsx)(b.Ks,{name:"description",label:"Description",variant:"stacked",placeholder:"Enter system group description",resize:!1}),(0,s.jsx)(j.d,{name:"systems",label:"Systems",mode:"multiple",placeholder:"Select systems",options:m,layout:"stacked",allowClear:!0,loading:c}),(0,s.jsx)(S.Z,{name:"label_color",label:"Color"}),(0,s.jsx)(_,{name:"data_uses",options:g,loading:u,suggestedDataUses:p}),(0,s.jsxs)(a.kCb,{gap:"small",justify:"space-between",className:"pt-4",children:[(0,s.jsx)(a.zxk,{onClick:l,disabled:i,children:"Cancel"}),(0,s.jsx)(a.zxk,{type:"primary",htmlType:"submit",loading:i,disabled:!t||!n||i,"data-testid":"save-btn",children:"Create group"})]})]})})}})},O=n(31793),M=n(31883),A=e=>{let{selectedRowKeys:t,createModalIsOpen:n,setCreateModalIsOpen:l,handleCreateSystemGroup:i,handleBulkAddToGroup:o,groupMenuItems:u}=e,c=(0,a.UD8)(),[g,p]=(0,r.useState)(!1),[y]=(0,f.WP)(),{plus:h}=(0,d.hz)(),{data:x}=(0,O.wv)({page:1,size:100,include_external:!1,exclude_approvers:!0}),[v]=(0,f.C9)(),j=(0,r.useCallback)(async e=>{let n=await y({data_steward:e,system_keys:t});(0,M.D4)(n)?c.error((0,m.e$)(n.error,"A problem occurred assigning stewards")):c.success("".concat(t.length," systems assigned to ").concat(e," successfully"))},[y,t,c]),b=async()=>{let e=await v(t);(0,M.D4)(e)?c.error((0,m.e$)(e.error,"A problem occurred deleting systems")):(c.success("".concat(t.length," systems deleted successfully")),p(!1))},k=(0,r.useMemo)(()=>{let e=[];return u.length&&h&&e.push(t.length?{key:"add-to-system-group",label:"Add to system group",children:[{key:"new-group",label:"Create new group +",onClick:()=>l(!0)},{type:"divider"},...u.map(e=>({key:e.key,label:e.label,onClick:()=>o(e.key)}))]}:{key:"new-group",label:"Create system group +",onClick:()=>l(!0)}),(null==x?void 0:x.items.length)&&e.push({key:"assign-data-steward",label:"Assign data steward",disabled:!t.length,children:x.items.map(e=>({key:e.username,label:e.username,onClick:()=>j(e.username)}))},{type:"divider"}),e.push({key:"delete",label:"Delete",disabled:!t.length,onClick:()=>{p(!0)}}),e},[u,h,null==x?void 0:x.items,t.length,l,o,j]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.u_l,{open:g,onCancel:()=>p(!1),onOk:b,okText:"Delete",okType:"danger",centered:!0,children:(0,s.jsxs)(a.Typography.Paragraph,{children:["Delete ",t.length," systems? This action cannot be undone."]})}),(0,s.jsx)(a.u_l,{open:n,destroyOnHidden:!0,onCancel:()=>l(!1),centered:!0,width:768,footer:null,children:(0,s.jsx)(N,{selectedSystemKeys:t.map(e=>e.toString()),onSubmit:i,onCancel:()=>l(!1)})}),(0,s.jsx)(a.Ltx,{trigger:["click"],menu:{items:k},children:(0,s.jsx)(a.zxk,{icon:(0,s.jsx)(a.PJP._ME,{}),children:"Actions"})})]})},D=n(19904),z=n(24813),P=n(3110),I=n(94770),R=n(99640),F=n(8125),q=n(16394),B=n(33335),L=n(69353),U=n(88832),Z=n(34929),X=e=>{let{privacyDeclarations:t,...n}=e,{getDataUseDisplayName:a}=(0,Z.Z)(),r=t.map(e=>e.data_use).map(e=>({label:a(e),key:e}));return(0,s.jsx)(z.Q3,{values:r,...n})},Y=n(56141),W=n.n(Y),J=n(22583);let K="update-system-groups-msg";var G=e=>{let{selectedGroups:t,allGroups:n,system:l,columnState:i,...o}=e,[u,d]=(0,r.useState)(!1),[c,g]=(0,r.useState)(t.map(e=>e.fides_key)),p=(0,a.UD8)(),[f]=(0,C.qQ)(),y=async()=>{if(d(!1),W()(c,t.map(e=>e.fides_key)))return;p.open({key:K,type:"loading",content:"Updating groups for ".concat(l.name,"...")});let e=await f({...l,system_groups:c});(0,M.D4)(e)?p.open({key:K,type:"error",content:(0,m.e$)(e.error,"Failed to update system groups")}):p.open({key:K,type:"success",content:"Groups updated for ".concat(l.name)}),setTimeout(()=>{p.destroy(K)},3e3)};return(0,s.jsxs)(a.kCb,{gap:"small",...o,children:[!u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Vp9,{onClick:()=>d(!0),addable:!0,"data-testid":"group-add-btn","aria-label":"Add group"}),(0,s.jsx)(z.Q3,{values:t.map(e=>e&&{label:e.name,key:e.fides_key,tagProps:{color:e.label_color?"".concat(J.j[e.label_color]):void 0,bordered:!1}}),columnState:i})]}),u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.PhF,{options:n.map(e=>({label:e.name,value:e.fides_key})),mode:"tags",defaultValue:t.map(e=>e.fides_key),defaultOpen:!0,onChange:e=>{g(e)},onOpenChange:e=>{e||y()},onBlur:()=>d(!1),"aria-label":"Select groups"}),(0,s.jsx)(a.zxk,{"aria-label":"Update groups",icon:(0,s.jsx)(a.PJP.MCw,{}),onClick:y})]})]})},V=()=>{let{data:e}=(0,L.QD)(),t=(0,r.useMemo)(()=>e?e.reduce((e,t)=>({...e,[t.fides_key]:t}),{}):{},[e]),{data:n}=(0,O.wv)({page:1,size:100,include_external:!1}),[l]=(0,f.DW)(),[i]=(0,L.Xz)(),[o]=(0,L.Nr)(),[c,g]=(0,r.useState)(!1),[p,y]=(0,r.useState)(!1),[h,v]=(0,r.useState)(!1),[j,b]=(0,r.useState)(!1),[k,C]=(0,r.useState)(null),S=(0,F.o)({pagination:{defaultPageSize:25,pageSizeOptions:[25,50,100]},search:{defaultSearchQuery:""},sorting:{defaultSortKey:U.E.NAME,defaultSortOrder:"ascend",validColumns:[U.E.NAME]}}),{columnFilters:E,pageIndex:_,pageSize:w,searchQuery:N,updateSearch:A,sortKey:Z,sortOrder:Y}=S,{data:W,error:J,isLoading:K,isFetching:V}=(0,f.xF)({page:_,size:w,search:N,sort_by:Z,sort_asc:"ascend"===Y,show_deleted:!0,...E}),Q=(0,r.useMemo)(()=>{var e,t;return{enableSelection:!0,dataSource:null!==(e=null==W?void 0:W.items)&&void 0!==e?e:[],totalRows:null!==(t=null==W?void 0:W.total)&&void 0!==t?t:0,isLoading:K,isFetching:V,getRowKey:e=>e.fides_key,customTableProps:{locale:{emptyText:(0,s.jsx)("div",{children:"No systems found"})},sticky:{offsetHeader:40}}}},[W,K,V]),{tableProps:$,selectionProps:H}=(0,F.V)(S,Q),{selectedRowKeys:ee}=null!=H?H:{},et=(0,a.UD8)(),{plus:en}=(0,d.hz)(),es=(0,u.useRouter)(),ea=(0,D.Tg)([T.Sh.SYSTEM_DELETE]),er=async e=>{let t=await l(e.fides_key);(0,M.D4)(t)?et.error((0,m.e$)(t.error,"Failed to delete system")):et.success("Successfully deleted system"),b(!1)},el=async e=>{let t={...e,fides_key:(0,B.E)(e.name),active:!0},n=await o(t);if((0,M.D4)(n))et.error((0,m.e$)(n.error));else{var s,a;let e="System group '".concat(n.data.name,"' created");(null===(s=n.data.systems)||void 0===s?void 0:s.length)===1?e+=" with system '".concat(n.data.systems[0],"'"):(null===(a=n.data.systems)||void 0===a?void 0:a.length)&&(e+=" with ".concat(n.data.systems.length," systems")),et.success(e)}v(!1)},ei=(0,r.useCallback)(async e=>{var n;if(!ee)return;let s=t[e],a=await i({...s,systems:x()([...null!==(n=s.systems)&&void 0!==n?n:[],...ee.map(e=>e.toString())])});(0,M.D4)(a)?et.error((0,m.e$)(a.error)):et.success("".concat(null==ee?void 0:ee.length," systems added to group '").concat(e,"'"))},[t,i,ee,et]),eo=(0,r.useMemo)(()=>{var t;return null!==(t=null==e?void 0:e.map(e=>({key:e.fides_key,label:e.name,onClick:()=>ei(e.fides_key)})))&&void 0!==t?t:[]},[e,ei]);return{tableProps:$,selectionProps:H,columns:(0,r.useMemo)(()=>{var r;return[{title:"Name",dataIndex:"name",key:U.E.NAME,render:(e,t)=>(0,s.jsx)(R.Z,{href:"/systems/configure/".concat(t.fides_key),"data-testid":"system-link-".concat(t.fides_key),containerProps:{className:"max-w-96"},children:e||t.fides_key}),ellipsis:!0,fixed:"left",sorter:!0,sortOrder:Z===U.E.NAME?Y:null},{dataIndex:"system_groups",key:U.E.SYSTEM_GROUPS,render:(n,a)=>{var r;return(0,s.jsx)(G,{selectedGroups:null!==(r=null==n?void 0:n.map(e=>null==t?void 0:t[e]).filter(e=>!!e))&&void 0!==r?r:[],allGroups:e,system:{...a,system_groups:null!=n?n:[]},columnState:{isWrapped:!0,isExpanded:c},className:"w-[432px]"})},title:"Groups",hidden:!en,menu:{items:P.DI,onClick:e=>{e.domEvent.stopPropagation(),"expand-all"===e.key?g(!0):"collapse-all"===e.key&&g(!1)}},filters:(0,q.nZ)(null==e?void 0:e.map(e=>e.fides_key),e=>{var n,s;return null!==(s=null===(n=t[e])||void 0===n?void 0:n.name)&&void 0!==s?s:e}),filteredValue:(null==E?void 0:E.system_groups)||null},{title:"Data uses",menu:{items:P.DI,onClick:e=>{e.domEvent.stopPropagation(),"expand-all"===e.key?y(!0):"collapse-all"===e.key&&y(!1)}},dataIndex:"privacy_declarations",key:U.E.DATA_USES,render:e=>(0,s.jsx)(X,{privacyDeclarations:e,columnState:{isWrapped:!0,isExpanded:p}})},{title:"Data stewards",dataIndex:"data_stewards",key:U.E.DATA_STEWARDS,render:e=>(0,s.jsx)(z.vx,{values:null!=e?e:[],valueSuffix:"users",containerProps:{className:"min-w-36"}}),width:200,filters:(0,q.nZ)(null==n?void 0:null===(r=n.items)||void 0===r?void 0:r.map(e=>e.username)),filteredValue:(null==E?void 0:E.data_stewards)||null},{title:"Description",dataIndex:"description",key:U.E.DESCRIPTION,render:e=>(0,s.jsx)("div",{className:"max-w-96",children:(0,s.jsx)(I.r,{children:e})}),ellipsis:!0},{title:"Actions",key:U.E.ACTIONS,render:(e,t)=>(0,s.jsxs)(a.kCb,{gap:"small",children:[(0,s.jsx)(a.zxk,{size:"small",onClick:()=>es.push("/systems/configure/".concat(t.fides_key)),icon:(0,s.jsx)(a.PJP.I8b,{}),"data-testid":"edit-btn",children:"Edit"}),ea&&(0,s.jsx)(a.zxk,{size:"small",onClick:()=>{C(t),b(!0)},icon:(0,s.jsx)(a.PJP.ZNm,{}),"data-testid":"delete-btn",children:"Delete"})]}),fixed:"right"}]},[Z,Y,en,e,null==E?void 0:E.system_groups,null==E?void 0:E.data_stewards,null==n?void 0:n.items,c,t,p,ea,es]),error:J,searchQuery:N,updateSearch:A,columnFilters:E,pageIndex:_,pageSize:w,createModalIsOpen:h,setCreateModalIsOpen:v,deleteModalIsOpen:j,setDeleteModalIsOpen:b,setSelectedSystemForDelete:C,handleCreateSystemGroup:el,handleDelete:er,handleBulkAddToGroup:ei,groupMenuItems:eo,selectedSystemForDelete:k}},Q=()=>{var e,t;let{tableProps:n,selectionProps:r,columns:l,searchQuery:i,updateSearch:o,createModalIsOpen:u,setCreateModalIsOpen:d,deleteModalIsOpen:c,setDeleteModalIsOpen:g,handleDelete:m,handleCreateSystemGroup:f,handleBulkAddToGroup:y,groupMenuItems:h,selectedSystemForDelete:x}=V();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.kCb,{gap:"small",justify:"space-between",className:"sticky -top-6 z-10 bg-white py-4",children:[(0,s.jsx)(p.f,{value:i,onChange:o,"data-testid":"system-search"}),(0,s.jsx)(A,{selectedRowKeys:null!==(e=null==r?void 0:r.selectedRowKeys)&&void 0!==e?e:[],createModalIsOpen:u,setCreateModalIsOpen:d,handleCreateSystemGroup:f,handleBulkAddToGroup:y,groupMenuItems:h}),(0,s.jsx)(a.u_l,{open:c,onCancel:()=>g(!1),onOk:()=>!!x&&m(x),okText:"Delete",okType:"danger",cancelText:"Cancel",centered:!0,children:(0,s.jsxs)(a.Typography.Paragraph,{children:["Are you sure you want to delete"," ",null!==(t=null==x?void 0:x.name)&&void 0!==t?t:null==x?void 0:x.fides_key,"? This action cannot be undone."]})})]}),(0,s.jsx)(a.iA_,{...n,columns:l,rowSelection:r})]})},$=()=>{let{error:e}=V();return e?(0,s.jsx)(l.Z,{error:e,defaultMessage:"A problem occurred while fetching your systems"}):(0,s.jsx)(i.Z,{title:"System inventory",mainProps:{w:"calc(100vw - 240px)"},children:(0,s.jsxs)(a.TJV,{"data-testid":"system-management",children:[(0,s.jsx)(o.Z,{heading:"System inventory",breadcrumbItems:[{title:"All systems"}],rightContent:(0,s.jsx)(g,{}),isSticky:!1}),(0,s.jsx)(Q,{})]})})}},31883:function(e,t,n){"use strict";n.d(t,{Bw:function(){return s.Bw},D4:function(){return s.D4}});var s=n(19043)}},function(e){e.O(0,[431,7245,2888,9774,179],function(){return e(e.s=90988)}),_N_E=e.O()}]);