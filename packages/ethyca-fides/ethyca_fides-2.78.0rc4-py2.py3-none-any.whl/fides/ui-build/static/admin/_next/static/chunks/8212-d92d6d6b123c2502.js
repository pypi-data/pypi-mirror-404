"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8212],{77213:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(24246),r=n(36010),a=n(88038),s=n.n(a),o=n(86677);n(27378);var u=n(25980),c=n(90867),g=n(42478),l=n(77830),d=()=>{let e=(0,o.useRouter)();return(0,i.jsx)(r.TJV,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(r.TJV,{children:[(0,i.jsxs)(r.EO$,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(r.Bjg,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(r.zxk,{onClick:()=>{e.push(l.AD)},children:"Configure"})]}),(0,i.jsxs)(r.Bjg,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=e=>{let{children:t,title:n,padded:a=!0,mainProps:l}=e,f=(0,u.hz)(),y=(0,o.useRouter)(),m="/privacy-requests"===y.pathname||"/datastore-connection"===y.pathname,p=!(f.flags.messagingConfiguration&&m),{data:h}=(0,g.JE)(void 0,{skip:p}),{data:v}=(0,c.PW)(void 0,{skip:p}),C=f.flags.messagingConfiguration&&(!h||!v)&&m;return(0,i.jsxs)(r.ad9,{"data-testid":n,direction:"column",h:"100vh",children:[(0,i.jsxs)(s(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(r.ad9,{as:"main",direction:"column",py:a?6:0,px:a?10:0,h:a?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...l,children:[C?(0,i.jsx)(d,{}):null,t]})]})}},58754:function(e,t,n){var i=n(24246),r=n(36010),a=n(70788);t.Z=e=>{let{heading:t,breadcrumbItems:n,isSticky:s=!0,children:o,rightContent:u,style:c,...g}=e;return(0,i.jsxs)("div",{...g,style:s?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...c}:{paddingBottom:"24px",...c},children:[(0,i.jsxs)(r.kCb,{justify:"space-between",children:["string"==typeof t?(0,i.jsx)(r.Dxz,{className:n||o?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,u&&(0,i.jsx)("div",{"data-testid":"page-header-right-content",children:u})]}),!!n&&(0,i.jsx)(a.m,{className:o?"pb-4":void 0,items:n,"data-testid":"page-breadcrumb"}),o]})}},19904:function(e,t,n){n.d(t,{Tg:function(){return s}});var i=n(24246),r=n(16134),a=n(31793);let s=e=>(0,r.C)(a.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:n}=e;return s(t)?(0,i.jsx)(i.Fragment,{children:n}):null}},70788:function(e,t,n){n.d(t,{m:function(){return c}});var i=n(24246),r=n(36010),a=n(79894),s=n.n(a),o=n(27378);let{Text:u}=r.Typography,c=e=>{let{items:t,...n}=e,a=(0,o.useMemo)(()=>null==t?void 0:t.map((e,n)=>{let a=n===t.length-1,o={...e},c=o.onClick&&!o.href;return("string"==typeof o.title&&(o.title=(0,i.jsx)(u,{style:{color:"inherit",maxWidth:a?void 0:400},ellipsis:!a,id:a?"breadcrumb-current-page":void 0,children:o.title})),c)?o.title=(0,i.jsx)(r.zxk,{type:"text",size:"small",icon:o.icon,onClick:o.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:o.title}):(o.icon&&(o.title=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"anticon align-text-bottom",children:o.icon}),o.title]})),o.href&&o.title&&(o.title=(0,i.jsx)(s(),{href:o.href,className:"ant-breadcrumb-link",children:o.title}),delete o.href)),o}),[t]);return(0,i.jsx)(r.aGc,{items:a,...n})}},35493:function(e,t,n){n.d(t,{EW:function(){return o},Um:function(){return r},by:function(){return s},oU:function(){return a}});var i=n(60240);let r={[i.tB.MANUAL_TASKS]:"Manual Tasks",[i.tB.PRIVACY_REQUESTS]:"Privacy Requests"},a={[i.qr.EMAIL]:"Email",[i.qr.SMS]:"SMS"},s="0 9 * * 1",o="UTC";i.tB.MANUAL_TASKS},40822:function(e,t,n){n.d(t,{Q6:function(){return r},ch:function(){return g},m1:function(){return o},nZ:function(){return s},yG:function(){return c},zb:function(){return u}});var i=n(54427);let{useListDigestConfigsQuery:r,useLazyListDigestConfigsQuery:a,useGetDigestConfigByIdQuery:s,useCreateDigestConfigMutation:o,useUpdateDigestConfigMutation:u,useDeleteDigestConfigMutation:c,useTestDigestConfigMutation:g}=n(78780).u.injectEndpoints({endpoints:e=>({listDigestConfigs:e.query({query:e=>{let{digest_config_type:t,enabled:n,page:i=1,size:r=50}=e;return{url:"plus/digest-config",method:"GET",params:{digest_config_type:t,enabled:n,page:i,size:r}}},providesTags:["Digest Configs"]}),getDigestConfigById:e.query({query:e=>{let{config_id:t}=e;return{url:"plus/digest-config/".concat(t),method:"GET"}},providesTags:["Digest Configs"]}),createDigestConfig:e.mutation({query:e=>{let{digest_config_type:t,data:n}=e;return{url:"plus/digest-config",method:"POST",params:{digest_config_type:t},body:n}},invalidatesTags:["Digest Configs"]}),updateDigestConfig:e.mutation({query:e=>{let{config_id:t,digest_config_type:n,data:i}=e;return{url:"plus/digest-config/".concat(t),method:"PUT",params:{digest_config_type:n},body:i}},invalidatesTags:["Digest Configs"]}),deleteDigestConfig:e.mutation({query:e=>{let{config_id:t,digest_config_type:n}=e;return{url:"plus/digest-config/".concat(t),method:"DELETE",params:{digest_config_type:n}}},invalidatesTags:["Digest Configs"]}),testDigestConfig:e.mutation({query:e=>{let{digest_config_id:t,digest_config_type:n,test_email:i}=e;return{url:"plus/digest-config/test",method:"POST",params:{digest_config_id:t,digest_config_type:n,test_email:i}}}})})}),{reducer:l}=(0,i.oM)({name:"digestConfig",initialState:{},reducers:{}})},81179:function(e,t,n){n.d(t,{Ch:function(){return d},Di:function(){return a},Ns:function(){return g},eO:function(){return s},qV:function(){return f},se:function(){return l},uw:function(){return y}});var i,r,a,s,o=n(27693),u=n.n(o);(i=a||(a={})).DAILY="daily",i.WEEKLY="weekly",i.WEEKDAYS="weekdays",i.MONTHLY="monthly",(r=s||(s={}))[r.SUNDAY=0]="SUNDAY",r[r.MONDAY=1]="MONDAY",r[r.TUESDAY=2]="TUESDAY",r[r.WEDNESDAY=3]="WEDNESDAY",r[r.THURSDAY=4]="THURSDAY",r[r.FRIDAY=5]="FRIDAY",r[r.SATURDAY=6]="SATURDAY";let c={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},g=e=>{let[t,n]=e.time.split(":").map(Number);switch(e.frequency){case"daily":return"".concat(n," ").concat(t," * * *");case"weekly":if(void 0===e.dayOfWeek)throw Error("Day of week is required for weekly frequency");return"".concat(n," ").concat(t," * * ").concat(e.dayOfWeek);case"weekdays":return"".concat(n," ").concat(t," * * 1-5");case"monthly":if(void 0===e.dayOfMonth)throw Error("Day of month is required for monthly frequency");return"".concat(n," ").concat(t," ").concat(e.dayOfMonth," * *");default:throw Error("Unsupported frequency: ".concat(e.frequency))}},l=e=>{let t=e.trim().split(/\s+/);if(5!==t.length)return null;let[n,i,r,a,s]=t,o=parseInt(n,10),u=parseInt(i,10);if(Number.isNaN(o)||Number.isNaN(u)||o<0||o>59||u<0||u>23)return null;let c="".concat(String(u).padStart(2,"0"),":").concat(String(o).padStart(2,"0"));if("*"===a&&"*"===s&&"*"!==r){let e=parseInt(r,10);return Number.isNaN(e)||e<1||e>31?null:{frequency:"monthly",time:c,dayOfMonth:e}}if("*"===r&&"*"===a&&"1-5"===s)return{frequency:"weekdays",time:c};if("*"===r&&"*"===a&&"*"!==s){let e=parseInt(s,10);return Number.isNaN(e)||e<0||e>6?null:{frequency:"weekly",time:c,dayOfWeek:e}}return"*"===r&&"*"===a&&"*"===s?{frequency:"daily",time:c}:null},d=e=>e>=1&&e<=31,f=e=>{let t=u()("2000-01-01 ".concat(e.time)).format("h:mm A");switch(e.frequency){case"daily":return"Every day at ".concat(t);case"weekly":if(void 0===e.dayOfWeek)return"";return"Every ".concat(c[e.dayOfWeek]," at ").concat(t);case"weekdays":return"Every weekday at ".concat(t);case"monthly":{if(void 0===e.dayOfMonth)return"";let n=e.dayOfMonth,i=n%10,r=n%100,a="th";return 1===i&&11!==r?a="st":2===i&&12!==r?a="nd":3===i&&13!==r&&(a="rd"),"On the ".concat(e.dayOfMonth).concat(a," of every month at ").concat(t)}default:return""}},y=e=>{let t=l(e);if(!t)return"Custom";switch(t.frequency){case"daily":return"Daily";case"weekly":return"Weekly";case"weekdays":return"Weekdays";case"monthly":return"Monthly";default:return"Custom"}}},42478:function(e,t,n){n.d(t,{FU:function(){return c},JE:function(){return r},Ki:function(){return l},SU:function(){return d},W:function(){return f},h9:function(){return a},jc:function(){return i},qt:function(){return u},sn:function(){return g}});let{useGetEmailInviteStatusQuery:i,useGetActiveMessagingProviderQuery:r,useCreateMessagingConfigurationMutation:a,useCreateMessagingConfigurationSecretsMutation:s,useGetMessagingConfigurationDetailsQuery:o,useGetMessagingConfigurationsQuery:u,useGetMessagingConfigurationByKeyQuery:c,useUpdateMessagingConfigurationByKeyMutation:g,useUpdateMessagingConfigurationSecretsByKeyMutation:l,useCreateTestConnectionMessageMutation:d,useDeleteMessagingConfigurationByKeyMutation:f}=n(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,t,n,i)=>{let r=await i({url:"messaging/default/active"});return r.error&&404===r.error.status?{data:null}:r},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})}}]);