(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9340],{33187:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataset/[datasetId]",function(){return o(1016)}])},58754:function(e,t,o){"use strict";var i=o(24246),n=o(36010),l=o(70788);t.Z=e=>{let{heading:t,breadcrumbItems:o,isSticky:s=!0,children:a,rightContent:c,style:r,...d}=e;return(0,i.jsxs)("div",{...d,style:s?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...r}:{paddingBottom:"24px",...r},children:[(0,i.jsxs)(n.kCb,{justify:"space-between",children:["string"==typeof t?(0,i.jsx)(n.Dxz,{className:o||a?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,c&&(0,i.jsx)("div",{"data-testid":"page-header-right-content",children:c})]}),!!o&&(0,i.jsx)(l.m,{className:a?"pb-4":void 0,items:o,"data-testid":"page-breadcrumb"}),a]})}},70788:function(e,t,o){"use strict";o.d(t,{m:function(){return r}});var i=o(24246),n=o(36010),l=o(79894),s=o.n(l),a=o(27378);let{Text:c}=n.Typography,r=e=>{let{items:t,...o}=e,l=(0,a.useMemo)(()=>null==t?void 0:t.map((e,o)=>{let l=o===t.length-1,a={...e},r=a.onClick&&!a.href;return("string"==typeof a.title&&(a.title=(0,i.jsx)(c,{style:{color:"inherit",maxWidth:l?void 0:400},ellipsis:!l,id:l?"breadcrumb-current-page":void 0,children:a.title})),r)?a.title=(0,i.jsx)(n.zxk,{type:"text",size:"small",icon:a.icon,onClick:a.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:a.title}):(a.icon&&(a.title=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"anticon align-text-bottom",children:a.icon}),a.title]})),a.href&&a.title&&(a.title=(0,i.jsx)(s(),{href:a.href,className:"ant-breadcrumb-link",children:a.title}),delete a.href)),a}),[t]);return(0,i.jsx)(n.aGc,{items:l,...o})}},1016:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return k}});var i=o(24246),n=o(92222),l=o(59003),s=o(36010),a=o(86677),c=o(27378),r=o(59849),d=o(77213),u=o(77830),h=o(58754),m=o(15793),p=o(69828),x=o(41966),g=o(46628),j=o(79806),f=o(20386),b=o(63927),C=o(69435),y=e=>{let{dataset:t,collection:o,isOpen:n,onClose:l}=e,a=(0,c.useMemo)(()=>null==t?void 0:t.collections.indexOf(o),[o,null==t?void 0:t.collections]),[r]=(0,f.TG)(),d=(0,s.p8r)(),{isOpen:u,onOpen:h,onClose:m}=(0,s.E2M)(),p=async e=>{let i={...o,...e},n=(0,C.jC)(t,i,a);try{await r(n),d((0,g.t5)("Successfully modified collection"))}catch(e){d((0,g.Vo)(e))}l()},x=async()=>{if(t&&void 0!==a){let e=(0,C.qe)(t,a);try{await r(e),d((0,g.t5)("Successfully deleted collection"))}catch(e){d((0,g.Vo)(e))}l(),m()}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j.ZP,{isOpen:n,onClose:l,description:"Collections are an array of objects that describe the Dataset's collections. Provide additional context to this collection by filling out the fields below.",header:(0,i.jsx)(j.zR,{title:"Collection Name: ".concat(null==o?void 0:o.name)}),footer:(0,i.jsx)(j.Gn,{onClose:l,onDelete:h,formId:b.e}),children:(0,i.jsx)(b.Z,{values:o,onSubmit:p,dataType:"collection",showDataCategories:!1})}),(0,i.jsx)(s.cVQ,{isOpen:u,onClose:m,onConfirm:x,title:"Delete Collection",message:(0,i.jsxs)(s.Bjg,{children:["You are about to permanently delete the collection named"," ",(0,i.jsx)(s.Bjg,{color:"complimentary.500",as:"span",fontWeight:"bold",children:null==o?void 0:o.name})," ","from this dataset. Are you sure you would like to continue?"]})})]})};let v=(0,n.Cl)(),w=()=>(0,i.jsx)(s.s_g,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",textAlign:"center",children:(0,i.jsx)(s.s_g,{children:(0,i.jsx)(s.Bjg,{fontSize:"md",fontWeight:"600",children:"No collections found."})})});var k=()=>{let e=(0,a.useRouter)(),t=decodeURIComponent(e.query.datasetId),{isLoading:o,data:g,error:j}=(0,x.oM)(t),f=(0,c.useMemo)(()=>(null==g?void 0:g.collections)||[],[g]),[b,C]=(0,c.useState)(!1),[k,R]=(0,c.useState)(),[N,M]=(0,c.useState)(),_=(0,c.useMemo)(()=>[v.accessor(e=>e.name,{id:"name",cell:e=>(0,i.jsx)(m.G3,{value:e.getValue(),fontWeight:"semibold"}),header:e=>(0,i.jsx)(m.Rr,{value:"Collection Name",...e}),size:180}),v.accessor(e=>e.description,{id:"description",cell:e=>(0,i.jsx)(m.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,i.jsx)(m.Rr,{value:"Description",...e}),size:300,meta:{showHeaderMenu:!0}}),v.display({id:"actions",header:"Actions",cell:e=>{let{row:t}=e,o=t.original;return(0,i.jsx)(s.Br$,{spacing:0,"data-testid":"collection-".concat(o.name),children:(0,i.jsx)(s.zxk,{size:"small",icon:(0,i.jsx)(s.oji,{}),onClick:()=>{R(o),C(!0)},children:"Edit"})})},meta:{disableRowClick:!0}})],[]),z=(0,c.useMemo)(()=>N?f.filter(e=>e.name.toLowerCase().includes(N.toLowerCase())):f,[f,N]),I=(0,l.b7)({getCoreRowModel:(0,n.sC)(),getFilteredRowModel:(0,n.vL)(),getSortedRowModel:(0,n.tj)(),columns:_,data:z,columnResizeMode:"onChange"}),S=(0,c.useMemo)(()=>[{title:"All datasets",href:u.$m},{title:t,icon:p.Y[1]}],[t]);return j?(0,i.jsx)(r.Z,{error:j,defaultMessage:"A problem occurred while fetching collections for the dataset ".concat(t)}):(0,i.jsxs)(d.Z,{title:"Dataset - ".concat(t),children:[(0,i.jsx)(h.Z,{heading:"Datasets",breadcrumbItems:S}),o?(0,i.jsx)(m.I4,{rowHeight:36,numRows:15}):(0,i.jsxs)(s.TJV,{"data-testid":"collections-table",children:[(0,i.jsx)(m.Q$,{children:(0,i.jsx)(m.HO,{globalFilter:N,setGlobalFilter:M,placeholder:"Search",testid:"collections-search"})}),(0,i.jsx)(m.ZK,{tableInstance:I,emptyTableNotice:(0,i.jsx)(w,{}),onRowClick:o=>{e.push({pathname:u.RF,query:{datasetId:encodeURIComponent(t),collectionName:encodeURIComponent(o.name)}})}})]}),g&&k&&(0,i.jsx)(y,{dataset:g,collection:k,isOpen:b,onClose:()=>C(!1)})]})}}},function(e){e.O(0,[343,2888,9774,179],function(){return e(e.s=33187)}),_N_E=e.O()}]);