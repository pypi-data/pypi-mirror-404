(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3296],{92812:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-catalog/[systemId]/projects/[projectUrn]/[resourceUrn]",function(){return a(93251)}])},30952:function(e,t,a){"use strict";a.d(t,{f:function(){return s}});var r=a(24246),i=a(26917);let s=e=>{let{...t}=e;return(0,r.jsx)(i.Z,{debounce:!0,...t})}},81406:function(e,t,a){"use strict";var r=a(24246),i=a(36010);t.Z=()=>(0,r.jsxs)(i.s_g,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,r.jsx)(i.Bjg,{fontSize:"md",fontWeight:"600",children:"No resources found"}),(0,r.jsx)(i.Bjg,{fontSize:"sm",children:"You're up to date!"})]})},25077:function(e,t,a){"use strict";a.d(t,{Z:function(){return D}});var r=a(24246),i=a(59003),s=a(92222),n=a(36010),l=a(27378),c=a(30952),o=a(15793),d=a(81406),u=a(99763),g=a(72625),p=a(17245),f=a(28976),h=a(8151),j=a(70675),x=e=>{let{resource:t,onDetailClick:a}=e,{successAlert:i}=(0,p.VY)(),s=(0,h.u)(t),[l,{isLoading:c}]=(0,j.v8)(),[o,{isLoading:d}]=(0,j.cM)(),[u,{isLoading:g}]=(0,j.vi)(),x=async()=>{var e;await l({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0}),i("Started classification on ".concat(null!==(e=t.name)&&void 0!==e?e:"this resource"))},m=async()=>{var e;await o({staged_resource_urn:t.urn}),i("Approved ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},_=async()=>{var e;await u({staged_resource_urn:t.urn}),i("Hid ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},C=c||d||g;return(0,r.jsxs)(n.ad9,{gap:2,justify:"space-between",children:[s===h.e.ATTENTION_REQUIRED&&(0,r.jsx)(n.zxk,{size:"small",onClick:x,loading:c,disabled:C,"data-testid":"classify-btn",children:"Classify"}),s===h.e.CLASSIFIED&&(0,r.jsx)(n.zxk,{size:"small",onClick:m,loading:d,disabled:C,"data-testid":"approve-btn",children:"Approve"}),(0,r.jsx)(n.s3C,{}),(0,r.jsx)(f.Z,{onHideClick:_,onDetailClick:a})]})},m=a(89200),_=a(5945),C=a(61099),v=a(79947),y=a(60240);let I=(0,s.Cl)();var L=(e,t)=>{let a=[];return e?e===y.D$.TABLE?[I.display({id:"name",cell:e=>{let{row:t}=e;return(0,r.jsx)(m.Z,{resource:t.original})},header:"Table"}),I.display({id:"status",cell:e=>{let{row:t}=e;return(0,r.jsx)(_.Z,{status:(0,h.u)(t.original)})},header:"Status"}),I.display({id:"category",cell:e=>{let{row:t}=e;return(0,r.jsx)(C.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),I.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(o.G3,{value:e.getValue()}),header:"Description"}),I.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,r.jsx)(g.Cy,{time:e.getValue()}),header:"Updated"}),I.display({id:"actions",cell:e=>{let{row:a}=e;return(0,r.jsx)(x,{resource:a.original,onDetailClick:()=>t(a.original)})},header:"Actions",meta:{disableRowClick:!0}})]:e===y.D$.FIELD?[I.display({id:"name",cell:e=>{let{row:t}=e;return(0,r.jsx)(m.Z,{resource:t.original})},header:"Field"}),I.display({id:"status",cell:e=>{let{row:t}=e;return(0,r.jsx)(_.Z,{status:(0,h.u)(t.original)})},header:"Status"}),I.accessor(e=>e.data_type,{id:"dataType",cell:e=>(0,r.jsx)(v.Z,{type:e.getValue()}),header:"Data type"}),I.display({id:"category",cell:e=>{let{row:t}=e;return(0,r.jsx)(C.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),I.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(o.G3,{value:e.getValue()}),header:"Description"}),I.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,r.jsx)(g.Cy,{time:e.getValue()}),header:"Updated"}),I.display({id:"actions",cell:e=>{let{row:a}=e;return(0,r.jsx)(x,{resource:a.original,onDetailClick:()=>t(a.original)})},header:"Actions",meta:{disableRowClick:!0}})]:a:a},R=a(7940),b=a(80356);let k=[y.LL.ADDITION,y.LL.CLASSIFYING,y.LL.CLASSIFICATION_ADDITION,y.LL.CLASSIFICATION_QUEUED,y.LL.CLASSIFICATION_UPDATE,y.LL.MONITORED,y.LL.PROMOTING,y.LL.REMOVAL,y.LL.REMOVING],w={items:[],total:0,page:1,size:50,pages:1};var D=e=>{let{resourceUrn:t,onRowClick:a}=e,{PAGE_SIZES:g,pageSize:p,setPageSize:f,onPreviousPageClick:h,isPreviousPageDisabled:x,onNextPageClick:m,isNextPageDisabled:_,startRange:C,endRange:v,pageIndex:y,setTotalPages:I,resetPageIndexToDefault:D}=(0,o.oi)(),[S,N]=(0,l.useState)("");(0,l.useEffect)(()=>{D()},[t,D]);let{isFetching:A,isLoading:E,data:P}=(0,j.z8)({staged_resource_urn:t,page:y,size:p,diff_status:k,search:S}),{items:Z,total:T,pages:z}=(0,l.useMemo)(()=>null!=P?P:w,[P]);(0,l.useEffect)(()=>{I(z)},[z,I]);let[O,U]=(0,l.useState)(void 0),V=L((0,R.G)(Z[0]),U),M=(0,i.b7)({getCoreRowModel:(0,s.sC)(),getGroupedRowModel:(0,s.qe)(),getExpandedRowModel:(0,s.rV)(),columns:V,manualPagination:!0,data:Z,columnResizeMode:"onChange",getRowId:e=>e.urn});return E||A?(0,r.jsx)(o.I4,{rowHeight:36,numRows:36}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Q$,{children:(0,r.jsx)(n.ad9,{gap:6,align:"center",children:(0,r.jsx)(n.TJV,{flexShrink:0,children:(0,r.jsx)(c.f,{value:S,onChange:N})})})}),(0,r.jsx)(o.ZK,{tableInstance:M,emptyTableNotice:(0,r.jsx)(d.Z,{}),getRowIsClickable:e=>(0,b.Z)(e),onRowClick:a}),(0,r.jsx)(o.s8,{totalRows:T||0,pageSizes:g,setPageSize:f,onPreviousPageClick:h,isPreviousPageDisabled:x,onNextPageClick:m,isNextPageDisabled:_,startRange:C,endRange:v}),(0,r.jsx)(u.Z,{resource:O,onClose:()=>U(void 0)})]})}},94780:function(e,t,a){"use strict";a.d(t,{X5:function(){return l},pN:function(){return c},sv:function(){return s}});var r=a(24246),i=a(36010);let s=e=>e.split(".")[1],n=[(0,r.jsx)(i.PJP.S9g,{},"layers"),(0,r.jsx)(i.PJP.iA_,{},"table"),(0,r.jsx)(i.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")],l=(e,t)=>{if(!e)return[];let a=e.split(".");if(a.length<2)return[];let l=a.splice(0,2).join("."),c=[];return a.reduce((e,r,i)=>{let s=i===a.length-1,o="".concat(e).concat(".").concat(r);return c.push({title:r,href:s?void 0:"".concat(t,"/").concat(l,"/").concat(o),icon:n[i]}),o},l),[{title:s(l),href:"".concat(t,"/").concat(l),icon:(0,r.jsx)(i.PJP.ehp,{})},...c]},c=(e,t)=>{if(!e)return[];let a=e.split(".");if(a.length<2)return[];let r=a.shift(),i=[];return a.reduce((e,r,s)=>{let l=s===a.length-1,c="".concat(e).concat(".").concat(r);return i.push({title:r,href:l?void 0:"".concat(t,"/").concat(c),icon:n[s]}),c},r),i}},79947:function(e,t,a){"use strict";var r=a(24246),i=a(36010);t.Z=e=>{let{type:t}=e;return(0,r.jsx)(i.ad9,{align:"center",h:"full",children:!!t&&(0,r.jsx)(i.Vp9,{children:t})})}},93251:function(e,t,a){"use strict";a.r(t);var r=a(24246),i=a(86677),s=a(18225),n=a(77213),l=a(77830),c=a(58754),o=a(25077),d=a(94780),u=a(1315);t.default=()=>{var e,t;let{query:a}=(0,i.useRouter)(),g=a.systemId,p=a.projectUrn,f=a.resourceUrn,{data:h,isLoading:j}=(0,u.rn)(g),x=(0,i.useRouter)(),m=null!==(e=(0,d.X5)(f,"".concat(l.mX,"/").concat(g,"/projects")))&&void 0!==e?e:[];return j?(0,r.jsx)(s.Z,{}):(0,r.jsxs)(n.Z,{title:"Data catalog",children:[(0,r.jsx)(c.Z,{heading:"Data catalog",breadcrumbItems:[{title:"All systems",href:l.mX},{title:null!==(t=null==h?void 0:h.name)&&void 0!==t?t:null==h?void 0:h.fides_key,href:l.mX},...m]}),(0,r.jsx)(o.Z,{resourceUrn:f,onRowClick:e=>x.push("".concat(l.mX,"/").concat(h.fides_key,"/projects/").concat(p,"/").concat(e.urn))})]})}}},function(e){e.O(0,[431,7245,409,6882,2888,9774,179],function(){return e(e.s=92812)}),_N_E=e.O()}]);