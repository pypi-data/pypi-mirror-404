"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7630],{77213:function(e,t,i){i.d(t,{Z:function(){return p}});var n=i(24246),s=i(36010),a=i(88038),r=i.n(a),o=i(86677);i(27378);var l=i(25980),d=i(90867),c=i(42478),u=i(77830),g=()=>{let e=(0,o.useRouter)();return(0,n.jsx)(s.TJV,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,n.jsxs)(s.TJV,{children:[(0,n.jsxs)(s.EO$,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,n.jsx)(s.Bjg,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,n.jsx)(s.zxk,{onClick:()=>{e.push(u.AD)},children:"Configure"})]}),(0,n.jsxs)(s.Bjg,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},p=e=>{let{children:t,title:i,padded:a=!0,mainProps:u}=e,p=(0,l.hz)(),m=(0,o.useRouter)(),f="/privacy-requests"===m.pathname||"/datastore-connection"===m.pathname,y=!(p.flags.messagingConfiguration&&f),{data:x}=(0,c.JE)(void 0,{skip:y}),{data:h}=(0,d.PW)(void 0,{skip:y}),v=p.flags.messagingConfiguration&&(!x||!h)&&f;return(0,n.jsxs)(s.ad9,{"data-testid":i,direction:"column",h:"100vh",children:[(0,n.jsxs)(r(),{children:[(0,n.jsxs)("title",{children:["Fides Admin UI - ",i]}),(0,n.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)(s.ad9,{as:"main",direction:"column",py:a?6:0,px:a?10:0,h:a?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...u,children:[v?(0,n.jsx)(g,{}):null,t]})]})}},58754:function(e,t,i){var n=i(24246),s=i(36010),a=i(70788);t.Z=e=>{let{heading:t,breadcrumbItems:i,isSticky:r=!0,children:o,rightContent:l,style:d,...c}=e;return(0,n.jsxs)("div",{...c,style:r?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...d}:{paddingBottom:"24px",...d},children:[(0,n.jsxs)(s.kCb,{justify:"space-between",children:["string"==typeof t?(0,n.jsx)(s.Dxz,{className:i||o?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,l&&(0,n.jsx)("div",{"data-testid":"page-header-right-content",children:l})]}),!!i&&(0,n.jsx)(a.m,{className:o?"pb-4":void 0,items:i,"data-testid":"page-breadcrumb"}),o]})}},51472:function(e,t,i){var n=i(24246),s=i(36010),a=i(47397),r=i(7078),o=i(18397),l=i(11055),d=i(27378),c=i(40324),u=i(46238);let g=e=>{let{item:t,label:i,draggable:o,onDeleteItem:l,onEditItem:d,tooltip:c,onRowClick:g,maxH:p=10,rowTestId:m}=e,f=(0,a.o)(),y=(0,n.jsxs)(s.ad9,{direction:"row",gap:2,maxH:p,w:"full",px:2,align:"center",role:"group",className:"group",borderY:"1px",my:"-1px",borderColor:"gray.200",_hover:g?{bgColor:"gray.100"}:void 0,bgColor:"white",position:"relative",children:[o&&(0,n.jsx)(s.kvf,{onPointerDown:e=>f.start(e),cursor:"grab"}),(0,n.jsxs)(s.ad9,{direction:"row",gap:2,p:2,align:"center",w:"full",cursor:g?"pointer":"auto",onClick:()=>{g&&g(t)},overflow:"clip","data-testid":m,children:[(0,n.jsx)(s.Bjg,{fontSize:"sm",userSelect:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",children:i}),(0,n.jsx)(u.b,{label:c})]}),(0,n.jsxs)(s.TaI,{className:"invisible absolute right-2 bg-white group-hover:visible",children:[d&&(0,n.jsx)(s.zxk,{"aria-label":"Edit",onClick:()=>d(t),icon:(0,n.jsx)(s.PJP.I8b,{}),size:"small","data-testid":"edit-".concat(m)}),l&&(0,n.jsx)(s.zxk,{"aria-label":"Delete",onClick:()=>l(t),icon:(0,n.jsx)(s.PJP.ZNm,{}),size:"small","data-testid":"delete-".concat(m)})]})]});return o?(0,n.jsx)(r.e,{value:t,dragListener:!1,dragControls:f,children:y}):y},p=e=>{let{label:t,options:i,onOptionSelected:a,baseTestId:r}=e,[o,l]=(0,d.useState)(!1),[c,u]=(0,d.useState)(void 0);return o?(0,n.jsx)(s.TJV,{w:"full",children:(0,n.jsx)(s.PhF,{labelInValue:!0,placeholder:"Select...",filterOption:(e,t)=>{var i;return(null!==(i=null==t?void 0:t.label)&&void 0!==i?i:"").toLowerCase().includes(e.toLowerCase())},value:c,options:i,onChange:e=>{a(e),l(!1),u(void 0)},className:"w-full","data-testid":"select-".concat(r),"aria-label":t})}):(0,n.jsx)(s.zxk,{onClick:()=>l(!0),"data-testid":"add-".concat(r),block:!0,icon:(0,n.jsx)(s._m_,{boxSize:4}),iconPosition:"end",children:t})};t.Z=e=>{let{label:t,tooltip:i,draggable:a,addButtonLabel:r,allItems:d,idField:m,nameField:f=m,values:y,setValues:x,canDeleteItem:h,getTooltip:v,onRowClick:T,onEditItem:E,selectOnAdd:b,getItemLabel:C,createNewValue:j,maxHeight:_=36,baseTestId:S}=e,R=e=>e instanceof Object&&m&&m in e?e[m]:e,P=d.every(e=>"string"==typeof e)?d.filter(e=>y.every(t=>t!==e)):d.filter(e=>y.every(t=>R(t)!==R(e))),I=e=>{x(y.filter(t=>t!==e).slice())},M=null!=C?C:e=>e instanceof Object&&m&&m in e?f&&f in e?e[f]:e[m]:e,w=e=>{let t=e instanceof Object&&m&&m in e?e[m]:e;return{label:M(e),value:t}},q=e=>d.every(e=>"string"==typeof e)?e.value:d.find(t=>t[m]===e.value),k=e=>{let t=j?j(e):q(e);x([t,...y.slice()]),b&&T&&T(t),b&&E&&E(t)},A={border:"1px",borderColor:"gray.200",borderRadius:"md",w:"full",maxH:"8.5rem",overflowY:"auto"},V=a?(0,n.jsx)(s.TJV,{as:o.E.div,layoutScroll:!0,...A,children:(0,n.jsx)(l.M,{values:y,onReorder:e=>x(e.slice()),children:y.map(e=>{let t=R(e);return(0,n.jsx)(g,{item:e,label:M(e),onDeleteItem:!h||h&&h(e)?I:void 0,onEditItem:E,onRowClick:T,draggable:!0,maxH:_,rowTestId:"".concat(S,"-row-").concat(t),tooltip:v&&v(e)?v(e):void 0},t)})})}):(0,n.jsx)(s.TJV,{...A,children:(0,n.jsx)(s.yD7,{children:y.map(e=>{let t=R(e);return(0,n.jsx)(g,{item:e,label:M(e),onRowClick:T,onDeleteItem:I,tooltip:v&&v(e)?v(e):void 0,maxH:_,rowTestId:"".concat(S,"-row-").concat(t)},t)})})});return y.length?(0,n.jsxs)(s.ad9,{align:"start",direction:"column",w:"full",gap:4,children:[t?(0,n.jsx)(c.__,{htmlFor:"test",fontSize:"xs",my:0,mr:1,children:t}):null,(0,n.jsx)(u.b,{label:i}),V,P.length?(0,n.jsx)(p,{label:null!=r?r:"Add new",options:P.map(e=>w(e)),onOptionSelected:k,baseTestId:S}):null]}):(0,n.jsx)(p,{label:null!=r?r:"Add new",options:P.map(e=>w(e)),onOptionSelected:k,baseTestId:S})}},10342:function(e,t,i){var n=i(24246),s=i(36010),a=i(46238);t.Z=e=>{let{title:t,tooltip:i,children:r,...o}=e;return(0,n.jsxs)(s.TJV,{borderRadius:"md",border:"1px solid",borderColor:"gray.200",...o,children:[(0,n.jsxs)(s.y_b,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[t,i?(0,n.jsx)(s.Bjg,{as:"span",mx:1,children:(0,n.jsx)(a.b,{label:i})}):void 0]}),(0,n.jsx)(s.EO$,{p:6,spacing:6,children:r})]})}},70788:function(e,t,i){i.d(t,{m:function(){return d}});var n=i(24246),s=i(36010),a=i(79894),r=i.n(a),o=i(27378);let{Text:l}=s.Typography,d=e=>{let{items:t,...i}=e,a=(0,o.useMemo)(()=>null==t?void 0:t.map((e,i)=>{let a=i===t.length-1,o={...e},d=o.onClick&&!o.href;return("string"==typeof o.title&&(o.title=(0,n.jsx)(l,{style:{color:"inherit",maxWidth:a?void 0:400},ellipsis:!a,id:a?"breadcrumb-current-page":void 0,children:o.title})),d)?o.title=(0,n.jsx)(s.zxk,{type:"text",size:"small",icon:o.icon,onClick:o.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:o.title}):(o.icon&&(o.title=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"anticon align-text-bottom",children:o.icon}),o.title]})),o.href&&o.title&&(o.title=(0,n.jsx)(r(),{href:o.href,className:"ant-breadcrumb-link",children:o.title}),delete o.href)),o}),[t]);return(0,n.jsx)(s.aGc,{items:a,...i})}},67810:function(e,t,i){i.d(t,{Z:function(){return a}}),(n=s||(s={})).PRIVACY_REQUEST_REVIEW_APPROVE="privacy_request_review_approve",n.PRIVACY_REQUEST_REVIEW_DENY="privacy_request_review_deny",n.PRIVACY_REQUEST_RECEIPT="privacy_request_receipt",n.PRIVACY_REQUEST_COMPLETE_ACCESS="privacy_request_complete_access",n.PRIVACY_REQUEST_COMPLETE_DELETION="privacy_request_complete_deletion",n.PRIVACY_REQUEST_COMPLETE_CONSENT="privacy_request_complete_consent",n.SUBJECT_IDENTITY_VERIFICATION="subject_identity_verification",n.MANUAL_TASK_DIGEST="manual_task_digest",n.EXTERNAL_USER_WELCOME="external_user_welcome";var n,s,a={[s.PRIVACY_REQUEST_COMPLETE_ACCESS]:"Access request completed",[s.PRIVACY_REQUEST_COMPLETE_DELETION]:"Erasure request completed",[s.PRIVACY_REQUEST_COMPLETE_CONSENT]:"Consent request completed",[s.PRIVACY_REQUEST_RECEIPT]:"Privacy request received",[s.PRIVACY_REQUEST_REVIEW_APPROVE]:"Privacy request approved",[s.PRIVACY_REQUEST_REVIEW_DENY]:"Privacy request denied",[s.SUBJECT_IDENTITY_VERIFICATION]:"Subject identity verification",[s.MANUAL_TASK_DIGEST]:"Manual task digest",[s.EXTERNAL_USER_WELCOME]:"External user welcome"}},20149:function(e,t,i){var n=i(24246),s=i(77830),a=i(36010),r=i(34090),o=i(86677),l=i(16134),d=i(10342),c=i(40324),u=i(51472),g=i(67810),p=i(64826);let m=()=>{var e;let t=(0,l.C)(p.Zp),i=(0,l.C)(p.G1);(0,p.gz)({page:t,size:i});let s=(0,l.C)(p.YO),{values:a,setFieldValue:o}=(0,r.u6)();return(0,n.jsx)(u.Z,{label:"Associated properties",addButtonLabel:"Add property",idField:"id",nameField:"name",allItems:s.map(e=>({id:e.id,name:e.name})),values:null!==(e=a.properties)&&void 0!==e?e:[],setValues:e=>o("properties",e),draggable:!0,maxHeight:100,baseTestId:"property"})};t.Z=e=>{let{template:t,handleSubmit:i,handleDelete:l}=e,u=(0,o.useRouter)(),p=()=>{u.push(s.Wi)},f={type:t.type,content:t.content,properties:t.properties||[],is_enabled:t.is_enabled,id:t.id||""};return(0,n.jsx)(r.J9,{enableReinitialize:!0,initialValues:f,onSubmit:i,children:e=>{let{dirty:t,isValid:i,isSubmitting:s}=e;return(0,n.jsxs)(r.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,n.jsx)(a.TJV,{py:3,children:(0,n.jsxs)(d.Z,{title:"".concat(g.Z[f.type]),children:[(0,n.jsx)(c.j0,{isRequired:!0,label:"Email subject",name:"content.subject",variant:"stacked"}),(0,n.jsx)(c.Ks,{isRequired:!0,label:"Message body",name:"content.body",value:"test",variant:"stacked",resize:!0}),(0,n.jsx)(a.TJV,{py:3,children:(0,n.jsx)(m,{})}),(0,n.jsx)(c.w8,{name:"is_enabled",label:"Enable message",variant:"switchFirst"})]})}),(0,n.jsxs)(a.ad9,{justifyContent:"space-between",width:"100%",paddingTop:2,children:[f.id&&l&&(0,n.jsx)(a.zxk,{"data-testid":"delete-template-button",loading:!1,className:"mr-3",onClick:l,children:"Delete"}),(0,n.jsxs)(a.ad9,{justifyContent:"right",width:"100%",paddingTop:2,children:[(0,n.jsx)(a.zxk,{loading:!1,className:"mr-3",onClick:p,children:"Cancel"}),(0,n.jsx)(a.zxk,{htmlType:"submit",type:"primary",disabled:s||!t||!i,loading:s,"data-testid":"submit-btn",children:"Save"})]})]})]})}})}},5058:function(e,t,i){i.d(t,{Vw:function(){return l},ms:function(){return r},pS:function(){return o},vm:function(){return d}});var n=i(78780),s=i(95099),a=i.n(s);let{useGetSummaryMessagingTemplatesQuery:r,usePutMessagingTemplateByIdMutation:o,useCreateMessagingTemplateByTypeMutation:l,usePatchMessagingTemplateByIdMutation:d}=n.u.injectEndpoints({endpoints:e=>({getSummaryMessagingTemplates:e.query({query:e=>({method:"GET",url:"plus/messaging/templates/summary",params:e}),transformResponse:e=>({...e,items:a()(e.items,"id")}),providesTags:()=>["Property-Specific Messaging Templates"]}),putMessagingTemplateById:e.mutation({query:e=>{let{templateId:t,template:i}=e;return{url:"plus/messaging/templates/".concat(t),method:"PUT",body:i}},invalidatesTags:()=>["Property-Specific Messaging Templates"]}),patchMessagingTemplateById:e.mutation({query:e=>{let{templateId:t,template:i}=e;return{url:"plus/messaging/templates/".concat(t),method:"PATCH",body:i}},invalidatesTags:()=>["Property-Specific Messaging Templates"]}),createMessagingTemplateByType:e.mutation({query:e=>{let{templateType:t,template:i}=e;return{url:"plus/messaging/templates/".concat(t),method:"POST",body:i}},invalidatesTags:()=>["Property-Specific Messaging Templates"]})})})},47466:function(e,t,i){i.d(t,{KC:function(){return r},ew:function(){return o},gQ:function(){return a},jM:function(){return n},lE:function(){return s}});let{useGetMessagingTemplatesQuery:n,useUpdateMessagingTemplatesMutation:s,useGetMessagingTemplateByIdQuery:a,useGetMessagingTemplateDefaultQuery:r,useDeleteMessagingTemplateByIdMutation:o}=i(78780).u.injectEndpoints({endpoints:e=>({getMessagingTemplates:e.query({query:()=>({url:"messaging/templates"}),providesTags:()=>["Messaging Templates"]}),updateMessagingTemplates:e.mutation({query:e=>({url:"messaging/templates",method:"PUT",body:e}),invalidatesTags:()=>["Messaging Templates"]}),getMessagingTemplateById:e.query({query:e=>({url:"/messaging/templates/".concat(e)}),providesTags:()=>["Property-Specific Messaging Templates"]}),getMessagingTemplateDefault:e.query({query:e=>({url:"/messaging/templates/default/".concat(e)})}),deleteMessagingTemplateById:e.mutation({query:e=>({url:"/messaging/templates/".concat(e),method:"DELETE"}),invalidatesTags:()=>["Property-Specific Messaging Templates"]})})})},42478:function(e,t,i){i.d(t,{FU:function(){return d},JE:function(){return s},Ki:function(){return u},SU:function(){return g},W:function(){return p},h9:function(){return a},jc:function(){return n},qt:function(){return l},sn:function(){return c}});let{useGetEmailInviteStatusQuery:n,useGetActiveMessagingProviderQuery:s,useCreateMessagingConfigurationMutation:a,useCreateMessagingConfigurationSecretsMutation:r,useGetMessagingConfigurationDetailsQuery:o,useGetMessagingConfigurationsQuery:l,useGetMessagingConfigurationByKeyQuery:d,useUpdateMessagingConfigurationByKeyMutation:c,useUpdateMessagingConfigurationSecretsByKeyMutation:u,useCreateTestConnectionMessageMutation:g,useDeleteMessagingConfigurationByKeyMutation:p}=i(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,t,i,n)=>{let s=await n({url:"messaging/default/active"});return s.error&&404===s.error.status?{data:null}:s},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},31883:function(e,t,i){i.d(t,{Bw:function(){return n.Bw},D4:function(){return n.D4}});var n=i(19043)}}]);