(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7322],{29303:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/properties",function(){return n(68850)}])},30952:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var i=n(24246),s=n(26917);let r=e=>{let{...t}=e;return(0,i.jsx)(s.Z,{debounce:!0,...t})}},56358:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});var i=n(24246);let s=(0,n(36010).G1m)({displayName:"TrashCanOutlineIcon",viewBox:"0 0 11 12",path:(0,i.jsx)("path",{d:"M4.5166 1.60859L4.1084 2.21875H7.22363L6.81543 1.60859C6.7832 1.56133 6.72949 1.53125 6.67148 1.53125H4.6584C4.60039 1.53125 4.54668 1.55918 4.51445 1.60859H4.5166ZM7.6748 1.03711L8.46328 2.21875H8.75977H9.79102H9.96289C10.2486 2.21875 10.4785 2.44863 10.4785 2.73438C10.4785 3.02012 10.2486 3.25 9.96289 3.25H9.79102V9.78125C9.79102 10.7309 9.02188 11.5 8.07227 11.5H3.25977C2.31016 11.5 1.54102 10.7309 1.54102 9.78125V3.25H1.36914C1.0834 3.25 0.853516 3.02012 0.853516 2.73438C0.853516 2.44863 1.0834 2.21875 1.36914 2.21875H1.54102H2.57227H2.86875L3.65723 1.03496C3.88066 0.701953 4.25664 0.5 4.6584 0.5H6.67148C7.07324 0.5 7.44922 0.701953 7.67266 1.03496L7.6748 1.03711ZM2.57227 3.25V9.78125C2.57227 10.1615 2.87949 10.4688 3.25977 10.4688H8.07227C8.45254 10.4688 8.75977 10.1615 8.75977 9.78125V3.25H2.57227ZM4.29102 4.625V9.09375C4.29102 9.28281 4.13633 9.4375 3.94727 9.4375C3.7582 9.4375 3.60352 9.28281 3.60352 9.09375V4.625C3.60352 4.43594 3.7582 4.28125 3.94727 4.28125C4.13633 4.28125 4.29102 4.43594 4.29102 4.625ZM6.00977 4.625V9.09375C6.00977 9.28281 5.85508 9.4375 5.66602 9.4375C5.47695 9.4375 5.32227 9.28281 5.32227 9.09375V4.625C5.32227 4.43594 5.47695 4.28125 5.66602 4.28125C5.85508 4.28125 6.00977 4.43594 6.00977 4.625ZM7.72852 4.625V9.09375C7.72852 9.28281 7.57383 9.4375 7.38477 9.4375C7.1957 9.4375 7.04102 9.28281 7.04102 9.09375V4.625C7.04102 4.43594 7.1957 4.28125 7.38477 4.28125C7.57383 4.28125 7.72852 4.43594 7.72852 4.625Z",fill:"currentColor"})})},77213:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(24246),s=n(36010),r=n(88038),a=n.n(r),o=n(86677);n(27378);var l=n(25980),c=n(90867),u=n(42478),d=n(77830),g=()=>{let e=(0,o.useRouter)();return(0,i.jsx)(s.TJV,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(s.TJV,{children:[(0,i.jsxs)(s.EO$,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(s.Bjg,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(s.zxk,{onClick:()=>{e.push(d.AD)},children:"Configure"})]}),(0,i.jsxs)(s.Bjg,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},p=e=>{let{children:t,title:n,padded:r=!0,mainProps:d}=e,p=(0,l.hz)(),h=(0,o.useRouter)(),y="/privacy-requests"===h.pathname||"/datastore-connection"===h.pathname,f=!(p.flags.messagingConfiguration&&y),{data:m}=(0,u.JE)(void 0,{skip:f}),{data:x}=(0,c.PW)(void 0,{skip:f}),j=p.flags.messagingConfiguration&&(!m||!x)&&y;return(0,i.jsxs)(s.ad9,{"data-testid":n,direction:"column",h:"100vh",children:[(0,i.jsxs)(a(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(s.ad9,{as:"main",direction:"column",py:r?6:0,px:r?10:0,h:r?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...d,children:[j?(0,i.jsx)(g,{}):null,t]})]})}},19904:function(e,t,n){"use strict";n.d(t,{Tg:function(){return a}});var i=n(24246),s=n(16134),r=n(31793);let a=e=>(0,s.C)(r.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:n}=e;return a(t)?(0,i.jsx)(i.Fragment,{children:n}):null}},42478:function(e,t,n){"use strict";n.d(t,{FU:function(){return c},JE:function(){return s},Ki:function(){return d},SU:function(){return g},W:function(){return p},h9:function(){return r},jc:function(){return i},qt:function(){return l},sn:function(){return u}});let{useGetEmailInviteStatusQuery:i,useGetActiveMessagingProviderQuery:s,useCreateMessagingConfigurationMutation:r,useCreateMessagingConfigurationSecretsMutation:a,useGetMessagingConfigurationDetailsQuery:o,useGetMessagingConfigurationsQuery:l,useGetMessagingConfigurationByKeyQuery:c,useUpdateMessagingConfigurationByKeyMutation:u,useUpdateMessagingConfigurationSecretsByKeyMutation:d,useCreateTestConnectionMessageMutation:g,useDeleteMessagingConfigurationByKeyMutation:p}=n(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,t,n,i)=>{let s=await i({url:"messaging/default/active"});return s.error&&404===s.error.status?{data:null}:s},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},3642:function(e,t,n){"use strict";var i=n(24246),s=n(36010),r=n(86677),a=n.n(r),o=n(27378),l=n(812),c=n(58452),u=n(77830),d=n(19904),g=n(46628),p=n(98795),h=n(60240);t.Z=e=>{let{property:t,triggerComponent:n}=e,r=(0,s.p8r)(),y=(0,s.E2M)(),[f]=(0,p.YW)(),m=t.experiences.length>0,x=async()=>{y.onClose();let e=await f(t.id);if((0,l.D4)(e)){r((0,g.Vo)((0,l.e$)(e.error)));return}a().push("".concat(u.ru)),r((0,g.t5)("Property ".concat(t.name," deleted successfully")))};return(0,i.jsxs)(d.ZP,{scopes:[h.Sh.PROPERTY_DELETE],children:[(0,i.jsx)(s.ua7,{title:m?"All of the experiences on this property must be unlinked before the property can be deleted.":void 0,placement:"right",children:(0,i.jsx)("span",{children:o.cloneElement(n,{onClick:e=>{e.stopPropagation(),m||y.onOpen()},disabled:m})})}),(0,i.jsx)(c.Z,{isOpen:y.isOpen,onClose:y.onClose,onConfirm:x,title:"Delete ".concat(t.name),message:(0,i.jsxs)(s.Bjg,{color:"gray.500",children:["You are about to delete property ",t.name,". This action is not reversible and will result in ",t.name," no longer being available for your data governance. Are you sure you want to proceed?"]}),continueButtonText:"Ok",isCentered:!0,icon:(0,i.jsx)(s.aNP,{})})]})}},68850:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var i=n(24246),s=n(36010),r=n(59849),a=n(77213),o=n(58754),l=n(86677),c=n(30952),u=n(77830),d=n(19904),g=n(27378),p=n(24813),h=n(99640),y=n(8125),f=n(66213),m=n(98795),x=n(56358),j=n(88340),C=n(25980),v=n(14048),b=n(32885);let T="{privacy-center-hostname-and-path}",P="{property-unique-id}",E='<script src="https://'.concat(T,"/fides.js?property_id=").concat(P,'"></script>'),M="<script>Fides.gtm()</script>";var k=e=>{let{property:t}=e,n=(0,s.E2M)(),r=(0,g.useRef)(null),{fidesCloud:a}=(0,C.hz)(),{data:o,isSuccess:l}=(0,b.Vh)(void 0,{skip:!a}),c=(0,g.useMemo)(()=>{let e=E.replace(P,t.id.toString());return a&&l&&(null==o?void 0:o.privacy_center_url)&&e.replace(T,o.privacy_center_url),e},[null==o?void 0:o.privacy_center_url,a,l,t]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.zxk,{"aria-label":"Install property",size:"small",icon:(0,i.jsx)(v.A5,{}),onClick:e=>{e.stopPropagation(),n.onOpen()}}),(0,i.jsxs)(s.TGG,{isOpen:n.isOpen,onClose:n.onClose,isCentered:!0,size:"xl",initialFocusRef:r,children:[(0,i.jsx)(s.T5Q,{}),(0,i.jsxs)(s.Z8H,{"data-testid":"copy-js-tag-modal",children:[(0,i.jsx)(s.geD,{tabIndex:-1,ref:r,pb:0,children:"Install Fides Consent Manager"}),(0,i.jsx)(s.zOL,{pt:3,pb:6,fontSize:"14px",fontWeight:500,children:(0,i.jsxs)(s.EO$,{spacing:3,children:[(0,i.jsxs)(s.Bjg,{children:["Copy the code below and paste it onto every page of the"," ",t.name," property."]}),(0,i.jsxs)(s.Bjg,{children:["1. Paste this code as high in the ",(0,i.jsx)("b",{children:"<head>"})," of the page as possible:"]}),(0,i.jsxs)(s.L8C,{display:"flex",justifyContent:"space-between",alignItems:"top",p:0,children:[(0,i.jsx)(s.Bjg,{p:4,children:c}),(0,i.jsx)(j.Z,{copyText:c})]}),(0,i.jsx)(s.Bjg,{children:"2. Optionally, you can enable Google Tag Manager for managing tags on your website by including the script tag below along with the Fides.js tag. Place it below the Fides.js script tag."}),(0,i.jsxs)(s.L8C,{display:"flex",justifyContent:"space-between",alignItems:"center",p:0,children:[(0,i.jsx)(s.Bjg,{p:4,children:M}),(0,i.jsx)(j.Z,{copyText:M})]}),(0,i.jsxs)(s.Bjg,{children:["For more information about adding a JavaScript tag to your website, please visit"," ",(0,i.jsx)(s.iUA,{color:"complimentary.500",href:"https://docs.ethyca.com/tutorials/consent-management-configuration/install-fides#install-fidesjs-script-on-your-website",isExternal:!0,children:"docs.ethyca.com"})]})]})})]})]})]})},w=n(60240),S=n(3642),_=e=>{let{property:t}=e,n=(0,l.useRouter)();return(0,i.jsxs)(s.kCb,{gap:"small",children:[(0,i.jsx)(k,{property:t}),(0,i.jsx)(d.ZP,{scopes:[w.Sh.PROPERTY_UPDATE],children:(0,i.jsx)(s.zxk,{"aria-label":"Edit property","data-testid":"edit-property-button",size:"small",icon:(0,i.jsx)(s.PJP.I8b,{}),onClick:()=>{n.push("".concat(u.ru,"/").concat(t.id))}})}),(0,i.jsx)(S.Z,{property:t,triggerComponent:(0,i.jsx)(s.zxk,{"aria-label":"Delete property","data-testid":"delete-property-button",size:"small",icon:(0,i.jsx)(x.q,{})})})]})},q=()=>{var e;let t=(0,l.useRouter)(),n=(0,y.o)({pagination:{defaultPageSize:25,pageSizeOptions:[25,50,100]},search:{defaultSearchQuery:""}}),[r,a]=(0,g.useState)(!1),[o,c]=(0,g.useState)(0),{pageIndex:d,pageSize:x,searchQuery:j,updateSearch:C}=n,{data:v,error:b,isLoading:T,isFetching:P}=(0,m.gz)({page:d,size:x,search:j}),E=(0,g.useMemo)(()=>{var e;return null!==(e=null==v?void 0:v.items)&&void 0!==e?e:[]},[null==v?void 0:v.items]),M=null!==(e=null==v?void 0:v.total)&&void 0!==e?e:0,k=(0,g.useMemo)(()=>({dataSource:E,totalRows:M,isLoading:T,isFetching:P,getRowKey:e=>{var t;return null!==(t=e.id)&&void 0!==t?t:""},customTableProps:{locale:{emptyText:(0,i.jsx)(s.HYy,{image:s.HYy.PRESENTED_IMAGE_SIMPLE,description:(0,i.jsxs)(s.kCb,{vertical:!0,gap:"small",align:"center",children:[(0,i.jsx)(s.Typography.Paragraph,{children:"No properties found."}),(0,i.jsx)(s.kCb,{children:(0,i.jsx)(s.zxk,{type:"primary",onClick:()=>t.push(u.B9),children:"Add a property"})})]}),"data-testid":"no-results-notice"})}}}),[M,T,P,E,t]),{tableProps:w}=(0,y.V)(n,k);return{tableProps:w,columns:(0,g.useMemo)(()=>[{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>{let{name:n,id:s}=t;return(0,i.jsx)(h.Z,{href:"/properties/".concat(s),children:n})}},{title:"Type",dataIndex:"type",key:"type"},{title:"Experiences",dataIndex:"experiences",key:"experiences",render:(e,t)=>{let{experiences:n}=t;return(0,i.jsx)(p.Q3,{values:n.map(e=>({label:e.name,key:e.id})),columnState:{isExpanded:r,version:o}})},menu:(0,f.Xr)(a,c)},{title:"Actions",dataIndex:"actions",key:"actions",render:(e,t)=>(0,i.jsx)(_,{property:t})}],[r,o]),error:b,searchQuery:j,updateSearch:C}},Z=()=>{let e=(0,l.useRouter)(),{tableProps:t,columns:n,searchQuery:r,updateSearch:a}=q();return(0,i.jsxs)(s.kCb,{vertical:!0,gap:"small",children:[(0,i.jsxs)(s.kCb,{justify:"space-between",children:[(0,i.jsx)(c.f,{value:r,onChange:a,placeholder:"Search properties..."}),(0,i.jsx)(d.ZP,{scopes:[w.Sh.PROPERTY_CREATE],children:(0,i.jsx)(s.zxk,{type:"primary",onClick:()=>e.push(u.B9),"data-testid":"add-property-button",children:"Add a property"})})]}),(0,i.jsx)(s.iA_,{...t,columns:n,"data-testid":"properties-table"})]})},O=()=>{let{error:e}=q();return e?(0,i.jsx)(r.Z,{error:e,defaultMessage:"A problem occurred while fetching properties"}):(0,i.jsxs)(a.Z,{title:"Properties",children:[(0,i.jsx)(o.Z,{heading:"Properties",children:(0,i.jsx)(s.Typography.Text,{children:"Review and manage your properties below. Properties are the locations you have configured for consent management such as a website or mobile app."})}),(0,i.jsx)(Z,{})]})}}},function(e){e.O(0,[431,7245,9698,5022,6043,2888,9774,179],function(){return e(e.s=29303)}),_N_E=e.O()}]);