(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4745],{37441:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-catalog/[systemId]/resources/[resourceUrn]",function(){return a(51887)}])},30952:function(e,t,a){"use strict";a.d(t,{f:function(){return i}});var s=a(24246),r=a(26917);let i=e=>{let{...t}=e;return(0,s.jsx)(r.Z,{debounce:!0,...t})}},81406:function(e,t,a){"use strict";var s=a(24246),r=a(36010);t.Z=()=>(0,s.jsxs)(r.s_g,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,s.jsx)(r.Bjg,{fontSize:"md",fontWeight:"600",children:"No resources found"}),(0,s.jsx)(r.Bjg,{fontSize:"sm",children:"You're up to date!"})]})},25077:function(e,t,a){"use strict";a.d(t,{Z:function(){return D}});var s=a(24246),r=a(59003),i=a(92222),n=a(36010),l=a(27378),c=a(30952),o=a(15793),d=a(81406),u=a(99763),g=a(72625),p=a(17245),f=a(28976),h=a(8151),x=a(70675),j=e=>{let{resource:t,onDetailClick:a}=e,{successAlert:r}=(0,p.VY)(),i=(0,h.u)(t),[l,{isLoading:c}]=(0,x.v8)(),[o,{isLoading:d}]=(0,x.cM)(),[u,{isLoading:g}]=(0,x.vi)(),j=async()=>{var e;await l({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0}),r("Started classification on ".concat(null!==(e=t.name)&&void 0!==e?e:"this resource"))},m=async()=>{var e;await o({staged_resource_urn:t.urn}),r("Approved ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},_=async()=>{var e;await u({staged_resource_urn:t.urn}),r("Hid ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},C=c||d||g;return(0,s.jsxs)(n.ad9,{gap:2,justify:"space-between",children:[i===h.e.ATTENTION_REQUIRED&&(0,s.jsx)(n.zxk,{size:"small",onClick:j,loading:c,disabled:C,"data-testid":"classify-btn",children:"Classify"}),i===h.e.CLASSIFIED&&(0,s.jsx)(n.zxk,{size:"small",onClick:m,loading:d,disabled:C,"data-testid":"approve-btn",children:"Approve"}),(0,s.jsx)(n.s3C,{}),(0,s.jsx)(f.Z,{onHideClick:_,onDetailClick:a})]})},m=a(89200),_=a(5945),C=a(61099),v=a(79947),y=a(60240);let I=(0,i.Cl)();var L=(e,t)=>{let a=[];return e?e===y.D$.TABLE?[I.display({id:"name",cell:e=>{let{row:t}=e;return(0,s.jsx)(m.Z,{resource:t.original})},header:"Table"}),I.display({id:"status",cell:e=>{let{row:t}=e;return(0,s.jsx)(_.Z,{status:(0,h.u)(t.original)})},header:"Status"}),I.display({id:"category",cell:e=>{let{row:t}=e;return(0,s.jsx)(C.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),I.accessor(e=>e.description,{id:"description",cell:e=>(0,s.jsx)(o.G3,{value:e.getValue()}),header:"Description"}),I.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,s.jsx)(g.Cy,{time:e.getValue()}),header:"Updated"}),I.display({id:"actions",cell:e=>{let{row:a}=e;return(0,s.jsx)(j,{resource:a.original,onDetailClick:()=>t(a.original)})},header:"Actions",meta:{disableRowClick:!0}})]:e===y.D$.FIELD?[I.display({id:"name",cell:e=>{let{row:t}=e;return(0,s.jsx)(m.Z,{resource:t.original})},header:"Field"}),I.display({id:"status",cell:e=>{let{row:t}=e;return(0,s.jsx)(_.Z,{status:(0,h.u)(t.original)})},header:"Status"}),I.accessor(e=>e.data_type,{id:"dataType",cell:e=>(0,s.jsx)(v.Z,{type:e.getValue()}),header:"Data type"}),I.display({id:"category",cell:e=>{let{row:t}=e;return(0,s.jsx)(C.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),I.accessor(e=>e.description,{id:"description",cell:e=>(0,s.jsx)(o.G3,{value:e.getValue()}),header:"Description"}),I.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,s.jsx)(g.Cy,{time:e.getValue()}),header:"Updated"}),I.display({id:"actions",cell:e=>{let{row:a}=e;return(0,s.jsx)(j,{resource:a.original,onDetailClick:()=>t(a.original)})},header:"Actions",meta:{disableRowClick:!0}})]:a:a},R=a(7940),b=a(80356);let k=[y.LL.ADDITION,y.LL.CLASSIFYING,y.LL.CLASSIFICATION_ADDITION,y.LL.CLASSIFICATION_QUEUED,y.LL.CLASSIFICATION_UPDATE,y.LL.MONITORED,y.LL.PROMOTING,y.LL.REMOVAL,y.LL.REMOVING],w={items:[],total:0,page:1,size:50,pages:1};var D=e=>{let{resourceUrn:t,onRowClick:a}=e,{PAGE_SIZES:g,pageSize:p,setPageSize:f,onPreviousPageClick:h,isPreviousPageDisabled:j,onNextPageClick:m,isNextPageDisabled:_,startRange:C,endRange:v,pageIndex:y,setTotalPages:I,resetPageIndexToDefault:D}=(0,o.oi)(),[S,N]=(0,l.useState)("");(0,l.useEffect)(()=>{D()},[t,D]);let{isFetching:A,isLoading:E,data:P}=(0,x.z8)({staged_resource_urn:t,page:y,size:p,diff_status:k,search:S}),{items:Z,total:T,pages:z}=(0,l.useMemo)(()=>null!=P?P:w,[P]);(0,l.useEffect)(()=>{I(z)},[z,I]);let[O,U]=(0,l.useState)(void 0),V=L((0,R.G)(Z[0]),U),M=(0,r.b7)({getCoreRowModel:(0,i.sC)(),getGroupedRowModel:(0,i.qe)(),getExpandedRowModel:(0,i.rV)(),columns:V,manualPagination:!0,data:Z,columnResizeMode:"onChange",getRowId:e=>e.urn});return E||A?(0,s.jsx)(o.I4,{rowHeight:36,numRows:36}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Q$,{children:(0,s.jsx)(n.ad9,{gap:6,align:"center",children:(0,s.jsx)(n.TJV,{flexShrink:0,children:(0,s.jsx)(c.f,{value:S,onChange:N})})})}),(0,s.jsx)(o.ZK,{tableInstance:M,emptyTableNotice:(0,s.jsx)(d.Z,{}),getRowIsClickable:e=>(0,b.Z)(e),onRowClick:a}),(0,s.jsx)(o.s8,{totalRows:T||0,pageSizes:g,setPageSize:f,onPreviousPageClick:h,isPreviousPageDisabled:j,onNextPageClick:m,isNextPageDisabled:_,startRange:C,endRange:v}),(0,s.jsx)(u.Z,{resource:O,onClose:()=>U(void 0)})]})}},94780:function(e,t,a){"use strict";a.d(t,{X5:function(){return l},pN:function(){return c},sv:function(){return i}});var s=a(24246),r=a(36010);let i=e=>e.split(".")[1],n=[(0,s.jsx)(r.PJP.S9g,{},"layers"),(0,s.jsx)(r.PJP.iA_,{},"table"),(0,s.jsx)(r.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")],l=(e,t)=>{if(!e)return[];let a=e.split(".");if(a.length<2)return[];let l=a.splice(0,2).join("."),c=[];return a.reduce((e,s,r)=>{let i=r===a.length-1,o="".concat(e).concat(".").concat(s);return c.push({title:s,href:i?void 0:"".concat(t,"/").concat(l,"/").concat(o),icon:n[r]}),o},l),[{title:i(l),href:"".concat(t,"/").concat(l),icon:(0,s.jsx)(r.PJP.ehp,{})},...c]},c=(e,t)=>{if(!e)return[];let a=e.split(".");if(a.length<2)return[];let s=a.shift(),r=[];return a.reduce((e,s,i)=>{let l=i===a.length-1,c="".concat(e).concat(".").concat(s);return r.push({title:s,href:l?void 0:"".concat(t,"/").concat(c),icon:n[i]}),c},s),r}},79947:function(e,t,a){"use strict";var s=a(24246),r=a(36010);t.Z=e=>{let{type:t}=e;return(0,s.jsx)(r.ad9,{align:"center",h:"full",children:!!t&&(0,s.jsx)(r.Vp9,{children:t})})}},51887:function(e,t,a){"use strict";a.r(t);var s=a(24246),r=a(86677),i=a(18225),n=a(77213),l=a(77830),c=a(58754),o=a(25077),d=a(94780),u=a(1315);t.default=()=>{var e;let{query:t}=(0,r.useRouter)(),a=t.systemId,g=t.resourceUrn,{data:p,isLoading:f}=(0,u.rn)(a),h=(0,r.useRouter)(),x=(0,d.pN)(g,"".concat(l.mX,"/").concat(a,"/resources"));return f?(0,s.jsx)(i.Z,{}):(0,s.jsxs)(n.Z,{title:"Data catalog",children:[(0,s.jsx)(c.Z,{heading:"Data catalog",breadcrumbItems:[{title:"All systems",href:l.mX},{title:null!==(e=null==p?void 0:p.name)&&void 0!==e?e:null==p?void 0:p.fides_key,href:"".concat(l.mX)},...x]}),(0,s.jsx)(o.Z,{resourceUrn:g,onRowClick:e=>h.push("".concat(l.mX,"/").concat(p.fides_key,"/resources/").concat(e.urn))})]})}}},function(e){e.O(0,[431,7245,409,6882,2888,9774,179],function(){return e(e.s=37441)}),_N_E=e.O()}]);