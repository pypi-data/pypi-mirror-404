"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[401],{97181:function(e,a,l){l.d(a,{d:function(){return d}});var n=l(24246),t=l(36010),s=l(34090),i=l(27378),r=l(46238),o=l(40324);let d=e=>{let{name:a,label:l,labelProps:d,tooltip:c,isRequired:u,layout:h="inline",helperText:v,...m}=e,[x,g,{setValue:j}]=(0,s.U$)(a),p=!!(g.touched&&g.error),[b,f]=(0,i.useState)("");x.value||"tags"!==m.mode&&"multiple"!==m.mode||(x.value=[]),"tags"===m.mode&&"string"==typeof x.value&&(x.value=[x.value]);let C="tags"===m.mode?(e,a)=>e?e.value!==b||x.value.includes(b)?m.optionRender?m.optionRender(e,a):e.label:'Create "'.concat(b,'"'):void 0:m.optionRender||void 0,y=e=>{f(e),m.onSearch&&m.onSearch(e)},_=(e,a)=>{j(e),m.onChange&&m.onChange(e,a)};return"inline"===h?(0,n.jsx)(t.DTt,{isInvalid:p,isRequired:u,children:(0,n.jsxs)(t.MoG,{templateColumns:l?"1fr 3fr":"1fr",children:[l?(0,n.jsx)(o.__,{htmlFor:m.id||a,...d,children:l}):null,(0,n.jsxs)(t.kCb,{align:"center",children:[(0,n.jsxs)(t.kCb,{vertical:!0,flex:1,className:"mr-2",children:[(0,n.jsx)(t.PhF,{...x,id:m.id||a,"data-testid":"controlled-select-".concat(x.name),...m,optionRender:C,onSearch:"tags"===m.mode?y:void 0,onChange:_,value:x.value||void 0,status:p?"error":void 0}),v&&(0,n.jsx)(t.Kug,{children:v}),(0,n.jsx)(o.Bc,{isInvalid:p,message:g.error,fieldName:x.name})]}),(0,n.jsx)(r.b,{label:c,className:p?"mt-2 self-start":void 0})]})]})}):(0,n.jsx)(t.DTt,{isInvalid:p,isRequired:u,children:(0,n.jsxs)(t.s_g,{alignItems:"start",children:[(0,n.jsxs)(t.kCb,{align:"center",children:[l?(0,n.jsx)(o.__,{htmlFor:m.id||a,fontSize:"xs",my:0,mr:1,...d,children:l}):null,(0,n.jsx)(r.b,{label:c})]}),(0,n.jsx)(t.PhF,{...x,id:m.id||a,"data-testid":"controlled-select-".concat(x.name),...m,optionRender:C,onSearch:"tags"===m.mode?y:void 0,onChange:_,value:x.value||void 0,status:p?"error":void 0}),v&&(0,n.jsx)(t.Kug,{style:{marginTop:0},children:v}),(0,n.jsx)(o.Bc,{isInvalid:p,message:g.error,fieldName:x.name})]})})}},8133:function(e,a,l){var n=l(24246),t=l(36010);a.Z=e=>{let{title:a,children:l,isOpen:s,onClose:i,modalContentProps:r,showCloseButton:o=!1,footer:d,...c}=e;return(0,n.jsxs)(t.TGG,{isOpen:s,onClose:i,isCentered:!0,scrollBehavior:"inside",size:"xl",id:"add-modal",...c,children:[(0,n.jsx)(t.T5Q,{}),(0,n.jsxs)(t.Z8H,{textAlign:"left",p:0,"data-testid":"add-modal-content",...r,children:[o&&(0,n.jsx)(t.fpf,{}),(0,n.jsx)(t.geD,{p:0,children:(0,n.jsx)(t.TJV,{backgroundColor:"gray.50",px:6,py:4,border:"1px",borderColor:"gray.200",borderTopRadius:6,display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,n.jsx)(t.y_b,{as:"h3",size:"sm",children:a})})}),(0,n.jsx)(t.zOL,{pb:4,overflow:"auto",children:l}),d&&(0,n.jsx)(t.NGc,{children:d})]})]})}},33335:function(e,a,l){l.d(a,{E:function(){return n}});let n=e=>e.toLowerCase().replace(/[ .]/g,"_").replace(/[^a-zA-Z0-9_<>-]/g,"")},36345:function(e,a,l){l.d(a,{Z:function(){return g}});var n=l(24246),t=l(36010),s=l(34090),i=l(27378),r=l(16134),o=l(40324);let d=(0,t.G1m)({displayName:"CompassIcon",viewBox:"0 0 512 512",path:(0,n.jsx)("path",{fill:"currentColor",d:"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm306.7 69.1L162.4 380.6c-19.4 7.5-38.5-11.6-31-31l55.5-144.3c3.3-8.5 9.9-15.1 18.4-18.4l144.3-55.5c19.4-7.5 38.5 11.6 31 31L325.1 306.7c-3.2 8.5-9.9 15.1-18.4 18.4zM288 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})});var c=l(46238),u=l(57865);let{Text:h}=t.Typography,v=e=>{let{searchText:a,suggestion:l,...t}=e;return a&&l?(0,n.jsxs)(h,{"aria-hidden":!0,style:{pointerEvents:"none",position:"absolute",zIndex:10,top:"var(--ant-line-width)",bottom:"var(--ant-line-width)",left:"var(--ant-padding-sm)",lineHeight:"calc(var(--ant-control-height) - var(--ant-line-width))"},...t,children:[(0,n.jsx)(h,{className:"text-transparent",children:a}),(0,n.jsx)(h,{type:"secondary",children:l.substring(a.length)})]}):null},m="Create new system",x=e=>{let{active:a,disabled:l,onRefreshSuggestions:s}=e,i={bg:a?"complimentary.500":"gray.100"};return(0,n.jsxs)(t.s_g,{children:[(0,n.jsx)(t.s3C,{minHeight:"18px"}),(0,n.jsxs)(t.xJ8,{children:[(0,n.jsx)(t.zCq,{as:t.weT,size:"sm",isDisabled:l,icon:(0,n.jsx)(d,{color:a?"white":"gray.700",boxSize:4}),"aria-label":"Update information from Compass","data-testid":"refresh-suggestions-btn",_hover:{_disabled:i},...i}),(0,n.jsx)(t.hTI,{children:(0,n.jsx)(t.qHN,{onClick:s,children:(0,n.jsx)(t.Bjg,{fontSize:"xs",lineHeight:4,children:"Reset to Compass defaults"})})})]})]})};var g=e=>{var a,l;let{label:d,isCreate:h,lockedForGVL:g,options:j,isLoading:p,onVendorSelected:b}=e,f=(0,r.C)(u.bN),[C,y,{setValue:_}]=(0,s.U$)("name"),w=!!(y.touched&&y.error),z={...C,value:null!==(a=C.value)&&void 0!==a?a:""},{touched:I,values:N,setTouched:S,setFieldValue:T,validateForm:R}=(0,s.u6)(),[k,B]=(0,i.useState)(!0),E=null!==(l=j.find(e=>e.value===z.value))&&void 0!==l?l:{label:z.value,value:z.value,description:""},F=(e,a)=>!!(null==a?void 0:a.label.toLowerCase().startsWith(e.toLowerCase())),[D,M]=(0,i.useState)(""),q=(0,i.useMemo)(()=>j.filter(e=>F(D,e)),[j,D]),L=(0,i.useMemo)(()=>{let e=j;return h&&D&&(e=[...j,{label:"".concat(m,' "').concat(D,'"...'),value:D}]),e},[h,j,D]),G=!!D&&q.length>0,H=g&&!h;(0,i.useEffect)(()=>{B(!z.value&&!N.vendor_id)},[z.value,N.vendor_id,B]),(0,i.useEffect)(()=>{R()},[k,R]);let A=async()=>{M(""),T("vendor_id",void 0),await _(""),S({...I,vendor_id:!1,name:!1}),b(void 0)},P=async e=>{if(e){let a=j.some(a=>a.value===e.value)?e.value:void 0;T("vendor_id",a),await _(e.label.startsWith(m)?e.value:e.label),S({...I,vendor_id:!0,name:!0}),b(a)}},W=async e=>{z.onBlur(e),D&&await _(D),S({...I,name:!0})},Z=async e=>{q.length>0&&D!==q[0].label?(e.preventDefault(),M(q[0].label),T("vendor_id",q[0].value),await _(q[0].label),b(q[0].value)):(T("vendor_id",void 0),await _(D)),S({...I,name:!0})},$=(0,n.jsx)(t.DTt,{isInvalid:w,isRequired:!0,width:"100%",children:(0,n.jsxs)(t.s_g,{alignItems:"start",position:"relative",width:"100%",children:[(0,n.jsxs)(t.Br$,{spacing:1,children:[(0,n.jsx)(o.__,{htmlFor:"vendorName",fontSize:"xs",my:0,mr:1,children:d}),(0,n.jsx)(c.b,{label:"Enter the system name"})]}),(0,n.jsxs)(t.TJV,{width:"100%",className:"relative",children:[(0,n.jsx)(t.PhF,{id:"vendorName",labelInValue:!0,autoFocus:!0,allowClear:!0,options:L,loading:p,filterOption:(e,a)=>F(e,a)||!!(null==a?void 0:a.label.startsWith(m)),optionFilterProp:"label",value:E,placeholder:"Enter system name...","aria-label":"Select a system",disabled:H,onChange:P,onSearch:M,onClear:A,onBlur:W,onInputKeyDown:e=>{D&&"Tab"===e.key&&Z(e)},status:w?"error":void 0,"data-testid":"vendor-name-select"}),(0,n.jsx)(v,{searchText:D,suggestion:q.length?q[0].label:""})]}),(0,n.jsx)(o.Bc,{isInvalid:w,message:y.error,fieldName:"name"})]})});return(0,n.jsxs)(t.Br$,{alignItems:"flex-start",width:"full",children:[k?$:(0,n.jsx)(o.j0,{autoFocus:!0,id:"name",name:"name",label:"System name",tooltip:"Enter the system name",variant:"stacked",disabled:H,isRequired:!0,inputRightElement:H?null:(0,n.jsx)(t.WzM,{onClick:A,size:"sm","data-testid":"clear-btn"})}),(0,n.jsx)(x,{active:!!N.vendor_id||G,disabled:!N.vendor_id||"showing"===f,onRefreshSuggestions:()=>b(N.vendor_id)})]})}}}]);