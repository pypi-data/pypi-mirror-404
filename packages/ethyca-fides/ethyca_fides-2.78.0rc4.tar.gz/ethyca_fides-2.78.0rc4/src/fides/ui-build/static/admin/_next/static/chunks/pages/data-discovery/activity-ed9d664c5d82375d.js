(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7477],{45550:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/activity",function(){return i(3680)}])},58754:function(e,t,i){"use strict";var s=i(24246),a=i(36010),n=i(70788);t.Z=e=>{let{heading:t,breadcrumbItems:i,isSticky:r=!0,children:o,rightContent:l,style:d,...c}=e;return(0,s.jsxs)("div",{...c,style:r?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...d}:{paddingBottom:"24px",...d},children:[(0,s.jsxs)(a.kCb,{justify:"space-between",children:["string"==typeof t?(0,s.jsx)(a.Dxz,{className:i||o?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,l&&(0,s.jsx)("div",{"data-testid":"page-header-right-content",children:l})]}),!!i&&(0,s.jsx)(n.m,{className:o?"pb-4":void 0,items:i,"data-testid":"page-breadcrumb"}),o]})}},70788:function(e,t,i){"use strict";i.d(t,{m:function(){return d}});var s=i(24246),a=i(36010),n=i(79894),r=i.n(n),o=i(27378);let{Text:l}=a.Typography,d=e=>{let{items:t,...i}=e,n=(0,o.useMemo)(()=>null==t?void 0:t.map((e,i)=>{let n=i===t.length-1,o={...e},d=o.onClick&&!o.href;return("string"==typeof o.title&&(o.title=(0,s.jsx)(l,{style:{color:"inherit",maxWidth:n?void 0:400},ellipsis:!n,id:n?"breadcrumb-current-page":void 0,children:o.title})),d)?o.title=(0,s.jsx)(a.zxk,{type:"text",size:"small",icon:o.icon,onClick:o.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:o.title}):(o.icon&&(o.title=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"anticon align-text-bottom",children:o.icon}),o.title]})),o.href&&o.title&&(o.title=(0,s.jsx)(r(),{href:o.href,className:"ant-breadcrumb-link",children:o.title}),delete o.href)),o}),[t]);return(0,s.jsx)(a.aGc,{items:n,...i})}},54409:function(e,t,i){"use strict";i.d(t,{Z:function(){return x}});var s=i(24246),a=i(36010),n=i(812),r=i(17245),o=i(60240),l=i(31883);let d=(0,a.G1m)({displayName:"MonitorOffIcon",viewBox:"0 0 12 12",path:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.47125 1H5.85H6.15H6.51188L6.58875 1.36914L7.52062 5.83268L6.42408 4.98635L6.03375 3.11719L5.8038 4.50761L4.99323 3.882L5.40562 1.38867L5.47125 1ZM4.80795 5.0022L4.67675 5.79545L5.48735 6.42109L5.61854 5.62783L4.80795 5.0022ZM6.73856 6.49227L6.96125 7.55866L8.42407 8.6877L8.69498 8.00228L7.94864 7.42624L7.88625 7.58398L7.83501 7.33853L6.73856 6.49227ZM8.33138 6.45844L9.07755 7.03434L9.30188 6.4668H11.55H12V5.5293H11.55H9H8.69812L8.58375 5.82031L8.33138 6.45844ZM7.27551 9.06443L7.35399 9.125H7.28813L7.27551 9.06443ZM4.49147 6.91566L5.30209 7.54131L4.79437 10.6113L4.72875 11H4.35H4.05H3.69563L3.61313 10.6406L2.64563 6.46875H0.45H0V5.53125H0.45H2.69777L3.49646 6.1477L4.15125 8.97266L4.49147 6.91566Z",fill:"currentColor"}),(0,s.jsx)("g",{clipPath:"url(#clip0_341_3102)",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6755 10.4168L0.164222 2.304L0.775218 1.51237L11.2865 9.62517L10.6755 10.4168Z",fill:"currentColor"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_341_3102",children:(0,s.jsx)("rect",{width:"11.5",height:"9",fill:"white",transform:"translate(0 1.5)"})})})]})}),c=(0,a.G1m)({displayName:"MonitorOnIcon",viewBox:"0 0 12 10",path:(0,s.jsx)("path",{d:"M5.47125 0H5.85H6.15H6.51188L6.58875 0.369141L7.88625 6.58398L8.58375 4.82031L8.69812 4.5293H9H11.55H12V5.4668H11.55H9.30188L8.36625 7.83398L8.25188 8.125H7.95H7.65H7.28813L7.21125 7.75586L6.03375 2.11719L4.79437 9.61133L4.72875 10H4.35H4.05H3.69563L3.61313 9.64062L2.64563 5.46875H0.45H0V4.53125H0.45H3H3.35438L3.43688 4.89062L4.15125 7.97266L5.40562 0.388672L5.47125 0Z",fill:"currentColor"})});var u=i(79494),L=i(70675),g=i(7940),x=e=>{let{resource:t,ignoreChildActions:i=!1}=e,x=(0,g.G)(t),[h,{isLoading:m}]=(0,L.v8)(),[f,{isLoading:I}]=(0,L.vi)(),[j,{isLoading:p}]=(0,L.Tl)(),{successAlert:_,errorAlert:C}=(0,r.VY)(),A=async()=>{let e=await h({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id});(0,l.D4)(e)?C((0,n.e$)(e.error,"Failed to confirm resource")):_("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored."))},D=async()=>{let e=await j({staged_resource_urn:t.urn});(0,l.D4)(e)?C((0,n.e$)(e.error),"Failed to un-mute resource"):_("".concat(t.name||"The resource"," has been un-muted and is now being monitored."))},T=async()=>{let e=await h({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0});(0,l.D4)(e)?C((0,n.e$)(e.error),"Failed to un-mute resource"):_("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored."))},v=async()=>{let e=await f({staged_resource_urn:t.urn});(0,l.D4)(e)?C((0,n.e$)(e.error),"Failed to mute resource"):_("Ignored data will not be monitored for changes or added to Fides datasets.","".concat(t.name||"Resource"," ignored"))},S=m||I||p,{diff_status:N,child_diff_statuses:y}=t,b=x===o.D$.SCHEMA,w=x===o.D$.FIELD,E=y&&(y[o.LL.CLASSIFICATION_ADDITION]||y[o.LL.CLASSIFICATION_UPDATE]||y[o.LL.REVIEWED]),H=b&&void 0===N||!w&&N===o.LL.ADDITION||E,R=N!==o.LL.MUTED,F=N===o.LL.MUTED&&!w,O=N===o.LL.MUTED&&w,Z=y&&(y[o.LL.ADDITION]||y[o.LL.REMOVAL]),k=N===o.LL.MONITORED&&!i&&Z&&!E;return(0,s.jsxs)(a.Br$,{children:[(H||k)&&(0,s.jsx)(u.Z,{title:"Monitor",icon:(0,s.jsx)(c,{}),onClick:A,disabled:S,loading:m}),O&&(0,s.jsx)(u.Z,{title:"Un-Mute",icon:(0,s.jsx)(c,{}),onClick:D,disabled:S,loading:m}),F&&(0,s.jsx)(u.Z,{title:"Monitor",icon:(0,s.jsx)(c,{}),onClick:T,disabled:S,loading:m}),R&&(0,s.jsx)(u.Z,{title:"Ignore",icon:(0,s.jsx)(d,{}),onClick:v,disabled:S,loading:I})]})}},91761:function(e,t,i){"use strict";var s=i(24246),a=i(36010),n=i(812),r=i(17245),o=i(7940),l=i(98559),d=i(60240),c=i(79494),u=i(70675);t.Z=e=>{let{resource:t}=e,[i,{isLoading:L}]=(0,u.v8)(),[g,{isLoading:x}]=(0,u.cM)(),[h,{isLoading:m}]=(0,u.vi)(),f=x||m||L,{diff_status:I,child_diff_statuses:j,top_level_field_name:p}=t,{successAlert:_,errorAlert:C}=(0,r.VY)(),A=I===d.LL.CLASSIFICATION_ADDITION||I===d.LL.CLASSIFICATION_UPDATE||I===d.LL.REVIEWED,D=j&&(j[d.LL.CLASSIFICATION_ADDITION]||j[d.LL.CLASSIFICATION_UPDATE]||j[d.LL.REVIEWED]),T=(A||D)&&!p,v=A||D,S=(0,o.G)(t)!==d.D$.FIELD,N=T&&v&&S,y=async()=>{let e=await g({staged_resource_urn:t.urn});(0,n.D4)(e)?C((0,n.e$)(e.error),"Failed to promote resource"):_('These changes have been added to a Fides dataset. To view, navigate to "Manage datasets".',"Table changes confirmed")},b=async()=>{let e=await h({staged_resource_urn:t.urn});(0,n.D4)(e)?C((0,n.e$)(e.error),"Failed to mute resource"):_("Ignored changes will not be added to a Fides dataset.","".concat(t.name||"Changes"," ignored"))},w=async()=>{let e=await i({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,start_classification:!0,diff_statuses_to_classify:[d.LL.CLASSIFICATION_ADDITION,d.LL.CLASSIFICATION_UPDATE,d.LL.CLASSIFYING,d.LL.CLASSIFICATION_QUEUED]});(0,n.D4)(e)?C((0,n.e$)(e.error),"Failed to reclassify resource"):_("Reclassification of ".concat((0,l.Z)(t)||"the resource"," has begun.  The results may take some time to appear in the “Data discovery“ tab."),"Reclassification started")};return(0,s.jsxs)(a.Br$,{gap:2,children:[T&&(0,s.jsx)(c.Z,{title:"Confirm",icon:(0,s.jsx)(a.Hwx,{}),onClick:y,disabled:f,loading:x}),v&&(0,s.jsx)(c.Z,{title:"Ignore",icon:(0,s.jsx)(a.rFZ,{}),onClick:b,disabled:f,loading:m}),S&&!N&&(0,s.jsx)(c.Z,{title:"Reclassify",icon:(0,s.jsx)(a.GZJ,{}),onClick:w,disabled:f,loading:L}),N&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.s3C,{}),(0,s.jsxs)(a.xJ8,{children:[(0,s.jsx)(a.zCq,{as:a.zxk,size:"small",type:"text",icon:(0,s.jsx)(a.nXP,{transform:"rotate(90deg)"}),className:"w-6 gap-0","data-testid":"actions-overflow-btn"}),(0,s.jsx)(a.hTI,{children:(0,s.jsx)(a.qHN,{onClick:w,icon:(0,s.jsx)(a.GZJ,{}),"data-testid":"action-reclassify",children:"Reclassify"})})]})]})]})}},3680:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return E}});var s,a,n=i(24246),r=i(27378),o=i(35287),l=i(58754),d=i(47182),c=i(92222),u=i(59003),L=i(36010),g=i(15793),x=i(72625),h=i(70675),m=i(38347),f=i(87667),I=i(50169),j=i(80285),p=i(30952);(s=a||(a={})).DATASET="Dataset",s.CLASSIFICATION="Classification";var _=i(74241),C=i(28278),A=i(20449),D=e=>(0,A.Z)(e)===C.E.CLASSIFICATION?a.CLASSIFICATION:a.DATASET,T=i(54409),v=i(91761);let S={items:[],total:0,page:1,size:50,pages:1},N=()=>(0,n.jsx)(L.s_g,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,n.jsxs)(L.s_g,{children:[(0,n.jsx)(L.Bjg,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,n.jsx)(L.Bjg,{fontSize:"sm",children:"You're up to date!"})]})}),y=(0,c.Cl)();var b=e=>{let{onRowClick:t,statusFilters:i,childsStatusFilters:s}=e,[o,l]=(0,r.useState)(""),{PAGE_SIZES:d,pageSize:C,setPageSize:A,onPreviousPageClick:b,isPreviousPageDisabled:w,onNextPageClick:E,isNextPageDisabled:H,startRange:R,endRange:F,pageIndex:O,setTotalPages:Z}=(0,g.oi)(),{isFetching:k,isLoading:M,data:V}=(0,h.z8)({diff_status:i,child_diff_status:s,page:O,size:C,search:o}),{items:P,total:z,pages:U}=(0,r.useMemo)(()=>null!=V?V:S,[V]);(0,r.useEffect)(()=>{Z(U)},[U,Z]);let $=(0,r.useMemo)(()=>[y.accessor(e=>e.name,{id:"name",cell:e=>(0,n.jsx)(f.Z,{result:e.row.original}),header:e=>(0,n.jsx)(g.Rr,{value:"Name",...e})}),y.accessor(e=>e.urn,{id:"project",cell:e=>(0,n.jsx)(g.G3,{value:(0,_.Z)(e.getValue())}),header:e=>(0,n.jsx)(g.Rr,{value:"Project",...e})}),y.display({id:"status",cell:e=>(0,n.jsx)(I.Z,{result:e.row.original}),header:e=>(0,n.jsx)(g.Rr,{value:"Status",...e})}),y.accessor(e=>e.system,{id:"system",cell:e=>(0,n.jsx)(g.G3,{value:e.getValue()}),header:e=>(0,n.jsx)(g.Rr,{value:"System",...e})}),y.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,n.jsx)(g.G3,{value:e.getValue()}),header:e=>(0,n.jsx)(g.Rr,{value:"Detected by",...e})}),y.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,n.jsx)(x.Cy,{time:e.getValue()}),header:e=>(0,n.jsx)(g.Rr,{value:"When",...e})}),y.accessor(e=>e,{id:"action",cell:e=>D(e.getValue())===a.DATASET?(0,n.jsx)(T.Z,{resource:e.getValue()}):(0,n.jsx)(v.Z,{resource:e.getValue()}),header:e=>(0,n.jsx)(g.Rr,{value:"Action",...e})})],[]),G=(0,u.b7)({getCoreRowModel:(0,c.sC)(),getGroupedRowModel:(0,c.qe)(),getExpandedRowModel:(0,c.rV)(),getRowId:j.Z,columns:$,manualPagination:!0,data:P,columnResizeMode:"onChange"});return M?(0,n.jsx)(g.I4,{rowHeight:36,numRows:36}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Q$,{children:(0,n.jsxs)(L.ad9,{gap:6,align:"center",children:[(0,n.jsx)(L.TJV,{flexShrink:0,children:(0,n.jsx)(p.f,{value:o,onChange:l})}),(0,n.jsx)(m.a,{})]})}),(0,n.jsx)(g.ZK,{tableInstance:G,onRowClick:t,emptyTableNotice:(0,n.jsx)(N,{})}),(0,n.jsx)(g.s8,{totalRows:z||0,pageSizes:d,setPageSize:A,onPreviousPageClick:b,isPreviousPageDisabled:w||k,onNextPageClick:E,isNextPageDisabled:H||k,startRange:R,endRange:F})]})},w=i(60240),E=()=>{let{navigateToDetectionResults:e,navigateToDiscoveryResults:t}=(0,d.Z)();return(0,n.jsxs)(o.Z,{title:"Data discovery",children:[(0,n.jsx)(l.Z,{heading:"All activity"}),(0,n.jsx)(b,{onRowClick:i=>{if(D(i)===a.DATASET){e({resourceUrn:i.urn});return}t({resourceUrn:i.urn})},statusFilters:[w.LL.ADDITION,w.LL.REMOVAL,w.LL.CLASSIFICATION_ADDITION,w.LL.CLASSIFICATION_UPDATE],childsStatusFilters:[w.LL.ADDITION,w.LL.REMOVAL,w.LL.CLASSIFICATION_ADDITION,w.LL.CLASSIFICATION_UPDATE]})]})}},31883:function(e,t,i){"use strict";i.d(t,{Bw:function(){return s.Bw},D4:function(){return s.D4}});var s=i(19043)}},function(e){e.O(0,[431,7245,8002,2888,9774,179],function(){return e(e.s=45550)}),_N_E=e.O()}]);