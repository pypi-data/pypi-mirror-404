"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6043],{99640:function(e,n,t){t.d(n,{Z:function(){return d}});var a=t(24246),s=t(36010),r=t(79894),i=t.n(r);let{Link:l,Text:o}=s.Typography,d=e=>{let{href:n,children:t,containerProps:r,strong:d=!0,...c}=e;return t&&(0,a.jsx)(s.kCb,{...r,children:n?(0,a.jsx)(i(),{href:n,passHref:!0,legacyBehavior:!0,children:(0,a.jsx)(l,{strong:d,ellipsis:!0,onClick:e=>e.stopPropagation(),variant:"primary",...c,children:(0,a.jsx)(o,{unStyled:!0,ellipsis:{tooltip:t},children:t})})}):(0,a.jsx)(o,{strong:d,ellipsis:!0,...c,children:t})})}},66213:function(e,n,t){t.d(n,{xg:function(){return R},Xr:function(){return s},Ah:function(){return O},yu:function(){return f},b$:function(){return p}});var a=t(3110);let s=(e,n)=>({items:a.DI,onClick:t=>{t.domEvent.stopPropagation(),"expand-all"===t.key?(e(!0),n(e=>e+1)):"collapse-all"===t.key&&(e(!1),n(e=>e+1))}});var r=t(24246),i=t(52253),l=t(36010);let{Text:o}=l.Typography,d={high:"success",medium:"warning",low:"alert"},c=e=>{var n;let{vendorName:t,vendorLogoUrl:a,confidence:s}=e;if(!t)return(0,r.jsx)(l.Vp9,{children:(0,r.jsxs)(l.kCb,{align:"center",gap:"small",children:[(0,r.jsx)(l.PJP.WWB,{size:12}),(0,r.jsx)(o,{children:"Unknown vendor"})]})});let i=s?d[s]:void 0;return(0,r.jsx)(l.ua7,{title:s?"Matched with ".concat(s," confidence"):"Vendor matched",children:(0,r.jsx)(l.Vp9,{color:i,children:(0,r.jsxs)(l.kCb,{align:"center",gap:"small",children:[(0,r.jsx)(l.qEK,{size:18,src:null!=a?a:void 0,alt:t,children:null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()}),(0,r.jsx)(o,{children:t})]})})})};var u=t(60240),x=t(99640),v=t(76904),m=t(54762);let h=e=>{let{system:n,rowClickUrl:t}=e,a=null==t?void 0:t(n);return(0,r.jsxs)(l.TaI,{className:"max-w-[250px] flex-nowrap",children:[!n.system_key&&(0,r.jsx)(l.ua7,{title:"New system",children:(0,r.jsx)("span",{children:v.QL.Change})}),(0,r.jsx)(x.Z,{href:a,"data-testid":a?"system-name-link":"system-name-text",children:n.name||"Uncategorized assets"}),(0,r.jsx)(m.l,{consentStatus:n.consent_status})]})},f=e=>e===u.D$.OKTA_APP,p=e=>{let{rowClickUrl:n}=e;return[{title:"App Name",dataIndex:"name",key:"app_name",fixed:"left",render:(e,t)=>(0,r.jsx)(h,{system:t,rowClickUrl:n})},{title:"Type",dataIndex:"metadata",key:"app_type",render:e=>{var n;return(0,r.jsx)("span",{children:null!==(n=null==e?void 0:e.app_type)&&void 0!==n?n:"-"})}},{title:"Status",dataIndex:"metadata",key:"status",render:e=>{var n;return(0,r.jsx)("span",{children:null!==(n=null==e?void 0:e.status)&&void 0!==n?n:"-"})}},{title:"Vendor",dataIndex:"vendor_id",key:"vendor",render:(e,n)=>{var t,a;return(0,r.jsx)(c,{vendorName:e,vendorLogoUrl:null===(t=n.metadata)||void 0===t?void 0:t.vendor_logo_url,confidence:null===(a=n.metadata)||void 0===a?void 0:a.vendor_match_confidence})}},{title:"Sign-on URL",dataIndex:"metadata",key:"sign_on_url",render:e=>(null==e?void 0:e.sign_on_url)?(0,r.jsx)("a",{href:e.sign_on_url,target:"_blank",rel:"noopener noreferrer",children:"View"}):null},{title:"Created",dataIndex:"metadata",key:"created",render:e=>(0,r.jsx)("span",{children:(null==e?void 0:e.created)?new Date(e.created).toLocaleDateString():i.Nj})}]};var j=t(8411),y=t(24813),I=t(98145),g=t(86677),_=t(812),C=t(77830),E=t(46628),S=t(37059),k=t(88708),N=t(9320);let A=e=>{let{monitorId:n,system:t,allowIgnore:a,onTabChange:s}=e,[i,{isLoading:o}]=(0,S.rs)(),[d,{isLoading:c}]=(0,S.nP)(),u=(0,g.useRouter)(),x=(0,l.p8r)(),v=o||c,{id:m,name:h,system_key:f,total_updates:p}=t,j=async()=>{let e=await i({monitor_config_key:n,resolved_system_ids:[m]});if((0,_.D4)(e))x((0,E.Vo)((0,_.e$)(e.error)));else{let e="".concat(C.So,"/configure/").concat(f,"#assets");x((0,E.t5)((0,N._)(f?"".concat(p," assets from ").concat(h," have been added to the system inventory."):"".concat(h," and ").concat(p," assets have been added to the system inventory. ").concat(h," is now configured for consent."),f?()=>u.push(e):void 0)))}},y=async()=>{let e=await d({monitor_config_key:n,resolved_system_ids:[m||C.Kl]});(0,_.D4)(e)?x((0,E.Vo)((0,_.e$)(e.error))):x((0,E.t5)((0,N._)(h?"".concat(p," assets from ").concat(h," have been ignored and will not appear in future scans."):"".concat(p," uncategorized assets have been ignored and will not appear in future scans."),async()=>{await s(k.A.IGNORED)})))};return(0,r.jsxs)(l.TaI,{children:[(0,r.jsx)(l.ua7,{title:t.id?void 0:"These assets must be categorized before you can add them to the inventory.",children:(0,r.jsx)(l.zxk,{"data-testid":"add-btn",size:"small",onClick:j,disabled:!t.id||v,loading:o,children:"Add"})}),a&&(0,r.jsx)(l.zxk,{"data-testid":"ignore-btn",size:"small",onClick:y,disabled:v,loading:c,children:"Ignore"})]})};var L=t(34929),w=t(2525),D=t(78238),T=e=>{var n,t;let{system:a,columnState:s}=e,{getDataUseDisplayName:i}=(0,L.Z)(),l=(null!==(t=null===(n=a.data_uses)||void 0===n?void 0:n.filter(e=>(0,D.Z)(e)))&&void 0!==t?t:[]).map(e=>({label:i(e),key:e}));return(0,r.jsx)(w.Q,{values:l,columnState:s})};let b=e=>{let{consentStatus:n,rowClickUrl:t,isDataUsesExpanded:a,isLocationsExpanded:i,isDomainsExpanded:o,dataUsesVersion:d,locationsVersion:c,domainsVersion:u,setIsDataUsesExpanded:x,setIsLocationsExpanded:v,setIsDomainsExpanded:f,setDataUsesVersion:p,setLocationsVersion:g,setDomainsVersion:_}=e;return[{title:()=>(0,r.jsxs)(l.TaI,{children:[(0,r.jsx)("div",{children:"System"}),(0,r.jsx)(m.l,{consentStatus:n})]}),dataIndex:"name",key:I.vQ.SYSTEM_NAME,fixed:"left",render:(e,n)=>(0,r.jsx)(h,{system:n,rowClickUrl:t})},{title:"Assets",dataIndex:"total_updates",key:I.vQ.TOTAL_UPDATES,width:100},{title:"Categories of consent",key:I.vQ.DATA_USE,menu:s(x,p),render:(e,n)=>(0,r.jsx)(T,{system:n,columnState:{isExpanded:a,version:d}})},{title:"Locations",menu:s(v,g),dataIndex:"locations",key:I.vQ.LOCATIONS,render:e=>{var n;return(0,r.jsx)(y.Q3,{values:null!==(n=null==e?void 0:e.map(e=>{var n;let t=(0,l.QCN)(e);return{label:t?(0,l.c1K)({isoEntry:t}):null!==(n=j.Z8[e])&&void 0!==n?n:e,key:e}}))&&void 0!==n?n:[],columnState:{isExpanded:i,isWrapped:!0,version:c}})}},{title:"Domains",menu:s(f,_),dataIndex:"domains",key:I.vQ.DOMAINS,render:e=>(0,r.jsx)(y.vx,{values:e,valueSuffix:"domains",columnState:{isExpanded:o,version:u}})}]},O=e=>b(e),R=e=>[...b(e),{title:"Actions",key:I.vQ.ACTIONS,fixed:"right",render:(n,t)=>(0,r.jsx)(A,{system:t,monitorId:e.monitorId,allowIgnore:e.allowIgnore,onTabChange:e.onTabChange})}]},76904:function(e,n,t){t.d(n,{dK:function(){return u},Rv:function(){return h},$P:function(){return v},zj:function(){return f},Kr:function(){return p},q1:function(){return x},QL:function(){return j}});var a=t(24246),s=t(36010),r=t(3124),i=t.n(r);let l=e=>{let{...n}=e;return(0,a.jsx)("svg",{viewBox:"0 0 8 8",focusable:"false",...n,children:(0,a.jsx)("path",{fill:"currentColor",d:"M7.23192 8H8V7.23192V1.85539V1.08731H6.46385V1.85539V5.37654L1.62976 0.544855L1.08731 0L0 1.08731L0.542454 1.62976L5.37654 6.46385H1.85539H1.08731V8H1.85539H7.23192Z"})})},o=e=>{let{...n}=e;return(0,a.jsx)("svg",{viewBox:"0 0 8 8",focusable:"false",...n,children:(0,a.jsx)("path",{fill:"currentColor",d:"M7.23192 0H8V0.768077V6.14461V6.91269H6.46385V6.14461V2.62346L1.62976 7.45515L1.08731 8L0 6.91269L0.542454 6.37024L5.37654 1.53615H1.85539H1.08731V0H1.85539H7.23192Z"})})},d=e=>{let{...n}=e;return(0,a.jsx)("svg",{viewBox:"0 0 9 10",focusable:"false",...n,children:(0,a.jsx)("path",{fill:"currentColor",d:"M0 0.5V5L4.5 9.5L9 5L4.5 0.5H0ZM2.25 2.10714C2.4205 2.10714 2.58401 2.17487 2.70457 2.29543C2.82513 2.41599 2.89286 2.5795 2.89286 2.75C2.89286 2.9205 2.82513 3.08401 2.70457 3.20457C2.58401 3.32513 2.4205 3.39286 2.25 3.39286C2.0795 3.39286 1.91599 3.32513 1.79543 3.20457C1.67487 3.08401 1.60714 2.9205 1.60714 2.75C1.60714 2.5795 1.67487 2.41599 1.79543 2.29543C1.91599 2.17487 2.0795 2.10714 2.25 2.10714Z"})})};var c=t(28278);let u=()=>(0,a.jsx)(o,{style:{color:i().FIDESUI_SUCCESS},className:"size-2","data-testid":"add-icon"}),x=()=>(0,a.jsx)(l,{style:{color:i().FIDESUI_ERROR},className:"size-2","data-testid":"remove-icon"}),v=()=>(0,a.jsx)(d,{style:{color:i().FIDESUI_WARNING},className:"size-3","data-testid":"classify-icon"}),m=e=>{let{color:n,...t}=e;return(0,a.jsx)(s.PJP.fRw,{style:{color:n},className:"size-2",...t})},h=()=>(0,a.jsx)(m,{color:i().FIDESUI_INFO,"data-testid":"change-icon"}),f=()=>(0,a.jsx)(m,{color:i().FIDESUI_SUCCESS,"data-testid":"monitored-icon"}),p=()=>(0,a.jsx)(m,{color:i().FIDESUI_ERROR,"data-testid":"muted-icon"}),j={[c.E.ADDITION]:(0,a.jsx)(u,{}),[c.E.REMOVAL]:(0,a.jsx)(x,{}),[c.E.CLASSIFICATION]:(0,a.jsx)(v,{}),[c.E.CHANGE]:(0,a.jsx)(h,{}),[c.E.MONITORED]:(0,a.jsx)(f,{}),[c.E.MUTED]:(0,a.jsx)(p,{}),[c.E.IN_PROGRESS]:(0,a.jsx)(()=>(0,a.jsx)(m,{color:i().FIDESUI_WARNING,"data-testid":"in-progress-icon"}),{}),[c.E.NONE]:null}},28278:function(e,n,t){var a,s;t.d(n,{E:function(){return a}}),(s=a||(a={})).ADDITION="Addition",s.CHANGE="Change",s.REMOVAL="Removal",s.CLASSIFICATION="Classification",s.IN_PROGRESS="Classifying",s.MONITORED="Monitoring",s.MUTED="Unmonitored",s.NONE="--"}}]);