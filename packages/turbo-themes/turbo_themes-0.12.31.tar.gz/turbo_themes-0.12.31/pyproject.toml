[project]
name = "turbo-themes"
version = "0.12.31"
description = "Universal design tokens and themes for Python applications"
readme = "README.md"
authors = [{ name = "Turbo Coder" }]
license = { text = "MIT" }
requires-python = ">=3.10"
dependencies = ["python-dateutil>=2.8.0"]
keywords = ["themes", "design-tokens", "css", "theming", "color-schemes"]
classifiers = [
  "Development Status :: 4 - Beta",
  "Typing :: Typed",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "License :: OSI Approved :: MIT License",
  "Operating System :: OS Independent",
]
optional-dependencies = { dev = [
  "pytest>=9.0",
  "pytest-cov>=7.0",
  "assertpy>=1.1",
  "mypy>=1.8",
] }

[project.urls]
Homepage = "https://github.com/lgtm-hq/turbo-themes"
Repository = "https://github.com/lgtm-hq/turbo-themes"
Documentation = "https://github.com/lgtm-hq/turbo-themes#readme"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.metadata]
allow-direct-references = true

[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]
addopts = [
  "--verbose",
  "--tb=short",
  "--strict-markers",
  "--cov=turbo_themes",
  "--cov-branch",
  "--cov-report=term-missing",
  "--cov-report=xml",
  "--cov-report=html",
  "--cov-fail-under=78",
]
markers = [
  "unit: Unit tests",
  "integration: Integration tests",
  "slow: Slow running tests",
]

[tool.coverage.run]
omit = ["*/generated/*", "**/generated/*", "src/turbo_themes/generated/*"]

[tool.coverage.report]
exclude_lines = [
  "pragma: no cover",
  "if TYPE_CHECKING:",
  "raise NotImplementedError",
]

[tool.mypy]
python_version = "3.13"
strict = true
ignore_missing_imports = false
warn_unused_ignores = true
warn_unused_configs = true
mypy_path = "src"
exclude = [
  "^test_samples/",
  "^node_modules/",
  "^dist/",
  "^build/",
  "^\\.venv/",
  "^venv/",
  "^env/",
  "^__pycache__/",
  "^\\.lintro/",
]

[[tool.mypy.overrides]]
module = ["assertpy"]
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "tests.*"
disallow_untyped_defs = false
disallow_untyped_calls = false
check_untyped_defs = true

[tool.bandit]
# Skip B101 (assert) - standard in test files
# Skip B105/B106 - false positives on design token paths (e.g., 'background.base')
skips = ["B101", "B105", "B106"]

[tool.ruff]
# Exclude files where black is the authoritative formatter
extend-exclude = [
  "src/turbo_themes/mapping_config.py",
  "tests/test_css_variables.py",
  "src/turbo_themes/generated/*",
  "**/mapping_config.py",
  "**/test_css_variables.py",
]
line-length = 88

[tool.ruff.format]
quote-style = "double"
# Exclude files where black is the authoritative formatter
exclude = ["src/turbo_themes/mapping_config.py", "tests/test_css_variables.py"]
