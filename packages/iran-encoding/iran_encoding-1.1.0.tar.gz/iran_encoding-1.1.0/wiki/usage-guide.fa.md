# راهنمای استفاده از کتابخانه انکودینگ ایران سیستم

این راهنما جزئیات استفاده از توابع و قابلیت‌های مختلف کتابخانه `iran-encoding` را توضیح می‌دهد.

## توابع اصلی API

### `encode(text, visual_ordering=True)`
تبدیل یک رشته یونیکد به بایت‌های انکود شده ایران سیستم.

- **پارامترها:**
    - `text` (str): رشته ورودی یونیکد.
    - `visual_ordering` (bool): در صورت true بودن، تغییر شکل حروف و معکوس‌سازی بصری اعمال می‌شود.
- **خروجی:** `bytes`

### `decode(iransystem_bytes)`
تبدیل بایت‌های ایران سیستم به رشته یونیکد استاندارد.

- **پارامترها:**
    - `iransystem_bytes` (bytes): بایت‌های ورودی.
- **خروجی:** `str`

### `detect_locale(text)`
تشخیص اینکه آیا متن شامل حروف فارسی است یا خیر.

- **خروجی:** یکی از دو مقدار `'fa'` یا `'en'`

## رفتارهای هوشمند کتابخانه

### مدیریت متن‌های ترکیبی
- اگر رشته شامل **حداقل یک حرف فارسی** باشد، کل رشته با الگوریتم ایران سیستم پردازش می‌شود. اعداد موجود در این رشته نیز به رقم‌های ایران سیستم تبدیل می‌شوند.
- اگر رشته **فقط شامل حروف انگلیسی و اعداد** (حتی اعداد فارسی) باشد، به عنوان انگلیسی پردازش می‌شود. در این حالت اعداد فارسی به معادل ASCII خود (0-9) تبدیل می‌شوند تا سازگاری حفظ شود.

## بهینه‌سازی کارایی
برای پردازش حجم بالای اطلاعات، توصیه می‌شود افزونه C را کامپایل کنید:
```bash
python3 build_c_extension.py
```
کتابخانه به صورت خودکار نسخه باینری را تشخیص داده و برای عملیات انکودینگ از آن استفاده می‌کند.
