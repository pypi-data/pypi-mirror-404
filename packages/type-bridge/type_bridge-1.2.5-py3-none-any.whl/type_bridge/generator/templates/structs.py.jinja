"""Struct type definitions generated from a TypeDB schema.

Structs are composite value types introduced in TypeDB 3.0.
They are rendered as frozen dataclasses for immutability.
"""

from __future__ import annotations

from dataclasses import dataclass
{% if datetime_imports %}
from datetime import {{ datetime_imports | join(', ') }}
{% endif %}
{% if decimal_import %}
from decimal import Decimal
{% endif %}


{% for struct in structs %}
@dataclass(frozen=True, slots=True)
class {{ struct.class_name }}:
    """{{ struct.docstring }}"""
{% for field in struct.fields %}
{% if field.optional %}
    {{ field.python_name }}: {{ field.python_type }} = None
{% else %}
    {{ field.python_name }}: {{ field.python_type }}
{% endif %}
{% endfor %}


{% endfor %}
__all__ = [
{% for name in all_names %}
    "{{ name }}",
{% endfor %}
]
