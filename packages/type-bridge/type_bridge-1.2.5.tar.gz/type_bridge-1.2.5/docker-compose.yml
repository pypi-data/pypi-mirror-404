services:
  typedb:
    image: typedb/typedb:3.8.0-rc0
    container_name: typedb_test
    ports:
      - "${TYPEDB_PORT:-1730}:1729"
    healthcheck:
      test: ["CMD-SHELL", "timeout 1 bash -c '</dev/tcp/localhost/1729' || exit 1"]
      interval: 5s
      timeout: 3s
      retries: 10
      start_period: 10s
    networks:
      - typedb_network

networks:
  typedb_network:
    driver: bridge
