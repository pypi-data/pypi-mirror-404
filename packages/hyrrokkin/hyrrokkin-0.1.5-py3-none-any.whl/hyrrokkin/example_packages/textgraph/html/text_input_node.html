<!DOCTYPE html>
<html style="height:100%; margin:0px;">
<head>
    <meta charset="UTF-8">
    <script src="../../../hyrrokkin-ui/hyrrokkin-page.js" type="text/javascript"></script>
    <script>
        window.addEventListener("load",() => {
            let text_input = document.getElementById("text_input");
            hyrrokkin.page.set_message_handler((value) => {
               text_input.value = value;
            });
            let update_btn = document.getElementById("update");
            update_btn.addEventListener("click",(evt) => {
                hyrrokkin.page.send_message(text_input.value);
            });
            hyrrokkin.page.set_connection_handler(() => {
                hyrrokkin.page.localise_body();
                document.body.style.visibility = "visible";
            });
        });
    </script>
</head>
<body style="height:100%;margin:0px;visibility:hidden;">
    <div style="display: flex; flex-direction: column; height: 100%;">
        <h3>{{text_input}}</h3><div>
        <input id="update" type="button" value="Update"></div>
        <textarea id="text_input" style="width:100%;height:100%;box-sizing: border-box;">AAAAAAAA</textarea>
    </div>
</body>
</html>