## `ProgressMessage` ‚Äî —É–º–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏

–ö–ª–∞—Å—Å `ProgressMessage` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—É—é —Å—Ç—Ä–æ–∫—É —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏:

- **–ü—Ä–æ–≥—Ä–µ—Å—Å**: `–æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ/–≤—Å–µ–≥–æ//–æ—Å—Ç–∞–ª–æ—Å—å`
- **–ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**
- **–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏** (Items Per Second ‚Äî IPS)
- **–ü—Ä–æ—à–µ–¥—à–µ–µ –≤—Ä–µ–º—è** (Elapsed Time ‚Äî ET)
- **–û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è** (Remaining Time ‚Äî RT)

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **—É–º–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –º–æ–∂–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å **–∫–∞–∂–¥—ã–π —Ä–∞–∑** –∏–ª–∏ **—Ç–æ–ª—å–∫–æ —Å –∑–∞–¥–∞–Ω–Ω–æ–π
–ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å—é**, —á—Ç–æ–±—ã –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å –ª–æ–≥.

> ‚úÖ –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (100%) –≤—Å–µ–≥–¥–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª –µ—â—ë –Ω–µ –ø—Ä–æ—à—ë–ª.

---

### üîß –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from datetime import timedelta
from src.onco_cola_utils.progress_message import ProgressMessage


total = 100_000_000

# –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–µ —á–∞—â–µ —á–µ–º —Ä–∞–∑ –≤ 5 —Å–µ–∫—É–Ω–¥
pm = ProgressMessage(
    total=total,
    every=timedelta(seconds=5)
)

for i in range(1, total + 1):
    # ... –≤–∞—à–∞ –ø–æ–ª–µ–∑–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ...
    pm.update(i)
    
    # –í–∞—Ä–∏–∞–Ω—Ç 1: –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å —Å—Ç—Ä–æ–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ CLI)
    print(f"–û–±—Ä–∞–±–æ—Ç–∫–∞: {pm.msg}")
    
    # –í–∞—Ä–∏–∞–Ω—Ç 2: –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å—É ‚Äî –æ–Ω —Å–∞–º —Ä–µ—à–∏—Ç, –ø–∏—Å–∞—Ç—å –ª–∏ –≤ –ª–æ–≥
    pm.log_me("–û–±—Ä–∞–±–æ—Ç–∫–∞: {log}")
```

---

### üìå –ü–æ—è—Å–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä     | –¢–∏–ø         | –û–ø–∏—Å–∞–Ω–∏–µ                                                                   |
|--------------|-------------|----------------------------------------------------------------------------|
| `total`      | `int`       | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ > 0).                              |
| `processed`  | `int`       | –£–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `0`).                                         |
| `start_time` | `float`     | –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ (–≤ —Ñ–æ—Ä–º–∞—Ç–µ `time.time()`). –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ ‚Äî –±–µ—Ä—ë—Ç—Å—è —Ç–µ–∫—É—â–µ–µ. |
| `every`      | `timedelta` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –∑–∞–ø–∏—Å—è–º–∏ –≤ –ª–æ–≥. –ï—Å–ª–∏ `None` ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å **–∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤**.  |

> üí° –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `loginf`, —É–∫–∞–∑—ã–≤–∞—é—â–µ–µ —Ä–µ–∂–∏–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.

---

### üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `log_me()`

–ú–µ—Ç–æ–¥ `log_me(template="{log}")`:

- –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤–º–µ—Å—Ç–æ `{log}` –≤ —à–∞–±–ª–æ–Ω.
- –õ–æ–≥–∏—Ä—É–µ—Ç **–≤—Å–µ–≥–¥–∞**, –µ—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç 100% (`processed >= total`).
- –ò–Ω–∞—á–µ ‚Äî –ª–æ–≥–∏—Ä—É–µ—Ç **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–æ—à–ª–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏** (—Å–æ–≥–ª–∞—Å–Ω–æ `every`) –∏–ª–∏ –µ—Å–ª–∏ `every=None`.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –º–∏–ª–ª–∏–æ–Ω–æ–≤ —Å—Ç—Ä–æ–∫ –≤ –ª–æ–≥–µ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö.

---

### üì¶ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–ö–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ª–æ–≥–≥–µ—Ä –∏–∑ `onco_cola_utils`:

- `log()` ‚Äî –¥–ª—è –∑–∞–ø–∏—Å–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- `loginf()` ‚Äî –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ.
