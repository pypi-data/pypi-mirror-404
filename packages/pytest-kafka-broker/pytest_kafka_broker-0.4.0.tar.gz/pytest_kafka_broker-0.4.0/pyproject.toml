[build-system]
requires = [
    "setuptools",
    "setuptools-scm>=8",
]
build-backend = "setuptools.build_meta"

[project]
name = "pytest-kafka-broker"
authors = [{name = "Leo Singer", email = "leo.singer@ligo.org"}]
description = "Pytest plugin to run a single-broker Kafka cluster"
license = "Apache-2.0"
dynamic = ["version"]
requires-python = ">=3.11"
dependencies = [
    "astropy",
    "confluent-kafka",
    "rich",
    "pytest-asyncio",
]
classifiers = [
    "Framework :: Pytest",
    "Topic :: System :: Networking",
]

[project.entry-points.pytest11]
kafka_broker = "pytest_kafka_broker"

[project.optional-dependencies]
docs = [
    "sphinx-astropy[confv2]",
    "sphinx-automodapi>=0.20.0",
]

[project.urls]
source = "https://git.ligo.org/ultra-swift/pytest-kafka-broker"
documentation = "https://pytest-kafka-broker.readthedocs.io/"

[tool.coverage.paths]
# map paths from installed locations back to project source
source = [
  "src/pytest_kafka_broker",  # <-- source path
  "*/pytest_kafka_broker/",  # <-- any installed path
]

[tool.mypy]
exclude = [
    "^docs/conf.py$",
]
exclude_gitignore = true

[tool.setuptools_scm]
