include:
  - component: git.ligo.org/computing/gitlab/components/python/all@2.3.2
    inputs:
      code_quality_analyzer: ruff
      python_versions:
        - "3.11"
        - "3.12"
        - "3.13"
        - "3.14"
      pytest_options: --cov=pytest_kafka_broker --cov=tests
  - component: git.ligo.org/computing/gitlab/components/python/type-checking@2.3.2
    inputs:
      fail_on_findings: true
      requirements: .

python_test:
  before_script:
    - apt update
    - apt install -y --no-install-recommends default-jdk-headless
