[build-system]
requires = ["setuptools>=64", "setuptools_scm>=8", "wheel", "build"]
build-backend = "setuptools.build_meta"

[tool.setuptools.packages]
find = {}

[tool.setuptools_scm]

[tool.dkist-dev-tools]
# Most recently frozen version by dkist-dev-tools
version = "1.26.2"
date = 2026-01-30T13:16:32.309127

[project]
dynamic = ["version"]
name = "dkist-processing-vbi"
requires-python = ">=3.13"
description = "Processing code for the VBI instrument on DKIST"
readme = "README.rst"
authors = [ {name = "NSO / AURA", email = "dkistdc@nso.edu"} ]
license = {text = "BSD-3-Clause"}
classifiers = [
  "Programming Language :: Python",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.13",
]
dependencies = [
  "dkist-processing-common == 12.2.0",
  "dkist-processing-math == 2.2.1",
  "dkist-header-validator == 5.3.0",
  "dkist-fits-specifications == 4.20.0",
  "astropy == 7.0.2",
  "numpy == 2.2.5",
  "sunpy == 6.1.1",
  "scipy == 1.15.3",
  "pillow == 10.4.0",
  "moviepy == 2.1.2",
  "dkist-spectral-lines == 3.0.0",
  "dkist-service-configuration == 4.2.0",
]

[project.urls]
Homepage = "https://nso.edu/dkist/data-center/"
Repository = "https://bitbucket.org/dkistdc/dkist-processing-vbi/"
Documentation = "https://docs.dkist.nso.edu/projects/vbi"
Help = "https://nso.atlassian.net/servicedesk/customer/portal/5"

[project.optional-dependencies]
test = [
  "pytest",
  "pytest-cov",
  "pytest-mock",
  "pytest-xdist",
  "towncrier",
  "dkist-data-simulator >= 5.2.6",
  "dkist-processing-vbi[inventory]",
  "dkist-processing-vbi[asdf]",
  "dkist-processing-vbi[quality]",
]
inventory = [
  "dkist-processing-common[inventory]",
  "dkist-inventory==1.11.2",
]
asdf = [
  "dkist-processing-common[asdf]",
  "dkist-inventory[asdf]==1.11.2",
]
quality = [
  "dkist-quality==2.0.0",
]
grogu = [
  "dkist",
  "pyparsing",
  "dkist-processing-vbi[asdf]",
]
docs = [
  "sphinx",
  "sphinx-astropy",
  "sphinx-changelog",
  "sphinx-autoapi",
  "pytest",
  "towncrier",
  "dkist-sphinx-theme",
]
frozen = [
    "Deprecated == 1.3.1",
    "ImageIO == 2.37.2",
    "Jinja2 == 3.1.6",
    "Mako == 1.3.10",
    "MarkupSafe == 3.0.3",
    "PeakUtils == 1.3.5",
    "PyJWT == 2.11.0",
    "PyYAML == 6.0.3",
    "PyYAML-ft == 8.0.0",
    "Pygments == 2.19.2",
    "SQLAlchemy == 2.0.46",
    "SQLAlchemy-JSONField == 1.0.2",
    "SQLAlchemy-Utils == 0.42.1",
    "a2wsgi == 1.10.10",
    "aioftp == 0.27.2",
    "aiohappyeyeballs == 2.6.1",
    "aiohttp == 3.13.3",
    "aiosignal == 1.4.0",
    "aiosmtplib == 5.1.0",
    "aiosqlite == 0.21.0",
    "alembic == 1.18.3",
    "amqp == 5.3.1",
    "annotated-types == 0.7.0",
    "anyio == 4.12.1",
    "apache-airflow == 3.1.6",
    "apache-airflow-core == 3.1.6",
    "apache-airflow-providers-celery == 3.15.1",
    "apache-airflow-providers-common-compat == 1.12.0",
    "apache-airflow-providers-common-io == 1.7.1",
    "apache-airflow-providers-common-sql == 1.30.3",
    "apache-airflow-providers-postgres == 6.5.2",
    "apache-airflow-providers-smtp == 2.4.2",
    "apache-airflow-providers-standard == 1.10.3",
    "apache-airflow-task-sdk == 1.1.6",
    "argcomplete == 3.6.3",
    "asdf == 3.5.0",
    "asdf_standard == 1.4.0",
    "asdf_transform_schemas == 0.6.0",
    "asgiref == 3.11.0",
    "asteval == 1.0.8",
    "astropy == 7.0.2",
    "astropy-iers-data == 0.2026.1.26.0.43.56",
    "asyncpg == 0.31.0",
    "attrs == 25.4.0",
    "babel == 2.17.0",
    "billiard == 4.2.4",
    "boto3 == 1.42.38",
    "botocore == 1.42.38",
    "cadwyn == 5.4.6",
    "celery == 5.6.2",
    "certifi == 2026.1.4",
    "cffi == 2.0.0",
    "charset-normalizer == 3.4.4",
    "click == 8.3.1",
    "click-didyoumean == 0.3.1",
    "click-plugins == 1.1.1.2",
    "click-repl == 0.3.0",
    "colorlog == 6.10.1",
    "contourpy == 1.3.3",
    "cron_descriptor == 2.0.6",
    "croniter == 6.0.0",
    "cryptography == 46.0.4",
    "cycler == 0.12.1",
    "dacite == 1.9.2",
    "decorator == 5.2.1",
    "dill == 0.4.1",
    "dkist-header-validator == 5.3.0",
    "dkist-processing-common == 12.2.0",
    "dkist-processing-core == 7.0.1",
    "dkist-processing-math == 2.2.1",
    "dkist-processing-pac == 3.1.1",
    "dkist-processing-vbi == 1.26.2",
    "dkist-service-configuration == 4.2.0",
    "dkist-spectral-lines == 3.0.0",
    "dkist_fits_specifications == 4.20.0",
    "dnspython == 2.8.0",
    "email-validator == 2.3.0",
    "fastapi == 0.117.1",
    "fastapi-cli == 0.0.20",
    "fastjsonschema == 2.21.2",
    "flower == 2.0.1",
    "fonttools == 4.61.1",
    "frozenlist == 1.8.0",
    "fsspec == 2026.1.0",
    "globus-sdk == 4.3.1",
    "googleapis-common-protos == 1.72.0",
    "gqlclient == 1.2.3",
    "greenback == 1.3.0",
    "greenlet == 3.3.1",
    "grpcio == 1.76.0",
    "h11 == 0.16.0",
    "httpcore == 1.0.9",
    "httptools == 0.7.1",
    "httpx == 0.28.1",
    "humanize == 4.15.0",
    "idna == 3.11",
    "imageio-ffmpeg == 0.6.0",
    "importlib_metadata == 8.7.1",
    "itsdangerous == 2.2.0",
    "jmespath == 1.1.0",
    "jsonschema == 4.26.0",
    "jsonschema-specifications == 2025.9.1",
    "jupyter_core == 5.9.1",
    "kiwisolver == 1.4.9",
    "kombu == 5.6.2",
    "lazy-object-proxy == 1.12.0",
    "lazy_loader == 0.4",
    "libcst == 1.8.6",
    "linkify-it-py == 2.0.3",
    "lmfit == 1.3.4",
    "lockfile == 0.12.2",
    "loguru == 0.7.3",
    "markdown-it-py == 4.0.0",
    "matplotlib == 3.10.8",
    "mdurl == 0.1.2",
    "methodtools == 0.4.7",
    "more-itertools == 10.8.0",
    "moviepy == 2.1.2",
    "msgspec == 0.20.0",
    "multidict == 6.7.1",
    "natsort == 8.4.0",
    "nbformat == 5.10.4",
    "networkx == 3.6.1",
    "numpy == 2.2.5",
    "object-clerk == 1.0.0",
    "opentelemetry-api == 1.39.1",
    "opentelemetry-exporter-otlp == 1.39.1",
    "opentelemetry-exporter-otlp-proto-common == 1.39.1",
    "opentelemetry-exporter-otlp-proto-grpc == 1.39.1",
    "opentelemetry-exporter-otlp-proto-http == 1.39.1",
    "opentelemetry-instrumentation == 0.60b1",
    "opentelemetry-instrumentation-aiohttp-client == 0.60b1",
    "opentelemetry-instrumentation-asgi == 0.60b1",
    "opentelemetry-instrumentation-botocore == 0.60b1",
    "opentelemetry-instrumentation-celery == 0.60b1",
    "opentelemetry-instrumentation-dbapi == 0.60b1",
    "opentelemetry-instrumentation-fastapi == 0.60b1",
    "opentelemetry-instrumentation-pika == 0.60b1",
    "opentelemetry-instrumentation-psycopg2 == 0.60b1",
    "opentelemetry-instrumentation-pymongo == 0.60b1",
    "opentelemetry-instrumentation-redis == 0.60b1",
    "opentelemetry-instrumentation-requests == 0.60b1",
    "opentelemetry-instrumentation-sqlalchemy == 0.60b1",
    "opentelemetry-instrumentation-system-metrics == 0.60b1",
    "opentelemetry-propagator-aws-xray == 1.0.2",
    "opentelemetry-proto == 1.39.1",
    "opentelemetry-sdk == 1.39.1",
    "opentelemetry-semantic-conventions == 0.60b1",
    "opentelemetry-util-http == 0.60b1",
    "outcome == 1.3.0.post0",
    "packaging == 26.0",
    "pandas == 3.0.0",
    "parfive == 2.3.1",
    "pathspec == 1.0.4",
    "pendulum == 3.2.0",
    "pika == 1.3.2",
    "pillow == 10.4.0",
    "pip == 25.3",
    "platformdirs == 4.5.1",
    "pluggy == 1.6.0",
    "pooch == 1.9.0",
    "proglog == 0.1.12",
    "prometheus_client == 0.24.1",
    "prompt_toolkit == 3.0.52",
    "propcache == 0.4.1",
    "protobuf == 6.33.5",
    "psutil == 7.2.2",
    "psycopg2-binary == 2.9.11",
    "pycparser == 3.0",
    "pydantic == 2.12.5",
    "pydantic-settings == 2.12.0",
    "pydantic_core == 2.41.5",
    "pyerfa == 2.0.1.5",
    "pygtrie == 2.5.0",
    "pyparsing == 3.3.2",
    "python-daemon == 3.1.2",
    "python-dateutil == 2.9.0.post0",
    "python-dotenv == 1.2.1",
    "python-multipart == 0.0.22",
    "python-slugify == 8.0.4",
    "pytz == 2025.2",
    "redis == 6.4.0",
    "referencing == 0.37.0",
    "requests == 2.32.5",
    "rich == 14.3.1",
    "rich-argparse == 1.7.2",
    "rich-toolkit == 0.17.2",
    "rpds-py == 0.30.0",
    "s3transfer == 0.16.0",
    "scikit-image == 0.26.0",
    "scipy == 1.15.3",
    "semantic-version == 2.10.0",
    "setproctitle == 1.3.7",
    "shellingham == 1.5.4",
    "six == 1.17.0",
    "sniffio == 1.3.1",
    "solar-wavelength-calibration == 2.0.0",
    "sqids == 0.5.1",
    "sqlparse == 0.5.5",
    "starlette == 0.48.0",
    "structlog == 25.5.0",
    "sunpy == 6.1.1",
    "svcs == 25.1.0",
    "tabulate == 0.9.0",
    "talus == 1.3.4",
    "tenacity == 8.5.0",
    "termcolor == 3.3.0",
    "text-unidecode == 1.3",
    "tifffile == 2026.1.28",
    "tornado == 6.5.4",
    "tqdm == 4.67.1",
    "traitlets == 5.14.3",
    "typer == 0.21.1",
    "typing-inspection == 0.4.2",
    "typing_extensions == 4.15.0",
    "tzdata == 2025.3",
    "tzlocal == 5.3.1",
    "uc-micro-py == 1.0.3",
    "uncertainties == 3.2.3",
    "universal_pathlib == 0.2.6",
    "urllib3 == 2.6.3",
    "uuid6 == 2025.0.1",
    "uvicorn == 0.40.0",
    "uvloop == 0.22.1",
    "vine == 5.1.0",
    "voluptuous == 0.16.0",
    "watchfiles == 1.1.1",
    "wcwidth == 0.5.2",
    "websockets == 16.0",
    "wirerope == 1.0.0",
    "wrapt == 1.17.3",
    "yamale == 6.1.0",
    "yarl == 1.22.0",
    "zipp == 3.23.0",
]

[tool.pytest.ini_options]
markers = [
  "development: For tests that can only be run while developing with a sidecar proxy (as opposed to in bitbucket pipelines)"
]

[tool.coverage.run]
omit = [
  "dkist_processing_vbi/tests/*",
  "dkist_processing_vbi/__init__.py",
]

[tool.towncrier]
    package = "dkist_processing_vbi"
    filename = "CHANGELOG.rst"
    directory = "changelog/"
    issue_format = "`#{issue} <https://bitbucket.org/dkistdc/dkist-processing-vbi/pull-requests/{issue}>`__"
    title_format = "{version} ({project_date})"
    ignore = [".gitempty", "*.science.rst"]

[[tool.towncrier.type]]
      directory = "feature"
      name = "Features"
      showcontent = true

[[tool.towncrier.type]]
      directory = "bugfix"
      name = "Bugfixes"
      showcontent = true

[[tool.towncrier.type]]
      directory = "removal"
      name = "Removals"
      showcontent = true

[[tool.towncrier.type]]
      directory = "misc"
      name = "Misc"
      showcontent = true

[[tool.towncrier.type]]
      directory = "doc"
      name = "Documentation"
      showcontent = true

[tool.black]
line-length = 100

[tool.isort]
profile = "black"
force_single_line = true
combine_as_imports = false
line_length = 100
