{% load static %}
<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
        <meta charset="UTF-8"/>
        <title>Your Reliable Partner</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>

        <!-- SEO -->
        <meta name="description" content="Domains | Webdev | Mobdev | Hosting | Payments.">
        <!-- Open Graph / WhatsApp / Facebook -->
        <meta property="og:title" content="DiscHub - Your Reliable Digital Partner">
        <meta property="og:description" content="Domains Purchase, Web Development, Mobile Apps, Secure Hosting & Payment solutions.">
        <meta property="og:image" content="{{ request.scheme }}://{{ request.get_host }}{% static 'preview.jpg' %}">
        <meta property="og:url" content="{{ request.build_absolute_uri }}">
        <meta property="og:type" content="website">
        <!-- Twitter Card -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="DiscHub - Your Reliable Digital Partner">
        <meta name="twitter:description" content="Domains Purchase, Web Development, Mobile Apps, Secure Hosting & Payment solutions.">
        <meta name="twitter:image" content="{{ request.scheme }}://{{ request.get_host }}{% static 'preview.jpg' %}">
    
        <!-- Bootstrap 5 CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/css/alertify.min.css"/>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha384-XQoYMqMTK8LvBAi4x2b28A55Q5Ki7ap7uFFo5xNIpR10U3j5R7H8Sw7B++bqXJPO" crossorigin=""/>
        <link rel="shortcut icon" href="{% static "images/favicon.ico" %}"/>
        <link rel="shortcut icon" href="{% static "images/favicon.png" %}"/>
        <style>
            body {
                background-color: #f2f4f7; /* soft light grey */
            } 
            .bg-blur-wrapper {
                position: relative;
                overflow: hidden;
                padding: 2rem 0;
            }
            .bg-blur-wrapper::before {
                content: "";
                position: fixed;
                inset: 0;
                background: url("{% static 'abstract2.jpg' %}") center center / cover no-repeat;
                filter: blur(90px);
                transform: scale(1.1); /* prevent blur edges */
                z-index: -1;
            }
            
            .loading {
                pointer-events: none; /* prevent double-click */
                opacity: 0.7;
            }

            a {
            text-decoration: none;
            }

            a:hover {
                text-decoration: none;
            }
        </style>
    </head>
<body>
    {% include 'components/logo_spinner.html' %}
    {% include 'components/image_loader.html' %}
    {% include "header/nav.html" %}
    {% include 'modals/modals.html' %}
    {% include "components/messages.html" %}
    <div class="bg-blur-wrapper">
        {% block content %}
        {% endblock %}
    </div>

    <!-- Font Awesome (for icons) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!--Alertify JavaScript -->
    <script src="//cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/alertify.min.js"></script>
    <!-- Font Awesome (for icons) -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha384-XQoYMqMTK8LvBAi4x2b28A55Q5Ki7ap7uFFo5xNIpR10U3j5R7H8Sw7B++bqXJPO" crossorigin=""></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Inside <body>, before </body> -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
        const forms = document.querySelectorAll("form");

        forms.forEach(form => {
            form.addEventListener("submit", function (e) {
            const submitButton = form.querySelector('button[type="submit"]');

            if (submitButton) {
                // Check if form is valid (basic HTML5 validation)
                if (!form.checkValidity()) {
                e.preventDefault(); // stop submission
                form.reportValidity(); // show built-in error messages
                return; // do not spin
                }

                // Add loading spinner
                submitButton.disabled = true;
                submitButton.innerHTML = `
                <span class="spinner-border spinner-border-sm me-2"></span>Processing...
                `;
            }
            });
        });

        // Reset all submit buttons when modals are closed
        const modals = document.querySelectorAll(".modal");
        modals.forEach(modal => {
            modal.addEventListener("hidden.bs.modal", function () {
            const buttons = modal.querySelectorAll("button[type='submit']");
            buttons.forEach(btn => {
                btn.disabled = false;
                btn.innerHTML = btn.getAttribute("data-original-text") || "Submit";
            });
            });
        });

        // Save original button text
        const buttons = document.querySelectorAll("button[type='submit']");
        buttons.forEach(btn => {
            btn.setAttribute("data-original-text", btn.innerHTML);
        });
        });
    </script>
</body>
</html>


