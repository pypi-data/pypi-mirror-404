{
  "name": "Alternating Keyword Timeline",
  "description": "Aligns keyword/description pairs on alternating sides of a central axis.",
  "properties": {
    "canvas": {
      "width": 960,
      "height": 720
    },
    "axis_x": 480,
    "margin_top": 80,
    "row_spacing": 120,
    "margin_side": 120,
    "keyword_padding": 24,
    "connector_length": 140,
    "axis_color": "#cbd5f5",
    "font_family": "Inter, Arial, sans-serif",
    "keyword_color": "#1f2937",
    "description_color": "#4b5563",
    "badge_fill": "#e0f2fe"
  },
  "schema": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "title": "Keyword timeline payload",
    "description": "Top-level payload containing alternating keyword entries and optional annotations.",
    "required": [
      "items"
    ],
    "properties": {
      "items": {
        "type": "array",
        "minItems": 2,
        "maxItems": 10,
        "items": {
          "type": "object",
          "required": [
            "keyword",
            "description"
          ],
          "additionalProperties": false,
          "properties": {
            "keyword": {
              "type": "string",
              "description": "Short keyword shown near the axis."
            },
            "description": {
              "type": "string",
              "description": "Longer explanatory text displayed opposite the keyword."
            }
          }
        }
      },
      "annotations": {
        "type": "array",
        "description": "Optional supplementary entries for downstream tooling.",
        "items": {
          "type": "object",
          "additionalProperties": true
        }
      }
    }
  },
  "template": [
    {
      "type": "rect",
      "attributes": {
        "x": "0",
        "y": "0",
        "width": "100%",
        "height": "100%",
        "fill": "#f9fafb"
      }
    },
    {
      "type": "line",
      "attributes": {
        "x1": "{axis_x}",
        "y1": "0",
        "x2": "{axis_x}",
        "y2": "100%",
        "stroke": "{axis_color}",
        "strokeWidth": "4",
        "strokeDasharray": "12 18"
      }
    },
    {
      "type": "g",
      "repeat": {
        "items": "items",
        "as": "entry"
      },
      "let": {
        "keyword": "entry.keyword",
        "description": "entry.description",
        "y": "margin_top + __index__ * row_spacing",
        "is_even": "__index__ % 2",
        "keyword_x": "margin_side if is_even == 0 else canvas.width - margin_side",
        "description_x": "canvas.width - margin_side if is_even == 0 else margin_side",
        "keyword_anchor": "'start' if is_even == 0 else 'end'",
        "description_anchor": "'end' if is_even == 0 else 'start'",
        "badge_x": "keyword_x",
        "badge_y": "y - 36",
        "connector_x1": "axis_x",
        "connector_x2": "keyword_x - keyword_padding if is_even == 0 else keyword_x + keyword_padding"
      },
      "children": [
        {
          "type": "line",
          "attributes": {
            "x1": "{connector_x1}",
            "y1": "{y}",
            "x2": "{connector_x2}",
            "y2": "{y}",
            "stroke": "{axis_color}",
            "strokeWidth": "3"
          }
        },
        {
          "type": "rect",
          "attributes": {
            "x": "{badge_x - 60}",
            "y": "{badge_y}",
            "width": "120",
            "height": "32",
            "fill": "{badge_fill}",
            "rx": "16"
          }
        },
        {
          "type": "text",
          "attributes": {
            "x": "{keyword_x}",
            "y": "{y - 12}",
            "fill": "{keyword_color}",
            "fontFamily": "{font_family}",
            "fontSize": "24",
            "fontWeight": "600",
            "textAnchor": "{keyword_anchor}"
          },
          "text": "{keyword}"
        },
        {
          "type": "text",
          "attributes": {
            "x": "{description_x}",
            "y": "{y + 18}",
            "fill": "{description_color}",
            "fontFamily": "{font_family}",
            "fontSize": "18",
            "textAnchor": "{description_anchor}"
          },
          "text": "{description}"
        }
      ]
    }
  ]
}
