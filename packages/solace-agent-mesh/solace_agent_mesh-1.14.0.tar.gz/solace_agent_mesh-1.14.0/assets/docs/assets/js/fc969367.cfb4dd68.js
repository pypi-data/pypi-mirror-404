"use strict";(self.webpackChunksolace_agenitc_mesh_docs=self.webpackChunksolace_agenitc_mesh_docs||[]).push([[4426],{467:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"documentation/enterprise/connectors/sql-connectors","title":"SQL Connectors","description":"SQL connectors allow agents to query and analyze database information using natural language.","source":"@site/docs/documentation/enterprise/connectors/sql-connectors.md","sourceDirName":"documentation/enterprise/connectors","slug":"/documentation/enterprise/connectors/sql-connectors","permalink":"/solace-agent-mesh/docs/documentation/enterprise/connectors/sql-connectors","draft":false,"unlisted":false,"editUrl":"https://github.com/SolaceLabs/solace-agent-mesh/edit/main/docs/docs/documentation/enterprise/connectors/sql-connectors.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"SQL Connectors","sidebar_position":4},"sidebar":"docSidebar","previous":{"title":"OpenAPI Connectors","permalink":"/solace-agent-mesh/docs/documentation/enterprise/connectors/openapi-connectors"},"next":{"title":"Role-Based Access Control (RBAC)","permalink":"/solace-agent-mesh/docs/documentation/enterprise/rbac-setup-guide"}}');var a=s(4848),o=s(8453);const r={title:"SQL Connectors",sidebar_position:4},i=void 0,c={},d=[{value:"Overview",id:"overview",level:2},{value:"Supported Databases",id:"supported-databases",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Database Server Access",id:"database-server-access",level:3},{value:"Database Credentials",id:"database-credentials",level:3},{value:"Network Connectivity",id:"network-connectivity",level:3},{value:"Database Name",id:"database-name",level:3},{value:"Creating a SQL Connector",id:"creating-a-sql-connector",level:2},{value:"Configuration Fields",id:"configuration-fields",level:3},{value:"Connection Pooling",id:"connection-pooling",level:3},{value:"Database Permission Configuration",id:"database-permission-configuration",level:2},{value:"Read-Only Access",id:"read-only-access",level:3},{value:"After Creating the Connector",id:"after-creating-the-connector",level:2},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Database Connection Failures",id:"database-connection-failures",level:3},{value:"Supabase PostgreSQL Connectivity",id:"supabase-postgresql-connectivity",level:3},{value:"Query Performance Issues",id:"query-performance-issues",level:3}];function l(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"SQL connectors allow agents to query and analyze database information using natural language."}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(n.p,{children:"SQL connectors convert user questions into SQL queries, execute them against your database, and return results in conversational format. This allows users to access database information through agent conversations without writing SQL code."}),"\n",(0,a.jsx)(n.p,{children:"SQL connectors establish persistent connection pools to your database servers. Agents use these pooled connections to execute queries efficiently, with automatic connection management and reconnection handling."}),"\n",(0,a.jsx)(n.p,{children:"The connector supports common relational database systems and handles the specifics of each database type automatically, including appropriate SQL dialect, connection protocols, and driver configurations."}),"\n",(0,a.jsx)(n.h2,{id:"supported-databases",children:"Supported Databases"}),"\n",(0,a.jsx)(n.p,{children:"Agent Mesh Enterprise supports three database types for SQL connectors:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"MySQL"}),"\n",(0,a.jsx)(n.li,{children:"PostgreSQL"}),"\n",(0,a.jsx)(n.li,{children:"MariaDB"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Each database type uses the same configuration interface but requires connection parameters appropriate for that database system."}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsx)(n.p,{children:"Before you create a SQL connector, ensure you have the following:"}),"\n",(0,a.jsx)(n.h3,{id:"database-server-access",children:"Database Server Access"}),"\n",(0,a.jsx)(n.p,{children:"You need a running database server that Agent Mesh Enterprise can reach over the network. The database server must be configured to accept connections from the Agent Mesh deployment's network or IP address range."}),"\n",(0,a.jsx)(n.h3,{id:"database-credentials",children:"Database Credentials"}),"\n",(0,a.jsx)(n.p,{children:"You need a database username and password with appropriate permissions for the operations agents will perform. The specific permissions depend on your use case (read-only queries, data modification, schema access, etc.)."}),"\n",(0,a.jsx)(n.h3,{id:"network-connectivity",children:"Network Connectivity"}),"\n",(0,a.jsx)(n.p,{children:"Verify that network firewalls and security groups allow traffic from Agent Mesh Enterprise to your database server on the appropriate port. Default ports are 3306 for MySQL and MariaDB, and 5432 for PostgreSQL."}),"\n",(0,a.jsx)(n.h3,{id:"database-name",children:"Database Name"}),"\n",(0,a.jsx)(n.p,{children:"You need the specific database (schema) name within the database server that agents should access. This is the database you created or that your database administrator provisioned for agent access."}),"\n",(0,a.jsx)(n.h2,{id:"creating-a-sql-connector",children:"Creating a SQL Connector"}),"\n",(0,a.jsx)(n.p,{children:"You create SQL connectors through the Connectors section in the Agent Mesh Enterprise web interface. Navigate to Connectors and click the Create Connector button to begin."}),"\n",(0,a.jsx)(n.h3,{id:"configuration-fields",children:"Configuration Fields"}),"\n",(0,a.jsx)(n.p,{children:"The SQL connector creation form requires the following information:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Connector Name"})}),"\n",(0,a.jsxs)(n.p,{children:["A unique identifier for this connector within your Agent Mesh deployment. Choose a descriptive name that indicates the database purpose or contents, such as ",(0,a.jsx)(n.code,{children:"Customer DB"}),", ",(0,a.jsx)(n.code,{children:"Analytics DB"}),", or ",(0,a.jsx)(n.code,{children:"Inventory DB"}),". This name appears in Agent Builder when you assign connectors to agents."]}),"\n",(0,a.jsx)(n.p,{children:"The connector name must be unique across all connectors in your deployment, regardless of type. You cannot change the name after creation, so choose carefully."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Database Type"})}),"\n",(0,a.jsx)(n.p,{children:"Select the database system you are connecting to from the dropdown menu. The available options are MySQL, PostgreSQL, and MariaDB. This selection determines the appropriate driver and connection string format that Agent Mesh Enterprise uses."}),"\n",(0,a.jsx)(n.p,{children:"If you select the wrong database type, connection tests will fail with errors about incompatible protocols or unsupported features."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Host"})}),"\n",(0,a.jsxs)(n.p,{children:["The hostname or IP address of your database server. This can be a DNS hostname like ",(0,a.jsx)(n.code,{children:"db.example.com"}),", an IP address like ",(0,a.jsx)(n.code,{children:"192.168.1.100"}),", or ",(0,a.jsx)(n.code,{children:"localhost"})," if the database runs on the same machine as Agent Mesh Enterprise."]}),"\n",(0,a.jsxs)(n.p,{children:["For cloud-hosted databases, use the hostname provided by your cloud provider. For Kubernetes deployments, you can use service names like ",(0,a.jsx)(n.code,{children:"postgres-service.database.svc.cluster.local"}),"."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Port"})}),"\n",(0,a.jsx)(n.p,{children:"The port number where your database accepts connections. Default ports are:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["MySQL: ",(0,a.jsx)(n.code,{children:"3306"})]}),"\n",(0,a.jsxs)(n.li,{children:["PostgreSQL: ",(0,a.jsx)(n.code,{children:"5432"})]}),"\n",(0,a.jsxs)(n.li,{children:["MariaDB: ",(0,a.jsx)(n.code,{children:"3306"})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"If your database administrator configured a custom port for security reasons or to avoid conflicts, enter that value instead of the default."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Database Name"})}),"\n",(0,a.jsxs)(n.p,{children:["The specific database within the database server that agents should access. This is the database name, not the server hostname. In PostgreSQL, this is the database name, not the schema name within a database. Agents will access the default schema (typically ",(0,a.jsx)(n.code,{children:"public"}),") within the specified database."]}),"\n",(0,a.jsxs)(n.p,{children:["For example, if your PostgreSQL server contains databases named ",(0,a.jsx)(n.code,{children:"production"}),", ",(0,a.jsx)(n.code,{children:"staging"}),", and ",(0,a.jsx)(n.code,{children:"development"}),", you would enter the specific one agents should use, such as ",(0,a.jsx)(n.code,{children:"production"}),"."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Username"})}),"\n",(0,a.jsx)(n.p,{children:"The database username that agents use to authenticate. This account determines what data agents can access and what operations they can perform through the database permission system."}),"\n",(0,a.jsx)(n.p,{children:"You should create a dedicated database user for agent access rather than using administrative accounts or accounts shared with other applications. This allows you to control permissions precisely and audit agent database activity."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Password"})}),"\n",(0,a.jsx)(n.p,{children:"The password for the database username. Agent Mesh Enterprise stores this credential securely in its configuration and uses it to establish database connections."}),"\n",(0,a.jsx)(n.p,{children:"The password is encrypted at rest and transmitted securely to the database server. However, you should still follow password security best practices, such as using strong passwords and rotating them periodically."}),"\n",(0,a.jsx)(n.h3,{id:"connection-pooling",children:"Connection Pooling"}),"\n",(0,a.jsx)(n.p,{children:"When you save the connector, Agent Mesh Enterprise creates a connection pool to your database. This pool maintains multiple persistent connections that agents reuse, improving performance by avoiding the overhead of creating new connections for each query."}),"\n",(0,a.jsx)(n.p,{children:"The connection pool automatically manages connection lifecycle. It reconnects if connections drop due to network issues or database restarts, validates connections before use to ensure they are still active, and scales the number of connections based on agent demand."}),"\n",(0,a.jsx)(n.p,{children:"Connection pool settings are automatically configured and cannot be customized. Agent Mesh Enterprise uses sensible defaults appropriate for most deployments."}),"\n",(0,a.jsx)(n.h2,{id:"database-permission-configuration",children:"Database Permission Configuration"}),"\n",(0,a.jsx)(n.p,{children:"The database user you configure for the connector determines what agents can access and what operations they can perform. Configure database permissions before creating the connector to ensure appropriate access control."}),"\n",(0,a.jsx)(n.h3,{id:"read-only-access",children:"Read-Only Access"}),"\n",(0,a.jsx)(n.p,{children:"For most agent use cases, read-only database access provides sufficient capability while preventing accidental or malicious data modification."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"MySQL and MariaDB:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"CREATE USER 'agent_readonly'@'%' IDENTIFIED BY 'secure_password';\nGRANT SELECT ON your_database.* TO 'agent_readonly'@'%';\nFLUSH PRIVILEGES;\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"PostgreSQL:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"CREATE USER agent_readonly WITH PASSWORD 'secure_password';\nGRANT CONNECT ON DATABASE your_database TO agent_readonly;\nGRANT USAGE ON SCHEMA public TO agent_readonly;\nGRANT SELECT ON ALL TABLES IN SCHEMA public TO agent_readonly;\nALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT ON TABLES TO agent_readonly;\n"})}),"\n",(0,a.jsx)(n.h2,{id:"after-creating-the-connector",children:"After Creating the Connector"}),"\n",(0,a.jsx)(n.p,{children:"After you successfully create the connector, the system redirects you to the Connectors list where you can see your new connector. The connector is now available for assignment to agents."}),"\n",(0,a.jsx)(n.p,{children:"To assign the connector to an agent, navigate to Agent Builder, create a new agent or edit an existing one, and select the connector from the available connectors list during agent configuration. You can assign the same connector to multiple agents."}),"\n",(0,a.jsxs)(n.p,{children:["For detailed information about creating and configuring agents, see ",(0,a.jsx)(n.a,{href:"/solace-agent-mesh/docs/documentation/enterprise/agent-builder",children:"Agent Builder"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,a.jsx)(n.p,{children:"SQL connectors implement a shared credential model where all agents assigned to a connector use the same database credentials and have identical access permissions."}),"\n",(0,a.jsxs)(n.p,{children:["If you assign a SQL connector to multiple agents, those agents can all access any data the connector's database user can reach. You cannot restrict one agent to the ",(0,a.jsx)(n.code,{children:"customers"})," table and another agent to the ",(0,a.jsx)(n.code,{children:"orders"})," table if they share the same connector. Security boundaries exist at the database permission level, not at the connector assignment level."]}),"\n",(0,a.jsx)(n.p,{children:"To implement different access levels for different agents, create multiple connectors with different database users, each having appropriate permissions configured at the database level."}),"\n",(0,a.jsx)(n.p,{children:"Users can potentially request any data the connector can access by phrasing questions appropriately. Database views that present only approved columns and read-only permissions help mitigate these risks."}),"\n",(0,a.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,a.jsx)(n.h3,{id:"database-connection-failures",children:"Database Connection Failures"}),"\n",(0,a.jsx)(n.p,{children:"If the database connection fails:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Verify network connectivity to the database host and port"}),"\n",(0,a.jsx)(n.li,{children:"Ensure firewall rules allow traffic from Agent Mesh Enterprise"}),"\n",(0,a.jsx)(n.li,{children:"Check that the username and password are correct"}),"\n",(0,a.jsx)(n.li,{children:"Confirm the database name exists"}),"\n",(0,a.jsx)(n.li,{children:"Verify the database type selection matches your server"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"supabase-postgresql-connectivity",children:"Supabase PostgreSQL Connectivity"}),"\n",(0,a.jsx)(n.p,{children:"When connecting to PostgreSQL databases hosted on Supabase, you may encounter network errors:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'{ "detail": "Invalid token", "error_type": "invalid_token" }\n'})}),"\n",(0,a.jsx)(n.p,{children:"This occurs because Supabase's direct connection endpoint uses IPv6 addressing, but most Kubernetes clusters default to IPv4 networking. Use the Session Pooler endpoint instead because it is IPv4 compatible."}),"\n",(0,a.jsx)(n.p,{children:"In your Supabase project settings, navigate to Database then Connection Pooling to find the Session Pooler connection string. Use the host and port from this connection string when configuring your SQL connector. The database name, username, and password remain the same as your direct connection credentials."}),"\n",(0,a.jsx)(n.h3,{id:"query-performance-issues",children:"Query Performance Issues"}),"\n",(0,a.jsx)(n.p,{children:"If agents experience slow query responses:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Ensure frequently queried columns have appropriate indexes"}),"\n",(0,a.jsx)(n.li,{children:"Optimize database views if you use them for access control"}),"\n",(0,a.jsx)(n.li,{children:"Review query patterns in database logs to identify inefficient queries that agents generate"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>i});var t=s(6540);const a={},o=t.createContext(a);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);