"use strict";(self.webpackChunksolace_agenitc_mesh_docs=self.webpackChunksolace_agenitc_mesh_docs||[]).push([[6643],{5075:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"documentation/developing/tutorials/mcp-gateway","title":"MCP Gateway","description":"This tutorial walks you through setting up the MCP Gateway, which exposes Solace Agent Mesh agents as a Model Context Protocol (MCP) server. This allows any MCP-compatible client (such as Claude Desktop, MCP Inspector, or custom applications) to interact with Solace Agent Mesh agents through a standardized interface.","source":"@site/docs/documentation/developing/tutorials/mcp-gateway.md","sourceDirName":"documentation/developing/tutorials","slug":"/documentation/developing/tutorials/mcp-gateway","permalink":"/solace-agent-mesh/docs/documentation/developing/tutorials/mcp-gateway","draft":false,"unlisted":false,"editUrl":"https://github.com/SolaceLabs/solace-agent-mesh/edit/main/docs/docs/documentation/developing/tutorials/mcp-gateway.md","tags":[],"version":"current","sidebarPosition":17,"frontMatter":{"title":"MCP Gateway","sidebar_position":17},"sidebar":"docSidebar","previous":{"title":"REST Gateway","permalink":"/solace-agent-mesh/docs/documentation/developing/tutorials/rest-gateway"},"next":{"title":"Event Mesh Gateway","permalink":"/solace-agent-mesh/docs/documentation/developing/tutorials/event-mesh-gateway"}}');var s=t(4848),l=t(8453);const a={title:"MCP Gateway",sidebar_position:17},r="MCP Gateway",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Setting Up the Environment",id:"setting-up-the-environment",level:2},{value:"Adding the MCP Gateway Plugin",id:"adding-the-mcp-gateway-plugin",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Key Configuration Options",id:"key-configuration-options",level:3},{value:"Running the MCP Gateway",id:"running-the-mcp-gateway",level:2},{value:"Connecting MCP Clients",id:"connecting-mcp-clients",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Architecture",id:"architecture",level:3},{value:"Tool Naming",id:"tool-naming",level:3},{value:"Dynamic Agent Discovery",id:"dynamic-agent-discovery",level:3},{value:"Tool Filtering",id:"tool-filtering",level:2},{value:"Configuration",id:"configuration-1",level:3},{value:"How Filtering Works",id:"how-filtering-works",level:3},{value:"Filter Examples",id:"filter-examples",level:3},{value:"File Handling",id:"file-handling",level:2},{value:"Content Type Strategy",id:"content-type-strategy",level:3},{value:"Mixed Content Responses",id:"mixed-content-responses",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"No tools appearing in MCP client",id:"no-tools-appearing-in-mcp-client",level:3},{value:"Connection refused",id:"connection-refused",level:3},{value:"Files not appearing or timing out",id:"files-not-appearing-or-timing-out",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"mcp-gateway",children:"MCP Gateway"})}),"\n",(0,s.jsx)(n.p,{children:"This tutorial walks you through setting up the MCP Gateway, which exposes Solace Agent Mesh agents as a Model Context Protocol (MCP) server. This allows any MCP-compatible client (such as Claude Desktop, MCP Inspector, or custom applications) to interact with Solace Agent Mesh agents through a standardized interface."}),"\n",(0,s.jsx)(n.admonition,{title:"Learn about gateways",type:"info",children:(0,s.jsxs)(n.p,{children:["Read about ",(0,s.jsx)(n.a,{href:"/solace-agent-mesh/docs/documentation/components/gateways",children:"Gateways"})," before you start this tutorial."]})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"The MCP Gateway adapter:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dynamically discovers agents"})," from the Solace Agent Mesh agent registry"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Creates MCP tools automatically"})," based on agent skills"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Streams responses"})," in real-time back to MCP clients"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Handles files intelligently"})," by returning inline content or resource links based on size"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Maintains session isolation"})," ensuring secure multi-client access"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"setting-up-the-environment",children:"Setting Up the Environment"}),"\n",(0,s.jsxs)(n.p,{children:["First, you need to ",(0,s.jsx)(n.a,{href:"/solace-agent-mesh/docs/documentation/installing-and-configuring/installation",children:"install Agent Mesh and the Agent Mesh CLI"}),", and then ",(0,s.jsx)(n.a,{href:"/solace-agent-mesh/docs/documentation/installing-and-configuring/run-project",children:"create a new Agent Mesh project"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"adding-the-mcp-gateway-plugin",children:"Adding the MCP Gateway Plugin"}),"\n",(0,s.jsx)(n.p,{children:"Once you have your project set up, add the MCP Gateway plugin:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sam plugin add my-mcp-gateway --plugin sam-mcp-server-gateway-adapter\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can use any name for your gateway. In this tutorial we use ",(0,s.jsx)(n.code,{children:"my-mcp-gateway"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"This command:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Installs the ",(0,s.jsx)(n.code,{children:"sam-mcp-server-gateway-adapter"})," plugin"]}),"\n",(0,s.jsxs)(n.li,{children:["Creates a new gateway configuration named ",(0,s.jsx)(n.code,{children:"my-mcp-gateway"})," in your ",(0,s.jsx)(n.code,{children:"configs/gateways/"})," directory"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["You can customize the gateway by editing the ",(0,s.jsx)(n.code,{children:"configs/gateways/my-mcp-gateway.yaml"})," file."]}),"\n",(0,s.jsx)(n.h3,{id:"key-configuration-options",children:"Key Configuration Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'adapter_config:\n  # Server identity\n  mcp_server_name: "Solace Agent Mesh MCP Gateway"\n  mcp_server_description: "Access to Solace Agent Mesh agents via MCP"\n\n  # Transport: "http" or "stdio"\n  transport: http\n\n  # HTTP settings (when transport = "http")\n  host: "0.0.0.0"\n  port: 8090\n\n  # Authentication\n  default_user_identity: "mcp_user"\n\n  # Streaming\n  stream_responses: true\n\n  # Task timeout (in seconds)\n  task_timeout_seconds: 300  # 5 minutes default\n\n  # File size thresholds for inline content\n  inline_image_max_bytes: 5242880      # 5MB\n  inline_audio_max_bytes: 10485760     # 10MB\n  inline_text_max_bytes: 1048576       # 1MB\n  inline_binary_max_bytes: 524288      # 512KB\n\n  # Tool filtering (optional)\n  include_tools: []  # Include only these tools (empty = all)\n  exclude_tools: []  # Exclude these tools\n'})}),"\n",(0,s.jsxs)(n.admonition,{title:"Host and Port",type:"info",children:[(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"host"})," and ",(0,s.jsx)(n.code,{children:"port"})," settings defined above needs to be exposed in your deployment environment (e.g., Docker, Kubernetes) so that MCP clients can connect."]}),(0,s.jsxs)(n.p,{children:["The path ",(0,s.jsx)(n.code,{children:"/mcp"})," should point to the gateway service address."]}),(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"MCP Server Gateway with Authentication "}),(0,s.jsxs)(n.p,{children:["If you have ",(0,s.jsx)(n.a,{href:"/solace-agent-mesh/docs/documentation/enterprise/auth-proxy#gateway-configuration",children:"authentication enabled in your gateway"}),", you'd need to expose and map the following routes to your gateway service address:"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"/oauth/authorize"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"/oauth/callback"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"/oauth/token"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"/oauth/register"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"/.well-known/oauth-authorization-server"})}),"\n"]}),(0,s.jsx)(n.p,{children:"Example for Kubernetes Service and Ingress configuration:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: solace-agent-mesh-mcp-service\nspec:\n  selector:\n    app: solace-agent-mesh\n  type: ClusterIP\n  ports:\n    - name: http\n      protocol: TCP\n      targetPort: http-mcp\n      port: 8090\n\n---\n\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: solace-agent-mesh-ingress\n  labels:\n    app: solace-agent-mesh-ingress\nspec:\n  ingressClassName: alb\n  rules:\n  - http:\n      paths:\n      - path: /mcp\n        pathType: Prefix\n        backend:\n          service:\n            name: solace-agent-mesh-mcp-service\n            port:\n              number: 8090\n      - path: /oauth/authorize\n        pathType: Prefix\n        backend:\n          service:\n            name: solace-agent-mesh-mcp-service\n            port:\n              number: 8090\n      - path: /oauth/callback\n        pathType: Prefix\n        backend:\n          service:\n            name: solace-agent-mesh-mcp-service\n            port:\n              number: 8090\n      - path: /oauth/token\n        pathType: Prefix\n        backend:\n          service:\n            name: solace-agent-mesh-mcp-service\n            port:\n              number: 8090\n      - path: /oauth/register\n        pathType: Prefix\n        backend:\n          service:\n            name: solace-agent-mesh-mcp-service\n            port:\n              number: 8090\n      - path: /.well-known/oauth-authorization-server\n        pathType: Prefix\n        backend:\n          service:\n            name: solace-agent-mesh-mcp-service\n            port:\n              number: 8090\n"})})]})]}),"\n",(0,s.jsx)(n.h2,{id:"running-the-mcp-gateway",children:"Running the MCP Gateway"}),"\n",(0,s.jsx)(n.p,{children:"To run the MCP Gateway, use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sam run configs/gateways/my-mcp-gateway.yaml\n"})}),"\n",(0,s.jsx)(n.p,{children:"The gateway starts and automatically:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Queries the agent registry for available agents"}),"\n",(0,s.jsx)(n.li,{children:"Creates MCP tools for each agent skill"}),"\n",(0,s.jsx)(n.li,{children:"Starts listening for MCP client connections"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"connecting-mcp-clients",children:"Connecting MCP Clients"}),"\n",(0,s.jsx)(n.p,{children:"To connect to Solace Agent Mesh via MCP, configure your MCP client (e.g., Claude Desktop) to point to the gateway URL:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://<gateway-host>:<gateway-port>/mcp\n"})}),"\n",(0,s.jsx)(n.p,{children:"Make sure to select the appropriate transport (HTTP) and enable OAuth2.0 authentication if configured."}),"\n",(0,s.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,s.jsx)(n.h3,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart LR\n  A[MCP Client] --\x3e B[FastMCP Server]\n  B --\x3e C[McpAdapter]\n  C --\x3e D[Solace Agent Mesh]\n  B -.-> E[Dynamic Tool Registration]\n  E --\x3e F[agent1_skill1]\n  E --\x3e G[agent1_skill2]\n  E --\x3e H[agent2_skill1]\n  E --\x3e I[...]"}),"\n",(0,s.jsx)(n.h3,{id:"tool-naming",children:"Tool Naming"}),"\n",(0,s.jsx)(n.p,{children:"Each agent skill becomes an MCP tool with the naming pattern:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{agent_name}_{skill_name}\n"})}),"\n",(0,s.jsx)(n.p,{children:"For example:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Agent: ",(0,s.jsx)(n.code,{children:"WeatherAgent"}),", Skill: ",(0,s.jsx)(n.code,{children:"Get Forecast"})," \u2192 Tool: ",(0,s.jsx)(n.code,{children:"weather_agent_get_forecast"})]}),"\n",(0,s.jsxs)(n.li,{children:["Agent: ",(0,s.jsx)(n.code,{children:"CodeAssistant"}),", Skill: ",(0,s.jsx)(n.code,{children:"Review Code"})," \u2192 Tool: ",(0,s.jsx)(n.code,{children:"code_assistant_review_code"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Tool names are automatically sanitized to be valid MCP identifiers (lowercase, alphanumeric with underscores)."}),"\n",(0,s.jsx)(n.h3,{id:"dynamic-agent-discovery",children:"Dynamic Agent Discovery"}),"\n",(0,s.jsx)(n.p,{children:"As agents join and leave the Solace Agent Mesh mesh:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Agent Joins"}),": When a new agent publishes its AgentCard."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The adapter detects the new agent"}),"\n",(0,s.jsx)(n.li,{children:"Registers new MCP tools for the agent's skills"}),"\n",(0,s.jsxs)(n.li,{children:["FastMCP sends ",(0,s.jsx)(n.code,{children:"tools/list_changed"})," notification to connected clients"]}),"\n",(0,s.jsx)(n.li,{children:"MCP clients automatically refresh their tool list"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Agent Leaves"}),": When an agent is removed."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The adapter detects the removal"}),"\n",(0,s.jsx)(n.li,{children:"Removes the agent's tools from the MCP server"}),"\n",(0,s.jsx)(n.li,{children:"FastMCP notifies clients of the change"}),"\n",(0,s.jsx)(n.li,{children:"Stale tools disappear from the client's tool list"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"tool-filtering",children:"Tool Filtering"}),"\n",(0,s.jsx)(n.p,{children:"The MCP adapter supports filtering which agent tools are exposed through the MCP server. This is useful for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Limiting tool visibility to specific agents or skills"}),"\n",(0,s.jsx)(n.li,{children:"Hiding debug/internal tools from clients"}),"\n",(0,s.jsx)(n.li,{children:"Creating specialized MCP servers with curated tool sets"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"configuration-1",children:"Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'adapter_config:\n  # Include only data-related tools\n  include_tools:\n    - "data_.*"           # Regex: any tool starting with "data_"\n    - "fetch_user_info"   # Exact: specific tool name\n\n  # Exclude debug tools and test agents\n  exclude_tools:\n    - ".*_debug"          # Regex: any tool ending with "_debug"\n    - "TestAgent"         # Exact: specific agent name\n'})}),"\n",(0,s.jsx)(n.h3,{id:"how-filtering-works",children:"How Filtering Works"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What Gets Checked"}),": Filters check against ",(0,s.jsx)(n.strong,{children:"all three"})," of:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Original agent name (e.g., ",(0,s.jsx)(n.code,{children:'"DataAgent"'}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Original skill name (e.g., ",(0,s.jsx)(n.code,{children:'"Fetch User"'}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Final sanitized tool name (e.g., ",(0,s.jsx)(n.code,{children:'"data_agent_fetch_user"'}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Pattern Types"}),": The adapter automatically detects pattern types:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Regex patterns"}),": Contain special characters like ",(0,s.jsx)(n.code,{children:".*+?[]{}()^$|\\"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Exact matches"}),": Plain strings without special characters"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Priority Order"})," (highest to lowest):"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Exclude exact match"})," - If pattern matches exactly, tool is rejected"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Include exact match"})," - If pattern matches exactly, tool is accepted"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Exclude regex match"})," - If regex pattern matches, tool is rejected"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Include regex match"})," - If regex pattern matches, tool is accepted"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Default"})," - If ",(0,s.jsx)(n.code,{children:"include_tools"})," is empty, accept; otherwise reject"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"filter-examples",children:"Filter Examples"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example 1: Include only specific tools"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'include_tools:\n  - "weather_agent_.*"                 # All tools from weather_agent\n  - "code_assistant_review_code"       # One specific tool\nexclude_tools: []\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example 2: Exclude debug/internal tools"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'include_tools: []          # Empty = include all\nexclude_tools:\n  - ".*_debug"             # Exclude all debug tools\n  - ".*_internal"          # Exclude all internal tools\n  - "TestAgent"            # Exclude entire test agent\n'})}),"\n",(0,s.jsx)(n.h2,{id:"file-handling",children:"File Handling"}),"\n",(0,s.jsx)(n.p,{children:"The MCP gateway intelligently returns files based on their type and size:"}),"\n",(0,s.jsx)(n.h3,{id:"content-type-strategy",children:"Content Type Strategy"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Images"})," (",(0,s.jsx)(n.code,{children:"image/*"})," MIME types):"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Small (< 5MB)"}),": Returned inline as ",(0,s.jsx)(n.code,{children:"ImageContent"})," with base64 encoding"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Large (\u2265 5MB)"}),": Returned as ",(0,s.jsx)(n.code,{children:"ResourceLink"})," for separate download"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Audio"})," (",(0,s.jsx)(n.code,{children:"audio/*"})," MIME types):"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Small (< 10MB)"}),": Returned inline as ",(0,s.jsx)(n.code,{children:"AudioContent"})," with base64 encoding"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Large (\u2265 10MB)"}),": Returned as ",(0,s.jsx)(n.code,{children:"ResourceLink"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Text Files"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Small (< 1MB)"}),": Returned as ",(0,s.jsx)(n.code,{children:"EmbeddedResource"})," with ",(0,s.jsx)(n.code,{children:"TextResourceContents"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Large (\u2265 1MB)"}),": Returned as ",(0,s.jsx)(n.code,{children:"ResourceLink"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Other Binary Files"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Small (< 512KB)"}),": Returned as ",(0,s.jsx)(n.code,{children:"EmbeddedResource"})," with ",(0,s.jsx)(n.code,{children:"BlobResourceContents"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Large (\u2265 512KB)"}),": Returned as ",(0,s.jsx)(n.code,{children:"ResourceLink"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"mixed-content-responses",children:"Mixed Content Responses"}),"\n",(0,s.jsx)(n.p,{children:"When a tool response includes both text and files, the MCP gateway returns a list of content blocks:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'[\n    TextContent(type="text", text="Here is the result..."),\n    ImageContent(type="image", data="base64...", mimeType="image/png"),\n    ResourceLink(type="resource_link", uri="artifact://session/report.pdf", ...)\n]\n'})}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"no-tools-appearing-in-mcp-client",children:"No tools appearing in MCP client"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Check that agents are registered in the agent registry"}),"\n",(0,s.jsx)(n.li,{children:"Verify agents have skills defined in their AgentCard"}),"\n",(0,s.jsx)(n.li,{children:"Check gateway logs for tool registration messages"}),"\n",(0,s.jsxs)(n.li,{children:["Review tool filter configuration if using ",(0,s.jsx)(n.code,{children:"include_tools"})," or ",(0,s.jsx)(n.code,{children:"exclude_tools"})]}),"\n",(0,s.jsx)(n.li,{children:"If authentication is enabled, ensure RBAC permissions are set correctly."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"connection-refused",children:"Connection refused"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify the MCP server is running (check logs)"}),"\n",(0,s.jsx)(n.li,{children:"Ensure the configured port is not in use"}),"\n",(0,s.jsx)(n.li,{children:"Check firewall settings (for HTTP transport)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"files-not-appearing-or-timing-out",children:"Files not appearing or timing out"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Check file size thresholds in configuration"}),"\n",(0,s.jsx)(n.li,{children:"Verify artifact service is configured correctly"}),"\n",(0,s.jsx)(n.li,{children:"Review session management in logs"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(6540);const s={},l=i.createContext(s);function a(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);