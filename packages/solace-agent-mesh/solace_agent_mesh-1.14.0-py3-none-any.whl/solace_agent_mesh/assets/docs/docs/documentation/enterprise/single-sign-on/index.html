<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-documentation/enterprise/single-sign-on" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Enabling SSO | Solace Agent Mesh</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://solacelabs.github.io/solace-agent-mesh/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://solacelabs.github.io/solace-agent-mesh/img/logo.png"><meta data-rh="true" property="og:url" content="https://solacelabs.github.io/solace-agent-mesh/docs/documentation/enterprise/single-sign-on"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Enabling SSO | Solace Agent Mesh"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/solace-agent-mesh/img/logo.png"><link data-rh="true" rel="canonical" href="https://solacelabs.github.io/solace-agent-mesh/docs/documentation/enterprise/single-sign-on"><link data-rh="true" rel="alternate" href="https://solacelabs.github.io/solace-agent-mesh/docs/documentation/enterprise/single-sign-on" hreflang="en"><link data-rh="true" rel="alternate" href="https://solacelabs.github.io/solace-agent-mesh/docs/documentation/enterprise/single-sign-on" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Agent Mesh Enterprise","item":"https://solacelabs.github.io/solace-agent-mesh/docs/documentation/enterprise/"},{"@type":"ListItem","position":2,"name":"Enabling SSO","item":"https://solacelabs.github.io/solace-agent-mesh/docs/documentation/enterprise/single-sign-on"}]}</script><link rel="stylesheet" href="/solace-agent-mesh/assets/css/styles.8162edfb.css">
<script src="/solace-agent-mesh/assets/js/runtime~main.f8ae38e7.js" defer="defer"></script>
<script src="/solace-agent-mesh/assets/js/main.16b98774.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/solace-agent-mesh/img/logo.png"><link rel="preload" as="image" href="/solace-agent-mesh/img/solace-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/solace-agent-mesh/docs/documentation/getting-started"><div class="navbar__logo"><img src="/solace-agent-mesh/img/logo.png" alt="Solace Agent Mesh Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/solace-agent-mesh/img/logo.png" alt="Solace Agent Mesh Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Solace Agent Mesh</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/solace-agent-mesh/docs/documentation/getting-started/">Getting Started</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/SolaceLabs/solace-agent-mesh/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/solace-agent-mesh/docs/documentation/getting-started/"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/getting-started/introduction"><span title="What is Agent Mesh?" class="linkLabel_WmDU">What is Agent Mesh?</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/getting-started/try-agent-mesh"><span title="Try Agent Mesh" class="linkLabel_WmDU">Try Agent Mesh</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/getting-started/architecture"><span title="Architecture Overview" class="linkLabel_WmDU">Architecture Overview</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/solace-agent-mesh/docs/documentation/vibe_coding"><span title="Vibe Coding" class="linkLabel_WmDU">Vibe Coding</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/solace-agent-mesh/docs/documentation/components/"><span title="Components" class="categoryLinkLabel_W154">Components</span></a><button aria-label="Expand sidebar category &#x27;Components&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/solace-agent-mesh/docs/documentation/installing-and-configuring/"><span title="Installing and Configuring Agent Mesh" class="categoryLinkLabel_W154">Installing and Configuring Agent Mesh</span></a><button aria-label="Expand sidebar category &#x27;Installing and Configuring Agent Mesh&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/solace-agent-mesh/docs/documentation/developing/"><span title="Developing with Agent Mesh" class="categoryLinkLabel_W154">Developing with Agent Mesh</span></a><button aria-label="Expand sidebar category &#x27;Developing with Agent Mesh&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/solace-agent-mesh/docs/documentation/deploying/"><span title="Deploying Agent Mesh" class="categoryLinkLabel_W154">Deploying Agent Mesh</span></a><button aria-label="Expand sidebar category &#x27;Deploying Agent Mesh&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/solace-agent-mesh/docs/documentation/migrations/platform-service-split"><span title="Migrations" class="categoryLinkLabel_W154">Migrations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/solace-agent-mesh/docs/documentation/enterprise/"><span title="Agent Mesh Enterprise" class="categoryLinkLabel_W154">Agent Mesh Enterprise</span></a><button aria-label="Collapse sidebar category &#x27;Agent Mesh Enterprise&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/enterprise/installation"><span title="Installing Agent Mesh Enterprise" class="linkLabel_WmDU">Installing Agent Mesh Enterprise</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/enterprise/wheel-installation"><span title="Running from Wheel File" class="linkLabel_WmDU">Running from Wheel File</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/enterprise/agent-builder"><span title="Agent Builder" class="linkLabel_WmDU">Agent Builder</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/solace-agent-mesh/docs/documentation/enterprise/connectors/"><span title="Connectors" class="categoryLinkLabel_W154">Connectors</span></a><button aria-label="Expand sidebar category &#x27;Connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/enterprise/rbac-setup-guide"><span title="Role-Based Access Control (RBAC)" class="linkLabel_WmDU">Role-Based Access Control (RBAC)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/solace-agent-mesh/docs/documentation/enterprise/single-sign-on"><span title="Enabling SSO" class="linkLabel_WmDU">Enabling SSO</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/enterprise/auth-proxy"><span title="Authentication Proxy" class="linkLabel_WmDU">Authentication Proxy</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/enterprise/secure-user-delegated-access"><span title="Secure User Delegated Access" class="linkLabel_WmDU">Secure User Delegated Access</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/enterprise/openapi-tools"><span title="OpenAPI Tools" class="linkLabel_WmDU">OpenAPI Tools</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/solace-agent-mesh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/solace-agent-mesh/docs/documentation/enterprise/"><span>Agent Mesh Enterprise</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Enabling SSO</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Enabling SSO</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>Single Sign-On (SSO) enables users to authenticate with Agent Mesh Enterprise using their existing organizational credentials through OAuth2 providers such as Azure, Google, Auth0, Okta, or Keycloak. This integration eliminates the need for separate login credentials and leverages your organization&#x27;s existing identity management infrastructure.</p>
<p>This guide walks you through configuring and enabling SSO for Agent Mesh Enterprise running in Docker. You will create configuration files, set up your OAuth2 provider, and launch the container with the appropriate environment variables.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h2>
<p>Before you begin, ensure you have:</p>
<ul>
<li class="">A running instance of your chosen OAuth2 provider (Azure, Google, Auth0, Okta, Keycloak, or another OIDC-compliant provider)</li>
<li class="">Client credentials (client ID and client secret) from your OAuth2 provider</li>
<li class="">A Named Docker Volume for storing configuration files</li>
<li class="">Access to the Agent Mesh Enterprise Docker image</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-the-sso-architecture">Understanding the SSO Architecture<a href="#understanding-the-sso-architecture" class="hash-link" aria-label="Direct link to Understanding the SSO Architecture" title="Direct link to Understanding the SSO Architecture" translate="no">​</a></h2>
<p>Agent Mesh Enterprise uses a two-component architecture for SSO:</p>
<ol>
<li class="">The main UI server (default port 8000) handles user interactions and serves the web interface</li>
<li class="">The OAuth2 authentication service (default port 9000) manages the authentication flow with your identity provider</li>
</ol>
<p>When a user attempts to access the UI, they are redirected to your OAuth2 provider for authentication. After successful authentication, the provider redirects back to the application with an authorization code, which is then exchanged for access tokens. This separation of concerns keeps authentication logic isolated from the main application.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-create-configuration-files">Step 1: Create Configuration Files<a href="#step-1-create-configuration-files" class="hash-link" aria-label="Direct link to Step 1: Create Configuration Files" title="Direct link to Step 1: Create Configuration Files" translate="no">​</a></h2>
<p>You need to create two YAML configuration files in your Named Docker Volume. These files define how the OAuth2 service operates and which identity provider it connects to.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-oauth2_serveryaml">Create oauth2_server.yaml<a href="#create-oauth2_serveryaml" class="hash-link" aria-label="Direct link to Create oauth2_server.yaml" title="Direct link to Create oauth2_server.yaml" translate="no">​</a></h3>
<p>The oauth2_server.yaml file configures the OAuth2 authentication service as a component within Agent Mesh Enterprise. This file tells the system to start the OAuth2 service and specifies where to find its detailed configuration.</p>
<p>Create a file named <code>oauth2_server.yaml</code> in the root directory of your Named Docker Volume with the following content:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Example gateway configuration with OAuth2 service integration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># This shows how to configure a gateway to use the OAuth2 authentication service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">stdout_log_level</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> INFO</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">log_file_level</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> DEBUG</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">log_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> oauth_server.log</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag" style="color:rgb(255, 121, 198)">!include</span><span class="token plain"> ../shared_config.yaml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">shared_config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># OAuth2 service configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">oauth2_config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token important">&amp;oauth2_config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">config_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;configs/sso_vol/oauth2_config.yaml&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">OAUTH2_HOST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> localhost</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">OAUTH2_PORT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">9000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">ssl_cert</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Optional: path to SSL certificate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">ssl_key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&quot;</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)"># Optional: path to SSL private key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">flows</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Initialize OAuth2 service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> oauth2_service</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">components</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">component_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> oauth2_auth_service</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">component_module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> solace_agent_mesh_enterprise.components.oauth2_component</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">component_config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token key atrule">&lt;&lt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token important">*oauth2_config</span><br></span></code></pre></div></div>
<p>This configuration accomplishes several things:</p>
<ul>
<li class="">It sets up logging for the OAuth2 service, directing detailed debug information to oauth_server.log</li>
<li class="">It references the shared_config.yaml file, which contains common configuration used across multiple components</li>
<li class="">It defines the OAuth2 service configuration, including where to find the provider-specific settings (oauth2_config.yaml)</li>
<li class="">It specifies the host and port where the OAuth2 service will listen for requests</li>
<li class="">It creates a flow that initializes the OAuth2 authentication service component</li>
</ul>
<p>The <code>${OAUTH2_HOST, localhost}</code> syntax means the service will use the OAUTH2_HOST environment variable if provided, otherwise it defaults to localhost. This pattern allows you to override configuration values at runtime without modifying the file.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-oauth2_configyaml">Create oauth2_config.yaml<a href="#create-oauth2_configyaml" class="hash-link" aria-label="Direct link to Create oauth2_config.yaml" title="Direct link to Create oauth2_config.yaml" translate="no">​</a></h3>
<p>The oauth2_config.yaml file contains provider-specific configuration for your chosen OAuth2 identity provider. This is where you specify which provider to use and provide the necessary credentials and endpoints.</p>
<p>Create a file named <code>oauth2_config.yaml</code> in the same directory with the following content:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># OAuth2 Service Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># This file configures the OAuth2 authentication service that supports multiple providers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># All providers now use the unified OIDC approach with automatic endpoint discovery</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Enable or disable the OAuth2 service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">OAUTH2_ENABLED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token boolean important">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Development mode - enables insecure transport and relaxed token scope for local development</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Set OAUTH2_DEV_MODE=true for local development (NEVER use in production!)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">development_mode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">OAUTH2_DEV_MODE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token boolean important">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># OAuth2 providers configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># All providers now use the unified OIDCProvider with automatic endpoint discovery</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">providers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Google OAuth2 provider</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># google:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   # OIDC issuer URL - endpoints will be discovered automatically</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   issuer: &quot;https://accounts.google.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   client_id: ${GOOGLE_CLIENT_ID}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   client_secret: ${GOOGLE_CLIENT_SECRET}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   redirect_uri: ${GOOGLE_REDIRECT_URI:http://localhost:8080/callback}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   scope: &quot;openid email profile&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Azure/Microsoft OAuth2 provider</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">azure</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Azure OIDC issuer URL includes tenant ID</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">issuer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">//login.microsoftonline.com/$</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">AZURE_TENANT_ID</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">/v2.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">client_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">AZURE_CLIENT_ID</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">client_secret</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">AZURE_CLIENT_SECRET</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">redirect_uri</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">AZURE_REDIRECT_URI</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">http</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">8080/callback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">scope</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;openid email profile offline_access&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Auth0 OAuth2 provider</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># auth0:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   # Auth0 issuer URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   issuer: ${AUTH0_ISSUER:https://your-domain.auth0.com/}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   client_id: ${AUTH0_CLIENT_ID}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   client_secret: ${AUTH0_CLIENT_SECRET}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   redirect_uri: ${AUTH0_REDIRECT_URI:http://localhost:8080/callback}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   scope: &quot;openid email profile&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   # Optional: Auth0 audience for API access</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   audience: ${AUTH0_AUDIENCE:}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># # Okta OAuth2 provider (example)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># okta:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   issuer: ${OKTA_ISSUER:https://your-okta-domain.okta.com/oauth2/default}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   client_id: ${OKTA_CLIENT_ID}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   client_secret: ${OKTA_CLIENT_SECRET}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   redirect_uri: ${OKTA_REDIRECT_URI:http://localhost:8080/callback}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   scope: &quot;openid email profile&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># # Keycloak OAuth2 provider (example)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># keycloak:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   issuer: ${KEYCLOAK_ISSUER:https://your-keycloak.com/auth/realms/your-realm}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   client_id: ${KEYCLOAK_CLIENT_ID}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   client_secret: ${KEYCLOAK_CLIENT_SECRET}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   redirect_uri: ${KEYCLOAK_REDIRECT_URI:http://localhost:8080/callback}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   scope: &quot;openid email profile&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># # Generic OIDC provider (for any standard OIDC-compliant provider)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># custom_oidc:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   # Just provide the issuer URL and the service will discover all endpoints</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   issuer: ${CUSTOM_OIDC_ISSUER:https://your-provider.com}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   client_id: ${CUSTOM_OIDC_CLIENT_ID}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   client_secret: ${CUSTOM_OIDC_CLIENT_SECRET}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   redirect_uri: ${CUSTOM_OIDC_REDIRECT_URI:http://localhost:8080/callback}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">#   scope: &quot;openid email profile&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Logging configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">logging</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">level</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">OAUTH2_LOG_LEVEL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Session configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">session</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Session timeout in seconds (default: 1 hour)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">timeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">OAUTH2_SESSION_TIMEOUT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">3600</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Security configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">security</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># CORS settings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">cors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">OAUTH2_CORS_ENABLED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token boolean important">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">origins</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">OAUTH2_CORS_ORIGINS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">*</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Rate limiting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">rate_limit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">OAUTH2_RATE_LIMIT_ENABLED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token boolean important">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">requests_per_minute</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">OAUTH2_RATE_LIMIT_RPM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">60</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p>This configuration file provides several important features:</p>
<p>The <code>enabled</code> setting controls whether the OAuth2 service is active. You can enable it by setting the OAUTH2_ENABLED environment variable to true.</p>
<p>The <code>development_mode</code> setting is crucial for local testing. When enabled, it allows HTTP connections (instead of requiring HTTPS) and relaxes token validation. You must disable this in production environments to maintain security.</p>
<p>The <code>providers</code> section defines multiple OAuth2 providers. By default, Azure is uncommented and active. To use a different provider, comment out the Azure section and uncomment your chosen provider. Each provider requires:</p>
<ul>
<li class="">An <code>issuer</code> URL that points to the OAuth2 provider&#x27;s discovery endpoint</li>
<li class="">A <code>client_id</code> and <code>client_secret</code> obtained from your provider&#x27;s application registration</li>
<li class="">A <code>redirect_uri</code> where the provider sends users after authentication</li>
<li class="">A <code>scope</code> that defines what user information the application can access</li>
</ul>
<p>The system uses OpenID Connect (OIDC) discovery, which means it automatically finds the authorization, token, and userinfo endpoints from the issuer URL. This simplifies configuration because you only need to provide the base issuer URL rather than individual endpoint URLs.</p>
<p>The <code>session</code> configuration determines how long authenticated sessions remain valid. The default of 3600 seconds (1 hour) balances security with user convenience.</p>
<p>The <code>security</code> section configures Cross-Origin Resource Sharing (CORS) and rate limiting. CORS allows the web UI to communicate with the OAuth2 service from different origins, while rate limiting prevents abuse by restricting the number of authentication requests per minute.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="update-your-webui-gateway">Update Your WebUI Gateway<a href="#update-your-webui-gateway" class="hash-link" aria-label="Direct link to Update Your WebUI Gateway" title="Direct link to Update Your WebUI Gateway" translate="no">​</a></h3>
<p>Update your WebUI Gateway to configure login as follows:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Auth-related (placeholders, functionality depends on backend implementation)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">frontend_auth_login_url: ${FRONTEND_AUTH_LOGIN_URL}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">frontend_use_authorization: ${FRONTEND_USE_AUTHORIZATION}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">frontend_redirect_url: ${FRONTEND_REDIRECT_URL, &quot;&quot;}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">external_auth_callback_uri: ${EXTERNAL_AUTH_CALLBACK}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">external_auth_service_url: ${EXTERNAL_AUTH_SERVICE_URL}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">external_auth_provider: ${EXTERNAL_AUTH_PROVIDER}</span><br></span></code></pre></div></div>
<p>Your final WebUI Gateway yaml configuration should look like this:</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>WebUI Gateway SSO Enabled</summary><div><div class="collapsibleContent_i85q"><p><strong>webUI.yaml</strong></p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">stdout_log_level</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> INFO</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">log_file_level</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> INFO</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">log_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> webui_app.log</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag" style="color:rgb(255, 121, 198)">!include</span><span class="token plain"> ../shared_config.yaml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">apps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> a2a_webui_app</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">app_base_path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">app_module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> solace_agent_mesh.gateway.http_sse.app</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">broker</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">&lt;&lt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token important">*broker_connection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">app_config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">NAMESPACE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">session_secret_key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;${SESSION_SECRET_KEY}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">artifact_service</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token important">*default_artifact_service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">session_service</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sql&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">database_url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">WEB_UI_GATEWAY_DATABASE_URL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sqlite</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">///webui_gateway.db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">default_behavior</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;PERSISTENT&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">gateway_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">WEBUI_GATEWAY_ID</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">fastapi_host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">FASTAPI_HOST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">fastapi_port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">FASTAPI_PORT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">cors_allowed_origins</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http://localhost:3000&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http://127.0.0.1:3000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">enable_embed_resolution</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">ENABLE_EMBED_RESOLUTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># Enable late-stage resolution</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">gateway_artifact_content_limit_bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">GATEWAY_ARTIFACT_LIMIT_BYTES</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">10000000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># Max size for late-stage embeds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">sse_max_queue_size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">SSE_MAX_QUEUE_SIZE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">200</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># Max size of SSE connection queues</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">system_purpose</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token scalar string" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token scalar string" style="color:rgb(255, 121, 198)">            The system is an AI Chatbot with agentic capabilities.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token scalar string" style="color:rgb(255, 121, 198)">            It will use the agents available to provide information,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token scalar string" style="color:rgb(255, 121, 198)">            reasoning and general assistance for the users in this system.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token scalar string" style="color:rgb(255, 121, 198)">            **Always return useful artifacts and files that you create to the user.**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token scalar string" style="color:rgb(255, 121, 198)">            Provide a status update before each tool call.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token scalar string" style="color:rgb(255, 121, 198)">            Your external name is Agent Mesh.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">response_format</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token scalar string" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token scalar string" style="color:rgb(255, 121, 198)">            Responses should be clear, concise, and professionally toned.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token scalar string" style="color:rgb(255, 121, 198)">            Format responses to the user in Markdown using appropriate formatting.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># --- Frontend Config Passthrough ---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">frontend_welcome_message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">FRONTEND_WELCOME_MESSAGE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">frontend_bot_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">FRONTEND_BOT_NAME</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">frontend_collect_feedback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">FRONTEND_COLLECT_FEEDBACK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)"># Auth-related (placeholders, functionality depends on backend implementation)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">frontend_auth_login_url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">FRONTEND_AUTH_LOGIN_URL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">frontend_use_authorization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">FRONTEND_USE_AUTHORIZATION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">frontend_redirect_url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">FRONTEND_REDIRECT_URL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">external_auth_callback_uri</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">EXTERNAL_AUTH_CALLBACK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">external_auth_service_url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">EXTERNAL_AUTH_SERVICE_URL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">external_auth_provider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">EXTERNAL_AUTH_PROVIDER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div></div></div></details>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-configure-your-oauth2-provider">Step 2: Configure Your OAuth2 Provider<a href="#step-2-configure-your-oauth2-provider" class="hash-link" aria-label="Direct link to Step 2: Configure Your OAuth2 Provider" title="Direct link to Step 2: Configure Your OAuth2 Provider" translate="no">​</a></h2>
<p>Before running the Docker container, you need to register an application with your chosen OAuth2 provider and obtain the necessary credentials.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="for-azure-microsoft-entra-id">For Azure (Microsoft Entra ID)<a href="#for-azure-microsoft-entra-id" class="hash-link" aria-label="Direct link to For Azure (Microsoft Entra ID)" title="Direct link to For Azure (Microsoft Entra ID)" translate="no">​</a></h3>
<ol>
<li class="">Navigate to the Azure Portal and go to Microsoft Entra ID (formerly Azure Active Directory)</li>
<li class="">Select &quot;App registrations&quot; and create a new registration</li>
<li class="">Note the Application (client) ID and Directory (tenant) ID</li>
<li class="">Create a client secret under &quot;Certificates &amp; secrets&quot;</li>
<li class="">Add a redirect URI pointing to your callback endpoint (for example, <a href="http://localhost:8000/api/v1/auth/callback" target="_blank" rel="noopener noreferrer" class="">http://localhost:8000/api/v1/auth/callback</a>)</li>
<li class="">Grant the necessary API permissions (typically Microsoft Graph with User.Read)</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="for-google">For Google<a href="#for-google" class="hash-link" aria-label="Direct link to For Google" title="Direct link to For Google" translate="no">​</a></h3>
<ol>
<li class="">Go to the Google Cloud Console and create a new project or select an existing one</li>
<li class="">Enable the Google+ API</li>
<li class="">Create OAuth2 credentials under &quot;APIs &amp; Services&quot; &gt; &quot;Credentials&quot;</li>
<li class="">Configure the authorized redirect URIs</li>
<li class="">Note the client ID and client secret</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="for-other-providers">For Other Providers<a href="#for-other-providers" class="hash-link" aria-label="Direct link to For Other Providers" title="Direct link to For Other Providers" translate="no">​</a></h3>
<p>Consult your provider&#x27;s documentation for application registration procedures. You will need to obtain a client ID, client secret, and configure the redirect URI to point to your Agent Mesh Enterprise callback endpoint.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-launch-the-docker-container">Step 3: Launch the Docker Container<a href="#step-3-launch-the-docker-container" class="hash-link" aria-label="Direct link to Step 3: Launch the Docker Container" title="Direct link to Step 3: Launch the Docker Container" translate="no">​</a></h2>
<p>With your configuration files in place and provider credentials obtained, you can now launch the Agent Mesh Enterprise container with SSO enabled.</p>
<p>The following example demonstrates a production deployment using Azure as the OAuth2 provider:</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You may need to include <code>--platform linux/amd64</code> depending on the host machine you&#x27;re using.</p></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run -itd -p 8000:8000 -p 9000:9000 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e LLM_SERVICE_API_KEY=&quot;&lt;YOUR_LLM_TOKEN&gt;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e LLM_SERVICE_ENDPOINT=&quot;&lt;YOUR_LLM_SERVICE_ENDPOINT&gt;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e LLM_SERVICE_PLANNING_MODEL_NAME=&quot;&lt;YOUR_MODEL_NAME&gt;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e LLM_SERVICE_GENERAL_MODEL_NAME=&quot;&lt;YOUR_MODEL_NAME&gt;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e NAMESPACE=&quot;&lt;YOUR_NAMESPACE&gt;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e SOLACE_DEV_MODE=&quot;false&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e SOLACE_BROKER_URL=&quot;&lt;YOUR_BROKER_URL&gt;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e SOLACE_BROKER_VPN=&quot;&lt;YOUR_BROKER_VPN&gt;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e SOLACE_BROKER_USERNAME=&quot;&lt;YOUR_BROKER_USERNAME&gt;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e SOLACE_BROKER_PASSWORD=&quot;&lt;YOUR_BROKER_PASSWORD&gt;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e FASTAPI_HOST=&quot;0.0.0.0&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e FASTAPI_PORT=&quot;8000&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e AZURE_TENANT_ID=&quot;xxxxxxxxx-xxxxxx-xxxxxxxx-xxxxxxxxxx&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e AZURE_CLIENT_ID=&quot;xxxxxxxxx-xxxxxx-xxxxxxxx-xxxxxxxxxx&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e AZURE_CLIENT_SECRET=&quot;xxxxxxxxx-xxxxxx-xxxxxxxx-xxxxxxxxxx&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e OAUTH2_ENABLED=&quot;true&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e OAUTH2_LOG_LEVEL=&quot;DEBUG&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e OAUTH2_DEV_MODE=&quot;true&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e OAUTH2_HOST=&quot;0.0.0.0&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e OAUTH2_PORT=&quot;9000&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e FRONTEND_USE_AUTHORIZATION=&quot;true&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e FRONTEND_REDIRECT_URL=&quot;http://localhost:8000&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e FRONTEND_AUTH_LOGIN_URL=&quot;http://localhost:8000/api/v1/auth/login&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e EXTERNAL_AUTH_SERVICE_URL=&quot;http://localhost:9000&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e EXTERNAL_AUTH_PROVIDER=&quot;azure&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e EXTERNAL_AUTH_CALLBACK=&quot;http://localhost:8000/api/v1/auth/callback&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -v &lt;YOUR_NAMED_DOCKER_VOLUME&gt;:/app/config/sso_vol/ \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --name sam-ent-prod-sso \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">solace-agent-mesh-enterprise:&lt;tag&gt; run config/sso_vol/oauth2_server.yaml config/webui_backend.yaml config/a2a_orchestrator.yaml config/a2a_agents.yaml</span><br></span></code></pre></div></div>
<p>This command starts the container in detached mode with interactive terminal support. The <code>-p</code> flags expose both the main UI port (8000) and the OAuth2 service port (9000) to the host machine. The volume mount makes your configuration files available inside the container at the expected location.</p>
<p>After the container starts successfully, you can access the Agent Mesh Enterprise UI at <a href="http://localhost:8000" target="_blank" rel="noopener noreferrer" class="">http://localhost:8000</a>. When you navigate to this URL, the system will redirect you to your OAuth2 provider&#x27;s login page for authentication.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-the-environment-variables">Understanding the Environment Variables<a href="#understanding-the-environment-variables" class="hash-link" aria-label="Direct link to Understanding the Environment Variables" title="Direct link to Understanding the Environment Variables" translate="no">​</a></h2>
<p>The Docker run command includes numerous environment variables that control different aspects of the SSO configuration. Understanding these variables helps you customize the deployment for your specific environment.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-application-settings">Core Application Settings<a href="#core-application-settings" class="hash-link" aria-label="Direct link to Core Application Settings" title="Direct link to Core Application Settings" translate="no">​</a></h3>
<p>These variables configure the main Agent Mesh Enterprise application:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e FASTAPI_HOST=&quot;0.0.0.0&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e FASTAPI_PORT=&quot;8000&quot; \ </span><br></span></code></pre></div></div>
<p>The FASTAPI_HOST setting determines which network interfaces the main UI server binds to. Using &quot;0.0.0.0&quot; allows external access to the container, which is necessary for production deployments. The FASTAPI_PORT specifies which port the UI listens on inside the container.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="frontend-authentication-settings">Frontend Authentication Settings<a href="#frontend-authentication-settings" class="hash-link" aria-label="Direct link to Frontend Authentication Settings" title="Direct link to Frontend Authentication Settings" translate="no">​</a></h3>
<p>These variables control how the web UI handles authentication:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e FRONTEND_USE_AUTHORIZATION=&quot;true&quot; \</span><br></span></code></pre></div></div>
<p>Setting FRONTEND_USE_AUTHORIZATION to &quot;true&quot; enables SSO processing on the frontend. When enabled, the UI will redirect unauthenticated users to the login flow instead of allowing direct access.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e FRONTEND_REDIRECT_URL=&quot;http://localhost:8000&quot; \</span><br></span></code></pre></div></div>
<p>The FRONTEND_REDIRECT_URL specifies the main URL of your UI. In production, this would be your public-facing domain (for example, <a href="https://www.example.com" target="_blank" rel="noopener noreferrer" class="">https://www.example.com</a>). The system uses this URL to construct proper redirect chains during authentication.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e FRONTEND_AUTH_LOGIN_URL=&quot;http://localhost:8000/api/v1/auth/login&quot; \</span><br></span></code></pre></div></div>
<p>The FRONTEND_AUTH_LOGIN_URL tells the frontend where to send users who need to authenticate. This endpoint initiates the OAuth2 flow by redirecting to your identity provider.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="oauth2-service-settings">OAuth2 Service Settings<a href="#oauth2-service-settings" class="hash-link" aria-label="Direct link to OAuth2 Service Settings" title="Direct link to OAuth2 Service Settings" translate="no">​</a></h3>
<p>These variables configure the OAuth2 authentication service itself:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e OAUTH2_ENABLED=&quot;true&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e OAUTH2_LOG_LEVEL=&quot;DEBUG&quot; \</span><br></span></code></pre></div></div>
<p>The OAUTH2_ENABLED variable activates the OAuth2 service. Setting OAUTH2_LOG_LEVEL to &quot;DEBUG&quot; provides detailed logging information, which is helpful during initial setup and troubleshooting. You can change this to &quot;INFO&quot; or &quot;WARNING&quot; in production to reduce log verbosity.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e OAUTH2_HOST=&quot;0.0.0.0&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e OAUTH2_PORT=&quot;9000&quot; \</span><br></span></code></pre></div></div>
<p>These variables specify where the OAuth2 authentication service listens for requests. Using &quot;0.0.0.0&quot; as the host allows external access to the container, which is necessary because the OAuth2 provider needs to reach the callback endpoint. The port must match the port mapping in your Docker run command.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e OAUTH2_DEV_MODE=&quot;true&quot; \</span><br></span></code></pre></div></div>
<p>The OAUTH2_DEV_MODE setting controls whether the OAuth2 service operates in development mode. When set to &quot;true&quot;, the service sets these internal environment variables:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">OAUTHLIB_RELAX_TOKEN_SCOPE=&quot;1&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OAUTHLIB_INSECURE_TRANSPORT=&quot;1&quot;</span><br></span></code></pre></div></div>
<p>These settings allow HTTP connections (instead of requiring HTTPS) and relax token scope validation. This is convenient for local development and testing, but you must set OAUTH2_DEV_MODE to &quot;false&quot; in production environments to maintain security. Production deployments should always use HTTPS with valid SSL certificates.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="provider-specific-credentials">Provider-Specific Credentials<a href="#provider-specific-credentials" class="hash-link" aria-label="Direct link to Provider-Specific Credentials" title="Direct link to Provider-Specific Credentials" translate="no">​</a></h3>
<p>These variables provide the credentials obtained from your OAuth2 provider. The example shows Azure configuration:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e AZURE_TENANT_ID=&quot;xxxxxxxxx-xxxxxx-xxxxxxxx-xxxxxxxxxx&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e AZURE_CLIENT_ID=&quot;xxxxxxxxx-xxxxxx-xxxxxxxx-xxxxxxxxxx&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e AZURE_CLIENT_SECRET=&quot;xxxxxxxxx-xxxxxx-xxxxxxxx-xxxxxxxxxx&quot; \</span><br></span></code></pre></div></div>
<p>The required variables depend on which provider you configured in oauth2_config.yaml. For Google, you would use GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET. For Auth0, you would use AUTH0_CLIENT_ID, AUTH0_CLIENT_SECRET, and AUTH0_ISSUER. Refer to the oauth2_config.yaml file to identify the exact variable names for your chosen provider.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="external-authentication-configuration">External Authentication Configuration<a href="#external-authentication-configuration" class="hash-link" aria-label="Direct link to External Authentication Configuration" title="Direct link to External Authentication Configuration" translate="no">​</a></h3>
<p>These variables connect the main UI to the OAuth2 service:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e EXTERNAL_AUTH_SERVICE_URL=&quot;http://localhost:9000&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e EXTERNAL_AUTH_PROVIDER=&quot;azure&quot; \</span><br></span></code></pre></div></div>
<p>The EXTERNAL_AUTH_SERVICE_URL specifies the public URL where the OAuth2 service can be reached. This must be accessible from outside the Docker container because your OAuth2 provider will redirect users to this service. The EXTERNAL_AUTH_PROVIDER must match one of the provider names defined in your oauth2_config.yaml file (in this example, &quot;azure&quot;).</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-e EXTERNAL_AUTH_CALLBACK=&quot;http://localhost:8000/api/v1/auth/callback&quot; \</span><br></span></code></pre></div></div>
<p>The EXTERNAL_AUTH_CALLBACK is the URL where your OAuth2 provider redirects users after successful authentication. This URL must be registered with your OAuth2 provider as an authorized redirect URI. In production, this would be your public domain followed by the callback path (for example, <a href="https://www.example.com/api/v1/auth/callback" target="_blank" rel="noopener noreferrer" class="">https://www.example.com/api/v1/auth/callback</a>).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="port-mapping-and-volume-mount">Port Mapping and Volume Mount<a href="#port-mapping-and-volume-mount" class="hash-link" aria-label="Direct link to Port Mapping and Volume Mount" title="Direct link to Port Mapping and Volume Mount" translate="no">​</a></h3>
<p>Two additional configuration elements are essential for SSO to function:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-p 8000:8000 -p 9000:9000 \</span><br></span></code></pre></div></div>
<p>Both the main UI port (8000) and the OAuth2 service port (9000) must be mapped to the host machine. This allows external access to both services, which is necessary for the authentication flow to complete successfully.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-v &lt;YOUR_NAMED_DOCKER_VOLUME&gt;:/app/config/sso_vol/ \</span><br></span></code></pre></div></div>
<p>The volume mount makes your OAuth2 configuration files available inside the container at the expected location. Replace <code>&lt;YOUR_NAMED_DOCKER_VOLUME&gt;</code> with the path to your Named Docker Volume containing the oauth2_server.yaml and oauth2_config.yaml files.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="verifying-your-sso-configuration">Verifying Your SSO Configuration<a href="#verifying-your-sso-configuration" class="hash-link" aria-label="Direct link to Verifying Your SSO Configuration" title="Direct link to Verifying Your SSO Configuration" translate="no">​</a></h2>
<p>After starting the container, you can verify that SSO is working correctly:</p>
<ol>
<li class="">Navigate to <a href="http://localhost:8000" target="_blank" rel="noopener noreferrer" class="">http://localhost:8000</a> in your web browser</li>
<li class="">You should be automatically redirected to your OAuth2 provider&#x27;s login page</li>
<li class="">After entering your credentials, you should be redirected back to the Agent Mesh Enterprise UI</li>
<li class="">Check the container logs for any authentication errors: <code>docker logs sam-ent-prod-sso</code></li>
</ol>
<p>If you encounter issues, check that:</p>
<ul>
<li class="">Your OAuth2 provider credentials are correct</li>
<li class="">The redirect URI in your provider&#x27;s configuration matches the EXTERNAL_AUTH_CALLBACK value</li>
<li class="">Both ports (8000 and 9000) are accessible from your network</li>
<li class="">The configuration files are properly mounted in the container</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-the-oauth2-flow-and-environment-variables">Understanding the OAuth2 Flow and Environment Variables<a href="#understanding-the-oauth2-flow-and-environment-variables" class="hash-link" aria-label="Direct link to Understanding the OAuth2 Flow and Environment Variables" title="Direct link to Understanding the OAuth2 Flow and Environment Variables" translate="no">​</a></h2>
<p>When using SSO, it’s important to understand how the authentication flow works between the WebUI Gateway, the OAuth2 service, and your identity provider (IdP). This section clarifies the purpose of each variable and common configuration mistakes.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-the-oauth2-flow-works">How the OAuth2 Flow Works<a href="#how-the-oauth2-flow-works" class="hash-link" aria-label="Direct link to How the OAuth2 Flow Works" title="Direct link to How the OAuth2 Flow Works" translate="no">​</a></h3>
<ol>
<li class="">A user opens the frontend application (for example, <code>http://localhost:8000</code>).<!-- -->
<ul>
<li class="">The frontend checks whether a valid access token exists (e.g., in local storage or cookies).</li>
<li class="">If no valid token is found or the token has expired, the frontend automatically calls the backend endpoint defined by <code>FRONTEND_AUTH_LOGIN_URL</code> (for example, <code>http://localhost:8000/api/v1/auth/login</code>) to start the authentication process.</li>
</ul>
</li>
<li class="">The WebUI Gateway calls the <code>EXTERNAL_AUTH_SERVICE_URL</code> (typically <code>http://localhost:9000</code>) and passes the <code>EXTERNAL_AUTH_PROVIDER</code> value (such as <code>azure</code> or <code>keycloak</code> or <code>auth0</code>, or <code>google</code>).</li>
<li class="">The OAuth2 service looks up the provider in <code>oauth2_config.yaml</code> and automatically constructs the correct authorization request using the provider’s <code>issuer</code>, <code>client_id</code>, <code>redirect_uri</code>, and <code>scope</code>.</li>
<li class="">The user is redirected to the IdP (e.g., Azure AD, Auth0, or Keycloak) for login.</li>
<li class="">After successful login, the IdP redirects back to <code>EXTERNAL_AUTH_CALLBACK</code> (for example, <code>http://localhost:8000/api/v1/auth/callback</code>).</li>
<li class="">The OAuth2 service exchanges the authorization code for tokens and finalizes authentication.</li>
</ol>
<blockquote>
<p><strong>Note:</strong><br>
<!-- -->You do <em>not</em> need to manually append <code>client_id</code>, <code>scope</code>, or <code>redirect_uri</code> query parameters to the login URL.<br>
<!-- -->The OAuth2 service automatically handles these based on the selected provider in <code>oauth2_config.yaml</code>.</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-environment-variables">Common Environment Variables<a href="#common-environment-variables" class="hash-link" aria-label="Direct link to Common Environment Variables" title="Direct link to Common Environment Variables" translate="no">​</a></h3>
<table><thead><tr><th>Variable</th><th>Purpose</th><th>Example</th></tr></thead><tbody><tr><td><code>FRONTEND_AUTH_LOGIN_URL</code></td><td>The frontend endpoint that triggers authentication. It should <strong>not</strong> include OAuth query parameters.</td><td><code>http://localhost:8000/api/v1/auth/login</code></td></tr><tr><td><code>EXTERNAL_AUTH_SERVICE_URL</code></td><td>URL of the OAuth2 authentication service.</td><td><code>http://localhost:9000</code></td></tr><tr><td><code>EXTERNAL_AUTH_PROVIDER</code></td><td>The IdP name as defined under <code>providers:</code> in <code>oauth2_config.yaml</code>.</td><td><code>azure</code> or <code>keycloak</code></td></tr><tr><td><code>EXTERNAL_AUTH_CALLBACK</code></td><td>Callback URI used after login. Must match the redirect URI registered with your IdP.</td><td><code>http://localhost:8000/api/v1/auth/callback</code></td></tr><tr><td><code>FRONTEND_REDIRECT_URL</code></td><td>Where users are redirected after login completes.</td><td><code>http://localhost:8000</code></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="security-considerations-for-production">Security Considerations for Production<a href="#security-considerations-for-production" class="hash-link" aria-label="Direct link to Security Considerations for Production" title="Direct link to Security Considerations for Production" translate="no">​</a></h2>
<p>When deploying SSO in a production environment, follow these security best practices:</p>
<p>Set OAUTH2_DEV_MODE to &quot;false&quot; to disable insecure transport and enforce proper token validation. This ensures that all OAuth2 communication uses HTTPS with valid SSL certificates.</p>
<p>Use HTTPS for all URLs (FRONTEND_REDIRECT_URL, FRONTEND_AUTH_LOGIN_URL, EXTERNAL_AUTH_SERVICE_URL, and EXTERNAL_AUTH_CALLBACK). Configure SSL certificates using the ssl_cert and ssl_key parameters in oauth2_server.yaml.</p>
<p>Restrict CORS origins by setting OAUTH2_CORS_ORIGINS to your specific domain instead of using the wildcard &quot;*&quot;. This prevents unauthorized websites from making requests to your authentication service.</p>
<p>Regularly rotate your OAuth2 client secrets and update the corresponding environment variables. Store sensitive credentials securely using Docker secrets or a secrets management service rather than passing them directly in the command line.</p>
<p>Configure appropriate session timeouts based on your security requirements. Shorter timeouts increase security but may inconvenience users who need to reauthenticate more frequently.</p>
<p>Monitor authentication logs for suspicious activity and failed login attempts. The OAuth2 service logs all authentication events, which you can review for security auditing.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/SolaceLabs/solace-agent-mesh/edit/main/docs/docs/documentation/enterprise/single-sign-on.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/solace-agent-mesh/docs/documentation/enterprise/rbac-setup-guide"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Role-Based Access Control (RBAC)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/solace-agent-mesh/docs/documentation/enterprise/auth-proxy"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Authentication Proxy</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#understanding-the-sso-architecture" class="table-of-contents__link toc-highlight">Understanding the SSO Architecture</a></li><li><a href="#step-1-create-configuration-files" class="table-of-contents__link toc-highlight">Step 1: Create Configuration Files</a><ul><li><a href="#create-oauth2_serveryaml" class="table-of-contents__link toc-highlight">Create oauth2_server.yaml</a></li><li><a href="#create-oauth2_configyaml" class="table-of-contents__link toc-highlight">Create oauth2_config.yaml</a></li><li><a href="#update-your-webui-gateway" class="table-of-contents__link toc-highlight">Update Your WebUI Gateway</a></li></ul></li><li><a href="#step-2-configure-your-oauth2-provider" class="table-of-contents__link toc-highlight">Step 2: Configure Your OAuth2 Provider</a><ul><li><a href="#for-azure-microsoft-entra-id" class="table-of-contents__link toc-highlight">For Azure (Microsoft Entra ID)</a></li><li><a href="#for-google" class="table-of-contents__link toc-highlight">For Google</a></li><li><a href="#for-other-providers" class="table-of-contents__link toc-highlight">For Other Providers</a></li></ul></li><li><a href="#step-3-launch-the-docker-container" class="table-of-contents__link toc-highlight">Step 3: Launch the Docker Container</a></li><li><a href="#understanding-the-environment-variables" class="table-of-contents__link toc-highlight">Understanding the Environment Variables</a><ul><li><a href="#core-application-settings" class="table-of-contents__link toc-highlight">Core Application Settings</a></li><li><a href="#frontend-authentication-settings" class="table-of-contents__link toc-highlight">Frontend Authentication Settings</a></li><li><a href="#oauth2-service-settings" class="table-of-contents__link toc-highlight">OAuth2 Service Settings</a></li><li><a href="#provider-specific-credentials" class="table-of-contents__link toc-highlight">Provider-Specific Credentials</a></li><li><a href="#external-authentication-configuration" class="table-of-contents__link toc-highlight">External Authentication Configuration</a></li><li><a href="#port-mapping-and-volume-mount" class="table-of-contents__link toc-highlight">Port Mapping and Volume Mount</a></li></ul></li><li><a href="#verifying-your-sso-configuration" class="table-of-contents__link toc-highlight">Verifying Your SSO Configuration</a></li><li><a href="#understanding-the-oauth2-flow-and-environment-variables" class="table-of-contents__link toc-highlight">Understanding the OAuth2 Flow and Environment Variables</a><ul><li><a href="#how-the-oauth2-flow-works" class="table-of-contents__link toc-highlight">How the OAuth2 Flow Works</a></li><li><a href="#common-environment-variables" class="table-of-contents__link toc-highlight">Common Environment Variables</a></li></ul></li><li><a href="#security-considerations-for-production" class="table-of-contents__link toc-highlight">Security Considerations for Production</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Solace Agent Mesh</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/solace-agent-mesh/docs/documentation/getting-started">Documentation</a></li><li class="footer__item"><a href="https://github.com/SolaceLabs/solace-agent-mesh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/SolaceLabs/solace-agent-mesh-core-plugins/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Official Plugins<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://solace.com/products/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Products<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://solace.com/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://solace.com/support/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://solace.com/legal/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy and Legal<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/solacedotcom/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/SolaceLabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/SolaceSystems" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/solacedotcom" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/solace-agent-mesh/img/solace-logo.png" alt="Solace Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="10%" height="10%"><img src="/solace-agent-mesh/img/solace-logo.png" alt="Solace Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="10%" height="10%"></div><div class="footer__copyright">Solace Agent Mesh. Copyright © 2026 Solace. Version: 1.14.0</div></div></div></footer></div>
</body>
</html>