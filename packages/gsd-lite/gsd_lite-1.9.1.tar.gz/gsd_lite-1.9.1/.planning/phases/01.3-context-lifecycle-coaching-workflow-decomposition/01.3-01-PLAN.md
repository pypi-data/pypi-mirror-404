---
phase: 01.3-context-lifecycle-coaching-workflow-decomposition
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - gsd-lite/workflows/moodboard.md
  - gsd-lite/workflows/whiteboard.md
autonomous: true

must_haves:
  truths:
    - "Moodboard workflow is self-contained (~200-300 lines)"
    - "Whiteboard workflow is self-contained (~200-300 lines)"
    - "Both workflows include identical sticky note protocol section"
    - "Both workflows have clear entry/exit conditions"
    - "Coaching philosophy repeated at top of each workflow"
  artifacts:
    - path: "gsd-lite/workflows/moodboard.md"
      provides: "Dream extraction mode protocol"
      contains: "Entry:"
    - path: "gsd-lite/workflows/whiteboard.md"
      provides: "Plan proposal mode protocol"
      contains: "Entry:"
  key_links:
    - from: "gsd-lite/workflows/moodboard.md"
      to: "gsd-lite/workflows/whiteboard.md"
      via: "Exit condition triggers whiteboard"
      pattern: "Exit.*whiteboard"
---

<objective>
Extract planning mode (moodboard + whiteboard) into separate workflow files.

Purpose: Decompose the 929-line monolithic PROTOCOL.md into focused workflows that agents can load individually. This addresses the "context rot" problem observed in eval findings where agents skip critical sections of long protocols.

Output: Two focused workflow files (~200-300 lines each) with identical sticky note sections for universal orientation.
</objective>

<execution_context>
@/Users/luutuankiet/.claude/get-shit-done/workflows/execute-plan.md
@/Users/luutuankiet/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01.3-context-lifecycle-coaching-workflow-decomposition/01.3-RESEARCH.md
@gsd-lite/template/PROTOCOL.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create moodboard.md workflow</name>
  <files>gsd-lite/workflows/moodboard.md</files>
  <action>
Create moodboard.md with the following structure:

1. **Header section** (entry/exit conditions):
```markdown
# Moodboard Workflow
[SYSTEM: MOODBOARD MODE - Dream Extraction]

## Entry Conditions
- New phase starts (no existing WHITEBOARD)
- User requests planning mode
- STATE.md shows no active phase

## Exit Conditions
- User says "ready to see plan" or equivalent
- All context_checklist items satisfied
- Agent offers decision_gate and user confirms
```

2. **Coaching philosophy section** (repeat from research):
- User = founder/visionary, Agent = builder
- User knows: vision, look/feel, essential vs nice-to-have
- User doesn't know (don't ask): codebase patterns, technical risks, implementation approach

3. **Questioning protocol** (extract from PROTOCOL.md lines 195-371):
- how_to_question guidance
- question_types
- question_guideline_and_format (including 10x emoji banner format)
- context_checklist
- decision_gate
- anti_patterns

4. **Sticky note protocol section** (verbatim from PROTOCOL.md lines 505-594):
- Required format with gsd-status marker
- Systematic IDs
- Available actions menu
- Self-check section

Target length: 200-300 lines.
  </action>
  <verify>
- File exists at gsd-lite/workflows/moodboard.md
- Contains "Entry:" and "Exit:" sections
- Contains sticky note protocol with gsd-status marker
- Line count is 200-350 (reasonable range)
- Sticky note section matches canonical format (will be verified for identity with other workflows in Plan 01.3-05)
  </verify>
  <done>
Moodboard workflow is self-contained, includes coaching philosophy, and has identical sticky note section to other workflows.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create whiteboard.md workflow</name>
  <files>gsd-lite/workflows/whiteboard.md</files>
  <action>
Create whiteboard.md with the following structure:

1. **Header section** (entry/exit conditions):
```markdown
# Whiteboard Workflow
[SYSTEM: WHITEBOARD MODE - Plan Proposal]

## Entry Conditions
- After moodboard complete (user says "ready to see plan")
- Or when tasks are already defined (scope known)
- STATE.md shows moodboard complete

## Exit Conditions
- User approves scope ("yes", "approve", etc.)
- User adjusts scope (capture adjustment, re-present)
- Agent transitions to execution mode
```

2. **Coaching philosophy section** (same as moodboard):
- User owns outcome, agent guides execution
- Governance table (from research: decision type / owner / agent role)

3. **Whiteboard format** (extract from PROTOCOL.md lines 373-422):
- 10x emoji banner format for whiteboard
- Systematic ID format (PHASE-NNN, TASK-NNN)
- Scope, Risk, Verification sections
- User action prompt

4. **Scope confirmation protocol**:
- How to handle user adjustments
- How to capture scope changes to STATE.md
- How to transition to execution

5. **Sticky note protocol section** (verbatim - identical to moodboard.md):
- Required format with gsd-status marker
- Systematic IDs
- Available actions menu
- Self-check section

Target length: 200-300 lines.
  </action>
  <verify>
- File exists at gsd-lite/workflows/whiteboard.md
- Contains "Entry:" and "Exit:" sections
- Contains governance table
- Contains sticky note protocol with gsd-status marker
- Line count is 200-350 (reasonable range)
- Sticky note section matches canonical format (will be verified for identity with other workflows in Plan 01.3-05)
  </verify>
  <done>
Whiteboard workflow is self-contained, includes coaching philosophy with governance table, and has identical sticky note section.
  </done>
</task>

</tasks>

<verification>
1. Both workflow files exist in gsd-lite/workflows/
2. Both contain entry/exit conditions clearly marked
3. Both contain coaching philosophy section
4. Both contain IDENTICAL sticky note protocol section
5. No ASCII art - only markdown headers and mermaid diagrams (if any)
6. Combined line count < 700 (avoids recreating monolithic problem)
</verification>

<success_criteria>
- gsd-lite/workflows/moodboard.md exists with self-contained dream extraction protocol
- gsd-lite/workflows/whiteboard.md exists with self-contained plan proposal protocol
- Both files include identical sticky note sections for universal orientation
- Both files explicitly state coaching philosophy (user owns outcome)
</success_criteria>

<output>
After completion, create `.planning/phases/01.3-context-lifecycle-coaching-workflow-decomposition/01.3-01-SUMMARY.md`
</output>
