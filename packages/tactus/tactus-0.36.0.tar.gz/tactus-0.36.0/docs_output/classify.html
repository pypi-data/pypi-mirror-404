<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tactus.classify - Tactus Documentation</title>
    <style>
        :root {
            --bg: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --border: #2a2a2a;
            --text: #e4e4e7;
            --text-secondary: #a1a1aa;
            --accent: #3b82f6;
            --accent-hover: #60a5fa;
            --code-bg: #18181b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            border-bottom: 1px solid var(--border);
            padding-bottom: 2rem;
            margin-bottom: 2rem;
        }

        h1, h2, h3, h4, h5, h6 {
            margin-top: 1.5em;
            margin-bottom: 0.5em;
            font-weight: 600;
        }

        h1 { font-size: 2.5rem; margin-top: 0; }
        h2 { font-size: 1.875rem; border-bottom: 1px solid var(--border); padding-bottom: 0.3em; }
        h3 { font-size: 1.5rem; }
        h4 { font-size: 1.25rem; }

        a {
            color: var(--accent);
            text-decoration: none;
        }

        a:hover {
            color: var(--accent-hover);
            text-decoration: underline;
        }

        pre {
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        code {
            background: var(--code-bg);
            padding: 0.2em 0.4em;
            border-radius: 0.25rem;
            font-family: "SF Mono", Monaco, Consolas, monospace;
            font-size: 0.875em;
        }

        pre code {
            background: none;
            padding: 0;
        }

        .scenario {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .scenario h3 {
            margin-top: 0;
            color: var(--accent);
        }

        .step {
            padding: 0.5rem 0;
            color: var(--text-secondary);
        }

        .step strong {
            color: var(--accent);
        }

        .parameter {
            background: var(--bg-secondary);
            border-left: 3px solid var(--accent);
            padding: 1rem;
            margin: 1rem 0;
        }

        .parameter-name {
            font-family: "SF Mono", Monaco, Consolas, monospace;
            color: var(--accent);
            font-weight: 600;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .badge-required {
            background: #ef4444;
            color: white;
        }

        .badge-optional {
            background: #64748b;
            color: white;
        }

        .nav-links {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
        }

        ul, ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        blockquote {
            border-left: 3px solid var(--accent);
            padding-left: 1rem;
            color: var(--text-secondary);
            margin: 1rem 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--bg-secondary);
            font-weight: 600;
        }

        .overview {
            background: var(--bg-secondary);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 2rem 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>tactus.classify</h1>
            <div class="nav-links">
                <a href="index.html">‚Üê Back to Index</a>
            </div>
        </header>

        <main>
            


<div class="overview">
    <h1>Classification Module</h1>
<p>The <code>tactus.classify</code> module provides a comprehensive classification system with support for both LLM-based and fuzzy string matching approaches.</p>
<h2>Overview</h2>
<p>All classifiers extend <code>BaseClassifier</code> and share a common interface, making them interchangeable. This enables you to switch between LLM and fuzzy matching without changing your code structure.</p>
<h2>When to Use</h2>
<ul>
<li>
<p><strong>LLMClassifier</strong>: Use when you need semantic understanding and context-aware classification. Ideal for ambiguous cases where the answer isn't just string matching.</p>
</li>
<li>
<p><strong>FuzzyMatchClassifier</strong>: Use when you're matching against known expected values with typo tolerance. Much faster than LLM calls and doesn't require API access.</p>
</li>
</ul>
<h2>Architecture</h2>
<p>The module uses a proper Lua class hierarchy:</p>
<ul>
<li><code>BaseClassifier</code> - Abstract base with common interface</li>
<li><code>LLMClassifier</code> - LLM-powered classification with automatic retry logic</li>
<li><code>FuzzyMatchClassifier</code> - String similarity matching with configurable thresholds</li>
</ul>
<p>All classifiers return a consistent result format:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;Yes&quot;</span><span class="p">,</span>           <span class="c1">-- Classification result</span>
    <span class="n">confidence</span> <span class="o">=</span> <span class="mf">0.85</span><span class="p">,</span>       <span class="c1">-- Confidence score (0.0-1.0)</span>
    <span class="n">retry_count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>         <span class="c1">-- Number of retries needed</span>
    <span class="n">matched_text</span> <span class="o">=</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span>    <span class="c1">-- Original matched text (fuzzy only)</span>
    <span class="n">raw_response</span> <span class="o">=</span> <span class="s2">&quot;...&quot;</span>     <span class="c1">-- LLM response (LLM only)</span>
<span class="p">}</span>
</code></pre></div>

<h2>Loading the Module</h2>
<div class="codehilite"><pre><span></span><code><span class="c1">-- Load the main module</span>
<span class="kd">local</span> <span class="n">classify</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;tactus.classify&quot;</span><span class="p">)</span>

<span class="c1">-- Or load specific classifiers (dependencies auto-load)</span>
<span class="kd">local</span> <span class="n">LLMClassifier</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;tactus.classify.llm&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">FuzzyMatchClassifier</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;tactus.classify.fuzzy&quot;</span><span class="p">)</span>
</code></pre></div>

<h2>Performance Notes</h2>
<ul>
<li>LLM classification typically takes 1-3 seconds per call</li>
<li>Fuzzy matching is nearly instantaneous (&lt;1ms)</li>
<li>Consider caching LLM results for repeated classifications</li>
<li>Fuzzy matching works offline and requires no API keys</li>
</ul>
<h2>Extending Classifiers</h2>
<p>You can extend <code>BaseClassifier</code> to create custom classifiers:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">local</span> <span class="n">base</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;tactus.classify.base&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">class</span> <span class="o">=</span> <span class="n">base</span><span class="p">.</span><span class="n">class</span>
<span class="kd">local</span> <span class="n">BaseClassifier</span> <span class="o">=</span> <span class="n">base</span><span class="p">.</span><span class="n">BaseClassifier</span>

<span class="n">MyClassifier</span> <span class="o">=</span> <span class="n">class</span><span class="p">(</span><span class="n">BaseClassifier</span><span class="p">)</span>

<span class="kr">function</span> <span class="nc">MyClassifier</span><span class="p">:</span><span class="nf">init</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="n">BaseClassifier</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
    <span class="c1">-- Your initialization</span>
<span class="kr">end</span>

<span class="kr">function</span> <span class="nc">MyClassifier</span><span class="p">:</span><span class="nf">classify</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="c1">-- Your classification logic</span>
    <span class="kr">return</span> <span class="p">{</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;Yes&quot;</span><span class="p">,</span>
        <span class="n">confidence</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="n">retry_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">}</span>
<span class="kr">end</span>
</code></pre></div>
</div>



<h2>Examples</h2>

    
    <div class="scenario">
        <h3>Usage</h3>
        
        <pre><code class="language-lua">-- Import classification classes
local classify = require(&#34;tactus.classify&#34;)
local LLMClassifier = classify.LLMClassifier
local FuzzyMatchClassifier = classify.FuzzyMatchClassifier

-- Or load specific classifiers (dependencies auto-load):
local LLMClassifier = require(&#34;tactus.classify.llm&#34;)

-- LLM Classification
local classifier = LLMClassifier:new {
    classes = {&#34;Yes&#34;, &#34;No&#34;},
    prompt = &#34;Is this a question?&#34;,
    model = &#34;openai/gpt-4o-mini&#34;
}
local result = classifier:classify(&#34;How are you?&#34;)

-- Fuzzy Matching
local fuzzy = FuzzyMatchClassifier:new {
    expected = &#34;hello&#34;,
    threshold = 0.8
}
local result = fuzzy:classify(&#34;helo&#34;)</code></pre>
    </div>
    

    

    

    

    

    

    

    






<h2>Specifications</h2>

    <h3>Classification Class Hierarchy</h3>
    

    
    <div class="scenario">
        <h4>LLM binary classification</h4>
        
        <div class="step">
            <strong>Given</strong> an LLM classifier with classes &#34;Yes&#34; and &#34;No&#34;
        </div>
        
        <div class="step">
            <strong>And</strong> prompt &#34;Is this a question?&#34;
        </div>
        
        <div class="step">
            <strong>When</strong> I classify &#34;How are you?&#34;
        </div>
        
        <div class="step">
            <strong>Then</strong> the result value should be &#34;Yes&#34;
        </div>
        
        <div class="step">
            <strong>And</strong> the result should have a confidence score
        </div>
        
    </div>
    
    <div class="scenario">
        <h4>LLM multi-class classification</h4>
        
        <div class="step">
            <strong>Given</strong> an LLM classifier with classes &#34;positive&#34;, &#34;negative&#34;, and &#34;neutral&#34;
        </div>
        
        <div class="step">
            <strong>And</strong> prompt &#34;What is the sentiment?&#34;
        </div>
        
        <div class="step">
            <strong>When</strong> I classify &#34;I love this product!&#34;
        </div>
        
        <div class="step">
            <strong>Then</strong> the result value should be &#34;positive&#34;
        </div>
        
    </div>
    
    <div class="scenario">
        <h4>LLM negative sentiment</h4>
        
        <div class="step">
            <strong>Given</strong> an LLM classifier with classes &#34;positive&#34;, &#34;negative&#34;, and &#34;neutral&#34;
        </div>
        
        <div class="step">
            <strong>And</strong> prompt &#34;What is the sentiment?&#34;
        </div>
        
        <div class="step">
            <strong>When</strong> I classify &#34;This is terrible&#34;
        </div>
        
        <div class="step">
            <strong>Then</strong> the result value should be &#34;negative&#34;
        </div>
        
    </div>
    
    <div class="scenario">
        <h4>LLM neutral sentiment</h4>
        
        <div class="step">
            <strong>Given</strong> an LLM classifier with classes &#34;positive&#34;, &#34;negative&#34;, and &#34;neutral&#34;
        </div>
        
        <div class="step">
            <strong>And</strong> prompt &#34;What is the sentiment?&#34;
        </div>
        
        <div class="step">
            <strong>When</strong> I classify &#34;The sky is blue&#34;
        </div>
        
        <div class="step">
            <strong>Then</strong> the result value should be &#34;neutral&#34;
        </div>
        
    </div>
    
    <div class="scenario">
        <h4>Fuzzy match with typo</h4>
        
        <div class="step">
            <strong>Given</strong> a fuzzy classifier expecting &#34;hello&#34;
        </div>
        
        <div class="step">
            <strong>When</strong> I classify &#34;helo&#34;
        </div>
        
        <div class="step">
            <strong>Then</strong> the result value should be &#34;Yes&#34;
        </div>
        
        <div class="step">
            <strong>And</strong> the matched_text should be &#34;hello&#34;
        </div>
        
    </div>
    
    <div class="scenario">
        <h4>Fuzzy match exact</h4>
        
        <div class="step">
            <strong>Given</strong> a fuzzy classifier expecting &#34;hello&#34;
        </div>
        
        <div class="step">
            <strong>When</strong> I classify &#34;hello&#34;
        </div>
        
        <div class="step">
            <strong>Then</strong> the result value should be &#34;Yes&#34;
        </div>
        
    </div>
    
    <div class="scenario">
        <h4>Fuzzy match failure</h4>
        
        <div class="step">
            <strong>Given</strong> a fuzzy classifier expecting &#34;hello&#34;
        </div>
        
        <div class="step">
            <strong>When</strong> I classify &#34;goodbye&#34;
        </div>
        
        <div class="step">
            <strong>Then</strong> the result value should be &#34;No&#34;
        </div>
        
    </div>
    





<div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border); color: var(--text-secondary); font-size: 0.875rem;">
    <p><strong>Source:</strong> <code>tactus/stdlib/tac/tactus/classify.spec.tac</code></p>
    <p style="margin-top: 0.5rem;"><strong>Lines:</strong> 192</p>
</div>


        </main>

        <footer class="nav-links">
            <p style="color: var(--text-secondary);">
                Generated with <a href="https://github.com/AnthusAI/Tactus">Tactus</a>
            </p>
        </footer>
    </div>
</body>
</html>