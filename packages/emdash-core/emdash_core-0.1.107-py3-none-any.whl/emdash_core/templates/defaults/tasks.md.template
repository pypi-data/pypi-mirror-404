# Implementation Plan Rules

> How we break down features into actionable tasks.

## Document Structure

An implementation plan should have:

1. **Overview** - 1-2 sentences of what we're building and approach
2. **Reviewer** - Code owner (person with most commits to affected files)
3. **Blockers** - Only if there are actual blockers (open PRs, unclear requirements)
4. **Tasks** - Numbered list of specific, single-file tasks
5. **Tests** - What to test and where test patterns live

## Task Design Principles

Each task should be:

- **Single-prompt executable** - An LLM can complete it in one go
- **One file focus** - Primarily touches ONE file
- **Pattern-based** - References similar existing code ("do it like X")
- **Specific** - Exact file paths and line numbers, not vague directions

## What to Explore First

Before writing tasks:
- Find similar PRs to learn team patterns
- Use get_file_history to find the CODE OWNER (most commits, not PR similarity)
- Check for open PRs that might conflict
- Map which files need changes

## Example Format

```markdown
# Implementation Plan: Feature Name

## Overview
Brief description of what and how.

## Reviewer
Name - top contributor to `affected/files/` (X commits)

## Blockers
- PR #123 touches same files (wait or coordinate)

## Tasks

### 1. Add the new component
**File**: `src/components/NewThing.tsx`

Create a new component following the pattern in `src/components/ExistingThing.tsx:15-45`.
It should accept X props and render Y.

**Done when**:
- [ ] Component renders correctly
- [ ] Props are typed

---

### 2. Wire up to the parent
**File**: `src/pages/Parent.tsx`

Import and use NewThing. Follow how OtherThing is used on line 78.

**Done when**:
- [ ] NewThing appears on the page

## Tests
Add tests in `src/__tests__/` following the pattern in `ExistingThing.test.tsx`.
```

## Things to Avoid

- Time estimates (no "2-3 hours")
- Vague tasks ("improve error handling")
- Tasks that touch many files
- Sections listing "what I found" - synthesize into tasks
- Guessing where code should go - explore more if unsure
