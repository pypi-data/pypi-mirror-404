[build-system]
requires = ["setuptools", "wheel", "setuptools-scm>=8"]
build-backend = "setuptools.build_meta"

[project]
name = "ayechat"
dynamic = ["version"]
description = "Aye Chat: Terminal-first AI Code Generator"
readme = "README.md"
requires-python = ">=3.10, <3.14"
license = {text = "MIT"}
authors = [{name = "Acrotron, Inc.", email = "info@acrotron.com"}]

# Runtime dependencies
dependencies = [
    "typer>=0.20.0",          # CLI framework + rich formatting (Python 3.8+)
    "httpx>=0.28.1",              # HTTP client
    "keyring>=25.7.0",            # Secure storage for the token (Python 3.10+)
    "prompt-toolkit>=3.0.52",     # REPL UI
    "pathspec>=0.12.1",           # Utility library for gitignore style pattern matching of file paths.
    "chromadb>=1.3.5",            # Vector DB with lightweight ONNX runtime for embeddings (Python 3.10+)
    "rapidfuzz",
]

[project.urls]
Homepage = "https://ayechat.ai"
Repository = "https://github.com/acrotron/aye-chat"
Issues = "https://github.com/acrotron/aye-chat/issues"

[project.optional-dependencies]
# Optional development dependencies (tests, linting, etc.)
dev = [
    "pytest>=9.0.1",                # test runner (Python 3.10+)
    "ruff>=0.14.6",                  # linting/formatter (Python 3.7+)
    "coverage>=7.12.0",              # code coverage (Python 3.10+)
    "pexpect>=4.9.0",
]

[project.scripts]
# Console script – after installation `aye` will be on the PATH
aye = "aye.__main__:app"

[tool.setuptools]
# Configuration for setuptools
package-dir = {"" = "src"}          # “src/” is the source root
packages = ["aye"]                 # the only package we ship
include-package-data = true

[tool.setuptools_scm]
# This regex allows setuptools-scm to parse versions from tags with or without a 'v' prefix (e.g., 'v1.2.3' or '1.2.3').
tag_regex = "^(?:v)?(?P<version>[^\\+]+)$"
