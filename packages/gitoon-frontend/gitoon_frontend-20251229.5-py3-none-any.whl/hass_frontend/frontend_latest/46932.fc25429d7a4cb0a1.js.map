{"version":3,"file":"46932.fc25429d7a4cb0a1.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251229.5/src/panels/lovelace/cards/energy/hui-energy-usage-graph-card.ts"],"names":["colorPropertyMap","to_grid","to_battery","from_grid","used_grid","used_solar","used_battery","HuiEnergyUsageGraphCard","SubscribeMixin","LitElement","hassSubscribe","getEnergyDataCollection","this","hass","key","_config","collection_key","subscribe","data","_getStatistics","getCardSize","setConfig","config","shouldUpdate","changedProps","hasConfigChanged","size","has","render","html","title","_total","_formatTotal","localize","num","formatNumber","locale","nothing","classMap","_chartData","_createOptions","_start","_end","_compareStart","_compareEnd","some","dataset","length","isToday","energyData","datasets","statIds","source","prefs","energy_sources","type","flowFrom","flow_from","push","stat_energy_from","flowTo","flow_to","stat_energy_to","from_battery","solar","computedStyles","getComputedStyle","colorIndices","Object","keys","forEach","values","id","idx","labels","start","end","endOfToday","startCompare","endCompare","summedData","compareSummedData","getSummedData","consumption","compareConsumption","computeConsumptionData","statsCompare","_processDataSet","statsMetadata","stack","order","stats","sort","a","b","fillDataGapsAndRoundCaps","_processTotal","total","used_total","undefined","statistics","statisticsMetaData","consumptionData","statIdsByCat","compare","combinedData","entries","includes","sets","set","stat","change","val","grid_to_battery","noOfSources","uniqueKeys","timestamps","compareTransform","getCompareTransform","sources","statId","points","value","dataPoint","Date","cursor","name","getStatisticLabel","barMaxWidth","itemStyle","borderColor","getEnergyColor","themes","darkMode","color","args","startOfToday","hassSubscribeRequiredHostProps","memoizeOne","compareStart","compareEnd","commonOptions","getCommonOptions","tooltip","formatter","params","Array","isArray","aValue","bValue","componentIndex","styles","css","attribute"],"mappings":"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"}