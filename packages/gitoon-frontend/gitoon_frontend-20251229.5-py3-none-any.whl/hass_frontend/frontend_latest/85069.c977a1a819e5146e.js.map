{"version":3,"file":"85069.c977a1a819e5146e.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251229.5/src/panels/lovelace/cards/water/hui-water-sankey-card.ts"],"names":["DEFAULT_CONFIG","group_by_floor","group_by_area","HuiWaterSankeyCard","SubscribeMixin","MobileAwareMixin","LitElement","setConfig","config","this","_config","hassSubscribe","getEnergyDataCollection","hass","key","collection_key","subscribe","data","_data","getCardSize","getGridOptions","columns","min_columns","rows","min_rows","shouldUpdate","changedProps","has","render","nothing","html","localize","prefs","waterSources","energy_sources","filter","source","type","computedStyle","getComputedStyle","nodes","links","totalDownstreamConsumption","device_consumption_water","reduce","total","device","stat_consumption","stats","calculateStatisticSumGrowth","totalSourceSupply","stat_energy_from","totalWaterConsumption","Math","max","homeNode","id","label","value","color","getPropertyValue","trim","index","push","waterColor","forEach","getStatisticLabel","statsMetadata","target","untrackedConsumption","deviceNodes","parentLinks","idx","node","name","getGraphColorByIndex","parent","included_in_stat","devicesWithoutParent","areas","floors","_groupByFloorAndArea","Object","keys","sort","a","b","level","Infinity","floorId","floorNodeId","areaId","targetNodeId","areaNodeId","devices","deviceNode","deviceSections","_getDeviceSections","section","length","hasData","some","vertical","layout","_isMobileSize","title","classMap","_valueFormatter","no_area","no_floor","entity","states","area","floor","getEntityContext","entities","area_id","floor_id","includes","unshift","parentSection","childSection","parentIds","values","remainingLinks","isChild","entries","child","args","hassSubscribeRequiredHostProps","formatNumber","locale","maximumFractionDigits","undefined","waterUnit","styles","css","attribute"],"mappings":"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"}