{"version":3,"file":"77183.351ffb7898fe534f.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251229.5/src/common/datetime/calc_date.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251229.5/src/common/datetime/calc_date_range.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251229.5/src/common/util/group-by.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251229.5/src/data/energy.ts"],"names":["calcZonedDate","date","tz","fn","options","fnResult","TZDate","Date","getTime","calcDate","locale","config","time_zone","TimeZone","calcDateProperty","calcDateDifferenceProperty","endDate","startDate","shiftDateRange","forward","start","end","isFirstDayOfMonth","isLastDayOfMonth","difference","differenceInMonths","addMonths","endOfMonth","startOfDay","getMilliseconds","endOfDay","differenceInDays","addDays","differenceInMilliseconds","addMilliseconds","parseDate","timezone","tzDate","formatDate","toISOString","split","formatTime","calcDateRange","hass","range","today","weekStartsOn","firstWeekdayIndex","startOfWeek","endOfWeek","startOfMonth","startOfQuarter","endOfQuarter","startOfYear","endOfYear","subDays","subMonths","subHours","groupBy","list","keySelector","result","item","key","push","energyCollectionKeys","emptyFlowFromGridSourceEnergyPreference","stat_energy_from","stat_cost","entity_energy_price","number_energy_price","emptyFlowToGridSourceEnergyPreference","stat_energy_to","stat_compensation","emptyGridSourceEnergyPreference","type","flow_from","flow_to","cost_adjustment_day","emptySolarEnergyPreference","config_entry_solar_forecast","emptyBatteryEnergyPreference","emptyGasEnergyPreference","emptyWaterEnergyPreference","getEnergyInfo","callWS","getEnergyPreferenceValidation","async","loadBackendTranslation","getEnergyPreferences","saveEnergyPreferences","prefs","newPrefs","clearEnergyCollectionPreferences","getFossilEnergyConsumption","startTime","energy_statistic_ids","co2_statistic_id","endTime","period","start_time","end_time","energySourcesByType","energy_sources","getReferencedStatisticIds","info","includeTypes","statIDs","source","includes","costStatId","cost_sensors","flowFrom","flowTo","device_consumption","map","d","stat_consumption","device_consumption_water","getReferencedStatisticIdsPower","power","p","stat_rate","filter","Boolean","CompareMode","getEnergyData","compare","co2SignalEntity","entity","Object","values","entities","platform","co2State","states","entity_id","attributes","unit_of_measurement","consumptionStatIDs","energyStatIds","powerStatIds","waterStatIds","allStatIDs","dayDifference","finePeriod","statsMetadata","statsMetadataArray","length","getStatisticMetadata","forEach","x","statistic_id","gasUnit","getEnergyGasUnit","energyUnits","energy","volume","VOLUME_UNITS","undefined","waterUnit","getEnergyWaterUnit","waterUnits","_energyStats","fetchStatistics","_powerStats","_waterStats","statsCompare","startCompare","endCompare","_fossilEnergyConsumption","_fossilEnergyConsumptionCompare","_energyStatsCompare","_waterStatsCompare","addYears","energyStats","powerStats","waterStats","energyStatsCompare","waterStatsCompare","fossilEnergyConsumption","fossilEnergyConsumptionCompare","Promise","all","compareMode","stats","energyCollection","getEnergyDataCollection","clearPrefs","_active","refresh","scheduleHourlyRefresh","collection","_refreshTimeout","clearTimeout","nextFetch","getMinutes","setHours","getHours","setMinutes","window","setTimeout","now","startsWith","Error","connection","getCollection","origSubscribe","subscribe","subscriber","unsub","hour","formatTime24h","preferredPeriod","localStorage","getItem","scheduleUpdatePeriod","_updatePeriodTimeout","addHours","setPeriod","newStart","newEnd","setCompare","getEnergySolarForecasts","energyGasUnitClass","getEnergyGasUnitClass","excludeSource","statisticsMetaData","statisticIdWithMeta","unit_class","units","s","getDisplayUnit","first","every","u","unit_system","energyStatisticHelpUrl","getSummedData","memoizeOne","data","summedData","getSummedDataPartial","compareSummedData","statIds","from_grid","to_grid","to_battery","from_battery","solar","total","timestamps","Set","entries","subStatIds","totalStats","sets","sum","id","stat","change","val","add","Array","from","sort","computeConsumptionData","compareData","consumption","computeConsumptionDataPartial","compareConsumption","outData","used_total","grid_to_battery","battery_to_grid","solar_to_battery","solar_to_grid","used_solar","used_grid","used_battery","t","computeConsumptionSingle","Math","max","used_total_remaining","excess_grid_in_after_consumption","min","grid_to_battery_2","formatConsumptionShort","unit","targetUnit","pickedUnit","targetUnitIndex","findIndex","unitIndex","abs","formatNumber","maximumFractionDigits","calculateSolarConsumedGauge","hasBattery","_","solarProduction","solarConsumed","solarReturned","batteryLifo","value","batteryToGrid","usedBattery","drainBattery","amount","lastLifo","pop","totalProduction","getPowerFromState","stateObj","parseFloat","state","isNaN","formatPowerShort","powerWatts"],"mappings":"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"}