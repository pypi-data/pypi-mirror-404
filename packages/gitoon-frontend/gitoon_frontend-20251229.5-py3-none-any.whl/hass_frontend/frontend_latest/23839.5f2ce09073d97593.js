export const __rspack_esm_id="23839";export const __rspack_esm_ids=["23839"];export const __webpack_modules__={90433(e,t,o){o.d(t,{Vy:()=>i,fI:()=>r,ux:()=>s});var a=o(22786),n=o(79468);function i(e,t){const o=e%54+1;return t.getPropertyValue(`--color-${o}`)}function r(e,t){const o=t.getPropertyValue(`--graph-color-${e+1}`)||i(e,t);return(0,n.RQ)(o)}const s=(0,a.A)(e=>Array.from({length:54},(t,o)=>r(o,e)),(e,t)=>e[0].getPropertyValue("--graph-color-1")===t[0].getPropertyValue("--graph-color-1")&&e[0].getPropertyValue("--color-1")===t[0].getPropertyValue("--color-1"))},72487(e,t,o){o.a(e,async function(e,a){try{o.d(t,{CA:()=>z,Pm:()=>x,Wq:()=>w,Yq:()=>h,fr:()=>_,gu:()=>A,kz:()=>m,sl:()=>y,zB:()=>u});o(18111),o(20116);var n=o(74487),i=o(22786),r=o(46927),s=o(8480),l=e([n,s]);[n,s]=l.then?(await l)():l;(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",month:"long",day:"numeric",timeZone:(0,s.w)(e.time_zone,t)}));const h=(e,t,o)=>c(t,o.time_zone).format(e),c=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",timeZone:(0,s.w)(e.time_zone,t)})),m=(e,t,o)=>g(t,o.time_zone).format(e),g=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",timeZone:(0,s.w)(e.time_zone,t)})),u=(e,t,o)=>{const a=d(t,o.time_zone);if(t.date_format===r.ow.language||t.date_format===r.ow.system)return a.format(e);const n=a.formatToParts(e),i=n.find(e=>"literal"===e.type)?.value,s=n.find(e=>"day"===e.type)?.value,l=n.find(e=>"month"===e.type)?.value,h=n.find(e=>"year"===e.type)?.value,c=n[n.length-1];let m="literal"===c?.type?c?.value:"";"bg"===t.language&&t.date_format===r.ow.YMD&&(m="");return{[r.ow.DMY]:`${s}${i}${l}${i}${h}${m}`,[r.ow.MDY]:`${l}${i}${s}${i}${h}${m}`,[r.ow.YMD]:`${h}${i}${l}${i}${s}${m}`}[t.date_format]},d=(0,i.A)((e,t)=>{const o=e.date_format===r.ow.system?void 0:e.language;return e.date_format===r.ow.language||(e.date_format,r.ow.system),new Intl.DateTimeFormat(o,{year:"numeric",month:"numeric",day:"numeric",timeZone:(0,s.w)(e.time_zone,t)})}),y=(e,t,o)=>p(t,o.time_zone).format(e),p=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{day:"numeric",month:"short",timeZone:(0,s.w)(e.time_zone,t)})),_=(e,t,o)=>f(t,o.time_zone).format(e),f=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",year:"numeric",timeZone:(0,s.w)(e.time_zone,t)})),w=(e,t,o)=>b(t,o.time_zone).format(e),b=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",timeZone:(0,s.w)(e.time_zone,t)})),x=(e,t,o)=>v(t,o.time_zone).format(e),v=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",timeZone:(0,s.w)(e.time_zone,t)})),z=(e,t,o)=>M(t,o.time_zone).format(e),M=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",timeZone:(0,s.w)(e.time_zone,t)})),A=(e,t,o)=>$(t,o.time_zone).format(e),$=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"short",timeZone:(0,s.w)(e.time_zone,t)}));a()}catch(e){a(e)}})},30162(e,t,o){o.a(e,async function(e,a){try{o.d(t,{LW:()=>y,Xs:()=>u,fU:()=>h,ie:()=>m});var n=o(74487),i=o(22786),r=o(8480),s=o(69543),l=e([n,r]);[n,r]=l.then?(await l)():l;const h=(e,t,o)=>c(t,o.time_zone).format(e),c=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,r.w)(e.time_zone,t)})),m=(e,t,o)=>g(t,o.time_zone).format(e),g=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,r.w)(e.time_zone,t)})),u=(e,t,o)=>d(t,o.time_zone).format(e),d=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,r.w)(e.time_zone,t)})),y=(e,t,o)=>p(t,o.time_zone).format(e),p=(0,i.A)((e,t)=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,r.w)(e.time_zone,t)}));a()}catch(e){a(e)}})},8480(e,t,o){o.a(e,async function(e,a){try{o.d(t,{n:()=>l,w:()=>h});var n=o(74487),i=o(46927),r=e([n]);n=(r.then?(await r)():r)[0];const s=Intl.DateTimeFormat?.().resolvedOptions?.().timeZone,l=s??"UTC",h=(e,t)=>e===i.Wj.local&&s?l:t;a()}catch(e){a(e)}})},69543(e,t,o){o.d(t,{J:()=>i});var a=o(22786),n=o(46927);const i=(0,a.A)(e=>{if(e.time_format===n.Hg.language||e.time_format===n.Hg.system){const t=e.time_format===n.Hg.language?e.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(t).includes("10")}return e.time_format===n.Hg.am_pm})},76774(e,t,o){o.d(t,{w:()=>a});const a=(e,t)=>{const o=e.area_id,a=o?t.areas[o]:void 0,n=a?.floor_id;return{device:e,area:a||null,floor:(n?t.floors[n]:void 0)||null}}},75428(e,t,o){o.d(t,{D:()=>i});var a=o(75158),n=o.n(a);const i=e=>n()(e,{whiteList:{},stripIgnoreTag:!0,stripIgnoreTagBody:!0})},34218(e,t,o){o.d(t,{P:()=>a});o(44114),o(18111),o(18237);function a(e,t,o,a,i=!1){if(!e)return[];if(e.length<=t)return e;const r=o??n(e[0])[0],s=a??n(e[e.length-1])[0],l=Math.ceil((s-r)/Math.floor(t)),h=new Map;for(const t of e){const e=n(t);if(!Array.isArray(e))continue;const o=Number(e[0]),a=Number(e[1]);if(isNaN(o)||isNaN(a))continue;const i=Math.floor((o-r)/l),s=h.get(i);s?s.push({point:t,x:o,y:a}):h.set(i,[{point:t,x:o,y:a}])}const c=[];if(i)for(const[e,t]of h){const e=t.reduce((e,t)=>e+t.y,0)/t.length,o=t.reduce((e,t)=>e+t.x,0)/t.length,a=n(t[0].point),i=Array.isArray(a)?[o,e]:{value:[o,e]};c.push(i)}else for(const[e,t]of h){let e=t[0],o=t[0];for(const a of t)a.y<e.y&&(e=a),a.y>o.y&&(o=a);e.x>o.x&&c.push(o.point),c.push(e.point),e.x<o.x&&c.push(o.point)}return c}function n(e){return e&&"object"==typeof e&&"value"in e?e.value:e}},7358(e,t,o){o.a(e,async function(e,t){try{o(44114),o(18111),o(22489),o(20116),o(7588),o(61701);var a=o(62826),n=o(96196),i=o(44457),r=o(22786),s=o(71769),l=o(44439),h=o(54706),c=o(19459),m=e([l]);l=(m.then?(await m)():m)[0];const g="M9.6,14L12,7.7L14.4,14M11,5L5.5,19H7.7L8.8,16H15L16.1,19H18.3L13,5H11Z",u="M5,10A2,2 0 0,0 3,12C3,13.11 3.9,14 5,14C6.11,14 7,13.11 7,12A2,2 0 0,0 5,10M5,16A4,4 0 0,1 1,12A4,4 0 0,1 5,8A4,4 0 0,1 9,12A4,4 0 0,1 5,16M10.5,11H14V8L18,12L14,16V13H10.5V11M5,6C4.55,6 4.11,6.05 3.69,6.14C5.63,3.05 9.08,1 13,1C19.08,1 24,5.92 24,12C24,18.08 19.08,23 13,23C9.08,23 5.63,20.95 3.69,17.86C4.11,17.95 4.55,18 5,18C5.8,18 6.56,17.84 7.25,17.56C8.71,19.07 10.74,20 13,20A8,8 0 0,0 21,12A8,8 0 0,0 13,4C10.74,4 8.71,4.93 7.25,6.44C6.56,6.16 5.8,6 5,6Z";let d;class y extends((0,h.E)(n.WF)){hassSubscribe(){return[(0,s.m)("(prefers-reduced-motion)",e=>{this._reducedMotion!==e&&(this._reducedMotion=e)})]}render(){if(!d||!this.data.nodes?.length)return n.s6;const e=window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches;return n.qy`<ha-chart-base .hass="${this.hass}" .data="${this._getSeries(this.data,this._physicsEnabled,this._reducedMotion,this._showLabels,e)}" .options="${this._createOptions(this.data?.categories)}" height="100%" .extraComponents="${[d]}"> <slot name="button" slot="button"></slot> <ha-icon-button slot="button" class="${this._physicsEnabled?"active":"inactive"}" .path="${u}" @click="${this._togglePhysics}" label="${this.hass.localize("ui.panel.config.common.graph.toggle_physics")}"></ha-icon-button> <ha-icon-button slot="button" class="${this._showLabels?"active":"inactive"}" .path="${g}" @click="${this._toggleLabels}" label="${this.hass.localize("ui.panel.config.common.graph.toggle_labels")}"></ha-icon-button> </ha-chart-base>`}_getPositionedNodes(e,t,o){const a=this.clientWidth,n=this.clientHeight,i=e.map(e=>({...e}));return i.forEach(e=>{o[e.id]&&(e.x=o[e.id].x,e.y=o[e.id].y),0===e.polarDistance&&(null==e.x&&null==e.y&&(e.x=a/2,e.y=n/2),this._positionNodeNeighbors(e,i,t,o))}),i.forEach(e=>{if(e.polarDistance&&null==e.x&&null==e.y){const t=2*Math.random()*Math.PI;e.x=Math.cos(t)*a/2*e.polarDistance+a/2,e.y=Math.sin(t)*n/2*e.polarDistance+n/2,this._nodePositions[e.id]={x:e.x,y:e.y}}}),i}_positionNodeNeighbors(e,t,o,a,n,i=0,r=2*Math.PI){const s=o.map(o=>o.source!==e.id||o.target===n||o.ignoreForceLayout?o.target!==e.id||o.source===n||o.ignoreForceLayout?null:t.find(e=>e.id===o.source):t.find(e=>e.id===o.target)).filter(Boolean);if(!s.length)return;const l=Math.abs(r-i)/s.length,h=[];s.forEach((t,o)=>{if(null==t.x&&null==t.y){const n=i+l*o+l/2;h.push({neighbor:t,angle:n}),a[t.id]?(t.x=a[t.id].x,t.y=a[t.id].y):(t.x=e.x+Math.cos(n)*this.clientWidth/4,t.y=e.y+Math.sin(n)*this.clientHeight/4)}}),h.forEach(({neighbor:n,angle:i})=>{this._positionNodeNeighbors(n,t,o,a,e.id,i-Math.PI/2,i+Math.PI/2)})}_togglePhysics(){this._saveNodePositions(),this._physicsEnabled=!this._physicsEnabled}_toggleLabels(){this._showLabels=!this._showLabels}_saveNodePositions(){const e={};this._baseChart?.chart&&this._baseChart.chart.getModel().getSeriesByIndex(0).getGraph().eachNode(t=>{const o=t.getLayout();o&&(e[t.id]={x:o[0],y:o[1]})}),this._nodePositions=e}constructor(){super(),this._reducedMotion=!1,this._physicsEnabled=!0,this._showLabels=!0,this._nodePositions={},this._createOptions=(0,r.A)(e=>({tooltip:{trigger:"item",confine:!0,formatter:this.tooltipFormatter},legend:{show:!!e?.length,data:e?.map(e=>({...e,icon:e.symbol})),top:8},dataZoom:{type:"inside",filterMode:"none"}}),c.b),this._getSeries=(0,r.A)((e,t,o,a,n)=>({id:"network",type:"graph",layout:t?"force":"none",draggable:!0,roam:!0,roamTrigger:"global",selectedMode:"single",label:{show:a,position:"right",formatter:e=>{const t=e.data;return t.context?`{primary|${t.name??""}}\n{secondary|${t.context}}`:t.name??""},rich:{primary:{fontSize:12},secondary:{fontSize:12,color:getComputedStyle(document.body).getPropertyValue("--secondary-text-color"),lineHeight:16}}},emphasis:{focus:n?"none":"adjacency"},force:{repulsion:[400,600],edgeLength:[200,350],gravity:.05,layoutAnimation:!o&&e.nodes.length<100},edgeSymbol:["none","arrow"],edgeSymbolSize:10,data:this._getSeriesData(e.nodes,e.links,this._nodePositions),links:e.links.map(e=>({...e,value:e.reverseValue?Math.max(e.value??0,e.reverseValue):e.value,symbolSize:e.reverseValue?1:e.symbolSize})),categories:e.categories||[]}),c.b),this._getSeriesData=(0,r.A)((e,t,o)=>this._getPositionedNodes(e,t,o).map(e=>({id:e.id,name:e.name,context:e.context,category:e.category,value:e.value,symbolSize:e.symbolSize||30,symbol:e.symbol||"circle",itemStyle:e.itemStyle||{},fixed:e.fixed,x:e.x,y:e.y})),c.b),d||Promise.all([o.e("96261"),o.e("37552"),o.e("54671"),o.e("50383"),o.e("9970"),o.e("40584"),o.e("85819")]).then(o.bind(o,94230)).then(e=>{d=e,this.requestUpdate()})}}y.styles=n.AH`:host{display:block;position:relative}ha-chart-base{height:100%;--chart-max-height:100%}::slotted(ha-icon-button),ha-icon-button{margin-right:12px}`,(0,a.Cg)([(0,i.MZ)({attribute:!1})],y.prototype,"data",void 0),(0,a.Cg)([(0,i.MZ)({attribute:!1})],y.prototype,"tooltipFormatter",void 0),(0,a.Cg)([(0,i.wk)()],y.prototype,"_reducedMotion",void 0),(0,a.Cg)([(0,i.wk)()],y.prototype,"_physicsEnabled",void 0),(0,a.Cg)([(0,i.wk)()],y.prototype,"_showLabels",void 0),(0,a.Cg)([(0,i.P)("ha-chart-base")],y.prototype,"_baseChart",void 0),y=(0,a.Cg)([(0,i.EM)("ha-network-graph")],y),t()}catch(e){t(e)}})}};
//# sourceMappingURL=23839.5f2ce09073d97593.js.map