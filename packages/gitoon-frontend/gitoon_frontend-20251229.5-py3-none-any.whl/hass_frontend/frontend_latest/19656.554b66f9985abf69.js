export const __rspack_esm_id="19656";export const __rspack_esm_ids=["19656"];export const __webpack_modules__={5745(e,t,a){var s=a(62826),i=a(4720),o=a(44457);class r extends i.Y{}r=(0,s.Cg)([(0,o.EM)("ha-chip-set")],r)},82474(e,t,a){a.a(e,async function(e,t){try{a(18111),a(61701);var s=a(62826),i=a(96196),o=a(44457),r=a(22786),n=a(1087),d=a(74705),l=a(78649),h=a(15638),c=a(53756),p=a(95350),u=a(24367),m=a(19711),y=(a(75064),a(38508)),g=(a(67094),a(74281)),v=e([y,g]);[y,g]=v.then?(await v)():v;const b="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",_="M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z",f="___create-new-entity___";class w extends i.WF{firstUpdated(e){super.firstUpdated(e),this.hass.loadBackendTranslation("title")}get _showEntityId(){return this.showEntityId||this.hass.userData?.showEntityIdPicker}render(){const e=this.placeholder??this.hass.localize("ui.components.entity.entity-picker.placeholder");return i.qy` <ha-generic-picker .hass="${this.hass}" .disabled="${this.disabled}" .autofocus="${this.autofocus}" .allowCustomValue="${this.allowCustomEntity}" .required="${this.required}" .label="${this.label}" .placeholder="${e}" .helper="${this.helper}" .value="${this.addButton?void 0:this.value}" .searchLabel="${this.searchLabel}" .notFoundLabel="${this._notFoundLabel}" .rowRenderer="${this._rowRenderer}" .getItems="${this._getItems}" .getAdditionalItems="${this._getAdditionalItems}" .hideClearIcon="${this.hideClearIcon}" .searchFn="${this._searchFn}" .valueRenderer="${this._valueRenderer}" .searchKeys="${c.t}" use-top-label .addButtonLabel="${this.addButton?this.hass.localize("ui.components.entity.entity-picker.add"):void 0}" .unknownItemText="${this.hass.localize("ui.components.entity.entity-picker.unknown")}" @value-changed="${this._valueChanged}"> </ha-generic-picker> `}async open(){await this.updateComplete,await(this._picker?.open())}_valueChanged(e){e.stopPropagation();const t=e.detail.value;if(t){if(t.startsWith(f)){const e=t.substring(f.length);return void(0,m.$)(this,{domain:e,dialogClosedCallback:e=>{e.entityId&&this._setValue(e.entityId)}})}(0,l.n)(t)&&this._setValue(t)}else this._setValue(void 0)}_setValue(e){this.value=e,(0,n.r)(this,"value-changed",{value:e}),(0,n.r)(this,"change")}constructor(...e){super(...e),this.autofocus=!1,this.disabled=!1,this.required=!1,this.showEntityId=!1,this.hideClearIcon=!1,this.addButton=!1,this._valueRenderer=e=>{const t=e||"",a=this.hass.states[t];if(!a)return i.qy` <ha-svg-icon slot="start" .path="${_}" style="margin:0 4px"></ha-svg-icon> <span slot="headline">${t}</span> `;const[s,o,r]=(0,d.Cf)(a,[{type:"entity"},{type:"device"},{type:"area"}],this.hass.entities,this.hass.devices,this.hass.areas,this.hass.floors),n=(0,h.qC)(this.hass),l=s||o||t,c=[r,s?o:void 0].filter(Boolean).join(n?" ◂ ":" ▸ ");return i.qy` <state-badge .hass="${this.hass}" .stateObj="${a}" slot="start"></state-badge> <span slot="headline">${l}</span> <span slot="supporting-text">${c}</span> `},this._rowRenderer=(e,t)=>{const a=this._showEntityId;return i.qy` <ha-combo-box-item type="button" compact="compact" .borderTop="${0!==t}"> ${e.icon_path?i.qy` <ha-svg-icon slot="start" style="margin:0 4px" .path="${e.icon_path}"></ha-svg-icon> `:i.qy` <state-badge slot="start" .stateObj="${e.stateObj}" .hass="${this.hass}"></state-badge> `} <span slot="headline">${e.primary}</span> ${e.secondary?i.qy`<span slot="supporting-text">${e.secondary}</span>`:i.s6} ${e.stateObj&&a?i.qy` <span slot="supporting-text" class="code"> ${e.stateObj.entity_id} </span> `:i.s6} ${e.domain_name&&!a?i.qy` <div slot="trailing-supporting-text" class="domain"> ${e.domain_name} </div> `:i.s6} </ha-combo-box-item> `},this._getAdditionalItems=()=>this._getCreateItems(this.hass.localize,this.createDomains),this._getCreateItems=(0,r.A)((e,t)=>t?.length?(this.hass.loadFragmentTranslation("config"),t.map(t=>{const a=e("ui.components.entity.entity-picker.create_helper",{domain:(0,u.zd)(t)?e(`ui.panel.config.helpers.types.${t}`)||t:(0,p.p$)(e,t)});return{id:f+t,primary:a,secondary:e("ui.components.entity.entity-picker.new_entity"),icon_path:b}})):[]),this._getEntitiesMemoized=(0,r.A)(c.w),this._getItems=()=>this._getEntitiesMemoized(this.hass,this.includeDomains,this.excludeDomains,this.entityFilter,this.includeDeviceClasses,this.includeUnitOfMeasurement,this.includeEntities,this.excludeEntities,this.value),this._searchFn=(e,t)=>{const a=t.findIndex(t=>t.stateObj?.entity_id===e);if(-1===a)return t;const[s]=t.splice(a,1);return t.unshift(s),t},this._notFoundLabel=e=>this.hass.localize("ui.components.entity.entity-picker.no_match",{term:i.qy`<b>‘${e}’</b>`})}}(0,s.Cg)([(0,o.MZ)({attribute:!1})],w.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],w.prototype,"autofocus",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],w.prototype,"disabled",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],w.prototype,"required",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,attribute:"allow-custom-entity"})],w.prototype,"allowCustomEntity",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,attribute:"show-entity-id"})],w.prototype,"showEntityId",void 0),(0,s.Cg)([(0,o.MZ)()],w.prototype,"label",void 0),(0,s.Cg)([(0,o.MZ)()],w.prototype,"value",void 0),(0,s.Cg)([(0,o.MZ)()],w.prototype,"helper",void 0),(0,s.Cg)([(0,o.MZ)()],w.prototype,"placeholder",void 0),(0,s.Cg)([(0,o.MZ)({type:String,attribute:"search-label"})],w.prototype,"searchLabel",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1,type:Array})],w.prototype,"createDomains",void 0),(0,s.Cg)([(0,o.MZ)({type:Array,attribute:"include-domains"})],w.prototype,"includeDomains",void 0),(0,s.Cg)([(0,o.MZ)({type:Array,attribute:"exclude-domains"})],w.prototype,"excludeDomains",void 0),(0,s.Cg)([(0,o.MZ)({type:Array,attribute:"include-device-classes"})],w.prototype,"includeDeviceClasses",void 0),(0,s.Cg)([(0,o.MZ)({type:Array,attribute:"include-unit-of-measurement"})],w.prototype,"includeUnitOfMeasurement",void 0),(0,s.Cg)([(0,o.MZ)({type:Array,attribute:"include-entities"})],w.prototype,"includeEntities",void 0),(0,s.Cg)([(0,o.MZ)({type:Array,attribute:"exclude-entities"})],w.prototype,"excludeEntities",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],w.prototype,"entityFilter",void 0),(0,s.Cg)([(0,o.MZ)({attribute:"hide-clear-icon",type:Boolean})],w.prototype,"hideClearIcon",void 0),(0,s.Cg)([(0,o.MZ)({attribute:"add-button",type:Boolean})],w.prototype,"addButton",void 0),(0,s.Cg)([(0,o.P)("ha-generic-picker")],w.prototype,"_picker",void 0),w=(0,s.Cg)([(0,o.EM)("ha-entity-picker")],w),t()}catch(e){t(e)}})},99611(e,t,a){a.a(e,async function(e,s){try{a.d(t,{r:()=>p});var i=a(62826),o=a(1126),r=a(96196),n=a(44457),d=a(60353),l=a(59992),h=a(14503),c=e([o]);o=(c.then?(await c)():c)[0];const p=300;class u extends((0,l.V)(r.WF)){get scrollableElement(){return this._bodyElement}_handleAfterHide(e){e.stopPropagation(),this.open=!1;const t=new Event("closed",{bubbles:!0,composed:!0});this.dispatchEvent(t)}updated(e){super.updated(e),e.has("open")&&(this._drawerOpen=this.open)}render(){return r.qy` <wa-drawer id="drawer" placement="bottom" .open="${this._drawerOpen}" @wa-after-hide="${this._handleAfterHide}" without-header @touchstart="${this._handleTouchStart}"> <slot name="header"></slot> <div class="content-wrapper"> <div id="body" class="body ha-scrollbar"> <slot></slot> </div> ${this.renderScrollableFades()} </div> <slot name="footer"></slot> </wa-drawer> `}_startResizing(e){document.addEventListener("touchmove",this._handleTouchMove,{passive:!1}),document.addEventListener("touchend",this._handleTouchEnd),document.addEventListener("touchcancel",this._handleTouchEnd),this._gestureRecognizer.start(e)}_animateSnapBack(){this.style.setProperty("--dialog-transition",`transform ${p}ms ease-out`),this.style.removeProperty("--dialog-transform"),setTimeout(()=>{this.style.removeProperty("--dialog-transition")},p)}disconnectedCallback(){super.disconnectedCallback(),this._unregisterResizeHandlers(),this._isDragging=!1}static get styles(){return[...super.styles,h.dp,r.AH`wa-drawer{--wa-color-surface-raised:transparent;--spacing:0;--size:var(--ha-bottom-sheet-height, auto);--show-duration:${p}ms;--hide-duration:${p}ms}wa-drawer::part(dialog){max-height:var(--ha-bottom-sheet-max-height,90vh);align-items:center;transform:var(--dialog-transform);transition:var(--dialog-transition)}wa-drawer::part(body){max-width:var(--ha-bottom-sheet-max-width);width:100%;border-top-left-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));border-top-right-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));background-color:var(--ha-bottom-sheet-surface-background,var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff)));padding:var(--ha-bottom-sheet-padding,0 var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left))}:host([flexcontent]) wa-drawer::part(body){display:flex;flex-direction:column}.content-wrapper{position:relative;flex:1;display:flex;flex-direction:column;min-height:0}:host([flexcontent]) .body{flex:1;max-width:100%;display:flex;flex-direction:column;padding:var(--ha-bottom-sheet-padding,0 var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left))}slot[name=footer]{display:block;padding:0}::slotted([slot=footer]){display:flex;padding:var(--ha-space-3) var(--ha-space-4) var(--ha-space-4) var(--ha-space-4);gap:var(--ha-space-3);justify-content:flex-end;align-items:center;width:100%;box-sizing:border-box}:host([flexcontent]) slot[name=footer]{flex-shrink:0}`]}constructor(...e){super(...e),this.open=!1,this.flexContent=!1,this._drawerOpen=!1,this._gestureRecognizer=new d.u,this._isDragging=!1,this._handleTouchStart=e=>{for(const t of e.composedPath()){const e=t;if(e===this._drawer)break;if(e.scrollTop>0)return}this._startResizing(e.touches[0].clientY)},this._handleTouchMove=e=>{const t=e.touches[0].clientY,a=this._gestureRecognizer.move(t);a<0&&(e.preventDefault(),this._isDragging=!0,requestAnimationFrame(()=>{this._isDragging&&this.style.setProperty("--dialog-transform",`translateY(${-1*a}px)`)}))},this._handleTouchEnd=()=>{this._unregisterResizeHandlers(),this._isDragging=!1;const e=this._gestureRecognizer.end();if(e.isSwipe)return void(e.isDownwardSwipe?this._drawerOpen=!1:this._animateSnapBack());const t=this._drawer.shadowRoot?.querySelector('[part="body"]'),a=t?.offsetHeight||0;a>0&&e.delta<0&&Math.abs(e.delta)>.5*a?this._drawerOpen=!1:this._animateSnapBack()},this._unregisterResizeHandlers=()=>{document.removeEventListener("touchmove",this._handleTouchMove),document.removeEventListener("touchend",this._handleTouchEnd),document.removeEventListener("touchcancel",this._handleTouchEnd)}}}(0,i.Cg)([(0,n.MZ)({type:Boolean})],u.prototype,"open",void 0),(0,i.Cg)([(0,n.MZ)({type:Boolean,reflect:!0,attribute:"flexcontent"})],u.prototype,"flexContent",void 0),(0,i.Cg)([(0,n.wk)()],u.prototype,"_drawerOpen",void 0),(0,i.Cg)([(0,n.P)("#drawer")],u.prototype,"_drawer",void 0),(0,i.Cg)([(0,n.P)("#body")],u.prototype,"_bodyElement",void 0),u=(0,i.Cg)([(0,n.EM)("ha-bottom-sheet")],u),s()}catch(e){s(e)}})},2846(e,t,a){a.d(t,{G:()=>l,J:()=>d});var s=a(62826),i=a(97154),o=a(82553),r=a(96196),n=a(44457);a(54276);const d=[o.R,r.AH`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color)}md-item{overflow:var(--md-item-overflow,hidden);align-items:var(--md-item-align-items,center);gap:var(--ha-md-list-item-gap,16px)}`];class l extends i.n{renderRipple(){return"text"===this.type?r.s6:r.qy`<ha-ripple part="ripple" for="item" ?disabled="${this.disabled&&"link"!==this.type}"></ha-ripple>`}}l.styles=d,l=(0,s.Cg)([(0,n.EM)("ha-md-list-item")],l)},53756(e,t,a){a.d(t,{t:()=>d,w:()=>l});a(18111),a(22489),a(61701);var s=a(71727),i=a(74705),o=a(28978),r=a(15638),n=a(95350);const d=[{name:"search_labels.entityName",weight:10},{name:"search_labels.friendlyName",weight:8},{name:"search_labels.deviceName",weight:7},{name:"search_labels.areaName",weight:6},{name:"search_labels.domainName",weight:6},{name:"search_labels.entityId",weight:3}],l=(e,t,a,d,l,h,c,p,u,m="")=>{let y=[],g=Object.keys(e.states);return c&&(g=g.filter(e=>c.includes(e))),p&&(g=g.filter(e=>!p.includes(e))),t&&(g=g.filter(e=>t.includes((0,s.m)(e)))),a&&(g=g.filter(e=>!a.includes((0,s.m)(e)))),y=g.map(t=>{const a=e.states[t],d=(0,o.u)(a),[l,h,c]=(0,i.Cf)(a,[{type:"entity"},{type:"device"},{type:"area"}],e.entities,e.devices,e.areas,e.floors),p=(0,n.p$)(e.localize,(0,s.m)(t)),u=(0,r.qC)(e),y=l||h||t,g=[c,l?h:void 0].filter(Boolean).join(u?" ◂ ":" ▸ ");return{id:`${m}${t}`,primary:y,secondary:g,domain_name:p,sorting_label:[y,g].filter(Boolean).join("_"),search_labels:{entityName:l||null,deviceName:h||null,areaName:c||null,domainName:p||null,friendlyName:d||null,entityId:t},stateObj:a}}),l&&(y=y.filter(e=>e.id===u||e.stateObj?.attributes.device_class&&l.includes(e.stateObj.attributes.device_class))),h&&(y=y.filter(e=>e.id===u||e.stateObj?.attributes.unit_of_measurement&&h.includes(e.stateObj.attributes.unit_of_measurement))),d&&(y=y.filter(e=>e.id===u||e.stateObj&&d(e.stateObj))),y}},19711(e,t,a){a.d(t,{$:()=>o});var s=a(1087);const i=()=>Promise.all([a.e("93785"),a.e("26767"),a.e("12036"),a.e("18738"),a.e("81046")]).then(a.bind(a,79029)),o=(e,t)=>{(0,s.r)(e,"show-dialog",{dialogTag:"dialog-helper-detail",dialogImport:i,dialogParams:t})}}};
//# sourceMappingURL=19656.554b66f9985abf69.js.map