export const __rspack_esm_id="59642";export const __rspack_esm_ids=["59642"];export const __webpack_modules__={32656(e,t,i){var a=i(62826),s=i(96196),o=i(44457),n=i(32288),l=i(1087),d=i(57237);i(26300),i(3449),i(28732),i(606),i(75709);class h extends s.WF{render(){return s.qy` ${this.label?s.qy`<label>${this.label}${this.required?" *":""}</label>`:s.s6} <div class="time-input-wrap-wrap"> <div class="time-input-wrap"> ${this.enableDay?s.qy` <ha-textfield id="day" type="number" inputmode="numeric" .value="${this.days.toFixed()}" .label="${this.dayLabel}" name="days" @change="${this._valueChanged}" @focusin="${this._onFocus}" no-spinner .required="${this.required}" .autoValidate="${this.autoValidate}" min="0" .disabled="${this.disabled}" suffix=":" class="hasSuffix"> </ha-textfield> `:s.s6} <ha-textfield id="hour" type="number" inputmode="numeric" .value="${this.hours.toFixed()}" .label="${this.hourLabel}" name="hours" @change="${this._valueChanged}" @focusin="${this._onFocus}" no-spinner .required="${this.required}" .autoValidate="${this.autoValidate}" maxlength="2" max="${(0,n.J)(this._hourMax)}" min="0" .disabled="${this.disabled}" suffix=":" class="hasSuffix"> </ha-textfield> <ha-textfield id="min" type="number" inputmode="numeric" .value="${this._formatValue(this.minutes)}" .label="${this.minLabel}" @change="${this._valueChanged}" @focusin="${this._onFocus}" name="minutes" no-spinner .required="${this.required}" .autoValidate="${this.autoValidate}" maxlength="2" max="59" min="0" .disabled="${this.disabled}" .suffix="${this.enableSecond?":":""}" class="${this.enableSecond?"has-suffix":""}"> </ha-textfield> ${this.enableSecond?s.qy`<ha-textfield id="sec" type="number" inputmode="numeric" .value="${this._formatValue(this.seconds)}" .label="${this.secLabel}" @change="${this._valueChanged}" @focusin="${this._onFocus}" name="seconds" no-spinner .required="${this.required}" .autoValidate="${this.autoValidate}" maxlength="2" max="59" min="0" .disabled="${this.disabled}" .suffix="${this.enableMillisecond?":":""}" class="${this.enableMillisecond?"has-suffix":""}"> </ha-textfield>`:s.s6} ${this.enableMillisecond?s.qy`<ha-textfield id="millisec" type="number" .value="${this._formatValue(this.milliseconds,3)}" .label="${this.millisecLabel}" @change="${this._valueChanged}" @focusin="${this._onFocus}" name="milliseconds" no-spinner .required="${this.required}" .autoValidate="${this.autoValidate}" maxlength="3" max="999" min="0" .disabled="${this.disabled}"> </ha-textfield>`:s.s6} ${!this.clearable||this.required||this.disabled?s.s6:s.qy`<ha-icon-button label="clear" @click="${this._clearValue}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button>`} </div> ${24===this.format?s.s6:s.qy`<ha-select .required="${this.required}" .value="${this.amPm}" .disabled="${this.disabled}" name="amPm" naturalMenuWidth fixedMenuPosition @selected="${this._valueChanged}" @closed="${d.d}"> <ha-list-item value="AM">AM</ha-list-item> <ha-list-item value="PM">PM</ha-list-item> </ha-select>`} </div> ${this.helper?s.qy`<ha-input-helper-text .disabled="${this.disabled}">${this.helper}</ha-input-helper-text>`:s.s6} `}_clearValue(){(0,l.r)(this,"value-changed")}_valueChanged(e){const t=e.currentTarget;this[t.name]="amPm"===t.name?t.value:Number(t.value);const i={hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds};this.enableDay&&(i.days=this.days),12===this.format&&(i.amPm=this.amPm),(0,l.r)(this,"value-changed",{value:i})}_onFocus(e){e.currentTarget.select()}_formatValue(e,t=2){return e.toString().padStart(t,"0")}get _hourMax(){if(!this.noHoursLimit)return 12===this.format?12:23}constructor(...e){super(...e),this.autoValidate=!1,this.required=!1,this.format=12,this.disabled=!1,this.days=0,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0,this.dayLabel="",this.hourLabel="",this.minLabel="",this.secLabel="",this.millisecLabel="",this.enableSecond=!1,this.enableMillisecond=!1,this.enableDay=!1,this.noHoursLimit=!1,this.amPm="AM"}}h.styles=s.AH`:host([clearable]){position:relative}.time-input-wrap-wrap{display:flex}.time-input-wrap{display:flex;flex:var(--time-input-flex,unset);border-radius:var(--mdc-shape-small,var(--ha-border-radius-sm)) var(--mdc-shape-small,var(--ha-border-radius-sm)) var(--ha-border-radius-square) var(--ha-border-radius-square);overflow:hidden;position:relative;direction:ltr;padding-right:3px}ha-textfield{width:60px;flex-grow:1;text-align:center;--mdc-shape-small:0;--text-field-appearance:none;--text-field-padding:0 4px;--text-field-suffix-padding-left:2px;--text-field-suffix-padding-right:0;--text-field-text-align:center}ha-textfield.hasSuffix{--text-field-padding:0 0 0 4px}ha-textfield:first-child{--text-field-border-top-left-radius:var(--mdc-shape-medium)}ha-textfield:last-child{--text-field-border-top-right-radius:var(--mdc-shape-medium)}ha-select{--mdc-shape-small:0;width:85px}:host([clearable]) .mdc-select__anchor{padding-inline-end:var(--select-selected-text-padding-end,12px)}ha-icon-button{position:relative;--mdc-icon-button-size:36px;--mdc-icon-size:20px;color:var(--secondary-text-color);direction:var(--direction);display:flex;align-items:center;background-color:var(--mdc-text-field-fill-color,#f5f5f5);border-bottom-style:solid;border-bottom-width:1px}label{-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);-webkit-font-smoothing:var(--ha-font-smoothing);font-family:var(
        --mdc-typography-body2-font-family,
        var(--mdc-typography-font-family, var(--ha-font-family-body))
      );font-size:var(--mdc-typography-body2-font-size, var(--ha-font-size-s));line-height:var(
        --mdc-typography-body2-line-height,
        var(--ha-line-height-condensed)
      );font-weight:var(--mdc-typography-body2-font-weight,var(--ha-font-weight-normal));letter-spacing:var(
        --mdc-typography-body2-letter-spacing,
        .0178571429em
      );text-decoration:var(--mdc-typography-body2-text-decoration,inherit);text-transform:var(--mdc-typography-body2-text-transform,inherit);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87));padding-left:4px;padding-inline-start:4px;padding-inline-end:initial}ha-input-helper-text{padding-top:8px;line-height:var(--ha-line-height-condensed)}`,(0,a.Cg)([(0,o.MZ)()],h.prototype,"label",void 0),(0,a.Cg)([(0,o.MZ)()],h.prototype,"helper",void 0),(0,a.Cg)([(0,o.MZ)({attribute:"auto-validate",type:Boolean})],h.prototype,"autoValidate",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],h.prototype,"required",void 0),(0,a.Cg)([(0,o.MZ)({type:Number})],h.prototype,"format",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],h.prototype,"disabled",void 0),(0,a.Cg)([(0,o.MZ)({type:Number})],h.prototype,"days",void 0),(0,a.Cg)([(0,o.MZ)({type:Number})],h.prototype,"hours",void 0),(0,a.Cg)([(0,o.MZ)({type:Number})],h.prototype,"minutes",void 0),(0,a.Cg)([(0,o.MZ)({type:Number})],h.prototype,"seconds",void 0),(0,a.Cg)([(0,o.MZ)({type:Number})],h.prototype,"milliseconds",void 0),(0,a.Cg)([(0,o.MZ)({type:String,attribute:"day-label"})],h.prototype,"dayLabel",void 0),(0,a.Cg)([(0,o.MZ)({type:String,attribute:"hour-label"})],h.prototype,"hourLabel",void 0),(0,a.Cg)([(0,o.MZ)({type:String,attribute:"min-label"})],h.prototype,"minLabel",void 0),(0,a.Cg)([(0,o.MZ)({type:String,attribute:"sec-label"})],h.prototype,"secLabel",void 0),(0,a.Cg)([(0,o.MZ)({type:String,attribute:"ms-label"})],h.prototype,"millisecLabel",void 0),(0,a.Cg)([(0,o.MZ)({attribute:"enable-second",type:Boolean})],h.prototype,"enableSecond",void 0),(0,a.Cg)([(0,o.MZ)({attribute:"enable-millisecond",type:Boolean})],h.prototype,"enableMillisecond",void 0),(0,a.Cg)([(0,o.MZ)({attribute:"enable-day",type:Boolean})],h.prototype,"enableDay",void 0),(0,a.Cg)([(0,o.MZ)({attribute:"no-hours-limit",type:Boolean})],h.prototype,"noHoursLimit",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],h.prototype,"amPm",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],h.prototype,"clearable",void 0),h=(0,a.Cg)([(0,o.EM)("ha-base-time-input")],h)},3449(e,t,i){var a=i(62826),s=i(96196),o=i(44457);class n extends s.WF{render(){return s.qy`<slot></slot>`}constructor(...e){super(...e),this.disabled=!1}}n.styles=s.AH`:host{display:block;color:var(--mdc-text-field-label-ink-color,rgba(0,0,0,.6));font-size:.75rem;padding-left:16px;padding-right:16px;padding-inline-start:16px;padding-inline-end:16px;letter-spacing:var(
        --mdc-typography-caption-letter-spacing,
        .0333333333em
      );line-height:normal}:host([disabled]){color:var(--mdc-text-field-disabled-ink-color,rgba(0,0,0,.6))}`,(0,a.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],n.prototype,"disabled",void 0),n=(0,a.Cg)([(0,o.EM)("ha-input-helper-text")],n)},71418(e,t,i){var a=i(62826),s=i(96196),o=i(44457);i(26300),i(75709);class n extends s.WF{render(){return s.qy`<ha-textfield .invalid="${this.invalid}" .errorMessage="${this.errorMessage}" .icon="${this.icon}" .iconTrailing="${this.iconTrailing}" .autocomplete="${this.autocomplete}" .autocorrect="${this.autocorrect}" .inputSpellcheck="${this.inputSpellcheck}" .value="${this.value}" .placeholder="${this.placeholder}" .label="${this.label}" .disabled="${this.disabled}" .required="${this.required}" .minLength="${this.minLength}" .maxLength="${this.maxLength}" .outlined="${this.outlined}" .helper="${this.helper}" .validateOnInitialRender="${this.validateOnInitialRender}" .validationMessage="${this.validationMessage}" .autoValidate="${this.autoValidate}" .pattern="${this.pattern}" .size="${this.size}" .helperPersistent="${this.helperPersistent}" .charCounter="${this.charCounter}" .endAligned="${this.endAligned}" .prefix="${this.prefix}" .name="${this.name}" .inputMode="${this.inputMode}" .readOnly="${this.readOnly}" .autocapitalize="${this.autocapitalize}" .type="${this._unmaskedPassword?"text":"password"}" .suffix="${s.qy`<div style="width:24px"></div>`}" @input="${this._handleInputEvent}" @change="${this._handleChangeEvent}"></ha-textfield> <ha-icon-button .label="${this.hass?.localize(this._unmaskedPassword?"ui.components.selectors.text.hide_password":"ui.components.selectors.text.show_password")||(this._unmaskedPassword?"Hide password":"Show password")}" @click="${this._toggleUnmaskedPassword}" .path="${this._unmaskedPassword?"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z":"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"}"></ha-icon-button>`}focus(){this._textField.focus()}checkValidity(){return this._textField.checkValidity()}reportValidity(){return this._textField.reportValidity()}setCustomValidity(e){return this._textField.setCustomValidity(e)}layout(){return this._textField.layout()}_toggleUnmaskedPassword(){this._unmaskedPassword=!this._unmaskedPassword}_handleInputEvent(e){this.value=e.target.value}_handleChangeEvent(e){this.value=e.target.value,this._reDispatchEvent(e)}_reDispatchEvent(e){const t=new Event(e.type,e);this.dispatchEvent(t)}constructor(...e){super(...e),this.icon=!1,this.iconTrailing=!1,this.autocorrect=!0,this.value="",this.placeholder="",this.label="",this.disabled=!1,this.required=!1,this.minLength=-1,this.maxLength=-1,this.outlined=!1,this.helper="",this.validateOnInitialRender=!1,this.validationMessage="",this.autoValidate=!1,this.pattern="",this.size=null,this.helperPersistent=!1,this.charCounter=!1,this.endAligned=!1,this.prefix="",this.suffix="",this.name="",this.readOnly=!1,this.autocapitalize="",this._unmaskedPassword=!1}}n.styles=s.AH`:host{display:block;position:relative}ha-textfield{width:100%}ha-icon-button{position:absolute;top:8px;right:8px;inset-inline-start:initial;inset-inline-end:8px;--mdc-icon-button-size:40px;--mdc-icon-size:20px;color:var(--secondary-text-color);direction:var(--direction)}`,(0,a.Cg)([(0,o.MZ)({attribute:!1})],n.prototype,"hass",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],n.prototype,"invalid",void 0),(0,a.Cg)([(0,o.MZ)({attribute:"error-message"})],n.prototype,"errorMessage",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],n.prototype,"icon",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],n.prototype,"iconTrailing",void 0),(0,a.Cg)([(0,o.MZ)()],n.prototype,"autocomplete",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],n.prototype,"autocorrect",void 0),(0,a.Cg)([(0,o.MZ)({attribute:"input-spellcheck"})],n.prototype,"inputSpellcheck",void 0),(0,a.Cg)([(0,o.MZ)({type:String})],n.prototype,"value",void 0),(0,a.Cg)([(0,o.MZ)({type:String})],n.prototype,"placeholder",void 0),(0,a.Cg)([(0,o.MZ)({type:String})],n.prototype,"label",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],n.prototype,"disabled",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],n.prototype,"required",void 0),(0,a.Cg)([(0,o.MZ)({type:Number})],n.prototype,"minLength",void 0),(0,a.Cg)([(0,o.MZ)({type:Number})],n.prototype,"maxLength",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],n.prototype,"outlined",void 0),(0,a.Cg)([(0,o.MZ)({type:String})],n.prototype,"helper",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],n.prototype,"validateOnInitialRender",void 0),(0,a.Cg)([(0,o.MZ)({type:String})],n.prototype,"validationMessage",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],n.prototype,"autoValidate",void 0),(0,a.Cg)([(0,o.MZ)({type:String})],n.prototype,"pattern",void 0),(0,a.Cg)([(0,o.MZ)({type:Number})],n.prototype,"size",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],n.prototype,"helperPersistent",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],n.prototype,"charCounter",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],n.prototype,"endAligned",void 0),(0,a.Cg)([(0,o.MZ)({type:String})],n.prototype,"prefix",void 0),(0,a.Cg)([(0,o.MZ)({type:String})],n.prototype,"suffix",void 0),(0,a.Cg)([(0,o.MZ)({type:String})],n.prototype,"name",void 0),(0,a.Cg)([(0,o.MZ)({type:String,attribute:"input-mode"})],n.prototype,"inputMode",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],n.prototype,"readOnly",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1,type:String})],n.prototype,"autocapitalize",void 0),(0,a.Cg)([(0,o.wk)()],n.prototype,"_unmaskedPassword",void 0),(0,a.Cg)([(0,o.P)("ha-textfield")],n.prototype,"_textField",void 0),(0,a.Cg)([(0,o.Ls)({passive:!0})],n.prototype,"_handleInputEvent",null),(0,a.Cg)([(0,o.Ls)({passive:!0})],n.prototype,"_handleChangeEvent",null),n=(0,a.Cg)([(0,o.EM)("ha-password-field")],n)},606(e,t,i){var a=i(62826),s=i(89708),o=i(63125),n=i(96196),l=i(44457),d=i(94333),h=i(9899),r=i(12587);i(26300),i(79817);class c extends s.o{render(){return n.qy` ${super.render()} ${this.clearable&&!this.required&&!this.disabled&&this.value?n.qy`<ha-icon-button label="clear" @click="${this._clearValue}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button>`:n.s6} `}renderMenu(){const e=this.getMenuClasses();return n.qy`<ha-menu innerRole="listbox" wrapFocus class="${(0,d.H)(e)}" activatable .fullwidth="${!this.fixedMenuPosition&&!this.naturalMenuWidth}" .open="${this.menuOpen}" .anchor="${this.anchorElement}" .fixed="${this.fixedMenuPosition}" @selected="${this.onSelected}" @opened="${this.onOpened}" @closed="${this.onClosed}" @items-updated="${this.onItemsUpdated}" @keydown="${this.handleTypeahead}"> ${this.renderMenuContent()} </ha-menu>`}renderLeadingIcon(){return this.icon?n.qy`<span class="mdc-select__icon"><slot name="icon"></slot></span>`:n.s6}connectedCallback(){super.connectedCallback(),window.addEventListener("translations-updated",this._translationsUpdated)}async firstUpdated(){super.firstUpdated(),this.inlineArrow&&this.shadowRoot?.querySelector(".mdc-select__selected-text-container")?.classList.add("inline-arrow")}updated(e){if(super.updated(e),e.has("inlineArrow")){const e=this.shadowRoot?.querySelector(".mdc-select__selected-text-container");this.inlineArrow?e?.classList.add("inline-arrow"):e?.classList.remove("inline-arrow")}e.get("options")&&(this.layoutOptions(),this.selectByValue(this.value))}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("translations-updated",this._translationsUpdated)}_clearValue(){!this.disabled&&this.value&&(this.valueSetDirectly=!0,this.select(-1),this.mdcFoundation.handleChange())}constructor(...e){super(...e),this.icon=!1,this.clearable=!1,this.inlineArrow=!1,this._translationsUpdated=(0,h.s)(async()=>{await(0,r.E)(),this.layoutOptions()},500)}}c.styles=[o.R,n.AH`:host([clearable]){position:relative}.mdc-select:not(.mdc-select--disabled) .mdc-select__icon{color:var(--secondary-text-color)}.mdc-select__anchor{width:var(--ha-select-min-width,200px)}.mdc-select--filled .mdc-select__anchor{height:var(--ha-select-height,56px)}.mdc-select--filled .mdc-floating-label{inset-inline-start:var(--ha-space-4);inset-inline-end:initial;direction:var(--direction)}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{inset-inline-start:48px;inset-inline-end:initial;direction:var(--direction)}.mdc-select .mdc-select__anchor{padding-inline-start:var(--ha-space-4);padding-inline-end:0px;direction:var(--direction)}.mdc-select__anchor .mdc-floating-label--float-above{transform-origin:var(--float-start)}.mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,0px)}:host([clearable]) .mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,var(--ha-space-4))}ha-icon-button{position:absolute;top:10px;right:28px;--mdc-icon-button-size:36px;--mdc-icon-size:20px;color:var(--secondary-text-color);inset-inline-start:initial;inset-inline-end:28px;direction:var(--direction)}.inline-arrow{flex-grow:0}`],(0,a.Cg)([(0,l.MZ)({type:Boolean})],c.prototype,"icon",void 0),(0,a.Cg)([(0,l.MZ)({type:Boolean,reflect:!0})],c.prototype,"clearable",void 0),(0,a.Cg)([(0,l.MZ)({attribute:"inline-arrow",type:Boolean})],c.prototype,"inlineArrow",void 0),(0,a.Cg)([(0,l.MZ)()],c.prototype,"options",void 0),c=(0,a.Cg)([(0,l.EM)("ha-select")],c)},50286(e,t,i){var a=i(62826),s=i(96196),o=i(44457),n=i(69543),l=i(1087);i(32656);class d extends s.WF{render(){const e=(0,n.J)(this.locale);let t=NaN,i=NaN,a=NaN,o=0;if(this.value){const s=this.value?.split(":")||[];i=s[1]?Number(s[1]):0,a=s[2]?Number(s[2]):0,t=s[0]?Number(s[0]):0,o=t,o&&e&&o>12&&o<24&&(t=o-12),e&&0===o&&(t=12)}return s.qy` <ha-base-time-input .label="${this.label}" .hours="${t}" .minutes="${i}" .seconds="${a}" .format="${e?12:24}" .amPm="${e&&o>=12?"PM":"AM"}" .disabled="${this.disabled}" @value-changed="${this._timeChanged}" .enableSecond="${this.enableSecond}" .required="${this.required}" .clearable="${this.clearable&&void 0!==this.value}" .helper="${this.helper}" day-label="dd" hour-label="hh" min-label="mm" sec-label="ss" ms-label="ms"></ha-base-time-input> `}_timeChanged(e){e.stopPropagation();const t=e.detail.value,i=(0,n.J)(this.locale);let a;if(!(void 0===t||isNaN(t.hours)&&isNaN(t.minutes)&&isNaN(t.seconds))){let e=t.hours||0;t&&i&&("PM"===t.amPm&&e<12&&(e+=12),"AM"===t.amPm&&12===e&&(e=0)),a=`${e.toString().padStart(2,"0")}:${t.minutes?t.minutes.toString().padStart(2,"0"):"00"}:${t.seconds?t.seconds.toString().padStart(2,"0"):"00"}`}a!==this.value&&(this.value=a,(0,l.r)(this,"change"),(0,l.r)(this,"value-changed",{value:a}))}constructor(...e){super(...e),this.disabled=!1,this.required=!1,this.enableSecond=!1}}(0,a.Cg)([(0,o.MZ)({attribute:!1})],d.prototype,"locale",void 0),(0,a.Cg)([(0,o.MZ)()],d.prototype,"value",void 0),(0,a.Cg)([(0,o.MZ)()],d.prototype,"label",void 0),(0,a.Cg)([(0,o.MZ)()],d.prototype,"helper",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],d.prototype,"disabled",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],d.prototype,"required",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,attribute:"enable-second"})],d.prototype,"enableSecond",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],d.prototype,"clearable",void 0),d=(0,a.Cg)([(0,o.EM)("ha-time-input")],d)},67505(e,t,i){var a=i(62826),s=i(96196),o=i(44457);i(67094);class n extends s.WF{render(){return this.hass?s.qy` <ha-svg-icon .path="${"M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z"}"></ha-svg-icon> <span class="prefix">${this.hass.localize("ui.panel.config.tips.tip")}</span> <span class="text"><slot></slot></span> `:s.s6}}n.styles=s.AH`:host{display:block;text-align:center}.text{direction:var(--direction);margin-left:2px;margin-inline-start:2px;margin-inline-end:initial;color:var(--secondary-text-color)}.prefix{font-weight:var(--ha-font-weight-medium)}`,(0,a.Cg)([(0,o.MZ)({attribute:!1})],n.prototype,"hass",void 0),n=(0,a.Cg)([(0,o.EM)("ha-tip")],n)},15336(e,t,i){i.d(t,{He:()=>h,Ku:()=>o,PB:()=>n,Wq:()=>p,hu:()=>d,mZ:()=>l,v9:()=>r,xY:()=>c});var a=i(62384),s=i(47351);const o=async e=>{if((0,a.v)(e.config.version,2021,2,4))return e.callWS({type:"supervisor/api",endpoint:"/host/info",method:"get"});const t=await e.callApi("GET","hassio/host/info");return(0,s.PS)(t)},n=async e=>(0,a.v)(e.config.version,2021,2,4)?e.callWS({type:"supervisor/api",endpoint:"/os/info",method:"get"}):(0,s.PS)(await e.callApi("GET","hassio/os/info")),l=async e=>(0,a.v)(e.config.version,2021,2,4)?e.callWS({type:"supervisor/api",endpoint:"/host/reboot",method:"post",timeout:null}):e.callApi("POST","hassio/host/reboot"),d=async e=>(0,a.v)(e.config.version,2021,2,4)?e.callWS({type:"supervisor/api",endpoint:"/host/shutdown",method:"post",timeout:null}):e.callApi("POST","hassio/host/shutdown"),h=async(e,t)=>(0,a.v)(e.config.version,2021,2,4)?e.callWS({type:"supervisor/api",endpoint:"/host/options",method:"post",data:t}):e.callApi("POST","hassio/host/options",t),r=async(e,t)=>(0,a.v)(e.config.version,2021,2,4)?e.callWS({type:"supervisor/api",endpoint:"/os/datadisk/move",method:"post",timeout:null,data:{device:t}}):e.callApi("POST","hassio/os/datadisk/move"),c=async e=>(0,a.v)(e.config.version,2021,2,4)?e.callWS({type:"supervisor/api",endpoint:"/os/datadisk/list",method:"get",timeout:null}):(0,s.PS)(await e.callApi("GET","/os/datadisk/list")),p=async e=>(0,a.v)(e.config.version,2021,2,4)?e.callWS({type:"supervisor/api",endpoint:"/host/disks/default/usage",method:"get",timeout:3600,params:{max_depth:3}}):(0,s.PS)(await e.callApi("GET","hassio/host/disks/default/usage"))},30619(e,t,i){i.a(e,async function(e,t){try{i(44114),i(18111),i(22489),i(61701),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var a=i(62826),s=i(96196),o=i(44457),n=i(96231),l=i(22786),d=i(1087),h=i(71727),r=i(91926),c=(i(26300),i(17308),i(2846),i(67094),i(59646),i(31420)),p=i(44144),u=e([c]);c=(u.then?(await u)():u)[0];const g="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",m="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",v="M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M12,4A6,6 0 0,0 6,10C6,13.31 8.69,16 12.1,16L11.22,13.77C10.95,13.29 11.11,12.68 11.59,12.4L12.45,11.9C12.93,11.63 13.54,11.79 13.82,12.27L15.74,14.69C17.12,13.59 18,11.9 18,10A6,6 0 0,0 12,4M12,9A1,1 0 0,1 13,10A1,1 0 0,1 12,11A1,1 0 0,1 11,10A1,1 0 0,1 12,9M7,18A1,1 0 0,0 6,19A1,1 0 0,0 7,20A1,1 0 0,0 8,19A1,1 0 0,0 7,18M12.09,13.27L14.58,19.58L17.17,18.08L12.95,12.77L12.09,13.27Z",y="M4,5C2.89,5 2,5.89 2,7V17C2,18.11 2.89,19 4,19H20C21.11,19 22,18.11 22,17V7C22,5.89 21.11,5 20,5H4M4.5,7A1,1 0 0,1 5.5,8A1,1 0 0,1 4.5,9A1,1 0 0,1 3.5,8A1,1 0 0,1 4.5,7M7,7H20V17H7V7M8,8V16H11V8H8M12,8V16H15V8H12M16,8V16H19V8H16M9,9H10V10H9V9M13,9H14V10H13V9M17,9H18V10H17V9Z",b=[];class _ extends s.WF{get _value(){return this.value??b}_description(e){if(e===c.oJ)return this.cloudStatus?.logged_in&&!this.cloudStatus.active_subscription?this.hass.localize("ui.panel.config.backup.agents.cloud_agent_no_subcription"):this.hass.localize("ui.panel.config.backup.agents.cloud_agent_description");const t=[];(0,c.jU)(e)&&t.push(this.hass.localize("ui.panel.config.backup.agents.network_mount_agent_description"));!1===this.agentsConfig?.[e]?.protected&&t.push(s.qy`<div class="unencrypted-warning"> <span class="dot warning"></span> <span> ${this.hass.localize("ui.panel.config.backup.agents.encryption_turned_off")} </span> </div>`);const i=this.agentsConfig?.[e]?.retention;return i&&(null===i.copies&&null===i.days?t.push(this.hass.localize("ui.panel.config.backup.agents.retention_all")):t.push(this.hass.localize("ui.panel.config.backup.agents.retention_"+(i.copies?"backups":"days"),{count:i.copies||i.days}))),(0,n.f)(t,s.qy`<span class="separator"> Â· </span>`)}_renderAgentIcon(e){if((0,c.Bi)(e))return s.qy` <ha-svg-icon .path="${v}" slot="start"></ha-svg-icon> `;if((0,c.jU)(e))return s.qy`<ha-svg-icon .path="${y}" slot="start"></ha-svg-icon>`;const t=(0,h.m)(e);return s.qy` <img .src="${(0,p.MR)({domain:t,type:"icon",useFallback:!0,darkOptimized:this.hass.themes?.darkMode})}" crossorigin="anonymous" referrerpolicy="no-referrer" alt="" slot="start"> `}render(){const e=this._availableAgents(this.agents,this.cloudStatus),t=this._unavailableAgents(this.agents,this._value,this.cloudStatus),i=[...e,...t];return s.qy` ${i.length>0?s.qy` <ha-md-list> ${e.map(e=>{const t=e.agent_id,a=(0,c.q7)(this.hass.localize,t,i),o=this._description(t),n=t===c.oJ&&this.cloudStatus?.logged_in&&!this.cloudStatus.active_subscription;return s.qy` <ha-md-list-item> ${this._renderAgentIcon(t)} <div slot="headline" class="name">${a}</div> ${o?s.qy`<div slot="supporting-text">${o}</div>`:s.s6} ${this.showSettings?s.qy` <ha-icon-button id="${t}" slot="end" path="${g}" @click="${this._showAgentSettings}"></ha-icon-button> `:s.s6} <ha-switch slot="end" id="${t}" .checked="${this._value.includes(t)}" .disabled="${n&&!this._value.includes(t)}" @change="${this._agentToggled}"></ha-switch> </ha-md-list-item> `})} ${t.length>0&&this.showSettings?s.qy` <p class="heading"> ${this.hass.localize("ui.panel.config.backup.agents.unavailable_agents")} </p> ${t.map(e=>{const t=e.agent_id,a=(0,c.q7)(this.hass.localize,t,i);return s.qy` <ha-md-list-item> ${this._renderAgentIcon(t)} <div slot="headline" class="name">${a}</div> <ha-icon-button id="${t}" slot="end" path="${m}" @click="${this._deleteAgent}"></ha-icon-button> </ha-md-list-item> `})} `:s.s6} </ha-md-list> `:s.qy` <p> ${this.hass.localize("ui.panel.config.backup.agents.no_agents")} </p> `} `}_showAgentSettings(e){const t=e.currentTarget.id;(0,r.o)(`/config/backup/location/${t}`)}_deleteAgent(e){e.stopPropagation();const t=e.currentTarget.id;this.value=this._value.filter(e=>e!==t),(0,d.r)(this,"value-changed",{value:this.value})}_agentToggled(e){e.stopPropagation();const t=e.currentTarget.checked,i=e.currentTarget.id;this.value=t?[...this._value,i]:this._value.filter(e=>e!==i),this.value=[...new Set(this.value)],(0,d.r)(this,"value-changed",{value:this.value})}constructor(...e){super(...e),this.agents=[],this.showSettings=!1,this._availableAgents=(0,l.A)((e,t)=>e.filter(e=>e.agent_id!==c.oJ||t?.logged_in)),this._unavailableAgents=(0,l.A)((e,t,i)=>{const a=this._availableAgents(e,i).map(e=>e.agent_id);return t.filter(e=>!a.includes(e)).map(e=>({agent_id:e,name:e.split(".")[1]||e}))})}}_.styles=s.AH`ha-md-list{background:0 0;--md-list-item-leading-space:0;--md-list-item-trailing-space:0}ha-md-list-item{--md-item-overflow:visible}ha-md-list-item .name{word-break:break-word}ha-md-list-item img{width:48px}ha-md-list-item ha-svg-icon[slot=start]{--mdc-icon-size:48px;color:var(--primary-text-color)}ha-md-list-item [slot=supporting-text]{display:flex;align-items:center;flex-direction:row;gap:var(--ha-space-2);line-height:var(--ha-line-height-condensed)}.unencrypted-warning{display:flex;align-items:center;gap:var(--ha-space-1)}.dot{display:block;position:relative;width:8px;height:8px;background-color:var(--disabled-color);border-radius:var(--ha-border-radius-circle)}.dot.warning{background-color:var(--warning-color)}@media all and (max-width:500px){.separator{display:none}ha-md-list-item [slot=supporting-text]{display:flex;align-items:flex-start;flex-direction:column;justify-content:flex-start;gap:var(--ha-space-1)}}`,(0,a.Cg)([(0,o.MZ)({attribute:!1})],_.prototype,"hass",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],_.prototype,"cloudStatus",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],_.prototype,"agents",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],_.prototype,"agentsConfig",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,attribute:"show-settings"})],_.prototype,"showSettings",void 0),(0,a.Cg)([(0,o.wk)()],_.prototype,"value",void 0),_=(0,a.Cg)([(0,o.EM)("ha-backup-config-agents")],_),t()}catch(e){t(e)}})},59717(e,t,i){i.a(e,async function(e,t){try{i(18111),i(7588),i(13579);var a=i(62826),s=i(96196),o=i(44457),n=i(22786),l=i(36312),d=i(1087),h=(i(38962),i(18350)),r=(i(11382),i(17308),i(2846),i(37832),i(71828),i(65829)),c=(i(59646),i(34127)),p=i(89859),u=i(15336),g=i(46187),m=(i(76127),i(23528)),v=e([h,r,c]);[h,r,c]=v.then?(await v)():v;const y="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M9 17H7V10H9V17M13 17H11V7H13V17M17 17H15V13H17V17Z",b="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",_="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",f="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",$="M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M12,14.5V5.5L18,10L12,14.5Z",C="M20.5,11H19V7C19,5.89 18.1,5 17,5H13V3.5A2.5,2.5 0 0,0 10.5,1A2.5,2.5 0 0,0 8,3.5V5H4A2,2 0 0,0 2,7V10.8H3.5C5,10.8 6.2,12 6.2,13.5C6.2,15 5,16.2 3.5,16.2H2V20A2,2 0 0,0 4,22H7.8V20.5C7.8,19 9,17.8 10.5,17.8C12,17.8 13.2,19 13.2,20.5V22H17A2,2 0 0,0 19,20V16H20.5A2.5,2.5 0 0,0 23,13.5A2.5,2.5 0 0,0 20.5,11Z",x={homeassistant:!1,database:!1,media:!1,share:!1,local_addons:!1,addons_mode:"all",addons:[]};class M extends s.WF{firstUpdated(e){super.firstUpdated(e),this._checkDbOption(),(0,l.x)(this.hass,"hassio")&&(this._fetchAddons(),this._fetchStorageInfo())}updated(e){e.has("value")&&(0,l.x)(this.hass,"hassio")&&this.value?.include_addons?.length&&(this._showAddons=!0)}async _fetchAddons(){const{addons:e}=await(0,p.b3)(this.hass);this._addons=e,(0,d.r)(this,"backup-addons-fetched")}async _checkDbOption(){if((0,l.x)(this.hass,"recorder")){const e=await(0,m.Z)(this.hass.connection);this._showDbOption=e.db_in_default_location,!this._showDbOption&&this.value?.include_database&&(this.value.include_database=!1)}else this._showDbOption=!1}async _fetchStorageInfo(){try{this._storageInfo=await(0,u.Wq)(this.hass)}catch(e){this._storageInfo=null}}_hasLocalAddons(e){return e.some(e=>"local"===e.slug)}_setData(e){const t=[...e.media?["media"]:[],...e.share?["share"]:[],...e.local_addons?["addons/local"]:[]],i="custom"===e.addons_mode?e.addons:[];this.value={include_homeassistant:e.homeassistant||e.database||this.forceHomeAssistant,include_addons:i.length?i:void 0,include_all_addons:"all"===e.addons_mode,include_database:e.database,include_folders:t.length?t:void 0},(0,d.r)(this,"value-changed",{value:this.value})}render(){const e=this._getData(this.value,this._showAddons),t=(0,l.x)(this.hass,"hassio");return s.qy` ${this._renderSizeEstimate()} <ha-md-list> <ha-md-list-item> <ha-svg-icon slot="start" .path="${b}"></ha-svg-icon> <span slot="headline"> ${this.hass.localize("ui.panel.config.backup.data.ha_settings")} </span> <span slot="supporting-text"> ${this.forceHomeAssistant?this.hass.localize("ui.panel.config.backup.data.ha_settings_included_description"):this.hass.localize("ui.panel.config.backup.data.ha_settings_description")} </span> <ha-switch id="homeassistant" slot="end" @change="${this._switchChanged}" .checked="${e.homeassistant}" .disabled="${this.forceHomeAssistant||e.database}"></ha-switch> </ha-md-list-item> ${this._showDbOption?s.qy`<ha-md-list-item> <ha-svg-icon slot="start" .path="${y}"></ha-svg-icon> <span slot="headline"> ${this.hass.localize("ui.panel.config.backup.data.history")} </span> <span slot="supporting-text"> ${this.hass.localize("ui.panel.config.backup.data.history_description")} </span> <ha-switch id="database" slot="end" @change="${this._switchChanged}" .checked="${e.database}"></ha-switch> </ha-md-list-item>`:s.s6} ${t?s.qy` <ha-md-list-item> <ha-svg-icon slot="start" .path="${$}"></ha-svg-icon> <span slot="headline"> ${this.hass.localize("ui.panel.config.backup.data.media")} </span> <span slot="supporting-text"> ${this.hass.localize("ui.panel.config.backup.data.media_description")} </span> <ha-switch id="media" slot="end" @change="${this._switchChanged}" .checked="${e.media}"></ha-switch> </ha-md-list-item> <ha-md-list-item> <ha-svg-icon slot="start" .path="${_}"></ha-svg-icon> <span slot="headline"> ${this.hass.localize("ui.panel.config.backup.data.share_folder")} </span> <span slot="supporting-text"> ${this.hass.localize("ui.panel.config.backup.data.share_folder_description")} </span> <ha-switch id="share" slot="end" @change="${this._switchChanged}" .checked="${e.share}"></ha-switch> </ha-md-list-item> ${this._hasLocalAddons(this._addons)?s.qy` <ha-md-list-item> <ha-svg-icon slot="start" .path="${_}"></ha-svg-icon> <span slot="headline"> ${this.hass.localize("ui.panel.config.backup.data.local_addons")} </span> <span slot="supporting-text"> ${this.hass.localize("ui.panel.config.backup.data.local_addons_description")} </span> <ha-switch id="local_addons" slot="end" @change="${this._switchChanged}" .checked="${e.local_addons}"></ha-switch> </ha-md-list-item> `:s.s6} ${this._addons.length?s.qy` <ha-md-list-item> <ha-svg-icon slot="start" .path="${C}"></ha-svg-icon> <span slot="headline"> ${this.hass.localize("ui.panel.config.backup.data.addons")} </span> <span slot="supporting-text"> ${this.hass.localize("ui.panel.config.backup.data.addons_description")} </span> <ha-md-select slot="end" id="addons_mode" @change="${this._selectChanged}" .value="${e.addons_mode}"> <ha-md-select-option value="all"> <div slot="headline"> ${this.hass.localize("ui.panel.config.backup.data.addons_all")} </div> </ha-md-select-option> <ha-md-select-option value="none"> <div slot="headline"> ${this.hass.localize("ui.panel.config.backup.data.addons_none")} </div> </ha-md-select-option> <ha-md-select-option value="custom"> <div slot="headline"> ${this.hass.localize("ui.panel.config.backup.data.addons_custom")} </div> </ha-md-select-option> </ha-md-select> </ha-md-list-item> `:s.s6} `:s.s6} </ha-md-list> ${t&&this._showAddons&&this._addons.length?s.qy` <ha-expansion-panel .header="${"Add-ons"}" outlined expanded> <ha-backup-addons-picker .hass="${this.hass}" .value="${e.addons}" @value-changed="${this._addonsChanged}" .addons="${this._addons}" .hideVersion="${this.hideAddonVersion}"></ha-backup-addons-picker> </ha-expansion-panel> `:s.s6} `}_switchChanged(e){const t=e.currentTarget,i=this._getData(this.value,this._showAddons);this._setData({...i,[t.id]:t.checked})}_selectChanged(e){const t=e.currentTarget,i=this._getData(this.value,this._showAddons);this._setData({...i,[t.id]:t.value}),"addons_mode"===t.id&&(this._showAddons="custom"===t.value)}_addonsChanged(e){e.stopPropagation();const t=e.detail.value,i=this._getData(this.value,this._showAddons);this._setData({...i,addons:t})}_renderSizeEstimate(){if(!(0,l.x)(this.hass,"hassio"))return s.s6;const e=this._getData(this.value,this._showAddons);if(!(e.homeassistant||e.database||e.media||e.share||e.local_addons||"all"===e.addons_mode||"custom"===e.addons_mode&&e.addons.length>0))return s.s6;if(void 0===this._storageInfo)return s.qy` <ha-alert alert-type="info"> <ha-spinner slot="icon"></ha-spinner> ${this.hass.localize("ui.panel.config.backup.data.estimated_size_loading")} </ha-alert> `;if(!this._storageInfo||!this._storageInfo.children)return s.s6;const t=this._estimateBackupSize(e,this._storageInfo,this._addons.length);if(null===t)return s.s6;const{compressedBytes:i,addonsNotAccurate:a}=t;return s.qy` <span class="estimated-size"> <span class="estimated-size-heading"> ${this.hass.localize("ui.panel.config.backup.data.estimated_size")} <ha-svg-icon id="estimated-size-info" .path="${f}"></ha-svg-icon> <ha-tooltip for="estimated-size-info" placement="right"> ${this.hass.localize("ui.panel.config.backup.data.estimated_size_disclaimer")} ${a?s.qy`<br><br>${this.hass.localize("ui.panel.config.backup.data.estimated_size_disclaimer_addons_custom")}`:s.s6} </ha-tooltip> </span> <span class="estimated-size-value"> ${(0,g.A)(i)} </span> </span> `}constructor(...e){super(...e),this.forceHomeAssistant=!1,this.hideAddonVersion=!1,this._addons=[],this._showAddons=!1,this._showDbOption=!0,this._estimateBackupSize=(0,n.A)((e,t,i)=>{if(!t?.children)return null;let a=0;const s={};return t.children.forEach(e=>{s[e.id]=e.used_bytes}),e.homeassistant&&(a+=s.homeassistant??0),e.media&&(a+=s.media??0),e.share&&(a+=s.share??0),("all"===e.addons_mode||"custom"===e.addons_mode&&e.addons.length>0)&&(a+=(s.addons_data??0)+(s.addons_config??0)),{compressedBytes:Math.round(.6*a),addonsNotAccurate:"custom"===e.addons_mode&&e.addons.length>0&&e.addons.length!==i}}),this._getData=(0,n.A)((e,t)=>{if(!e)return x;const i=e,a=i.include_addons?.slice()??[];return{homeassistant:i.include_homeassistant||this.forceHomeAssistant,database:i.include_database,media:i.include_folders?.includes("media")||!1,share:i.include_folders?.includes("share")||!1,local_addons:i.include_folders?.includes("addons/local")||!1,addons_mode:i.include_all_addons?"all":a.length>0||t?"custom":"none",addons:a}})}}M.styles=s.AH`.estimated-size{display:block;margin-top:var(--ha-space-2);font-size:var(--ha-font-size-m)}.estimated-size-heading{font-size:var(--ha-font-size-m);line-height:var(--ha-line-height-expanded)}.estimated-size-heading ha-svg-icon{--mdc-icon-size:16px;color:var(--secondary-text-color);margin-inline-start:var(--ha-space-1);vertical-align:middle}.estimated-size-value{display:block;font-size:var(--ha-font-size-s);color:var(--secondary-text-color)}ha-spinner{--ha-spinner-size:24px}ha-md-list{background:0 0;--md-list-item-leading-space:0;--md-list-item-trailing-space:0}ha-md-list-item{--md-item-overflow:visible}ha-md-select{min-width:210px}@media all and (max-width:450px){ha-md-select{min-width:140px;width:140px;--md-filled-field-content-space:0}}`,(0,a.Cg)([(0,o.MZ)({attribute:!1})],M.prototype,"hass",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,attribute:"force-home-assistant"})],M.prototype,"forceHomeAssistant",void 0),(0,a.Cg)([(0,o.MZ)({attribute:"hide-addon-version",type:Boolean})],M.prototype,"hideAddonVersion",void 0),(0,a.Cg)([(0,o.wk)()],M.prototype,"value",void 0),(0,a.Cg)([(0,o.wk)()],M.prototype,"_addons",void 0),(0,a.Cg)([(0,o.wk)()],M.prototype,"_showAddons",void 0),(0,a.Cg)([(0,o.wk)()],M.prototype,"_showDbOption",void 0),(0,a.Cg)([(0,o.wk)()],M.prototype,"_storageInfo",void 0),M=(0,a.Cg)([(0,o.EM)("ha-backup-config-data")],M),t()}catch(e){t(e)}})},40840(e,t,i){i.a(e,async function(e,t){try{i(44114),i(18111),i(61701);var a=i(62826),s=i(96196),o=i(44457),n=i(22786),l=i(30162),d=i(1087),h=(i(9503),i(11382),i(6),i(17308),i(2846),i(37832),i(71828),i(56917),i(50286),i(67505),i(31420)),r=(i(78391),e([l,h]));[l,h]=r.then?(await r)():r;const c=[h.qk.NEVER,h.qk.DAILY,h.qk.CUSTOM_DAYS],p=["default","custom"],u={recurrence:h.qk.NEVER,time_option:"default",days:[],retention:{copies:3}};class g extends s.WF{_setData(e){this.value={...this.value,schedule:{recurrence:e.recurrence,time:"custom"===e.time_option?e.time:null,days:e.recurrence===h.qk.CUSTOM_DAYS?e.days:[]},retention:e.retention},(0,d.r)(this,"value-changed",{value:this.value})}render(){const e=this._getData(this.value);return s.qy` <ha-md-list> <ha-md-list-item> <span slot="headline"> ${this.hass.localize("ui.panel.config.backup.schedule.schedule")}</span> <span slot="supporting-text"> ${this.hass.localize("ui.panel.config.backup.schedule.schedule_description")} </span> <ha-md-select slot="end" @change="${this._scheduleChanged}" .value="${e.recurrence}"> ${c.map(e=>s.qy` <ha-md-select-option .value="${e}"> <div slot="headline"> ${this.hass.localize(`ui.panel.config.backup.schedule.schedule_options.${e}`)} </div> </ha-md-select-option> `)} </ha-md-select> </ha-md-list-item> ${e.recurrence===h.qk.CUSTOM_DAYS?s.qy`<ha-expansion-panel expanded .header="${this.hass.localize("ui.panel.config.backup.schedule.custom_schedule")}" outlined> <ha-md-list-item class="days"> <span slot="headline"> ${this.hass.localize("ui.panel.config.backup.schedule.backup_every")} </span> <div slot="end"> ${h.T2.map(t=>s.qy` <div> <ha-formfield .label="${this.hass.localize(`ui.panel.config.backup.overview.settings.weekdays.${t}`)}"> <ha-checkbox @change="${this._daysChanged}" .checked="${e.days.includes(t)}" .value="${t}"> </ha-checkbox>  </ha-formfield> </div> `)} </div> </ha-md-list-item> </ha-expansion-panel>`:s.s6} ${e.recurrence===h.qk.DAILY||e.recurrence===h.qk.CUSTOM_DAYS&&e.days.length>0?s.qy` <ha-md-list-item> <span slot="headline"> ${this.hass.localize("ui.panel.config.backup.schedule.time")}</span> <span slot="supporting-text"> ${this.hass.localize("ui.panel.config.backup.schedule.schedule_time_description",{time_range_start:(0,l.fU)(h.uM,this.hass.locale,this.hass.config),time_range_end:(0,l.fU)(h.pL,this.hass.locale,this.hass.config)})} </span> <ha-md-select slot="end" @change="${this._scheduleTimeChanged}" .value="${e.time_option}"> ${p.map(e=>s.qy` <ha-md-select-option .value="${e}"> <div slot="headline"> ${this.hass.localize(`ui.panel.config.backup.schedule.time_options.${e}`)} </div> </ha-md-select-option> `)} </ha-md-select> </ha-md-list-item> ${"custom"===e.time_option?s.qy`<ha-expansion-panel expanded .header="${this.hass.localize("ui.panel.config.backup.schedule.custom_time")}" outlined> <ha-md-list-item> <span slot="headline"> ${this.hass.localize("ui.panel.config.backup.schedule.custom_time_label")} </span> <span slot="supporting-text"> ${this.hass.localize("ui.panel.config.backup.schedule.custom_time_description",{time:(0,l.fU)(h.uM,this.hass.locale,this.hass.config)})} </span> <ha-time-input slot="end" @value-changed="${this._timeChanged}" .value="${e.time??void 0}" .locale="${this.hass.locale}"> </ha-time-input> </ha-md-list-item> </ha-expansion-panel>`:s.s6} `:s.s6} ${this.supervisor?s.qy` <ha-md-list-item> <span slot="headline"> ${this.hass.localize("ui.panel.config.backup.schedule.update_preference.label")} </span> <span slot="supporting-text"> ${this.hass.localize("ui.panel.config.backup.schedule.update_preference.supporting_text")} </span> <ha-md-select slot="end" @change="${this._updatePreferenceChanged}" .value="${this.supervisorUpdateConfig?.core_backup_before_update?.toString()||"false"}"> <ha-md-select-option value="false"> <div slot="headline"> ${this.hass.localize("ui.panel.config.backup.schedule.update_preference.skip_backups")} </div> </ha-md-select-option> <ha-md-select-option value="true"> <div slot="headline"> ${this.hass.localize("ui.panel.config.backup.schedule.update_preference.backup_before_update")} </div> </ha-md-select-option> </ha-md-select> </ha-md-list-item> `:s.s6} <ha-backup-config-retention .hass="${this.hass}" .retention="${e.retention}" @value-changed="${this._retentionChanged}"></ha-backup-config-retention> <ha-tip .hass="${this.hass}">${this.hass.localize("ui.panel.config.backup.schedule.tip",{backup_create:s.qy``})}</ha-tip> </ha-md-list> `}_scheduleChanged(e){e.stopPropagation();const t=e.currentTarget,i=this._getData(this.value);let a=[...i.days];t.value===h.qk.CUSTOM_DAYS&&0===i.days.length&&(a=[...h.T2]),this._setData({...i,recurrence:t.value,days:a})}_scheduleTimeChanged(e){e.stopPropagation();const t=e.currentTarget,i=this._getData(this.value);this._setData({...i,time_option:t.value,time:"custom"===t.value?"04:45:00":void 0})}_timeChanged(e){e.stopPropagation();const t=this._getData(this.value);this._setData({...t,time:e.detail.value})}_daysChanged(e){e.stopPropagation();const t=e.currentTarget,i=t.value,a=this._getData(this.value),s=[...a.days];t.checked&&!a.days.includes(i)?s.push(i):!t.checked&&a.days.includes(i)&&s.splice(s.indexOf(i),1),(0,h.Ye)(s),this._setData({...a,days:s})}_updatePreferenceChanged(e){e.stopPropagation();const t="true"===e.currentTarget.value;(0,d.r)(this,"update-config-changed",{value:{core_backup_before_update:t}})}_retentionChanged(e){e.stopPropagation();const t=e.detail.value,i={...this._getData(this.value),retention:t};this._setData(i)}constructor(...e){super(...e),this.supervisor=!1,this._getData=(0,n.A)(e=>{if(!e)return u;const t=e;return{recurrence:t.schedule.recurrence,time_option:t.schedule.time?"custom":"default",time:t.schedule.time,days:t.schedule.recurrence===h.qk.CUSTOM_DAYS?t.schedule.days:[],retention:t.retention}})}}g.styles=s.AH`ha-md-list{background:0 0;--md-list-item-leading-space:0;--md-list-item-trailing-space:0}ha-md-list-item{--md-item-overflow:visible}ha-md-select{min-width:210px}ha-time-input{min-width:194px;--time-input-flex:1}@media all and (max-width:450px){ha-md-select{min-width:160px;width:160px;--md-filled-field-content-space:0}ha-time-input{min-width:145px;width:145px}}ha-expansion-panel{margin-bottom:16px}ha-tip{text-align:unset;margin:16px 0}ha-md-list-item.days{--md-item-align-items:flex-start}a{color:var(--primary-color)}`,(0,a.Cg)([(0,o.MZ)({attribute:!1})],g.prototype,"hass",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],g.prototype,"value",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],g.prototype,"supervisor",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],g.prototype,"supervisorUpdateConfig",void 0),g=(0,a.Cg)([(0,o.EM)("ha-backup-config-schedule")],g),t()}catch(e){t(e)}})}};
//# sourceMappingURL=59642.c4203c66a9f7ba2c.js.map