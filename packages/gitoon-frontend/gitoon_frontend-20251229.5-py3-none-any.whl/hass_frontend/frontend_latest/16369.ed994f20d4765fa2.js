export const __rspack_esm_id="16369";export const __rspack_esm_ids=["16369"];export const __webpack_modules__={99611(e,t,o){o.a(e,async function(e,a){try{o.d(t,{r:()=>p});var i=o(62826),s=o(1126),r=o(96196),n=o(44457),l=o(60353),c=o(59992),d=o(14503),h=e([s]);s=(h.then?(await h)():h)[0];const p=300;class g extends((0,c.V)(r.WF)){get scrollableElement(){return this._bodyElement}_handleAfterHide(e){e.stopPropagation(),this.open=!1;const t=new Event("closed",{bubbles:!0,composed:!0});this.dispatchEvent(t)}updated(e){super.updated(e),e.has("open")&&(this._drawerOpen=this.open)}render(){return r.qy` <wa-drawer id="drawer" placement="bottom" .open="${this._drawerOpen}" @wa-after-hide="${this._handleAfterHide}" without-header @touchstart="${this._handleTouchStart}"> <slot name="header"></slot> <div class="content-wrapper"> <div id="body" class="body ha-scrollbar"> <slot></slot> </div> ${this.renderScrollableFades()} </div> <slot name="footer"></slot> </wa-drawer> `}_startResizing(e){document.addEventListener("touchmove",this._handleTouchMove,{passive:!1}),document.addEventListener("touchend",this._handleTouchEnd),document.addEventListener("touchcancel",this._handleTouchEnd),this._gestureRecognizer.start(e)}_animateSnapBack(){this.style.setProperty("--dialog-transition",`transform ${p}ms ease-out`),this.style.removeProperty("--dialog-transform"),setTimeout(()=>{this.style.removeProperty("--dialog-transition")},p)}disconnectedCallback(){super.disconnectedCallback(),this._unregisterResizeHandlers(),this._isDragging=!1}static get styles(){return[...super.styles,d.dp,r.AH`wa-drawer{--wa-color-surface-raised:transparent;--spacing:0;--size:var(--ha-bottom-sheet-height, auto);--show-duration:${p}ms;--hide-duration:${p}ms}wa-drawer::part(dialog){max-height:var(--ha-bottom-sheet-max-height,90vh);align-items:center;transform:var(--dialog-transform);transition:var(--dialog-transition)}wa-drawer::part(body){max-width:var(--ha-bottom-sheet-max-width);width:100%;border-top-left-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));border-top-right-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));background-color:var(--ha-bottom-sheet-surface-background,var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff)));padding:var(--ha-bottom-sheet-padding,0 var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left))}:host([flexcontent]) wa-drawer::part(body){display:flex;flex-direction:column}.content-wrapper{position:relative;flex:1;display:flex;flex-direction:column;min-height:0}:host([flexcontent]) .body{flex:1;max-width:100%;display:flex;flex-direction:column;padding:var(--ha-bottom-sheet-padding,0 var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left))}slot[name=footer]{display:block;padding:0}::slotted([slot=footer]){display:flex;padding:var(--ha-space-3) var(--ha-space-4) var(--ha-space-4) var(--ha-space-4);gap:var(--ha-space-3);justify-content:flex-end;align-items:center;width:100%;box-sizing:border-box}:host([flexcontent]) slot[name=footer]{flex-shrink:0}`]}constructor(...e){super(...e),this.open=!1,this.flexContent=!1,this._drawerOpen=!1,this._gestureRecognizer=new l.u,this._isDragging=!1,this._handleTouchStart=e=>{for(const t of e.composedPath()){const e=t;if(e===this._drawer)break;if(e.scrollTop>0)return}this._startResizing(e.touches[0].clientY)},this._handleTouchMove=e=>{const t=e.touches[0].clientY,o=this._gestureRecognizer.move(t);o<0&&(e.preventDefault(),this._isDragging=!0,requestAnimationFrame(()=>{this._isDragging&&this.style.setProperty("--dialog-transform",`translateY(${-1*o}px)`)}))},this._handleTouchEnd=()=>{this._unregisterResizeHandlers(),this._isDragging=!1;const e=this._gestureRecognizer.end();if(e.isSwipe)return void(e.isDownwardSwipe?this._drawerOpen=!1:this._animateSnapBack());const t=this._drawer.shadowRoot?.querySelector('[part="body"]'),o=t?.offsetHeight||0;o>0&&e.delta<0&&Math.abs(e.delta)>.5*o?this._drawerOpen=!1:this._animateSnapBack()},this._unregisterResizeHandlers=()=>{document.removeEventListener("touchmove",this._handleTouchMove),document.removeEventListener("touchend",this._handleTouchEnd),document.removeEventListener("touchcancel",this._handleTouchEnd)}}}(0,i.Cg)([(0,n.MZ)({type:Boolean})],g.prototype,"open",void 0),(0,i.Cg)([(0,n.MZ)({type:Boolean,reflect:!0,attribute:"flexcontent"})],g.prototype,"flexContent",void 0),(0,i.Cg)([(0,n.wk)()],g.prototype,"_drawerOpen",void 0),(0,i.Cg)([(0,n.P)("#drawer")],g.prototype,"_drawer",void 0),(0,i.Cg)([(0,n.P)("#body")],g.prototype,"_bodyElement",void 0),g=(0,i.Cg)([(0,n.EM)("ha-bottom-sheet")],g),a()}catch(e){a(e)}})},64138(e,t,o){o.a(e,async function(e,a){try{o.r(t),o.d(t,{HaIconPicker:()=>_});o(44114),o(18111),o(22489),o(7588),o(61701),o(13579);var i=o(62826),s=o(96196),r=o(44457),n=o(22786),l=o(1087),c=o(57769),d=(o(75064),o(38508)),h=(o(88945),e([d]));d=(h.then?(await h)():h)[0];let p=[],g=!1;const u=(e,t)=>{const o=`${t}:${e.name}`,a=e.name,i=a.split("-"),s=e.keywords??[],r={iconName:a};return i.forEach((e,t)=>{r[`part${t}`]=e}),s.forEach((e,t)=>{r[`keyword${t}`]=e}),{id:o,primary:o,icon:o,search_labels:r,sorting_label:o}},m=async()=>{g=!0;const e=await o.e("81340").then(o.t.bind(o,25143,19));p=e.default.map(e=>u(e,"mdi"));const t=[];Object.keys(c.y).forEach(e=>{t.push(y(e))}),(await Promise.all(t)).forEach(e=>{p.push(...e)})},y=async e=>{try{const t=c.y[e].getIconList;if("function"!=typeof t)return[];return(await t()).map(t=>u(t,e))}catch(t){return console.warn(`Unable to load icon list for ${e} iconset`),[]}},v=e=>s.qy` <ha-combo-box-item type="button"> <ha-icon .icon="${e.id}" slot="start"></ha-icon> ${e.id} </ha-combo-box-item> `;class _ extends s.WF{render(){return s.qy` <ha-generic-picker .hass="${this.hass}" allow-custom-value .getItems="${this._getIconPickerItems}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}" .errorMessage="${this.errorMessage}" .invalid="${this.invalid}" .rowRenderer="${v}" .icon="${this._icon}" .label="${this.label}" .value="${this._value}" .searchFn="${this._filterIcons}" .notFoundLabel="${this.hass?.localize("ui.components.icon-picker.no_match")}" popover-placement="bottom-start" @value-changed="${this._valueChanged}"> <slot name="start"></slot> </ha-generic-picker> `}firstUpdated(){g||m().then(()=>{this._getIconPickerItems=()=>p,this.requestUpdate()})}_valueChanged(e){e.stopPropagation(),this._setValue(e.detail.value)}_setValue(e){this.value=e,(0,l.r)(this,"value-changed",{value:this._value},{bubbles:!1,composed:!1})}get _icon(){return this.value?.length?this.value:this.placeholder}get _value(){return this.value||""}constructor(...e){super(...e),this.disabled=!1,this.required=!1,this.invalid=!1,this._getIconPickerItems=()=>p,this._filterIcons=(0,n.A)((e,t,o)=>{const a=e.toLowerCase().replace(/\s+/g,"-"),i=o?.length?o:t;if(!a.length)return i;const s=[];for(const e of i){const t=(e.id.split(":")[1]||e.id).toLowerCase().split("-"),o=e.search_labels?Object.values(e.search_labels).filter(e=>null!==e).map(e=>e.toLowerCase()):[],i=e.id.toLowerCase();t.includes(a)?s.push({item:e,rank:1}):o.includes(a)?s.push({item:e,rank:2}):i.includes(a)?s.push({item:e,rank:3}):o.some(e=>e.includes(a))&&s.push({item:e,rank:4})}return 0===s.length&&s.push({item:{id:e,primary:e,icon:e,search_labels:{keyword:e},sorting_label:e},rank:0}),s.sort((e,t)=>e.rank-t.rank).map(e=>e.item)})}}_.styles=s.AH`ha-generic-picker{width:100%;display:block}`,(0,i.Cg)([(0,r.MZ)({attribute:!1})],_.prototype,"hass",void 0),(0,i.Cg)([(0,r.MZ)()],_.prototype,"value",void 0),(0,i.Cg)([(0,r.MZ)()],_.prototype,"label",void 0),(0,i.Cg)([(0,r.MZ)()],_.prototype,"helper",void 0),(0,i.Cg)([(0,r.MZ)()],_.prototype,"placeholder",void 0),(0,i.Cg)([(0,r.MZ)({attribute:"error-message"})],_.prototype,"errorMessage",void 0),(0,i.Cg)([(0,r.MZ)({type:Boolean})],_.prototype,"disabled",void 0),(0,i.Cg)([(0,r.MZ)({type:Boolean})],_.prototype,"required",void 0),(0,i.Cg)([(0,r.MZ)({type:Boolean})],_.prototype,"invalid",void 0),_=(0,i.Cg)([(0,r.EM)("ha-icon-picker")],_),a()}catch(e){a(e)}})},8034(e,t,o){var a=o(62826),i=o(96196),s=o(44457);class r extends i.WF{render(){return i.qy` <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="${!this.threeLine}" ?three-line="${this.threeLine}"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> `}constructor(...e){super(...e),this.narrow=!1,this.slim=!1,this.threeLine=!1,this.wrapHeading=!1}}r.styles=i.AH`:host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16px;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display,flex);flex-direction:var(--layout-vertical_-_flex-direction,column);justify-content:var(--layout-center-justified_-_justify-content,center);flex:var(--layout-flex_-_flex,1);flex-basis:var(--layout-flex_-_flex-basis,0.000000001px)}.body[three-line]{min-height:88px}:host(:not([wrap-heading])) body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(
        --mdc-typography-body2-font-family,
        var(--mdc-typography-font-family, var(--ha-font-family-body))
      );font-size:var(--mdc-typography-body2-font-size, var(--ha-font-size-s));-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-weight:var(--mdc-typography-body2-font-weight,var(--ha-font-weight-normal));line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(72px - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;min-width:0;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}:host([slim]),:host([slim]) .content,:host([slim]) ::slotted(ha-switch){padding:0}:host([slim]) .body{min-height:0}`,(0,a.Cg)([(0,s.MZ)({type:Boolean,reflect:!0})],r.prototype,"narrow",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean,reflect:!0})],r.prototype,"slim",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean,attribute:"three-line"})],r.prototype,"threeLine",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean,attribute:"wrap-heading",reflect:!0})],r.prototype,"wrapHeading",void 0),r=(0,a.Cg)([(0,s.EM)("ha-settings-row")],r)},35930(e,t,o){o.a(e,async function(e,a){try{o.r(t);var i=o(62826),s=o(96196),r=o(44457),n=o(1087),l=(o(38962),o(18350)),c=o(72554),d=o(64138),h=(o(8034),o(75709),o(59241)),p=o(14503),g=o(16536),u=e([l,d,g]);[l,d,g]=u.then?(await u)():u;class m extends s.WF{showDialog(e){this._params=e,this._scope=e.scope,this._category=e.entityReg.categories[e.scope],this._error=void 0}closeDialog(){this._error="",this._params=void 0,(0,n.r)(this,"dialog-closed",{dialog:this.localName})}render(){if(!this._params)return s.s6;const e=this._params.entityReg.categories[this._params.scope];return s.qy` <ha-dialog open @closed="${this.closeDialog}" .heading="${(0,c.l)(this.hass,e?this.hass.localize("ui.panel.config.category.assign.edit"):this.hass.localize("ui.panel.config.category.assign.assign"))}"> <div> ${this._error?s.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <div class="form"> <ha-category-picker .hass="${this.hass}" .scope="${this._scope}" .label="${this.hass.localize("ui.components.category-picker.category")}" .value="${this._category}" @value-changed="${this._categoryChanged}"></ha-category-picker> </div> </div> <ha-button appearance="plain" slot="primaryAction" @click="${this.closeDialog}"> ${this.hass.localize("ui.common.cancel")} </ha-button> <ha-button slot="primaryAction" @click="${this._updateEntry}" .disabled="${!!this._submitting}"> ${this.hass.localize("ui.common.save")} </ha-button> </ha-dialog> `}_categoryChanged(e){e.detail.value||(this._category=void 0),this._category=e.detail.value}async _updateEntry(){this._submitting=!0,this._error=void 0;try{await(0,h.G_)(this.hass,this._params.entityReg.entity_id,{categories:{[this._scope]:this._category||null}}),this.closeDialog()}catch(e){this._error=e.message||this.hass.localize("ui.panel.config.category.assign.unknown_error")}finally{this._submitting=!1}}static get styles(){return[p.nA,s.AH`ha-icon-picker,ha-textfield{display:block;margin-bottom:16px}`]}}(0,i.Cg)([(0,r.MZ)({attribute:!1})],m.prototype,"hass",void 0),(0,i.Cg)([(0,r.wk)()],m.prototype,"_scope",void 0),(0,i.Cg)([(0,r.wk)()],m.prototype,"_category",void 0),(0,i.Cg)([(0,r.wk)()],m.prototype,"_error",void 0),(0,i.Cg)([(0,r.wk)()],m.prototype,"_params",void 0),(0,i.Cg)([(0,r.wk)()],m.prototype,"_submitting",void 0),m=(0,i.Cg)([(0,r.EM)("dialog-assign-category")],m),a()}catch(e){a(e)}})},16536(e,t,o){o.a(e,async function(e,t){try{o(18111),o(22489),o(61701),o(17642),o(58004),o(33853),o(45876),o(32475),o(15024),o(31698);var a=o(62826),i=o(96196),s=o(44457),r=o(22786),n=o(1087),l=o(38508),c=(o(67094),o(76570)),d=o(54706),h=o(90986),p=e([l]);l=(p.then?(await p)():p)[0];const g="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",u="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",m="___ADD_NEW___",y="___NO_CATEGORIES___";class v extends((0,d.E)(i.WF)){async open(){await this.updateComplete,await(this._picker?.open())}hassSubscribe(){return[(0,c.Ar)(this.hass.connection,this.scope,e=>{this._categories=e})]}render(){const e=this._computeValueRenderer(this._categories);return i.qy` <ha-generic-picker .hass="${this.hass}" .autofocus="${this.autofocus}" .label="${this.label}" .placeholder="${this.placeholder}" .value="${this.value}" .notFoundLabel="${this._notFoundLabel}" .emptyLabel="${this.hass.localize("ui.components.category-picker.no_categories")}" .getItems="${this._getItems}" .getAdditionalItems="${this._getAdditionalItems}" .valueRenderer="${e}" .unknownItemText="${this.hass.localize("ui.components.category-picker.unknown")}" @value-changed="${this._valueChanged}"> </ha-generic-picker> `}_valueChanged(e){e.stopPropagation();const t=e.detail.value;if(t!==y)if(t){if(t.startsWith(m)){this.hass.loadFragmentTranslation("config");const e=t.substring(m.length);return void(0,h.S)(this,{scope:this.scope,suggestedName:e,createEntry:async e=>{const t=await(0,c.s_)(this.hass,this.scope,e);return this._setValue(t.category_id),t}})}this._setValue(t)}else this._setValue(void 0)}_setValue(e){this.value=e,setTimeout(()=>{(0,n.r)(this,"value-changed",{value:e}),(0,n.r)(this,"change")},0)}constructor(...e){super(...e),this.noAdd=!1,this.disabled=!1,this.required=!1,this.hassSubscribeRequiredHostProps=["scope"],this._categoryMap=(0,r.A)(e=>e?new Map(e.map(e=>[e.category_id,e])):new Map),this._computeValueRenderer=(0,r.A)(e=>t=>{const o=this._categoryMap(e).get(t);return o?i.qy` ${o.icon?i.qy`<ha-icon slot="start" .icon="${o.icon}"></ha-icon>`:i.qy`<ha-svg-icon slot="start" .path="${u}"></ha-svg-icon>`} <span slot="headline">${o.name}</span> `:i.qy` <ha-svg-icon slot="start" .path="${u}"></ha-svg-icon> <span slot="headline">${t}</span> `}),this._getCategories=(0,r.A)(e=>{if(!e||0===e.length)return[{id:y,primary:this.hass.localize("ui.components.category-picker.no_categories"),icon_path:u}];return e.map(e=>({id:e.category_id,primary:e.name,icon:e.icon||void 0,icon_path:e.icon?void 0:u,sorting_label:e.name}))}),this._getItems=()=>this._getCategories(this._categories),this._allCategoryNames=(0,r.A)(e=>e?[...new Set(e.map(e=>e.name.toLowerCase()).filter(Boolean))]:[]),this._getAdditionalItems=e=>{if(this.noAdd)return[];const t=this._allCategoryNames(this._categories);return e&&!t.includes(e.toLowerCase())?[{id:m+e,primary:this.hass.localize("ui.components.category-picker.add_new_sugestion",{name:e}),icon_path:g}]:[{id:m,primary:this.hass.localize("ui.components.category-picker.add_new"),icon_path:g}]},this._notFoundLabel=e=>this.hass.localize("ui.components.category-picker.no_match",{term:i.qy`<b>‘${e}’</b>`})}}(0,a.Cg)([(0,s.MZ)({attribute:!1})],v.prototype,"hass",void 0),(0,a.Cg)([(0,s.MZ)()],v.prototype,"scope",void 0),(0,a.Cg)([(0,s.MZ)()],v.prototype,"label",void 0),(0,a.Cg)([(0,s.MZ)()],v.prototype,"value",void 0),(0,a.Cg)([(0,s.MZ)()],v.prototype,"helper",void 0),(0,a.Cg)([(0,s.MZ)()],v.prototype,"placeholder",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean,attribute:"no-add"})],v.prototype,"noAdd",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],v.prototype,"disabled",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],v.prototype,"required",void 0),(0,a.Cg)([(0,s.wk)()],v.prototype,"_categories",void 0),(0,a.Cg)([(0,s.P)("ha-generic-picker")],v.prototype,"_picker",void 0),v=(0,a.Cg)([(0,s.EM)("ha-category-picker")],v),t()}catch(e){t(e)}})},91081(e,t,o){function a(e,t){return{top:Math.round(e.getBoundingClientRect().top-t.getBoundingClientRect().top),left:Math.round(e.getBoundingClientRect().left-t.getBoundingClientRect().left)}}o.d(t,{A:()=>a})},97039(e,t,o){o.d(t,{I7:()=>r,JG:()=>s,Rt:()=>n});o(17642),o(58004),o(33853),o(45876),o(32475),o(15024),o(31698);var a=o(91081);const i=new Set;function s(e){if(i.add(e),!document.documentElement.classList.contains("wa-scroll-lock")){const e=function(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}()+function(){const e=Number(getComputedStyle(document.body).paddingRight.replace(/px/,""));return isNaN(e)||!e?0:e}();let t=getComputedStyle(document.documentElement).scrollbarGutter;t&&"auto"!==t||(t="stable"),e<2&&(t=""),document.documentElement.style.setProperty("--wa-scroll-lock-gutter",t),document.documentElement.classList.add("wa-scroll-lock"),document.documentElement.style.setProperty("--wa-scroll-lock-size",`${e}px`)}}function r(e){i.delete(e),0===i.size&&(document.documentElement.classList.remove("wa-scroll-lock"),document.documentElement.style.removeProperty("--wa-scroll-lock-size"))}function n(e,t,o="vertical",i="smooth"){const s=(0,a.A)(e,t),r=s.top+t.scrollTop,n=s.left+t.scrollLeft,l=t.scrollLeft,c=t.scrollLeft+t.offsetWidth,d=t.scrollTop,h=t.scrollTop+t.offsetHeight;"horizontal"!==o&&"both"!==o||(n<l?t.scrollTo({left:n,behavior:i}):n+e.clientWidth>c&&t.scrollTo({left:n-t.offsetWidth+e.clientWidth,behavior:i})),"vertical"!==o&&"both"!==o||(r<d?t.scrollTo({top:r,behavior:i}):r+e.clientHeight>h&&t.scrollTo({top:r-t.offsetHeight+e.clientHeight,behavior:i}))}}};
//# sourceMappingURL=16369.ed994f20d4765fa2.js.map