"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["39005"],{32023:function(e,t,i){var o,r,a=i(72153),n=i(44734),l=i(43080),s=i(69683),c=i(6454),d=i(25460),h=(i(28706),i(40445)),u=i(42034),p=i(36034),v=i(63374),m=i(75640),g=i(91735),b=i(43826),f=i(96196),y=i(77845),_=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=(0,s.A)(this,t,[].concat(o))).noLeadingIcon=!1,e}return(0,c.A)(t,e),(0,l.A)(t,[{key:"renderLeadingIcon",value:function(){return this.noLeadingIcon?(0,f.qy)(o||(o=(0,a.A)([""]))):(0,d.A)(t,"renderLeadingIcon",this,3)([])}}])}(p.$);_.styles=[g.R,u.R,b.R,m.R,v.R,(0,f.AH)(r||(r=(0,a.A)([":host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--primary-text-color);--md-sys-color-on-secondary-container:var(--primary-text-color);--md-filter-chip-container-shape:16px;--md-filter-chip-outline-color:var(--outline-color);--md-filter-chip-selected-container-color:rgba(\n          var(--rgb-primary-text-color),\n          0.15\n        );--_label-text-font:var(--ha-font-family-body);border-radius:var(--ha-border-radius-md)}"])))],(0,h.Cg)([(0,y.MZ)({type:Boolean,reflect:!0,attribute:"no-leading-icon"})],_.prototype,"noLeadingIcon",void 0),_=(0,h.Cg)([(0,y.EM)("ha-filter-chip")],_)},75064:function(e,t,i){var o,r=i(72153),a=i(7739),n=i(43080),l=i(44734),s=i(69683),c=i(6454),d=(i(28706),i(40445)),h=i(96196),u=i(77845),p=i(2846),v=function(e){function t(){var e;(0,l.A)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=(0,s.A)(this,t,[].concat(o))).borderTop=!1,e}return(0,c.A)(t,e),(0,n.A)(t)}(p.G);v.styles=[].concat((0,a.A)(p.J),[(0,h.AH)(o||(o=(0,r.A)([":host{--md-list-item-one-line-container-height:48px;--md-list-item-two-line-container-height:64px}:host([border-top]) md-item{border-top:1px solid var(--divider-color)}[slot=start]{--state-icon-color:var(--secondary-text-color)}[slot=overline]{line-height:1.15rem;font-size:calc(var(--mdc-typography-subtitle1-font-size, 1rem) * .75);font-weight:var(--mdc-typography-subtitle1-font-weight,400);font-family:var(\n          --mdc-typography-subtitle1-font-family,\n          var(--mdc-typography-font-family)\n        );color:var(--mdc-select-label-ink-color,rgba(0,0,0,.6))}[slot=headline]{line-height:var(--ha-line-height-normal);font-size:var(--ha-font-size-m);white-space:nowrap}[slot=supporting-text]{line-height:var(--ha-line-height-normal);font-size:var(--ha-font-size-s);white-space:nowrap}::slotted(img),::slotted(state-badge){width:32px;height:32px}::slotted(.code){font-family:var(--ha-font-family-code);font-size:var(--ha-font-size-xs)}::slotted(.domain){font-size:var(--ha-font-size-s);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-normal);align-self:flex-end;max-width:30%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}"])))]),(0,d.Cg)([(0,u.MZ)({type:Boolean,reflect:!0,attribute:"border-top"})],v.prototype,"borderTop",void 0),v=(0,d.Cg)([(0,u.EM)("ha-combo-box-item")],v)},38508:function(e,t,i){i.a(e,async function(e,t){try{var o,r,a,n,l,s,c,d,h,u=i(61397),p=i(50264),v=i(72153),m=i(44734),g=i(43080),b=i(69683),f=i(6454),y=i(25460),_=(i(28706),i(18111),i(13579),i(69085),i(26099),i(40445)),x=i(61366),w=i(96196),k=i(77845),A=i(32288),C=i(22786),I=i(57947),M=i(1087),L=i(17894),z=i(22348),Z=i(99611),q=i(18350),S=(i(75064),i(3449),i(49639)),E=(i(88285),i(67094),e([x,Z,q,S]));[x,Z,q,S]=E.then?(await E)():E;var V=function(e){function t(){var e;(0,m.A)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=(0,b.A)(this,t,[].concat(o))).popoverPlacement="bottom-start",e.useTopLabel=!1,e._opened=!1,e._pickerWrapperOpen=!1,e._popoverWidth=0,e._openedNarrow=!1,e._narrow=!1,e.invalid=!1,e._unknownValue=(0,C.A)(function(e,t,i){return!(e||null==t||""===t||!i)&&!i.some(function(e){return"string"!=typeof e&&e.id===t})}),e._dialogOpened=function(){e._opened=!0,requestAnimationFrame(function(){var t;e.hass&&(0,z.V)(e.hass)?e.hass.auth.external.fireMessage({type:"focus_element",payload:{element_id:"combo-box"}}):null===(t=e._comboBox)||void 0===t||t.focus()})},e._handleResize=function(){var t;(e._narrow=window.matchMedia("(max-width: 870px)").matches||window.matchMedia("(max-height: 500px)").matches,!e._openedNarrow&&e._pickerWrapperOpen)&&(e._popoverWidth=(null===(t=e._containerElement)||void 0===t?void 0:t.offsetWidth)||250)},e._handleEscClose=function(e){e.stopPropagation()},e}return(0,f.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){var e=this.useTopLabel&&this.value?void 0:this.label;return(0,w.qy)(o||(o=(0,v.A)(['<div class="container"> ',' <div id="picker"> <slot name="field"> '," </slot> </div> "," </div> ",""])),this.useTopLabel&&this.label?(0,w.qy)(r||(r=(0,v.A)(['<label ?disabled="','">',"</label>"])),this.disabled,this.label):w.s6,this.addButtonLabel&&!this.value?(0,w.qy)(a||(a=(0,v.A)(['<ha-button size="small" appearance="filled" @click="','" .disabled="','"> <ha-svg-icon .path="','" slot="start"></ha-svg-icon> '," </ha-button>"])),this.open,this.disabled,"M3 16H10V14H3M18 14V10H16V14H12V16H16V20H18V16H22V14M14 6H3V8H14M14 10H3V12H14V10Z",this.addButtonLabel):(0,w.qy)(n||(n=(0,v.A)(['<ha-picker-field type="button" class="','" compact="compact" .unknown="','" .unknownItemText="','" aria-label="','" @click="','" @clear="','" .icon="','" .image="','" .label="','" .placeholder="','" .helper="','" .value="','" .valueRenderer="','" .required="','" .disabled="','" .invalid="','" .hideClearIcon="','"> <slot name="start"></slot> </ha-picker-field>'])),this._opened?"opened":"",this._unknownValue(this.allowCustomValue,this.value,this.getItems()),this.unknownItemText,(0,A.J)(this.label),this.open,this._clear,this.icon,this.image,e,this.placeholder,this.helper,this.value,this.valueRenderer,this.required,this.disabled,this.invalid,this.hideClearIcon),this._openedNarrow||!this._pickerWrapperOpen&&!this._opened?this._pickerWrapperOpen||this._opened?(0,w.qy)(s||(s=(0,v.A)(['<ha-bottom-sheet flexcontent .open="','" @wa-after-show="','" @closed="','" role="dialog" aria-modal="true" aria-label="','"> '," </ha-bottom-sheet>"])),this._pickerWrapperOpen,this._dialogOpened,this._hidePicker,this.label||"Select option",this._renderComboBox(!0)):w.s6:(0,w.qy)(l||(l=(0,v.A)([' <wa-popover .open="','" style="--body-width:','px" without-arrow distance="-4" .placement="','" for="picker" auto-size="vertical" auto-size-padding="16" @wa-after-show="','" @wa-after-hide="','" trap-focus role="dialog" aria-modal="true" aria-label="','"> '," </wa-popover> "])),this._pickerWrapperOpen,this._popoverWidth,this.popoverPlacement,this._dialogOpened,this._hidePicker,this.label||"Select option",this._renderComboBox()),this._renderHelper())}},{key:"_renderComboBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._opened?(0,w.qy)(c||(c=(0,v.A)([' <ha-picker-combo-box id="combo-box" .hass="','" .allowCustomValue="','" .label="','" .value="','" @value-changed="','" .rowRenderer="','" .notFoundLabel="','" .emptyLabel="','" .getItems="','" .getAdditionalItems="','" .searchFn="','" .mode="','" .sections="','" .sectionTitleFunction="','" .selectedSection="','" .searchKeys="','" .customValueLabel="','"></ha-picker-combo-box> '])),this.hass,this.allowCustomValue,this.searchLabel,this.value,this._valueChanged,this.rowRenderer,this.notFoundLabel,this.emptyLabel,this.getItems,this.getAdditionalItems,this.searchFn,e?"dialog":"popover",this.sections,this.sectionTitleFunction,this.selectedSection,this.searchKeys,this.customValueLabel):w.s6}},{key:"_renderHelper",value:function(){var e=this.invalid&&this.errorMessage,t=!e&&this.helper;return e||t?(0,w.qy)(d||(d=(0,v.A)(['<ha-input-helper-text .disabled="','"> '," </ha-input-helper-text>"])),this.disabled,e?this.errorMessage:this.helper):w.s6}},{key:"_hidePicker",value:function(e){var t;e.stopPropagation(),this._newValue&&((0,M.r)(this,"value-changed",{value:this._newValue}),this._newValue=void 0),this._opened=!1,this._pickerWrapperOpen=!1,null===(t=this._unsubscribeTinyKeys)||void 0===t||t.call(this)}},{key:"_valueChanged",value:function(e){e.stopPropagation();var t=e.detail.value;t&&(this._pickerWrapperOpen=!1,this._newValue=t)}},{key:"_clear",value:function(e){e.stopPropagation(),this._setValue(void 0)}},{key:"_setValue",value:function(e){this.value=e,(0,M.r)(this,"value-changed",{value:e})}},{key:"open",value:(i=(0,p.A)((0,u.A)().m(function e(t){var i;return(0,u.A)().w(function(e){for(;;)switch(e.n){case 0:if(null==t||t.stopPropagation(),!this.disabled){e.n=1;break}return e.a(2);case 1:this._openedNarrow=this._narrow,this._popoverWidth=(null===(i=this._containerElement)||void 0===i?void 0:i.offsetWidth)||250,this._pickerWrapperOpen=!0,this._unsubscribeTinyKeys=(0,I.Tc)(this,{Escape:this._handleEscClose});case 2:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"connectedCallback",value:function(){(0,y.A)(t,"connectedCallback",this,3)([]),this._handleResize(),window.addEventListener("resize",this._handleResize)}},{key:"disconnectedCallback",value:function(){var e;(0,y.A)(t,"disconnectedCallback",this,3)([]),window.removeEventListener("resize",this._handleResize),null===(e=this._unsubscribeTinyKeys)||void 0===e||e.call(this)}}],[{key:"styles",get:function(){return[(0,w.AH)(h||(h=(0,v.A)([".container{position:relative;display:block}label[disabled]{color:var(--mdc-text-field-disabled-ink-color,rgba(0,0,0,.6))}label{display:block;margin:0 0 8px}ha-input-helper-text{display:block;margin:var(--ha-space-2) 0 0}:host([invalid]) ha-input-helper-text{color:var(--mdc-theme-error,var(--error-color,#b00020))}wa-popover{--wa-space-l:0}wa-popover::part(body){width:max(var(--body-width),250px);max-width:var(--ha-generic-picker-max-width,max(var(--body-width),250px));max-height:500px;height:70vh;overflow:hidden}@media (max-height:1000px){wa-popover::part(body){max-height:400px}}ha-bottom-sheet{--ha-bottom-sheet-height:90vh;--ha-bottom-sheet-height:calc(100dvh - var(--ha-space-12));--ha-bottom-sheet-max-height:var(--ha-bottom-sheet-height);--ha-bottom-sheet-max-width:600px;--ha-bottom-sheet-padding:0;--ha-bottom-sheet-surface-background:var(--card-background-color);--ha-bottom-sheet-border-radius:var(--ha-border-radius-2xl)}ha-picker-field.opened{--mdc-text-field-idle-line-color:var(--primary-color)}"])))]}}]);var i}((0,L.c)(w.WF));V.shadowRootOptions=Object.assign(Object.assign({},w.WF.shadowRootOptions),{},{delegatesFocus:!0}),(0,_.Cg)([(0,k.MZ)({attribute:!1})],V.prototype,"hass",void 0),(0,_.Cg)([(0,k.MZ)({type:Boolean,attribute:"allow-custom-value"})],V.prototype,"allowCustomValue",void 0),(0,_.Cg)([(0,k.MZ)({type:String,attribute:"search-label"})],V.prototype,"searchLabel",void 0),(0,_.Cg)([(0,k.MZ)({attribute:!1})],V.prototype,"getItems",void 0),(0,_.Cg)([(0,k.MZ)({attribute:!1,type:Array})],V.prototype,"getAdditionalItems",void 0),(0,_.Cg)([(0,k.MZ)({attribute:!1})],V.prototype,"rowRenderer",void 0),(0,_.Cg)([(0,k.MZ)({attribute:!1})],V.prototype,"searchFn",void 0),(0,_.Cg)([(0,k.MZ)({attribute:!1})],V.prototype,"searchKeys",void 0),(0,_.Cg)([(0,k.MZ)({attribute:!1})],V.prototype,"notFoundLabel",void 0),(0,_.Cg)([(0,k.MZ)({attribute:"empty-label"})],V.prototype,"emptyLabel",void 0),(0,_.Cg)([(0,k.MZ)({attribute:"popover-placement"})],V.prototype,"popoverPlacement",void 0),(0,_.Cg)([(0,k.MZ)({attribute:"add-button-label"})],V.prototype,"addButtonLabel",void 0),(0,_.Cg)([(0,k.MZ)({attribute:!1})],V.prototype,"sections",void 0),(0,_.Cg)([(0,k.MZ)({attribute:!1})],V.prototype,"sectionTitleFunction",void 0),(0,_.Cg)([(0,k.MZ)({attribute:"selected-section"})],V.prototype,"selectedSection",void 0),(0,_.Cg)([(0,k.MZ)({type:Boolean,attribute:"use-top-label"})],V.prototype,"useTopLabel",void 0),(0,_.Cg)([(0,k.MZ)({attribute:"custom-value-label"})],V.prototype,"customValueLabel",void 0),(0,_.Cg)([(0,k.P)(".container")],V.prototype,"_containerElement",void 0),(0,_.Cg)([(0,k.P)("ha-picker-combo-box")],V.prototype,"_comboBox",void 0),(0,_.Cg)([(0,k.wk)()],V.prototype,"_opened",void 0),(0,_.Cg)([(0,k.wk)()],V.prototype,"_pickerWrapperOpen",void 0),(0,_.Cg)([(0,k.wk)()],V.prototype,"_popoverWidth",void 0),(0,_.Cg)([(0,k.wk)()],V.prototype,"_openedNarrow",void 0),(0,_.Cg)([(0,k.MZ)({attribute:"error-message"})],V.prototype,"errorMessage",void 0),(0,_.Cg)([(0,k.MZ)({type:Boolean,reflect:!0})],V.prototype,"invalid",void 0),V=(0,_.Cg)([(0,k.EM)("ha-generic-picker")],V),t()}catch(F){t(F)}})},3449:function(e,t,i){var o,r,a=i(72153),n=i(44734),l=i(43080),s=i(69683),c=i(6454),d=(i(28706),i(40445)),h=i(96196),u=i(77845),p=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=(0,s.A)(this,t,[].concat(o))).disabled=!1,e}return(0,c.A)(t,e),(0,l.A)(t,[{key:"render",value:function(){return(0,h.qy)(o||(o=(0,a.A)(["<slot></slot>"])))}}])}(h.WF);p.styles=(0,h.AH)(r||(r=(0,a.A)([":host{display:block;color:var(--mdc-text-field-label-ink-color,rgba(0,0,0,.6));font-size:.75rem;padding-left:16px;padding-right:16px;padding-inline-start:16px;padding-inline-end:16px;letter-spacing:var(\n        --mdc-typography-caption-letter-spacing,\n        .0333333333em\n      );line-height:normal}:host([disabled]){color:var(--mdc-text-field-disabled-ink-color,rgba(0,0,0,.6))}"]))),(0,d.Cg)([(0,u.MZ)({type:Boolean,reflect:!0})],p.prototype,"disabled",void 0),p=(0,d.Cg)([(0,u.EM)("ha-input-helper-text")],p)},49639:function(e,t,i){i.a(e,async function(e,o){try{i.d(t,{RR:function(){return B}});var r,a,n,l,s,c,d,h,u,p,v,m,g,b,f=i(7739),y=i(44734),_=i(43080),x=i(75864),w=i(69683),k=i(6454),A=i(25460),C=i(72153),I=(i(28706),i(48980),i(62062),i(44114),i(26910),i(18111),i(61701),i(69085),i(26099),i(42762),i(40445)),M=i(78648),L=i(96196),z=i(77845),Z=i(22786),q=i(57947),S=i(1087),E=i(52220),V=i(59992),F=i(59653),H=i(14503),T=i(85614),P=(i(5745),i(32023),i(75064),i(88945),i(75709),e([V]));V=(P.then?(await P)():P)[0];var O=[{name:"primary",weight:10},{name:"secondary",weight:7},{name:"id",weight:3}],B="___no_items_available___",R=function(e){return(0,L.qy)(r||(r=(0,C.A)([' <ha-combo-box-item type="button" compact="compact"> ',' <span slot="headline">',"</span> "," </ha-combo-box-item> "])),e.icon?(0,L.qy)(a||(a=(0,C.A)(['<ha-icon slot="start" .icon="','"></ha-icon>'])),e.icon):e.icon_path?(0,L.qy)(n||(n=(0,C.A)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),e.icon_path):L.s6,e.primary,e.secondary?(0,L.qy)(l||(l=(0,C.A)(['<span slot="supporting-text">',"</span>"])),e.secondary):L.s6)},W=function(e){function t(){var e;(0,y.A)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=(0,w.A)(this,t,[].concat(o))).autofocus=!1,e.disabled=!1,e.required=!1,e._listScrolled=!1,e.mode="popover",e._items=[],e._valuePinned=!0,e._allItems=[],e._selectedItemIndex=-1,e._search="",e._getAdditionalItems=function(t){var i,o;return(null===(i=(o=e).getAdditionalItems)||void 0===i?void 0:i.call(o,t))||[]},e._getItems=function(){var t,i,o=(0,f.A)(e.getItems(e._search,e.selectedSection));null!==(t=e.sections)&&void 0!==t&&t.length||(o=o.sort(function(t,i){var o,r,a="string"==typeof t?t:t.sorting_label,n="string"==typeof i?i:i.sorting_label;return a&&n?n?a?(0,E.SH)(a,n,null!==(o=null===(r=e.hass)||void 0===r?void 0:r.locale.language)&&void 0!==o?o:navigator.language):1:-1:0})),o.length||o.push(B);var r=e._getAdditionalItems();return(i=o).push.apply(i,(0,f.A)(r)),"dialog"===e.mode&&o.push("padding"),o},e._renderItem=function(t,i){if(!t)return L.s6;if("padding"===t)return(0,L.qy)(s||(s=(0,C.A)(['<div class="bottom-padding"></div>'])));var o,r;if(t===B)return(0,L.qy)(c||(c=(0,C.A)([' <div class="combo-box-row"> <ha-combo-box-item type="text" compact="compact"> <ha-svg-icon slot="start" .path="','"></ha-svg-icon> <span slot="headline">',"</span> </ha-combo-box-item> </div> "])),e._search?"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z":"M19,19V5H5V19H19M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5C3,3.89 3.9,3 5,3H19M17,11V13H7V11H17Z",e._search?"function"==typeof e.notFoundLabel?e.notFoundLabel(e._search):e.notFoundLabel||(null===(o=e.hass)||void 0===o?void 0:o.localize("ui.components.combo-box.no_match"))||"No matching items found":e.emptyLabel||(null===(r=e.hass)||void 0===r?void 0:r.localize("ui.components.combo-box.no_items"))||"No items available");if("string"==typeof t)return(0,L.qy)(d||(d=(0,C.A)(['<div class="title">',"</div>"])),t);var a=e.rowRenderer||R;return(0,L.qy)(h||(h=(0,C.A)(['<div id="','" class="combo-box-row ','" .value="','" .index="','" @click="','"> '," </div>"])),"list-item-".concat(i),e._value===t.id?"current-value":"",t.id,i,e._valueSelected,a(t,i))},e._valueSelected=function(t){t.stopPropagation();var i=t.currentTarget.value,o=null==i?void 0:i.trim();(0,S.r)((0,x.A)(e),"value-changed",{value:o})},e._fuseIndex=(0,Z.A)(function(e,t){return M.A.createIndex(t||O,e)}),e._filterChanged=function(t){var i,o=t.target.value.trim();if(e._search=o,null!==(i=e.sections)&&void 0!==i&&i.length)e._items=e._getItems();else{var r;if(!o)return void(e._items=e._allItems);var a=e._fuseIndex(e._allItems,e.searchKeys),n=(0,F.x)(e._allItems,o,e.searchKeys||O,function(e){return e.id},a);n.length||n.push(B);var l,s,c,d=e._getAdditionalItems(o);if((r=n).push.apply(r,(0,f.A)(d)),e.searchFn&&(n=e.searchFn(o,n,e._allItems)),e.allowCustomValue&&o)n.push({id:o,primary:null!==(l=null!==(s=e.customValueLabel)&&void 0!==s?s:null===(c=e.hass)||void 0===c?void 0:c.localize("ui.components.combo-box.add_custom_item"))&&void 0!==l?l:"Add custom item",secondary:'"'.concat(o,'"'),icon_path:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"});e._items=n}e._selectedItemIndex=-1,e._valuePinned=!0},e._selectNextItem=function(t){var i;if(null==t||t.stopPropagation(),null==t||t.preventDefault(),e._virtualizerElement){null===(i=e._searchFieldElement)||void 0===i||i.focus();var o=e._virtualizerElement.items,r=o.length-1;if(-1!==r){var a=r===e._selectedItemIndex?e._selectedItemIndex:e._selectedItemIndex+1;if(o[a]){if("string"==typeof o[a]){if(a===r)return;e._selectedItemIndex=a+1}else e._selectedItemIndex=a;e._scrollToSelectedItem()}}else e._resetSelectedItem()}},e._selectPreviousItem=function(t){if(t.stopPropagation(),t.preventDefault(),e._virtualizerElement&&e._selectedItemIndex>0){var i=e._selectedItemIndex-1,o=e._virtualizerElement.items;if(!o[i])return;if("string"==typeof o[i]){if(0===i)return;e._selectedItemIndex=i-1}else e._selectedItemIndex=i;e._scrollToSelectedItem()}},e._selectFirstItem=function(t){if(t.stopPropagation(),e._virtualizerElement&&e._virtualizerElement.items.length){"string"==typeof e._virtualizerElement.items[0]?e._selectedItemIndex=1:e._selectedItemIndex=0,e._scrollToSelectedItem()}},e._selectLastItem=function(t){if(t.stopPropagation(),e._virtualizerElement&&e._virtualizerElement.items.length){var i=e._virtualizerElement.items.length-1;"string"==typeof e._virtualizerElement.items[i]?e._selectedItemIndex=i-1:e._selectedItemIndex=i,e._scrollToSelectedItem()}},e._scrollToSelectedItem=function(){var t,i;null===(t=e._virtualizerElement)||void 0===t||null===(t=t.querySelector(".selected"))||void 0===t||t.classList.remove("selected"),null===(i=e._virtualizerElement)||void 0===i||i.scrollToIndex(e._selectedItemIndex,"end"),requestAnimationFrame(function(){var t;null===(t=e._virtualizerElement)||void 0===t||null===(t=t.querySelector("#list-item-".concat(e._selectedItemIndex)))||void 0===t||t.classList.add("selected")})},e._pickSelectedItem=function(t){var i,o,r;t.stopPropagation();var a=null===(i=e._virtualizerElement)||void 0===i?void 0:i.items[0];if(1===(null===(o=e._virtualizerElement)||void 0===o?void 0:o.items.length)&&(0,S.r)((0,x.A)(e),"value-changed",{value:a.id}),-1!==e._selectedItemIndex){t.preventDefault();var n=null===(r=e._virtualizerElement)||void 0===r?void 0:r.items[e._selectedItemIndex];n&&(0,S.r)((0,x.A)(e),"value-changed",{value:n.id})}},e._keyFunction=function(e){return"string"==typeof e?e:null==e?void 0:e.id},e}return(0,k.A)(t,e),(0,_.A)(t,[{key:"scrollableElement",get:function(){return this._virtualizerElement}},{key:"firstUpdated",value:function(){this._registerKeyboardShortcuts()}},{key:"willUpdate",value:function(){this.hasUpdated||((0,T.i)(),this._allItems=this._getItems(),this._items=this._allItems)}},{key:"disconnectedCallback",value:function(){var e;(0,A.A)(t,"disconnectedCallback",this,3)([]),null===(e=this._removeKeyboardShortcuts)||void 0===e||e.call(this)}},{key:"render",value:function(){var e,t,i,o,r,a,n=null!==(e=this.label)&&void 0!==e?e:this.allowCustomValue?null!==(t=null===(i=this.hass)||void 0===i?void 0:i.localize("ui.components.combo-box.search_or_custom"))&&void 0!==t?t:"Search | Add custom value":null!==(o=null===(r=this.hass)||void 0===r?void 0:r.localize("ui.common.search"))&&void 0!==o?o:"Search";return(0,L.qy)(u||(u=(0,C.A)(['<ha-textfield .label="','" @input="','"></ha-textfield> '," ",' <div class="virtualizer-wrapper"> <lit-virtualizer .keyFunction="','" tabindex="0" scroller .items="','" .renderItem="','" style="min-height:36px" class="','" .layout="','" @unpinned="','" @scroll="','" @focus="','" @visibilityChanged="','"> </lit-virtualizer> '," </div>"])),n,this._filterChanged,this._renderSectionButtons(),null!==(a=this.sections)&&void 0!==a&&a.length?(0,L.qy)(p||(p=(0,C.A)([' <div class="section-title-wrapper"> <div class="section-title ','"> '," </div> </div> "])),!this.selectedSection&&this._sectionTitle?"show":"",this._sectionTitle):L.s6,this._keyFunction,this._items,this._renderItem,this._listScrolled?"scrolled":"",this.value&&this._valuePinned?{pin:{index:this._getInitialSelectedIndex(),block:"center"}}:void 0,this._handleUnpinned,this._onScrollList,this._focusList,this._visibilityChanged,this.renderScrollableFades())}},{key:"_renderSectionButtons",value:function(){var e=this;return this.sections&&0!==this.sections.length?(0,L.qy)(v||(v=(0,C.A)([' <ha-chip-set class="sections"> '," </ha-chip-set> "])),this.sections.map(function(t){return"separator"===t?(0,L.qy)(m||(m=(0,C.A)(['<div class="separator"></div>']))):(0,L.qy)(g||(g=(0,C.A)(['<ha-filter-chip @click="','" .section-id="','" .selected="','" .label="','"> </ha-filter-chip>'])),e._toggleSection,t.id,e.selectedSection===t.id,t.label)})):L.s6}},{key:"_visibilityChanged",value:function(e){var t;if(this._virtualizerElement&&this.sectionTitleFunction&&null!==(t=this.sections)&&void 0!==t&&t.length){var i=this._virtualizerElement.items[e.first],o=this._virtualizerElement.items[e.first+1];this._sectionTitle=this.sectionTitleFunction({firstIndex:e.first,lastIndex:e.last,firstItem:i,secondItem:o,itemsCount:this._virtualizerElement.items.length})}}},{key:"_handleUnpinned",value:function(){this._valuePinned=!1}},{key:"_onScrollList",value:function(e){var t,i=null!==(t=e.target.scrollTop)&&void 0!==t?t:0;this._listScrolled=i>0}},{key:"_value",get:function(){return this.value||""}},{key:"_toggleSection",value:function(e){e.stopPropagation(),this._resetSelectedItem(),this._sectionTitle=void 0;var t=e.target["section-id"];t&&(this.selectedSection===t?this.selectedSection=void 0:this.selectedSection=t,this._items=this._getItems(),this._virtualizerElement&&this._virtualizerElement.scrollToIndex(0))}},{key:"_registerKeyboardShortcuts",value:function(){this._removeKeyboardShortcuts=(0,q.Tc)(this,{ArrowUp:this._selectPreviousItem,ArrowDown:this._selectNextItem,Home:this._selectFirstItem,End:this._selectLastItem,Enter:this._pickSelectedItem})}},{key:"_focusList",value:function(){-1===this._selectedItemIndex&&this._selectNextItem()}},{key:"_resetSelectedItem",value:function(){var e;null===(e=this._virtualizerElement)||void 0===e||null===(e=e.querySelector(".selected"))||void 0===e||e.classList.remove("selected"),this._selectedItemIndex=-1}},{key:"_getInitialSelectedIndex",value:function(){var e=this;if(!this._virtualizerElement||this._search||!this.value)return 0;var t=this._virtualizerElement.items.findIndex(function(t){return"string"!=typeof t&&t.id===e.value});return-1===t?0:t}}],[{key:"styles",get:function(){return[].concat((0,f.A)((0,A.A)(t,"styles",this)),[H.dp,(0,L.AH)(b||(b=(0,C.A)([":host{display:flex;flex-direction:column;padding-top:var(--ha-space-3);flex:1}ha-textfield{padding:0 var(--ha-space-3);margin-bottom:var(--ha-space-3)}:host([mode=dialog]) ha-textfield{padding:0 var(--ha-space-4)}ha-combo-box-item{width:100%}ha-combo-box-item.selected{background-color:var(--ha-color-fill-neutral-quiet-hover)}@media (prefers-color-scheme:dark){ha-combo-box-item.selected{background-color:var(--ha-color-fill-neutral-normal-hover)}}.virtualizer-wrapper{position:relative;flex:1;display:flex;flex-direction:column;min-height:0}lit-virtualizer{flex:1}lit-virtualizer:focus-visible{outline:0}lit-virtualizer.scrolled{border-top:1px solid var(--ha-color-border-neutral-quiet)}.bottom-padding{height:max(var(--safe-area-inset-bottom,0px),var(--ha-space-8));width:100%}.empty{text-align:center}.combo-box-row{display:flex;width:100%;align-items:center;box-sizing:border-box;min-height:36px}.combo-box-row.current-value{background-color:var(--ha-color-fill-primary-quiet-resting)}.combo-box-row.selected{background-color:var(--ha-color-fill-neutral-quiet-hover)}@media (prefers-color-scheme:dark){.combo-box-row.selected{background-color:var(--ha-color-fill-neutral-normal-hover)}}.sections{display:flex;flex-wrap:nowrap;gap:var(--ha-space-2);padding:var(--ha-space-3) var(--ha-space-3);overflow:auto}:host([mode=dialog]) .sections{padding:var(--ha-space-3) var(--ha-space-4)}.sections ha-filter-chip{flex-shrink:0;--md-filter-chip-selected-container-color:var(--ha-color-fill-primary-normal-hover);color:var(--primary-color)}.sections .separator{height:var(--ha-space-8);width:0;border:1px solid var(--ha-color-border-neutral-quiet)}.section-title,.title{background-color:var(--ha-color-fill-neutral-quiet-resting);padding:var(--ha-space-1) var(--ha-space-2);font-weight:var(--ha-font-weight-bold);color:var(--secondary-text-color);min-height:var(--ha-space-6);display:flex;align-items:center}.title{width:100%}:host([mode=dialog]) .title{padding:var(--ha-space-1) var(--ha-space-4)}:host([mode=dialog]) ha-textfield{padding:0 var(--ha-space-4)}.section-title-wrapper{height:0;position:relative}.section-title{opacity:0;position:absolute;top:1px;width:calc(100% - var(--ha-space-8))}.section-title.show{opacity:1;z-index:1}.empty-search{display:flex;width:100%;flex-direction:column;align-items:center;padding:var(--ha-space-3)}"])))])}}])}((0,V.V)(L.WF));W.shadowRootOptions=Object.assign(Object.assign({},L.WF.shadowRootOptions),{},{delegatesFocus:!0}),(0,I.Cg)([(0,z.MZ)({attribute:!1})],W.prototype,"hass",void 0),(0,I.Cg)([(0,z.MZ)({type:Boolean})],W.prototype,"autofocus",void 0),(0,I.Cg)([(0,z.MZ)({type:Boolean})],W.prototype,"disabled",void 0),(0,I.Cg)([(0,z.MZ)({type:Boolean})],W.prototype,"required",void 0),(0,I.Cg)([(0,z.MZ)({type:Boolean,attribute:"allow-custom-value"})],W.prototype,"allowCustomValue",void 0),(0,I.Cg)([(0,z.MZ)({attribute:"custom-value-label"})],W.prototype,"customValueLabel",void 0),(0,I.Cg)([(0,z.MZ)()],W.prototype,"label",void 0),(0,I.Cg)([(0,z.MZ)()],W.prototype,"value",void 0),(0,I.Cg)([(0,z.MZ)({attribute:!1})],W.prototype,"searchKeys",void 0),(0,I.Cg)([(0,z.wk)()],W.prototype,"_listScrolled",void 0),(0,I.Cg)([(0,z.MZ)({attribute:!1})],W.prototype,"getItems",void 0),(0,I.Cg)([(0,z.MZ)({attribute:!1,type:Array})],W.prototype,"getAdditionalItems",void 0),(0,I.Cg)([(0,z.MZ)({attribute:!1})],W.prototype,"rowRenderer",void 0),(0,I.Cg)([(0,z.MZ)({attribute:!1})],W.prototype,"notFoundLabel",void 0),(0,I.Cg)([(0,z.MZ)({attribute:"empty-label"})],W.prototype,"emptyLabel",void 0),(0,I.Cg)([(0,z.MZ)({attribute:!1})],W.prototype,"searchFn",void 0),(0,I.Cg)([(0,z.MZ)({reflect:!0})],W.prototype,"mode",void 0),(0,I.Cg)([(0,z.MZ)({attribute:!1})],W.prototype,"sections",void 0),(0,I.Cg)([(0,z.MZ)({attribute:!1})],W.prototype,"sectionTitleFunction",void 0),(0,I.Cg)([(0,z.MZ)({attribute:"selected-section"})],W.prototype,"selectedSection",void 0),(0,I.Cg)([(0,z.P)("lit-virtualizer")],W.prototype,"_virtualizerElement",void 0),(0,I.Cg)([(0,z.P)("ha-textfield")],W.prototype,"_searchFieldElement",void 0),(0,I.Cg)([(0,z.wk)()],W.prototype,"_items",void 0),(0,I.Cg)([(0,z.wk)()],W.prototype,"_sectionTitle",void 0),(0,I.Cg)([(0,z.wk)()],W.prototype,"_valuePinned",void 0),(0,I.Cg)([(0,z.Ls)({passive:!0})],W.prototype,"_visibilityChanged",null),(0,I.Cg)([(0,z.Ls)({passive:!0})],W.prototype,"_handleUnpinned",null),(0,I.Cg)([(0,z.Ls)({passive:!0})],W.prototype,"_onScrollList",null),W=(0,I.Cg)([(0,z.EM)("ha-picker-combo-box")],W),o()}catch(j){o(j)}})},88285:function(e,t,i){var o,r,a,n,l,s,c,d,h,u,p=i(72153),v=i(61397),m=i(50264),g=i(44734),b=i(43080),f=i(69683),y=i(6454),_=(i(28706),i(40445)),x=i(56261),w=i(96196),k=i(77845),A=i(32288),C=i(1087),I=i(38911),M=i(17894),L=(i(75064),i(88945),i(26300),function(e){function t(){var e;(0,g.A)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=(0,f.A)(this,t,[].concat(o))).invalid=!1,e}return(0,y.A)(t,e),(0,b.A)(t,[{key:"focus",value:(i=(0,m.A)((0,v.A)().m(function e(){var t;return(0,v.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this.item)||void 0===t?void 0:t.focus();case 2:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"render",value:function(){var e,t,i,u=!!this.value,v=!(!this.value||this.required||this.disabled||this.hideClearIcon),m=null!==(e=this.placeholder)&&void 0!==e?e:this.label,g=this.label&&u?(0,w.qy)(o||(o=(0,p.A)(['<span slot="overline">',"","</span>"])),this.label,this.required?" *":""):w.s6,b=u?this.valueRenderer?this.valueRenderer(null!==(t=this.value)&&void 0!==t?t:""):(0,w.qy)(r||(r=(0,p.A)(['<span slot="headline">',"</span>"])),this.value):m?(0,w.qy)(a||(a=(0,p.A)(['<span slot="headline" class="placeholder"> ',""," </span>"])),m,this.required?" *":""):w.s6;return(0,w.qy)(n||(n=(0,p.A)([' <ha-combo-box-item aria-label="','" .disabled="','" type="button" compact="compact"> '," ",""," "," ",' <ha-svg-icon class="arrow" slot="end" .path="','"></ha-svg-icon> </ha-combo-box-item> '])),(0,A.J)(this.label||this.placeholder),this.disabled,this.image?(0,w.qy)(l||(l=(0,p.A)(['<img alt="','" slot="start" .src="','" crossorigin="anonymous" referrerpolicy="no-referrer">'])),null!==(i=this.label)&&void 0!==i?i:"",this.image):this.icon?(0,w.qy)(s||(s=(0,p.A)(['<ha-icon slot="start" .icon="','"></ha-icon>'])),this.icon):(0,w.qy)(c||(c=(0,p.A)(['<slot name="start"></slot>']))),g,b,this.unknown?(0,w.qy)(d||(d=(0,p.A)(['<div slot="supporting-text" class="unknown"> '," </div>"])),this.unknownItemText||this.localize("ui.components.combo-box.unknown_item")):w.s6,v?(0,w.qy)(h||(h=(0,p.A)([' <ha-icon-button class="clear" slot="end" @click="','" .path="','"></ha-icon-button> '])),this._clear,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):w.s6,"M7,10L12,15L17,10H7Z")}},{key:"_clear",value:function(e){e.stopPropagation(),(0,C.r)(this,"clear")}}],[{key:"styles",get:function(){return[(0,w.AH)(u||(u=(0,p.A)(['ha-combo-box-item[disabled]{background-color:var(--mdc-text-field-disabled-fill-color,#f5f5f5)}ha-combo-box-item{background-color:var(--mdc-text-field-fill-color,#f5f5f5);border-radius:var(--ha-border-radius-sm);border-end-end-radius:0;border-end-start-radius:0;--md-list-item-one-line-container-height:56px;--md-list-item-two-line-container-height:56px;--md-list-item-top-space:0px;--md-list-item-bottom-space:0px;--md-list-item-leading-space:var(--ha-space-4);--md-list-item-trailing-space:var(--ha-space-2);--ha-md-list-item-gap:var(--ha-space-2);--md-focus-ring-width:0px;--md-focus-ring-duration:0s}ha-combo-box-item[disabled]:after{background-color:var(--mdc-text-field-disabled-line-color,rgba(0,0,0,.42))}ha-combo-box-item:after{display:block;content:"";position:absolute;pointer-events:none;bottom:0;left:0;right:0;height:1px;width:100%;background-color:var(--mdc-text-field-idle-line-color,rgba(0,0,0,.42));transform:height 180ms ease-in-out,background-color 180ms ease-in-out}ha-combo-box-item:focus:after{height:2px;background-color:var(--mdc-theme-primary)}:host([unknown]) ha-combo-box-item{background-color:var(--ha-color-fill-warning-quiet-resting)}:host([invalid]) ha-combo-box-item:after{height:2px;background-color:var(--mdc-theme-error,var(--error-color,#b00020))}.clear{margin:0 -8px;--mdc-icon-button-size:32px;--mdc-icon-size:20px}.arrow{--mdc-icon-size:20px;width:32px}.placeholder{color:var(--secondary-text-color)}:host([invalid]) .placeholder{color:var(--mdc-theme-error,var(--error-color,#b00020))}.unknown{color:var(--ha-color-on-warning-normal)}'])))]}}]);var i}((0,M.c)(w.WF)));(0,_.Cg)([(0,k.MZ)({type:Boolean,reflect:!0})],L.prototype,"invalid",void 0),(0,_.Cg)([(0,k.P)("ha-combo-box-item",!0)],L.prototype,"item",void 0),(0,_.Cg)([(0,k.wk)(),(0,x.Fg)({context:I.$F,subscribe:!0})],L.prototype,"localize",void 0),L=(0,_.Cg)([(0,k.EM)("ha-picker-field")],L)},17894:function(e,t,i){i.d(t,{c:function(){return c}});var o=i(43080),r=i(44734),a=i(69683),n=i(6454),l=(i(28706),i(40445)),s=i(77845),c=function(e){var t=function(e){function t(){var e;(0,r.A)(this,t);for(var i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=(0,a.A)(this,t,[].concat(o))).disabled=!1,e.required=!1,e.unknown=!1,e.hideClearIcon=!1,e}return(0,n.A)(t,e),(0,o.A)(t)}(e);return(0,l.Cg)([(0,s.MZ)({type:Boolean})],t.prototype,"disabled",void 0),(0,l.Cg)([(0,s.MZ)({type:Boolean})],t.prototype,"required",void 0),(0,l.Cg)([(0,s.MZ)()],t.prototype,"icon",void 0),(0,l.Cg)([(0,s.MZ)()],t.prototype,"image",void 0),(0,l.Cg)([(0,s.MZ)()],t.prototype,"label",void 0),(0,l.Cg)([(0,s.MZ)()],t.prototype,"placeholder",void 0),(0,l.Cg)([(0,s.MZ)()],t.prototype,"helper",void 0),(0,l.Cg)([(0,s.MZ)()],t.prototype,"value",void 0),(0,l.Cg)([(0,s.MZ)({type:Boolean,reflect:!0})],t.prototype,"unknown",void 0),(0,l.Cg)([(0,s.MZ)({attribute:"unknown-item-text"})],t.prototype,"unknownItemText",void 0),(0,l.Cg)([(0,s.MZ)({attribute:"hide-clear-icon",type:Boolean})],t.prototype,"hideClearIcon",void 0),(0,l.Cg)([(0,s.MZ)({attribute:!1})],t.prototype,"valueRenderer",void 0),t}},59653:function(e,t,i){i.d(t,{C:function(){return s},x:function(){return c}});var o=i(31432),r=(i(2008),i(50113),i(62062),i(26910),i(18111),i(22489),i(20116),i(7588),i(61701),i(69085),i(26099),i(16034),i(27495),i(5746),i(42762),i(23500),i(78648)),a={ignoreDiacritics:!0,isCaseSensitive:!1,threshold:.3,minMatchCharLength:2,ignoreLocation:!0},n=2;function l(e,t,i,o,l){return new r.A(e,Object.assign(Object.assign({},a),{},{minMatchCharLength:null!=l?l:"string"==typeof t&&t.length<n?t.length:n},o||{}),i).search(t)}function s(e,t,i,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=t.toLowerCase().split(" ").filter(function(e){return e.trim()});if(!a.length)return e;var s=n;return a.forEach(function(e){e.length<s&&(s=e.length)}),l(e,{$and:a.map(function(e){return{$or:i.map(function(t){return{$path:"string"==typeof t?t:Array.isArray(t)?t.join("."):"string"==typeof t.name?t.name:t.name.join("."),$val:e}})}})},o,Object.assign(Object.assign({},r),{},{shouldSort:!1}),s).map(function(e){return e.item})}function c(e,t,i,r,a){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=t.toLowerCase().split(" ").filter(function(e){return e.trim()});if(!s.length)return e;if(1===s.length)return l(e,s[0],a,n).map(function(e){return e.item});var c={},d=0;if(s.forEach(function(t){if(t.trim()){var s=l(e,t,a,Object.assign(Object.assign({},n),{},{shouldSort:!1,includeScore:!0,includeMatches:!0}));s.length&&(d++,s.forEach(function(e){var t=r(e.item);c[t]||(c[t]={item:e.item,hits:0,score:0}),c[t].hits+=1;var a=function(e,t){if(!e.matches||0===e.matches.length)return 1;var i,r=1,a=(0,o.A)(e.matches);try{var n=function(){var e=i.value,o=t.find(function(t){return"string"==typeof t.name?t.name===e.key:t.name.join(".")===e.key});o&&o.weight&&o.weight>r&&(r=o.weight)};for(a.s();!(i=a.n()).done;)n()}catch(l){a.e(l)}finally{a.f()}return r}(e,i),n=(e.score?1-e.score:0)*a;c[t].score+=n}))}}),d!==s.length)return[];var h=Object.values(c).filter(function(e){return e.hits===s.length});return h.sort(function(e,t){return t.score-e.score}),h.map(function(e){return e.item})}}}]);
//# sourceMappingURL=39005.9df214ce334112a8.js.map