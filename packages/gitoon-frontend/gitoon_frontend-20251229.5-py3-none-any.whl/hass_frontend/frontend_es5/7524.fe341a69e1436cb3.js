"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["7524"],{63130:function(i,t,e){e.d(t,{l:function(){return s}});var a=e(61397),o=e(50264),s=function(){var i=(0,o.A)((0,a.A)().m(function i(t,e){var o,s;return(0,a.A)().w(function(i){for(;;)switch(i.p=i.n){case 0:if(!navigator.clipboard){i.n=4;break}return i.p=1,i.n=2,navigator.clipboard.writeText(t);case 2:return i.a(2);case 3:i.p=3,i.v;case 4:o=null!=e?e:document.body,(s=document.createElement("textarea")).value=t,o.appendChild(s),s.select(),document.execCommand("copy"),o.removeChild(s);case 5:return i.a(2)}},i,null,[[1,3]])}));return function(t,e){return i.apply(this,arguments)}}()},60543:function(i,t,e){e.r(t),e.d(t,{HaQrCode:function(){return f}});var a,o,s,n=e(72153),r=e(44734),c=e(43080),l=e(69683),h=e(6454),d=e(25460),u=(e(28706),e(62062),e(18111),e(61701),e(2892),e(26099),e(58940),e(40445)),m=e(96196),p=e(77845),g=e(81298),v=(e(38962),e(79468)),f=function(i){function t(){var i;(0,r.A)(this,t);for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(i=(0,l.A)(this,t,[].concat(a))).errorCorrectionLevel="medium",i.width=4,i.scale=4,i.margin=4,i}return(0,h.A)(t,i),(0,c.A)(t,[{key:"willUpdate",value:function(i){(0,d.A)(t,"willUpdate",this,3)([i]),(i.has("data")||i.has("scale")||i.has("width")||i.has("margin")||i.has("maskPattern")||i.has("errorCorrectionLevel"))&&this._error&&(this._error=void 0)}},{key:"updated",value:function(i){var t=this,e=this._canvas;if(e&&this.data&&(i.has("data")||i.has("scale")||i.has("width")||i.has("margin")||i.has("maskPattern")||i.has("errorCorrectionLevel")||i.has("centerImage"))){var a=getComputedStyle(this),o=a.getPropertyValue("--rgb-primary-text-color"),s=a.getPropertyValue("--rgb-card-background-color"),n=(0,v.v2)(o.split(",").map(function(i){return parseInt(i,10)})),r=(0,v.v2)(s.split(",").map(function(i){return parseInt(i,10)}));if(g.toCanvas(e,this.data,{errorCorrectionLevel:this.errorCorrectionLevel||(this.centerImage?"Q":"M"),width:this.width,scale:this.scale,margin:this.margin,maskPattern:this.maskPattern,color:{light:r,dark:n}}).catch(function(i){t._error=i.message}),this.centerImage){var c=this._canvas.getContext("2d"),l=new Image;l.src=this.centerImage,l.onload=function(){null==c||c.drawImage(l,.375*e.width,.375*e.height,e.width/4,e.height/4)}}}}},{key:"render",value:function(){return this.data?this._error?(0,m.qy)(a||(a=(0,n.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):(0,m.qy)(o||(o=(0,n.A)(["<canvas></canvas>"]))):m.s6}}])}(m.WF);f.styles=(0,m.AH)(s||(s=(0,n.A)([":host{display:block}"]))),(0,u.Cg)([(0,p.MZ)()],f.prototype,"data",void 0),(0,u.Cg)([(0,p.MZ)({attribute:"error-correction-level"})],f.prototype,"errorCorrectionLevel",void 0),(0,u.Cg)([(0,p.MZ)({type:Number})],f.prototype,"width",void 0),(0,u.Cg)([(0,p.MZ)({type:Number})],f.prototype,"scale",void 0),(0,u.Cg)([(0,p.MZ)({type:Number})],f.prototype,"margin",void 0),(0,u.Cg)([(0,p.MZ)({attribute:!1,type:Number})],f.prototype,"maskPattern",void 0),(0,u.Cg)([(0,p.MZ)({attribute:"center-image"})],f.prototype,"centerImage",void 0),(0,u.Cg)([(0,p.wk)()],f.prototype,"_error",void 0),(0,u.Cg)([(0,p.P)("canvas")],f.prototype,"_canvas",void 0),f=(0,u.Cg)([(0,p.EM)("ha-qr-code")],f)},50543:function(i,t,e){e.a(i,async function(i,a){try{e.r(t);var o,s,n,r,c,l,h,d=e(72153),u=e(61397),m=e(50264),p=e(44734),g=e(43080),v=e(69683),f=e(6454),_=e(40445),y=e(96196),w=e(77845),b=e(1087),A=e(63130),C=e(18350),k=e(72554),x=(e(60543),e(65829)),L=e(95350),P=e(20559),z=e(14503),M=e(44144),q=i([C,x]);[C,x]=q.then?(await q)():q;var I=function(i){function t(){return(0,p.A)(this,t),(0,v.A)(this,t,arguments)}return(0,f.A)(t,i),(0,g.A)(t,[{key:"showDialog",value:(_=(0,m.A)((0,u.A)().m(function i(t){return(0,u.A)().w(function(i){for(;;)switch(i.n){case 0:this.device_id=t.device_id;case 1:return i.a(2)}},i,this)})),function(i){return _.apply(this,arguments)})},{key:"render",value:function(){var i;return this.device_id?(0,y.qy)(o||(o=(0,d.A)([' <ha-dialog open @closed="','" .heading="','"> '," </ha-dialog> "])),this.closeDialog,(0,k.l)(this.hass,this.hass.localize("ui.panel.config.matter.open_commissioning_window.title")),this._commissionParams?(0,y.qy)(s||(s=(0,d.A)([" <p> "," <br> ",' </p> <div class="sharing-code-container"> <div class="sharing-code"> <img crossorigin="anonymous" referrerpolicy="no-referrer" alt="','" src="','"> <ha-qr-code .data="','" errorCorrectionLevel="quartile" scale="6" margin="1"></ha-qr-code> <span class="code">',"-","-",'</span> </div> </div> <ha-button slot="primaryAction" @click="','"> '," </ha-button> "])),this.hass.localize("ui.panel.config.matter.open_commissioning_window.success"),this.hass.localize("ui.panel.config.matter.open_commissioning_window.scan_code"),(0,L.p$)(this.hass.localize,"matter"),(0,M.MR)({domain:"matter",type:"logo",darkOptimized:null===(i=this.hass.themes)||void 0===i?void 0:i.darkMode}),this._commissionParams.setup_qr_code,this._commissionParams.setup_manual_code.substring(0,4),this._commissionParams.setup_manual_code.substring(4,7),this._commissionParams.setup_manual_code.substring(7),this._copyCode,this.hass.localize("ui.panel.config.matter.open_commissioning_window.copy_code")):"started"===this._status?(0,y.qy)(n||(n=(0,d.A)([' <div class="flex-container"> <ha-spinner></ha-spinner> <div class="status"> <p> <b> ',' </b> </p> </div> </div> <ha-button slot="primaryAction" @click="','"> '," </ha-button> "])),this.hass.localize("ui.panel.config.matter.open_commissioning_window.in_progress"),this.closeDialog,this.hass.localize("ui.common.close")):"failed"===this._status?(0,y.qy)(r||(r=(0,d.A)([' <div class="flex-container"> <ha-svg-icon .path="','" class="failed"></ha-svg-icon> <div class="status"> <p> ',' </p> </div> </div> <ha-button slot="primaryAction" @click="','"> '," </ha-button> "])),"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",this.hass.localize("ui.panel.config.matter.open_commissioning_window.failed"),this.closeDialog,this.hass.localize("ui.common.close")):(0,y.qy)(c||(c=(0,d.A)([" <p> ",' </p> <p class="note"> ',' </p> <ha-button slot="primaryAction" @click="','"> '," </ha-button> "])),this.hass.localize("ui.panel.config.matter.open_commissioning_window.description",{startCommissioning:(0,y.qy)(l||(l=(0,d.A)(["<b>","</b>"])),this.hass.localize("ui.panel.config.matter.open_commissioning_window.start_commissioning"))}),this.hass.localize("ui.panel.config.matter.open_commissioning_window.prevent_misuse_description"),this._start,this.hass.localize("ui.panel.config.matter.open_commissioning_window.start_commissioning"))):y.s6}},{key:"_start",value:(a=(0,m.A)((0,u.A)().m(function i(){return(0,u.A)().w(function(i){for(;;)switch(i.p=i.n){case 0:if(this.hass){i.n=1;break}return i.a(2);case 1:return this._status="started",this._commissionParams=void 0,i.p=2,i.n=3,(0,P.nc)(this.hass,this.device_id);case 3:this._commissionParams=i.v,i.n=5;break;case 4:i.p=4,i.v,this._status="failed";case 5:return i.a(2)}},i,this,[[2,4]])})),function(){return a.apply(this,arguments)})},{key:"_copyCode",value:(e=(0,m.A)((0,u.A)().m(function i(){return(0,u.A)().w(function(i){for(;;)switch(i.n){case 0:if(this._commissionParams){i.n=1;break}return i.a(2);case 1:return i.n=2,(0,A.l)(this._commissionParams.setup_manual_code);case 2:this.closeDialog();case 3:return i.a(2)}},i,this)})),function(){return e.apply(this,arguments)})},{key:"closeDialog",value:function(){this.device_id=void 0,this._status=void 0,this._commissionParams=void 0,(0,b.r)(this,"dialog-closed",{dialog:this.localName})}}],[{key:"styles",get:function(){return[z.nA,(0,y.AH)(h||(h=(0,d.A)([".success{color:var(--success-color)}.failed{color:var(--error-color)}.flex-container{display:flex;align-items:center}.stages{margin-top:16px}.stage ha-svg-icon{width:16px;height:16px}.stage{padding:8px}ha-svg-icon{width:68px;height:48px}ha-qr-code{text-align:center}.flex-container ha-spinner,.flex-container ha-svg-icon{margin-right:20px}.sharing-code-container{display:flex;justify-content:center;padding-top:16px}.sharing-code{display:flex;flex-direction:column;align-items:center;border:2px solid;border-radius:var(--ha-border-radius-xl);padding:16px}.sharing-code img{width:160px;margin-bottom:8px}.code{font-family:var(--ha-font-family-code)}.note{color:var(--secondary-text-color);font-size:.9em}"])))]}}]);var e,a,_}(y.WF);(0,_.Cg)([(0,w.MZ)({attribute:!1})],I.prototype,"hass",void 0),(0,_.Cg)([(0,w.wk)()],I.prototype,"device_id",void 0),(0,_.Cg)([(0,w.wk)()],I.prototype,"_status",void 0),(0,_.Cg)([(0,w.wk)()],I.prototype,"_commissionParams",void 0),I=(0,_.Cg)([(0,w.EM)("dialog-matter-open-commissioning-window")],I),a()}catch(Z){a(Z)}})}}]);
//# sourceMappingURL=7524.fe341a69e1436cb3.js.map