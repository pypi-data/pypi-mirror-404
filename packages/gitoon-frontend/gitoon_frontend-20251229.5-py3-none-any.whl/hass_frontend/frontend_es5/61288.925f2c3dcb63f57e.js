"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["61288"],{34296:function(e,t,a){var i,n,o,r,s=a(72153),l=a(44734),c=a(43080),d=a(69683),u=a(6454),v=a(25460),p=(a(28706),a(69085),a(40445)),h=a(96229),_=a(26069),y=a(91735),f=a(42034),g=a(96196),b=a(77845),m=function(e){function t(){var e;(0,l.A)(this,t);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=(0,d.A)(this,t,[].concat(i))).filled=!1,e.active=!1,e}return(0,u.A)(t,e),(0,c.A)(t,[{key:"renderOutline",value:function(){return this.filled?(0,g.qy)(i||(i=(0,s.A)(['<span class="filled"></span>']))):(0,v.A)(t,"renderOutline",this,3)([])}},{key:"getContainerClasses",value:function(){return Object.assign(Object.assign({},(0,v.A)(t,"getContainerClasses",this,3)([])),{},{active:this.active})}},{key:"renderPrimaryContent",value:function(){return(0,g.qy)(n||(n=(0,s.A)([' <span class="leading icon" aria-hidden="true"> ',' </span> <span class="label">','</span> <span class="touch"></span> <span class="trailing leading icon" aria-hidden="true"> '," </span> "])),this.renderLeadingIcon(),this.label,this.renderTrailingIcon())}},{key:"renderTrailingIcon",value:function(){return(0,g.qy)(o||(o=(0,s.A)(['<slot name="trailing-icon"></slot>'])))}}])}(h.k);m.styles=[y.R,f.R,_.R,(0,g.AH)(r||(r=(0,s.A)([":host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-assist-chip-container-shape:var(\n          --ha-assist-chip-container-shape,\n          16px\n        );--md-assist-chip-outline-color:var(--outline-color);--md-assist-chip-label-text-weight:400}.filled{display:flex;pointer-events:none;border-radius:inherit;inset:0;position:absolute;background-color:var(--ha-assist-chip-filled-container-color)}::slotted([slot=icon]),::slotted([slot=trailing-icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px);font-size:var(--_label-text-size)!important}.trailing.icon ::slotted(*),.trailing.icon svg{margin-inline-end:unset;margin-inline-start:var(--_icon-label-space)}::before{background:var(--ha-assist-chip-container-color,transparent);opacity:var(--ha-assist-chip-container-opacity, 1)}:where(.active)::before{background:var(--ha-assist-chip-active-container-color);opacity:var(--ha-assist-chip-active-container-opacity)}.label{font-family:var(--ha-font-family-body)}"])))],(0,p.Cg)([(0,b.MZ)({type:Boolean,reflect:!0})],m.prototype,"filled",void 0),(0,p.Cg)([(0,b.MZ)({type:Boolean})],m.prototype,"active",void 0),m=(0,p.Cg)([(0,b.EM)("ha-assist-chip")],m)},77158:function(e,t,a){a.a(e,async function(e,i){try{a.r(t),a.d(t,{ZWaveJSNetworkVisualization:function(){return O}});var n,o,r=a(61397),s=a(50264),l=a(72153),c=a(7739),d=a(78261),u=a(44734),v=a(43080),p=a(75864),h=a(69683),_=a(6454),y=a(25460),f=(a(28706),a(2008),a(50113),a(62062),a(44114),a(18111),a(22489),a(20116),a(7588),a(61701),a(13579),a(69085),a(5506),a(79432),a(26099),a(16034),a(23500),a(40445)),g=a(96196),b=a(77845),m=a(22786),w=a(76774),z=a(91926),k=a(9899),S=a(7358),A=a(72001),j=(a(31168),a(54706)),C=a(49181),I=e([S]);S=(I.then?(await I)():I)[0];var O=function(e){function t(){var e;(0,u.A)(this,t);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=(0,h.A)(this,t,[].concat(i))).isWide=!1,e.narrow=!1,e._nodeStatuses={},e._nodeStatistics={},e._devices={},e._tooltipFormatter=function(t){var a=t.dataType,i=t.data;if("edge"===a){var n,o,r,s,l,c,d=i.source,u=i.target,v=i.value,p=e._devices[d],h=e._devices[u],_=null!==(n=null!==(o=null==p?void 0:p.name_by_user)&&void 0!==o?o:null==p?void 0:p.name)&&void 0!==n?n:d,y=null!==(r=null!==(s=null==h?void 0:h.name_by_user)&&void 0!==s?s:null==h?void 0:h.name)&&void 0!==r?r:u,f="".concat(_," â†’ ").concat(y),g=(null===(l=e._nodeStatistics[d])||void 0===l?void 0:l.lwr)||(null===(c=e._nodeStatistics[d])||void 0===c?void 0:c.nlwr);return null!=g&&g.protocol_data_rate&&(f+="<br><b>".concat(e.hass.localize("ui.panel.config.zwave_js.visualization.data_rate"),":</b> ").concat(e.hass.localize("ui.panel.config.zwave_js.protocol_data_rate.".concat(g.protocol_data_rate)))),v&&(f+="<br><b>RSSI:</b> ".concat(v)),f}var b=i.id,m=i.name,z=e._devices[b],k=e._nodeStatuses[b],S="".concat(t.marker," ").concat(m);if(S+="<br><b>".concat(e.hass.localize("ui.panel.config.zwave_js.visualization.node_id"),":</b> ").concat(b),z&&(S+="<br><b>".concat(e.hass.localize("ui.panel.config.zwave_js.visualization.manufacturer"),":</b> ").concat(z.manufacturer||"-"),S+="<br><b>".concat(e.hass.localize("ui.panel.config.zwave_js.visualization.model"),":</b> ").concat(z.model||"-")),k&&(S+="<br><b>".concat(e.hass.localize("ui.panel.config.zwave_js.visualization.status"),":</b> ").concat(e.hass.localize("ui.panel.config.zwave_js.node_status.".concat(k.status))),k.zwave_plus_version&&(S+="<br><b>Z-Wave Plus:</b> ".concat(e.hass.localize("ui.panel.config.zwave_js.visualization.version")," ").concat(k.zwave_plus_version))),z){var A=(0,w.w)(z,e.hass).area;A&&(S+="<br><b>".concat(e.hass.localize("ui.panel.config.zwave_js.visualization.area"),":</b> ").concat(A.name))}return S},e._getNetworkData=(0,m.A)(function(t,a){var i,n=getComputedStyle((0,p.A)(e)),o=[],r=[],s=[{name:e.hass.localize("ui.panel.config.zwave_js.visualization.controller"),symbol:"roundRect",itemStyle:{color:n.getPropertyValue("--primary-color")}},{name:e.hass.localize("ui.panel.config.zwave_js.visualization.node"),symbol:"circle",itemStyle:{color:n.getPropertyValue("--cyan-color")}},{name:e.hass.localize("ui.panel.config.zwave_js.visualization.asleep_node"),symbol:"circle",itemStyle:{color:n.getPropertyValue("--disabled-color")}},{name:e.hass.localize("ui.panel.config.zwave_js.visualization.dead_node"),symbol:"circle",itemStyle:{color:n.getPropertyValue("--error-color")}}];return Object.keys(t).length?(Object.values(t).forEach(function(t){var a,r;t.is_controller_node&&(i=t.node_id);var s=e._devices[t.node_id],l=s?(0,w.w)(s,e.hass).area:void 0;o.push({id:String(t.node_id),name:null!==(a=null!==(r=null==s?void 0:s.name_by_user)&&void 0!==r?r:null==s?void 0:s.name)&&void 0!==a?a:String(t.node_id),context:null==l?void 0:l.name,value:t.is_controller_node?3:t.is_routing?2:1,category:t.status===A.zI.Dead?3:t.status===A.zI.Asleep?2:t.is_controller_node?0:1,symbolSize:t.is_controller_node?40:t.is_routing?30:20,symbol:t.is_controller_node?"roundRect":"circle",itemStyle:{color:t.status===A.zI.Dead?n.getPropertyValue("--error-color"):t.status===A.zI.Asleep?n.getPropertyValue("--disabled-color"):t.is_controller_node?n.getPropertyValue("--primary-color"):n.getPropertyValue("--cyan-color")},polarDistance:t.is_controller_node?0:t.status===A.zI.Dead?.9:.5,fixed:t.is_controller_node})}),Object.entries(a).forEach(function(t){var a=(0,d.A)(t,2),o=a[0],s=a[1],l=s.lwr||s.nlwr;if(l){var u=[].concat((0,c.A)(l.repeaters.map(function(t,a){var i;return[null===(i=Object.keys(e._devices).find(function(a){var i;return(null===(i=e._devices[a])||void 0===i?void 0:i.id)===t}))||void 0===i?void 0:i[0],l.repeater_rssi[a]]})),[[i,l.rssi]]),v=o;u.forEach(function(t){var a=(0,d.A)(t,2),o=a[0],s=a[1],c="number"==typeof s&&s<=0?s:-100,u=r.find(function(e){return e.source===v&&e.target===String(o)}),p=e._getLineWidth(c);u?(u.value=Math.max(u.value,c),u.lineStyle=Object.assign(Object.assign({},u.lineStyle),{},{width:Math.max(u.lineStyle.width,p),type:l.protocol_data_rate>1?"solid":u.lineStyle.type})):r.push({source:v,target:String(o),value:c,lineStyle:{width:p,color:o===i?n.getPropertyValue("--primary-color"):n.getPropertyValue("--disabled-color"),type:l.protocol_data_rate>1?"solid":"dotted"},symbolSize:3*p}),v=String(o)})}}),{nodes:o,links:r,categories:s}):{nodes:o,links:r,categories:s}}),e._handleUpdatedNodeStatistics=(0,k.s)(function(){e._nodeStatistics=Object.assign({},e._nodeStatistics)},500),e}return(0,_.A)(t,e),(0,v.A)(t,[{key:"hassSubscribe",value:function(){var e=this;return Object.values(this.hass.devices).filter(function(t){return t.config_entries.some(function(t){return t===e.configEntryId})}).map(function(t){return(0,A.jF)(e.hass,t.id,function(a){var i,n=null!==(i=a.nodeId)&&void 0!==i?i:a.node_id;e._devices[n]=t,e._nodeStatistics[n]=a,e._handleUpdatedNodeStatistics()})})}},{key:"connectedCallback",value:function(){(0,y.A)(t,"connectedCallback",this,3)([]),this._fetchNetworkStatus()}},{key:"render",value:function(){return(0,g.qy)(n||(n=(0,l.A)([' <hass-tabs-subpage .hass="','" .narrow="','" .route="','" .tabs="','"> <ha-network-graph .hass="','" .data="','" .tooltipFormatter="','" @chart-click="','"></ha-network-graph></hass-tabs-subpage> '])),this.hass,this.narrow,this.route,C.configTabs,this.hass,this._getNetworkData(this._nodeStatuses,this._nodeStatistics),this._tooltipFormatter,this._handleChartClick)}},{key:"_fetchNetworkStatus",value:(a=(0,s.A)((0,r.A)().m(function e(){var t,a;return(0,r.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,A.Is)(this.hass,{entry_id:this.configEntryId});case 1:t=e.v,a={},t.controller.nodes.forEach(function(e){a[e.node_id]=e}),this._nodeStatuses=a;case 2:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"_handleChartClick",value:function(e){if("node"===e.detail.dataType&&"pointer"===e.detail.event.target.cursor){var t=e.detail.data.id,a=this._devices[t];a&&(0,z.o)("/config/devices/device/".concat(a.id))}}},{key:"_getLineWidth",value:function(e){return e>-50?3:e>-75?2:1}}],[{key:"styles",get:function(){return[(0,g.AH)(o||(o=(0,l.A)(["ha-network-graph{height:100%}"])))]}}]);var a}((0,j.E)(g.WF));(0,f.Cg)([(0,b.MZ)({attribute:!1})],O.prototype,"route",void 0),(0,f.Cg)([(0,b.MZ)({attribute:"is-wide",type:Boolean})],O.prototype,"isWide",void 0),(0,f.Cg)([(0,b.MZ)({type:Boolean})],O.prototype,"narrow",void 0),(0,f.Cg)([(0,b.MZ)({attribute:!1})],O.prototype,"configEntryId",void 0),(0,f.Cg)([(0,b.wk)()],O.prototype,"_nodeStatuses",void 0),(0,f.Cg)([(0,b.wk)()],O.prototype,"_nodeStatistics",void 0),(0,f.Cg)([(0,b.wk)()],O.prototype,"_devices",void 0),O=(0,f.Cg)([(0,b.EM)("zwave_js-network-visualization")],O),i()}catch(x){i(x)}})},69235:function(e,t,a){a.a(e,async function(e,t){try{a(23792),a(26099),a(3362),a(47764),a(62953);"function"!=typeof window.ResizeObserver&&(window.ResizeObserver=(await a.e("71055").then(a.bind(a,52370))).default),t()}catch(i){t(i)}},1)}}]);
//# sourceMappingURL=61288.925f2c3dcb63f57e.js.map