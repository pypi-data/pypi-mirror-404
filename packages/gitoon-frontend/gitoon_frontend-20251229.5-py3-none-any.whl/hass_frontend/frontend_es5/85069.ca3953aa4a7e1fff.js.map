{"version":3,"file":"85069.ca3953aa4a7e1fff.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251229.5/src/panels/lovelace/cards/water/hui-water-sankey-card.ts"],"names":["DEFAULT_CONFIG","group_by_floor","group_by_area","HuiWaterSankeyCard","_SubscribeMixin","_this","_callSuper","concat","args","hassSubscribeRequiredHostProps","_valueFormatter","value","formatNumber","hass","locale","maximumFractionDigits","undefined","_data","waterUnit","config","this","_config","Object","assign","key","_this$_config","_this2","getEnergyDataCollection","collection_key","subscribe","data","columns","min_columns","rows","min_rows","changedProps","has","_this3","nothing","html","_templateObject","_taggedTemplateLiteral","localize","prefs","waterSources","energy_sources","filter","source","type","computedStyle","getComputedStyle","nodes","links","totalDownstreamConsumption","device_consumption_water","reduce","total","device","stat_consumption","stats","calculateStatisticSumGrowth","totalSourceSupply","stat_energy_from","totalWaterConsumption","Math","max","homeNode","id","label","color","getPropertyValue","trim","index","push","waterColor","forEach","getStatisticLabel","statsMetadata","target","untrackedConsumption","deviceNodes","parentLinks","idx","node","name","getGraphColorByIndex","parent","included_in_stat","devicesWithoutParent","_this$_config2","_this$_groupByFloorAn","_groupByFloorAndArea","areas","floors","keys","sort","a","b","_this3$hass$floors$b$","_this3$hass$floors$b","_this3$hass$floors$a$","_this3$hass$floors$a","level","Infinity","floorId","floorNodeId","areaId","targetNodeId","areaNodeId","devices","deviceNode","deviceSections","_getDeviceSections","section","length","hasData","some","vertical","layout","_isMobileSize","_templateObject2","title","classMap","_templateObject3","_templateObject4","_this4","no_area","no_floor","entity","states","_ref","getEntityContext","entities","area","floor","area_id","floor_id","includes","unshift","parentSection","childSection","parentIds","values","remainingLinks","isChild","entries","_ref2","_ref3","_slicedToArray","child","_toConsumableArray","SubscribeMixin","MobileAwareMixin","LitElement","styles","css","_templateObject5","attribute"],"mappings":"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"}