"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["89691"],{17022:function(t,i,e){e.d(i,{A1:function(){return a},CY:function(){return c},Fn:function(){return r},Jz:function(){return u},St:function(){return h},VA:function(){return d},WI:function(){return g},iY:function(){return f},xw:function(){return s}});var n=e(61397),o=e(50264),a=(e(16280),e(11392),function(t,i){return t.callWS({type:"media_source/resolve_media",media_content_id:i})}),r=function(t,i){return t.callWS({type:"media_source/browse_media",media_content_id:i})},s="__MANUAL_ENTRY__",c=function(t){return t.startsWith(s)},h=function(t){return t.startsWith("media-source://")},u=function(t){return t.startsWith("media-source://media_source")},f=function(t){return t.startsWith("media-source://image_upload")},d=function(){var t=(0,o.A)((0,n.A)().m(function t(i,e,o){var a,r;return(0,n.A)().w(function(t){for(;;)switch(t.n){case 0:return(a=new FormData).append("media_content_id",e),a.append("file",o),t.n=1,i.fetchWithAuth("/api/media_source/local_source/upload",{method:"POST",body:a});case 1:if(413!==(r=t.v).status){t.n=2;break}throw new Error("Uploaded file is too large (".concat(o.name,")"));case 2:if(200===r.status){t.n=3;break}throw new Error("Unknown error");case 3:return t.a(2,r.json())}},t)}));return function(i,e,n){return t.apply(this,arguments)}}(),g=function(){var t=(0,o.A)((0,n.A)().m(function t(i,e){return(0,n.A)().w(function(t){for(;;)if(0===t.n)return t.a(2,i.callWS({type:"media_source/local_source/remove",media_content_id:e}))},t)}));return function(i,e){return t.apply(this,arguments)}}()},86063:function(t,i,e){e.a(t,async function(t,n){try{e.r(i),e.d(i,{STUB_IMAGE:function(){return I}});var o,a,r,s,c,h,u=e(61397),f=e(50264),d=e(47075),g=e(72153),_=e(44734),l=e(43080),m=e(69683),p=e(25460),v=e(6454),y=(e(16280),e(74423),e(23792),e(69085),e(26099),e(3362),e(47764),e(62953),e(40445)),w=e(96196),b=e(77845),A=e(94333),k=e(32288),C=e(42372),x=e(71727),E=(e(76776),e(67013)),W=e(19037),S=e(37642),M=e(13632),j=e(37544),q=e(97176),z=e(784),U=e(57914),F=e(85979),H=t([U]);U=(H.then?(await H)():H)[0];var I="https://demo.home-assistant.io/stub_config/bedroom.png",T=function(t){function i(){return(0,_.A)(this,i),(0,m.A)(this,i,arguments)}return(0,v.A)(i,t),(0,l.A)(i,[{key:"getCardSize",value:function(){return 3}},{key:"setConfig",value:function(t){if(!t||!t.entity)throw new Error("Entity must be specified");if(!(["camera","image","person"].includes((0,x.m)(t.entity))||t.image||t.state_image||t.camera_image))throw new Error("No image source configured");this._config=Object.assign({show_name:!0,show_state:!0,tap_action:{action:"more-info"}},t)}},{key:"shouldUpdate",value:function(t){return(0,z.LX)(this,t)}},{key:"updated",value:function(t){if((0,p.A)(i,"updated",this,3)([t]),this._config&&this.hass){var e=t.get("hass"),n=t.get("_config");e&&n&&e.themes===this.hass.themes&&n.theme===this._config.theme||(0,C.Q)(this,this.hass.themes,this._config.theme)}}},{key:"render",value:function(){var t,i;if(!this._config||!this.hass)return w.s6;var e=this.hass.states[this._config.entity];if(!e)return(0,w.qy)(o||(o=(0,g.A)([' <hui-warning .hass="','"> '," </hui-warning> "])),this.hass,(0,F.j)(this.hass,this._config.entity));var n=(0,S.v)(this.hass,e,this._config.name),h=this.hass.formatEntityState(e),u="";this._config.show_name&&this._config.show_state?u=(0,w.qy)(a||(a=(0,g.A)([' <div class="footer both"> <div>',"</div> <div>","</div> </div> "])),n,h):this._config.show_name?u=(0,w.qy)(r||(r=(0,g.A)(['<div class="footer single">',"</div>"])),n):this._config.show_state&&(u=(0,w.qy)(s||(s=(0,g.A)(['<div class="footer single">',"</div>"])),h));var f=(0,x.m)(this._config.entity),_="object"===(0,d.A)(null===(t=this._config)||void 0===t?void 0:t.image)&&this._config.image.media_content_id||this._config.image;if(!_)switch(f){case"image":_=(0,E.e)(e);break;case"person":e.attributes.entity_picture&&(_=e.attributes.entity_picture)}var l="grid"===this.layout&&"number"==typeof(null===(i=this._config.grid_options)||void 0===i?void 0:i.rows),m=(0,q.h)(this._config.tap_action)||Boolean(!this._config.tap_action&&this._config.entity);return(0,w.qy)(c||(c=(0,g.A)([' <ha-card> <div class="image-container ','" @action="','" .actionHandler="','" tabindex="','" role="','"> <hui-image .hass="','" .image="','" .stateImage="','" .stateFilter="','" .cameraImage="','" .cameraView="','" .entity="','" .aspectRatio="','" .fitMode="','"></hui-image> </div> '," </ha-card> "])),(0,A.H)({clickable:m}),this._handleAction,(0,W.T)({hasHold:(0,q.h)(this._config.hold_action),hasDoubleClick:(0,q.h)(this._config.double_tap_action)}),(0,k.J)(m?"0":void 0),(0,k.J)(m?"0":void 0),this.hass,_,this._config.state_image,this._config.state_filter,"camera"===f?this._config.entity:this._config.camera_image,this._config.camera_view,this._config.entity,l?void 0:this._config.aspect_ratio,this._config.fit_mode,u)}},{key:"_handleAction",value:function(t){(0,j.$)(this,this.hass,this._config,t.detail.action)}}],[{key:"getConfigElement",value:(n=(0,f.A)((0,u.A)().m(function t(){return(0,u.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.e("76999").then(e.bind(e,98458));case 1:return t.a(2,document.createElement("hui-picture-entity-card-editor"))}},t)})),function(){return n.apply(this,arguments)})},{key:"getStubConfig",value:function(t,i,e){return{type:"picture-entity",entity:(0,M.B)(t,1,i,e,["light","switch"])[0]||"",image:I}}}]);var n}(w.WF);T.styles=(0,w.AH)(h||(h=(0,g.A)(["ha-card{min-height:75px;overflow:hidden;position:relative;height:100%;box-sizing:border-box}.image-container{height:100%}.image-container.clickable{cursor:pointer}hui-image{pointer-events:none;height:100%}.footer{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:absolute;left:0;right:0;bottom:0;background-color:var(--ha-picture-card-background-color,rgba(0,0,0,.3));padding:16px;font-size:var(--ha-font-size-l);line-height:16px;color:var(--ha-picture-card-text-color,#fff);pointer-events:none}.both{display:flex;justify-content:space-between}.single{text-align:center}"]))),(0,y.Cg)([(0,b.MZ)({attribute:!1})],T.prototype,"hass",void 0),(0,y.Cg)([(0,b.MZ)({attribute:!1})],T.prototype,"layout",void 0),(0,y.Cg)([(0,b.wk)()],T.prototype,"_config",void 0),T=(0,y.Cg)([(0,b.EM)("hui-picture-entity-card")],T),n()}catch(B){n(B)}})}}]);
//# sourceMappingURL=89691.788d139529f540be.js.map