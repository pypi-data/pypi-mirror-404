"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["67854"],{18427:function(t,a,e){e.d(a,{g:function(){return i}});e(42762);var r=e(79468),n=e(39274);function i(t,a,e,i,o,s){var c=t.getPropertyValue(o+"-"+s).trim(),h=c.length>0?c:t.getPropertyValue(o).trim(),u=(0,r.RQ)(h);return 0===c.length&&s&&(u=(0,r.v2)((0,r.BE)(a?(0,n.T)((0,r.Nc)((0,r.xp)(u)),s):(0,n.d)((0,r.Nc)((0,r.xp)(u)),s)))),i?u+=e?"32":"7F":e&&(u+="7F"),u}},40345:function(t,a,e){e.a(t,async function(t,a){try{var r,n,i=e(72153),o=e(44734),s=e(43080),c=e(69683),h=e(6454),u=e(40445),d=e(96196),l=e(77845),p=e(34127),g=t([p]);p=(g.then?(await g)():g)[0];var f=function(t){function a(){return(0,o.A)(this,a),(0,c.A)(this,a,arguments)}return(0,h.A)(a,t),(0,s.A)(a,[{key:"render",value:function(){var t="energy-graph-chip-".concat(Date.now());return(0,d.qy)(r||(r=(0,i.A)([' <div class="chip" id="','"> <slot></slot> </div> <ha-tooltip for="','" placement="top">',"</ha-tooltip> "])),t,t,this.tooltip)}}])}(d.WF);f.styles=(0,d.AH)(n||(n=(0,i.A)([".chip{font-size:var(--ha-font-size-m);font-weight:var(--ha-font-weight-medium);padding:var(--ha-space-1) var(--ha-space-2);border-radius:var(--ha-border-radius-md);border:1px solid var(--divider-color)}"]))),(0,u.Cg)([(0,l.MZ)({type:String})],f.prototype,"tooltip",void 0),f=(0,u.Cg)([(0,l.EM)("hui-energy-graph-chip")],f),a()}catch(_){a(_)}})},99389:function(t,a,e){e.a(t,async function(t,r){try{e.r(a),e.d(a,{HuiEnergyGasGraphCard:function(){return V}});var n,i,o,s,c,h=e(31432),u=e(61397),d=e(7739),l=e(50264),p=e(72153),g=e(44734),f=e(43080),_=e(69683),y=e(6454),v=(e(28706),e(2008),e(44114),e(72712),e(18111),e(22489),e(7588),e(18237),e(26099),e(23500),e(40445)),m=e(81859),k=e(40600),A=e(73684),b=e(96196),w=e(77845),C=e(94333),S=e(22786),x=e(18427),D=e(20058),E=e(44439),M=(e(76776),e(38114)),z=e(23528),q=e(54706),T=e(784),H=e(97372),R=e(40345),F=e(34127),P=t([E,R,F,M,D,H,z]);[E,R,F,M,D,H,z]=P.then?(await P)():P;var V=function(t){function a(){var t;(0,g.A)(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=(0,_.A)(this,a,[].concat(r)))._chartData=[],t._start=(0,m.R)(),t._end=(0,k.o)(),t.hassSubscribeRequiredHostProps=["_config"],t._formatTotal=function(a){return t.hass.localize("ui.panel.lovelace.cards.energy.energy_gas_graph.total_consumed",{num:(0,D.ZV)(a,t.hass.locale),unit:t._unit})},t._createOptions=(0,S.A)(function(a,e,r,n,i,o,s){return(0,H.od)(a,e,r,n,i,o,s,t._formatTotal)}),t}return(0,y.A)(a,t),(0,f.A)(a,[{key:"hassSubscribe",value:function(){var t,a=this;return[(0,M.tb)(this.hass,{key:null===(t=this._config)||void 0===t?void 0:t.collection_key}).subscribe(function(t){return a._getStatistics(t)})]}},{key:"getCardSize",value:function(){return 3}},{key:"setConfig",value:function(t){this._config=t}},{key:"shouldUpdate",value:function(t){return(0,T.xP)(this,t)||t.size>1||!t.has("hass")}},{key:"render",value:function(){return this.hass&&this._config?(0,b.qy)(n||(n=(0,p.A)([" <ha-card> ",' <div class="content ','"> <ha-chart-base .hass="','" .data="','" .options="','" chart-type="bar"></ha-chart-base> '," </div> </ha-card> "])),this._config.title?(0,b.qy)(i||(i=(0,p.A)([' <div class="card-header"> <span>',"</span> "," </div>"])),this._config.title,this._total?(0,b.qy)(o||(o=(0,p.A)(['<hui-energy-graph-chip .tooltip="','"> '," "," </hui-energy-graph-chip>"])),this._formatTotal(this._total),(0,D.ZV)(this._total,this.hass.locale),this._unit):b.s6):b.s6,(0,C.H)({"has-header":!!this._config.title}),this.hass,this._chartData,this._createOptions(this._start,this._end,this.hass.locale,this.hass.config,this._unit,this._compareStart,this._compareEnd),this._chartData.length?"":(0,b.qy)(s||(s=(0,p.A)(['<div class="no-data"> '," </div>"])),(0,A.c)(this._start)?this.hass.localize("ui.panel.lovelace.cards.energy.no_data"):this.hass.localize("ui.panel.lovelace.cards.energy.no_data_period"))):b.s6}},{key:"_getStatistics",value:(e=(0,l.A)((0,u.A)().m(function t(a){var e,r,n,i,o,s;return(0,u.A)().w(function(t){for(;;)switch(t.n){case 0:this._start=a.start,this._end=a.end||(0,k.o)(),this._compareStart=a.startCompare,this._compareEnd=a.endCompare,e=a.prefs.energy_sources.filter(function(t){return"gas"===t.type}),this._unit=a.gasUnit,r=[],n=getComputedStyle(this),a.statsCompare?r.push.apply(r,(0,d.A)(this._processDataSet(a.statsCompare,a.statsMetadata,e,n,!0))):(s=null!==(i=null===(o=e[0])||void 0===o?void 0:o.stat_energy_from)&&void 0!==i?i:"placeholder",r.push({id:"compare-"+s,type:"bar",stack:"gas",data:[]})),r.push.apply(r,(0,d.A)(this._processDataSet(a.stats,a.statsMetadata,e,n))),(0,H.RR)(r),this._chartData=r,this._total=this._processTotal(a.stats,e);case 1:return t.a(2)}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"_processTotal",value:function(t,a){return a.reduce(function(a,e){return a+(e.stat_energy_from in t?t[e.stat_energy_from].reduce(function(t,a){return t+(a.change||0)},0):0)},0)}},{key:"_processDataSet",value:function(t,a,e,r){var n=this,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=[],s=(0,H.ok)(this._start,this._compareStart);return e.forEach(function(e,c){var u=null,d=[];if(e.stat_energy_from in t){var l,p=t[e.stat_energy_from],g=(0,h.A)(p);try{for(g.s();!(l=g.n()).done;){var f=l.value;if(null!==f.change&&void 0!==f.change&&0!==f.change&&u!==f.start){var _=[f.start,f.change];i&&(_[2]=_[0],_[0]=s(new Date(f.start))),d.push(_),u=f.start}}}catch(y){g.e(y)}finally{g.f()}}o.push({type:"bar",cursor:"default",id:i?"compare-"+e.stat_energy_from:e.stat_energy_from,name:(0,z.$O)(n.hass,e.stat_energy_from,a[e.stat_energy_from]),barMaxWidth:50,itemStyle:{borderColor:(0,x.g)(r,n.hass.themes.darkMode,!1,i,"--energy-gas-color",c)},color:(0,x.g)(r,n.hass.themes.darkMode,!0,i,"--energy-gas-color",c),data:d,stack:i?"compare-gas":"gas"})}),o}}]);var e}((0,q.E)(b.WF));V.styles=(0,b.AH)(c||(c=(0,p.A)(["ha-card{height:100%}.card-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:0}.content{padding:16px}.has-header{padding-top:0}.no-data{position:absolute;height:100%;top:0;left:0;right:0;display:flex;justify-content:center;align-items:center;padding:20%;margin-left:32px;margin-inline-start:32px;margin-inline-end:initial;box-sizing:border-box}"]))),(0,v.Cg)([(0,w.MZ)({attribute:!1})],V.prototype,"hass",void 0),(0,v.Cg)([(0,w.wk)()],V.prototype,"_config",void 0),(0,v.Cg)([(0,w.wk)()],V.prototype,"_chartData",void 0),(0,v.Cg)([(0,w.wk)()],V.prototype,"_start",void 0),(0,v.Cg)([(0,w.wk)()],V.prototype,"_end",void 0),(0,v.Cg)([(0,w.wk)()],V.prototype,"_compareStart",void 0),(0,v.Cg)([(0,w.wk)()],V.prototype,"_compareEnd",void 0),(0,v.Cg)([(0,w.wk)()],V.prototype,"_unit",void 0),(0,v.Cg)([(0,w.wk)()],V.prototype,"_total",void 0),V=(0,v.Cg)([(0,w.EM)("hui-energy-gas-graph-card")],V),r()}catch(Z){r(Z)}})},43382:function(t,a,e){e.d(a,{A:function(){return n}});var r=e(51039);function n(t){return(0,r.w)(t,Date.now())}},83309:function(t,a,e){e.d(a,{r:function(){return o}});var r=e(78261),n=e(74816),i=e(35932);function o(t,a,e){var o=(0,n.x)(null==e?void 0:e.in,t,a),s=(0,r.A)(o,2),c=s[0],h=s[1];return+(0,i.o)(c)===+(0,i.o)(h)}},73684:function(t,a,e){e.d(a,{c:function(){return o}});var r=e(51039),n=e(43382),i=e(83309);function o(t,a){return(0,i.r)((0,r.w)((null==a?void 0:a.in)||t,t),(0,n.A)((null==a?void 0:a.in)||t))}}}]);
//# sourceMappingURL=67854.6d31e403f7eebd55.js.map