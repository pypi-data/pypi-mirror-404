"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["28838"],{20559:function(e,n,t){t.d(n,{JW:function(){return k},OW:function(){return g},PO:function(){return p},VN:function(){return l},XG:function(){return _},eB:function(){return m},gZ:function(){return h},hM:function(){return f},k2:function(){return u},lU:function(){return v},nc:function(){return y},vX:function(){return w},z1:function(){return d}});var i=t(61397),a=t(50264),r=(t(2008),t(50113),t(23792),t(62062),t(18111),t(22489),t(20116),t(61701),t(26099),t(16034),t(31415),t(17642),t(58004),t(33853),t(45876),t(32475),t(15024),t(31698),t(47764),t(62953),t(36312)),s=t(91926),o=t(44927),c=t(16790),d=function(e){return e.THREAD="thread",e.WIFI="wifi",e.ETHERNET="ethernet",e.UNKNOWN="unknown",e}({}),u=function(e){var n;return null===(n=e.auth.external)||void 0===n?void 0:n.config.canCommissionMatter},l=function(){var e=(0,a.A)((0,i.A)().m(function e(n){var t,a,s,o,d,u,l,f;return(0,i.A)().w(function(e){for(;;)switch(e.n){case 0:if(!(0,r.x)(n,"thread")){e.n=3;break}return e.n=1,(0,c.sL)(n);case 1:if(t=e.v,!(a=t.datasets.find(function(e){return e.preferred}))){e.n=3;break}return s=n.auth.external,e.n=2,(0,c.dy)(n,a.dataset_id);case 2:return o=e.v.tlv,d=a.preferred_border_agent_id,u=a.preferred_extended_address,l=a.extended_pan_id,f={active_operational_dataset:o,border_agent_id:d,mac_extended_address:u,extended_pan_id:l},e.a(2,s.fireMessage.call(s,{type:"matter/commission",payload:f}));case 3:return e.a(2,n.auth.external.fireMessage({type:"matter/commission"}))}},e)}));return function(n){return e.apply(this,arguments)}}(),f=function(e,n){var t,i=(0,o.Ag)(e.connection,function(e){if(t){var a=Object.values(e).filter(function(e){return e.identifiers.find(function(e){return"matter"===e[0]})&&!t.has(e.id)});a.length&&(i(),t=void 0,null==n||n(),(0,s.o)("/config/devices/device/".concat(a[0].id)))}else t=new Set(Object.values(e).filter(function(e){return e.identifiers.find(function(e){return"matter"===e[0]})}).map(function(e){return e.id}))});return function(){i(),t=void 0}},p=function(e,n){return e.callWS({type:"matter/commission",code:n})},_=function(e,n){return e.callWS({type:"matter/commission_on_network",pin:n})},v=function(e,n,t){return e.callWS({type:"matter/set_wifi_credentials",network_name:n,password:t})},h=function(e,n){return e.callWS({type:"matter/set_thread",thread_operation_dataset:n})},m=function(e,n){return e.callWS({type:"matter/node_diagnostics",device_id:n})},g=function(e,n){return e.callWS({type:"matter/ping_node",device_id:n})},y=function(e,n){return e.callWS({type:"matter/open_commissioning_window",device_id:n})},w=function(e,n,t){return e.callWS({type:"matter/remove_matter_fabric",device_id:n,fabric_index:t})},k=function(e,n){return e.callWS({type:"matter/interview_node",device_id:n})}},16790:function(e,n,t){t.d(n,{It:function(){return d},W4:function(){return l},dy:function(){return c},l1:function(){return f},rY:function(){return u},sL:function(){return o},wm:function(){return s}});var i=t(44734),a=t(43080),r=(t(16034),function(){return(0,a.A)(function e(){(0,i.A)(this,e),this.routers={}},[{key:"processEvent",value:function(e){return"router_discovered"===e.type?this.routers[e.key]=e.data:"router_removed"===e.type&&delete this.routers[e.key],Object.values(this.routers)}}])}()),s=function(e,n){var t=new r;return e.connection.subscribeMessage(function(e){return n(t.processEvent(e))},{type:"thread/discover_routers"})},o=function(e){return e.callWS({type:"thread/list_datasets"})},c=function(e,n){return e.callWS({type:"thread/get_dataset_tlv",dataset_id:n})},d=function(e,n,t){return e.callWS({type:"thread/add_dataset_tlv",source:n,tlv:t})},u=function(e,n){return e.callWS({type:"thread/delete_dataset",dataset_id:n})},l=function(e,n){return e.callWS({type:"thread/set_preferred_dataset",dataset_id:n})},f=function(e,n,t,i){return e.callWS({type:"thread/set_preferred_border_agent",dataset_id:n,border_agent_id:t,extended_address:i})}},59077:function(e,n,t){t.r(n),t.d(n,{HaDeviceInfoMatter:function(){return b}});var i,a,r,s,o,c=t(72153),d=t(61397),u=t(50264),l=t(44734),f=t(43080),p=t(69683),_=t(25460),v=t(6454),h=(t(62062),t(18111),t(61701),t(26099),t(40445)),m=t(96196),g=t(77845),y=(t(11382),t(20559)),w=t(54706),k=t(14503),b=function(e){function n(){return(0,l.A)(this,n),(0,p.A)(this,n,arguments)}return(0,v.A)(n,e),(0,f.A)(n,[{key:"willUpdate",value:function(e){(0,_.A)(n,"willUpdate",this,3)([e]),e.has("device")&&this._fetchNodeDetails()}},{key:"_fetchNodeDetails",value:(t=(0,u.A)((0,d.A)().m(function e(){return(0,d.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.device){e.n=1;break}return e.a(2);case 1:if(null===this.device.via_device_id){e.n=2;break}return e.a(2);case 2:return e.p=2,e.n=3,(0,y.eB)(this.hass,this.device.id);case 3:this._nodeDiagnostics=e.v,e.n=5;break;case 4:e.p=4,e.v,this._nodeDiagnostics=void 0;case 5:return e.a(2)}},e,this,[[2,4]])})),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return this._nodeDiagnostics?(0,m.qy)(i||(i=(0,c.A)([' <ha-expansion-panel .header="','"> <div class="row"> <span class="name">',':</span> <span class="value">','</span> </div> <div class="row"> <span class="name">',':</span> <span class="value">','</span> </div> <div class="row"> <span class="name">',':</span> <span class="value">',"</span> </div> "," ",' <div class="row"> <span class="name">',':</span> <span class="value">',"</span> </div> </ha-expansion-panel> "])),this.hass.localize("ui.panel.config.matter.device_info.device_info"),this.hass.localize("ui.panel.config.matter.device_info.node_id"),this._nodeDiagnostics.node_id,this.hass.localize("ui.panel.config.matter.device_info.network_type"),this.hass.localize("ui.panel.config.matter.network_type.".concat(this._nodeDiagnostics.network_type)),this.hass.localize("ui.panel.config.matter.device_info.node_type"),this.hass.localize("ui.panel.config.matter.node_type.".concat(this._nodeDiagnostics.node_type)),this._nodeDiagnostics.network_name?(0,m.qy)(a||(a=(0,c.A)([' <div class="row"> <span class="name">',':</span> <span class="value">',"</span> </div> "])),this.hass.localize("ui.panel.config.matter.device_info.network_name"),this._nodeDiagnostics.network_name):m.s6,this._nodeDiagnostics.mac_address?(0,m.qy)(r||(r=(0,c.A)([' <div class="row"> <span class="name">',':</span> <span class="value">',"</span> </div> "])),this.hass.localize("ui.panel.config.matter.device_info.mac_address"),this._nodeDiagnostics.mac_address):m.s6,this.hass.localize("ui.panel.config.matter.device_info.ip_adresses"),this._nodeDiagnostics.ip_adresses.map(function(e){return(0,m.qy)(s||(s=(0,c.A)(["","<br>"])),e)})):m.s6}}],[{key:"styles",get:function(){return[k.RF,(0,m.AH)(o||(o=(0,c.A)(["h4{margin-bottom:4px}div{word-break:break-all;margin-top:2px}.row{display:flex;justify-content:space-between;padding-bottom:4px}.value{text-align:right}ha-expansion-panel{margin:8px -16px 0;--expansion-panel-summary-padding:0 16px;--expansion-panel-content-padding:0 16px;--ha-card-border-radius:var(--ha-border-radius-square)}"])))]}}]);var t}((0,w.E)(m.WF));(0,h.Cg)([(0,g.MZ)({attribute:!1})],b.prototype,"hass",void 0),(0,h.Cg)([(0,g.MZ)({attribute:!1})],b.prototype,"device",void 0),(0,h.Cg)([(0,g.wk)()],b.prototype,"_nodeDiagnostics",void 0),b=(0,h.Cg)([(0,g.EM)("ha-device-info-matter")],b)}}]);
//# sourceMappingURL=28838.78ada73f56e030da.js.map