"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["13961"],{81423:function(t,e,i){i.a(t,async function(t,e){try{var s,a,n,r,o,c,l,u,d,h,p,y=i(61397),_=i(50264),v=i(72153),f=i(78261),m=i(44734),g=i(43080),b=i(69683),C=i(6454),A=(i(28706),i(2008),i(50113),i(48980),i(74423),i(25276),i(44114),i(54554),i(13609),i(18111),i(22489),i(20116),i(7588),i(26099),i(21699),i(23500),i(40445)),M=i(96196),w=i(77845),I=i(22786),k=i(44537),x=i(1087),O=i(74705),Z=i(28978),j=i(15638),q=i(95350),L=i(23528),N=i(36918),H=(i(75064),i(38508)),z=(i(26300),i(67094),i(74281)),U=t([H,z,L]);[H,z,L]=U.then?(await U)():U;var B="M16,11.78L20.24,4.45L21.97,5.45L16.74,14.5L10.23,10.75L5.46,19H22V21H2V3H4V17.54L9.5,8L16,11.78Z",E="M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z",S=["entity","external","no_state"],V="___missing-entity___",F=[{name:"label",weight:10},{name:"search_labels.entityName",weight:10},{name:"search_labels.friendlyName",weight:9},{name:"search_labels.deviceName",weight:8},{name:"search_labels.areaName",weight:6},{name:"search_labels.domainName",weight:4},{name:"statisticId",weight:3},{name:"id",weight:2}],R=function(t){function e(){var t;(0,m.A)(this,e);for(var i=arguments.length,p=new Array(i),y=0;y<i;y++)p[y]=arguments[y];return(t=(0,b.A)(this,e,[].concat(p))).autofocus=!1,t.disabled=!1,t.required=!1,t.helpMissingEntityUrl="/more-info/statistics/",t.entitiesOnly=!1,t.hideClearIcon=!1,t._getItems=function(){return t._getStatisticsItems(t.hass,t.statisticIds,t.includeStatisticsUnitOfMeasurement,t.includeUnitClass,t.includeDeviceClass,t.entitiesOnly,t.excludeStatistics,t.value)},t._getStatisticsItems=(0,I.A)(function(e,i,s,a,n,r,o,c){if(!i)return[];if(s){var l=(0,k.e)(s);i=i.filter(function(t){return l.includes(t.statistics_unit_of_measurement)})}if(a){var u=(0,k.e)(a);i=i.filter(function(t){return u.includes(t.unit_class)})}if(n){var d=(0,k.e)(n);i=i.filter(function(e){var i=t.hass.states[e.statistic_id];return!i||d.includes(i.attributes.device_class||"")})}var h=(0,j.qC)(e),p=[];return i.forEach(function(i){if(!o||i.statistic_id===c||!o.includes(i.statistic_id)){var s=t.hass.states[i.statistic_id];if(s){var a=i.statistic_id,n=(0,Z.u)(s),l=(0,O.Cf)(s,[{type:"entity"},{type:"device"},{type:"area"}],e.entities,e.devices,e.areas,e.floors),u=(0,f.A)(l,3),d=u[0],y=u[1],_=u[2],v=d||y||a,m=[_,d?y:void 0].filter(Boolean).join(h?" ◂ ":" ▸ "),g="".concat(S.indexOf("entity"));p.push({id:a,statistic_id:a,primary:v,secondary:m,stateObj:s,type:"entity",sorting_label:[g,y,d].join("_"),search_labels:{entityName:d||null,deviceName:y||null,areaName:_||null,friendlyName:n}})}else if(!r){var b=i.statistic_id,C=(0,L.$O)(t.hass,i.statistic_id,i),A=i.statistic_id.includes(":")&&!i.statistic_id.includes(".")?"external":"no_state",M="".concat(S.indexOf(A));if("no_state"===A)p.push({id:b,primary:C,secondary:t.hass.localize("ui.components.statistic-picker.no_state"),type:A,sorting_label:[M,C].join("_"),icon_path:E});else if("external"===A){var w=b.split(":")[0],I=(0,q.p$)(t.hass.localize,w);p.push({id:b,statistic_id:b,primary:C,secondary:I,type:A,sorting_label:[M,C].join("_"),search_labels:{label:C,domainName:I},icon_path:B})}}}}),p}),t._statisticMetaData=(0,I.A)(function(t,e){if(e)return e.find(function(e){return e.statistic_id===t})}),t._valueRenderer=function(e){var i=e,o=t._computeItem(i);return(0,M.qy)(s||(s=(0,v.A)([" ",' <span slot="headline">',"</span> "," "])),o.stateObj?(0,M.qy)(a||(a=(0,v.A)([' <state-badge .hass="','" .stateObj="','" slot="start"></state-badge> '])),t.hass,o.stateObj):o.icon_path?(0,M.qy)(n||(n=(0,v.A)([' <ha-svg-icon slot="start" .path="','"></ha-svg-icon> '])),o.icon_path):M.s6,o.primary,o.secondary?(0,M.qy)(r||(r=(0,v.A)(['<span slot="supporting-text">',"</span>"])),o.secondary):M.s6)},t._rowRenderer=function(e,i){var s,a=null===(s=t.hass.userData)||void 0===s?void 0:s.showEntityIdPicker;return(0,M.qy)(o||(o=(0,v.A)([' <ha-combo-box-item type="button" compact="compact" .borderTop="','"> ',' <span slot="headline">'," </span> "," "," </ha-combo-box-item> "])),0!==i,e.icon_path?(0,M.qy)(c||(c=(0,v.A)([' <ha-svg-icon style="margin:0 4px" slot="start" .path="','"></ha-svg-icon> '])),e.icon_path):e.stateObj?(0,M.qy)(l||(l=(0,v.A)([' <state-badge slot="start" .stateObj="','" .hass="','"></state-badge> '])),e.stateObj,t.hass):M.s6,e.primary,e.secondary?(0,M.qy)(u||(u=(0,v.A)(['<span slot="supporting-text">',"</span>"])),e.secondary):M.s6,e.statistic_id&&a?(0,M.qy)(d||(d=(0,v.A)(['<span slot="supporting-text" class="code"> '," </span>"])),e.statistic_id):M.s6)},t._searchFn=function(t,e){var i=e.findIndex(function(e){var i;return(null===(i=e.stateObj)||void 0===i?void 0:i.entity_id)===t||e.statistic_id===t});if(-1===i)return e;var s=e.splice(i,1),a=(0,f.A)(s,1)[0];return e.unshift(a),e},t._notFoundLabel=function(e){return t.hass.localize("ui.components.statistic-picker.no_match",{term:(0,M.qy)(h||(h=(0,v.A)(["<b>‘","’</b>"])),e)})},t}return(0,C.A)(e,t),(0,g.A)(e,[{key:"willUpdate",value:function(t){(!this.hasUpdated&&!this.statisticIds||t.has("statisticTypes"))&&this._getStatisticIds()}},{key:"_getStatisticIds",value:(A=(0,_.A)((0,y.A)().m(function t(){return(0,y.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,L.p3)(this.hass,this.statisticTypes);case 1:this.statisticIds=t.v;case 2:return t.a(2)}},t,this)})),function(){return A.apply(this,arguments)})},{key:"_getAdditionalItems",value:function(){return[{id:V,primary:this.hass.localize("ui.components.statistic-picker.missing_entity"),icon_path:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"}]}},{key:"_computeItem",value:function(t){var e=this.hass.states[t];if(e){var i=(0,O.Cf)(e,[{type:"entity"},{type:"device"},{type:"area"}],this.hass.entities,this.hass.devices,this.hass.areas,this.hass.floors),s=(0,f.A)(i,3),a=s[0],n=s[1],r=s[2],o=(0,j.qC)(this.hass),c=a||n||t,l=[r,a?n:void 0].filter(Boolean).join(o?" ◂ ":" ▸ "),u=(0,Z.u)(e);return{id:t,statistic_id:t,primary:c,secondary:l,stateObj:e,type:"entity",sorting_label:["".concat(S.indexOf("entity")),n,a].join("_"),search_labels:{entityName:a||null,deviceName:n||null,areaName:r||null,friendlyName:u,statisticId:t}}}var d=this.statisticIds?this._statisticMetaData(t,this.statisticIds):void 0;if(d&&"external"===(t.includes(":")&&!t.includes(".")?"external":"no_state")){var h="".concat(S.indexOf("external")),p=(0,L.$O)(this.hass,t,d),y=t.split(":")[0],_=(0,q.p$)(this.hass.localize,y);return{id:t,statistic_id:t,primary:p,secondary:_,type:"external",sorting_label:[h,p].join("_"),search_labels:{label:p,domainName:_,statisticId:t},icon_path:B}}var v="".concat(S.indexOf("external")),m=(0,L.$O)(this.hass,t,d);return{id:t,primary:m,secondary:this.hass.localize("ui.components.statistic-picker.no_state"),type:"no_state",sorting_label:[v,m].join("_"),search_labels:{label:m,statisticId:t},icon_path:E}}},{key:"render",value:function(){var t,e=null!==(t=this.placeholder)&&void 0!==t?t:this.hass.localize("ui.components.statistic-picker.placeholder");return(0,M.qy)(p||(p=(0,v.A)([' <ha-generic-picker .hass="','" .autofocus="','" .allowCustomValue="','" .disabled="','" .label="','" use-top-label .placeholder="','" .value="','" .notFoundLabel="','" .emptyLabel="','" .rowRenderer="','" .getItems="','" .getAdditionalItems="','" .hideClearIcon="','" .searchFn="','" .valueRenderer="','" .helper="','" .searchKeys="','" .unknownItemText="','" @value-changed="','"> </ha-generic-picker> '])),this.hass,this.autofocus,this.allowCustomEntity,this.disabled,this.label,e,this.value,this._notFoundLabel,this.hass.localize("ui.components.statistic-picker.no_statistics"),this._rowRenderer,this._getItems,this._getAdditionalItems,this.hideClearIcon,this._searchFn,this._valueRenderer,this.helper,F,this.hass.localize("ui.components.statistic-picker.unknown"),this._valueChanged)}},{key:"_valueChanged",value:function(t){t.stopPropagation();var e=t.detail.value;e!==V?(this.value=e,(0,x.r)(this,"value-changed",{value:e})):window.open((0,N.o)(this.hass,this.helpMissingEntityUrl),"_blank")}},{key:"open",value:(i=(0,_.A)((0,y.A)().m(function t(){var e;return(0,y.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.updateComplete;case 1:return t.n=2,null===(e=this._picker)||void 0===e?void 0:e.open();case 2:return t.a(2)}},t,this)})),function(){return i.apply(this,arguments)})}]);var i,A}(M.WF);(0,A.Cg)([(0,w.MZ)({attribute:!1})],R.prototype,"hass",void 0),(0,A.Cg)([(0,w.MZ)({type:Boolean})],R.prototype,"autofocus",void 0),(0,A.Cg)([(0,w.MZ)({type:Boolean})],R.prototype,"disabled",void 0),(0,A.Cg)([(0,w.MZ)({type:Boolean})],R.prototype,"required",void 0),(0,A.Cg)([(0,w.MZ)()],R.prototype,"label",void 0),(0,A.Cg)([(0,w.MZ)()],R.prototype,"value",void 0),(0,A.Cg)([(0,w.MZ)()],R.prototype,"helper",void 0),(0,A.Cg)([(0,w.MZ)()],R.prototype,"placeholder",void 0),(0,A.Cg)([(0,w.MZ)({attribute:"statistic-types"})],R.prototype,"statisticTypes",void 0),(0,A.Cg)([(0,w.MZ)({type:Boolean,attribute:"allow-custom-entity"})],R.prototype,"allowCustomEntity",void 0),(0,A.Cg)([(0,w.MZ)({attribute:!1,type:Array})],R.prototype,"statisticIds",void 0),(0,A.Cg)([(0,w.MZ)({attribute:!1})],R.prototype,"helpMissingEntityUrl",void 0),(0,A.Cg)([(0,w.MZ)({type:Array,attribute:"include-statistics-unit-of-measurement"})],R.prototype,"includeStatisticsUnitOfMeasurement",void 0),(0,A.Cg)([(0,w.MZ)({attribute:"include-unit-class"})],R.prototype,"includeUnitClass",void 0),(0,A.Cg)([(0,w.MZ)({attribute:"include-device-class"})],R.prototype,"includeDeviceClass",void 0),(0,A.Cg)([(0,w.MZ)({type:Boolean,attribute:"entities-only"})],R.prototype,"entitiesOnly",void 0),(0,A.Cg)([(0,w.MZ)({type:Array,attribute:"exclude-statistics"})],R.prototype,"excludeStatistics",void 0),(0,A.Cg)([(0,w.MZ)({attribute:"hide-clear-icon",type:Boolean})],R.prototype,"hideClearIcon",void 0),(0,A.Cg)([(0,w.P)("ha-generic-picker")],R.prototype,"_picker",void 0),R=(0,A.Cg)([(0,w.EM)("ha-statistic-picker")],R),e()}catch(D){e(D)}})},85614:function(t,e,i){i.d(e,{i:function(){return n}});var s=i(61397),a=i(50264),n=(i(23792),i(26099),i(3362),i(47764),i(62953),function(){var t=(0,a.A)((0,s.A)().m(function t(){return(0,s.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Promise.all([i.e("38085"),i.e("64391")]).then(i.bind(i,40772));case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}())}}]);
//# sourceMappingURL=13961.8bf000c5d76d26a2.js.map