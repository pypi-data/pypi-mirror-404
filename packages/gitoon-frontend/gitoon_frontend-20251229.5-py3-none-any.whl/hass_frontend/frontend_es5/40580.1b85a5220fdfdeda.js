"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["40580"],{98975:function(t,e,n){n.a(t,async function(t,a){try{n.d(e,{K:function(){return l}});var r=n(74487),i=n(22786),o=n(63927),s=t([r,o]);[r,o]=s.then?(await s)():s;var c=(0,i.A)(function(t){return new Intl.RelativeTimeFormat(t.language,{numeric:"auto"})}),l=function(t,e,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=(0,o.x)(t,n,e);return a?c(e).format(r.value,r.unit):Intl.NumberFormat(e.language,{style:"unit",unit:r.unit,unitDisplay:"long"}).format(Math.abs(r.value))};a()}catch(u){a(u)}})},68348:function(t,e,n){n.d(e,{u:function(){return a}});n(18111),n(13579),n(26099);var a=function(t){var e;if(t.some(function(t){return"tagName"in t&&("HA-MENU"===t.tagName||"HA-CODE-EDITOR"===t.tagName)}))return!1;var n=t[0];if("TEXTAREA"===n.tagName)return!1;if("HA-SELECT"===(null===(e=n.parentElement)||void 0===e?void 0:e.tagName))return!1;if("INPUT"!==n.tagName)return!0;switch(n.type){case"button":case"checkbox":case"hidden":case"radio":case"range":return!0;default:return!1}}},52943:function(t,e,n){n.d(e,{Z:function(){return a}});n(34782);var a=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},63927:function(t,e,n){n.a(t,async function(t,a){try{n.d(e,{x:function(){return f}});n(69085);var r=n(6946),i=n(52640),o=n(38684),s=n(380),c=t([s]);s=(c.then?(await c)():c)[0];var l=1e3,u=60,d=60*u;function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=Object.assign(Object.assign({},h),a||{}),v=(+t-+e)/l;if(Math.abs(v)<c.second)return{value:Math.round(v),unit:"second"};var f=v/u;if(Math.abs(f)<c.minute)return{value:Math.round(f),unit:"minute"};var p=v/d;if(Math.abs(p)<c.hour)return{value:Math.round(p),unit:"hour"};var g=new Date(t),y=new Date(e);g.setHours(0,0,0,0),y.setHours(0,0,0,0);var b=(0,r.c)(g,y);if(0===b)return{value:Math.round(p),unit:"hour"};if(Math.abs(b)<c.day)return{value:b,unit:"day"};var m=(0,s.P)(n),_=(0,i.k)(g,{weekStartsOn:m}),w=(0,i.k)(y,{weekStartsOn:m}),A=(0,o.I)(_,w);if(0===A)return{value:b,unit:"day"};if(Math.abs(A)<c.week)return{value:A,unit:"week"};var x=g.getFullYear()-y.getFullYear(),C=12*x+g.getMonth()-y.getMonth();return 0===C?{value:A,unit:"week"}:Math.abs(C)<c.month||0===x?{value:C,unit:"month"}:{value:Math.round(x),unit:"year"}}var h={second:59,minute:59,hour:22,day:5,week:4,month:11};a()}catch(v){a(v)}})},13513:function(t,e,n){var a,r,i=n(72153),o=n(44734),s=n(43080),c=n(69683),l=n(6454),u=(n(28706),n(2892),n(40445)),d=n(96196),h=n(77845),v=n(36240),f=function(t){function e(){var t;(0,o.A)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=(0,c.A)(this,e,[].concat(a))).min=0,t.max=100,t}return(0,l.A)(e,t),(0,s.A)(e,[{key:"render",value:function(){var t=(0,v.gN)((0,v.NN)((0,v.S8)(this.value,this.min,this.max),this.min,this.max));return(0,d.JW)(a||(a=(0,i.A)([' <svg> <g> <rect/> <rect width="','%"/> </g> </svg> '])),t)}}])}(d.WF);f.styles=(0,d.AH)(r||(r=(0,i.A)(["rect{height:100%}rect:first-child{width:100%;fill:var(--ha-bar-background-color,var(--secondary-background-color))}rect:last-child{fill:var(--ha-bar-primary-color,var(--primary-color))}svg{border-radius:var(--ha-bar-border-radius,var(--ha-border-radius-sm));height:12px;width:100%}"]))),(0,u.Cg)([(0,h.MZ)({type:Number})],f.prototype,"min",void 0),(0,u.Cg)([(0,h.MZ)({type:Number})],f.prototype,"max",void 0),(0,u.Cg)([(0,h.MZ)({type:Number})],f.prototype,"value",void 0),f=(0,u.Cg)([(0,h.EM)("ha-bar")],f)},27661:function(t,e,n){var a,r,i,o=n(72153),s=n(44734),c=n(43080),l=n(69683),u=n(25460),d=n(6454),h=n(40445),v=n(51978),f=n(94743),p=n(77845),g=n(96196),y=n(63091),b=function(t){function e(){return(0,s.A)(this,e),(0,l.A)(this,e,arguments)}return(0,d.A)(e,t),(0,c.A)(e,[{key:"firstUpdated",value:function(t){(0,u.A)(e,"firstUpdated",this,3)([t]),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}])}(v.n);b.styles=[f.R,(0,g.AH)(a||(a=(0,o.A)([":host{--mdc-typography-button-text-transform:none;--mdc-typography-button-font-size:var(--ha-font-size-l);--mdc-typography-button-font-family:var(--ha-font-family-body);--mdc-typography-button-font-weight:var(--ha-font-weight-medium)}:host .mdc-fab--extended{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab.mdc-fab--extended .ripple{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}"]))),"rtl"===y.G.document.dir?(0,g.AH)(r||(r=(0,o.A)([":host .mdc-fab--extended .mdc-fab__icon{direction:rtl}"]))):(0,g.AH)(i||(i=(0,o.A)([""])))],b=(0,h.Cg)([(0,p.EM)("ha-fab")],b)},98:function(t,e,n){var a,r,i=n(72153),o=n(44734),s=n(43080),c=n(69683),l=n(6454),u=(n(2892),n(40445)),d=n(96196),h=n(77845),v=n(94333),f=n(36240),p=(n(13513),n(8034),function(t){function e(){return(0,o.A)(this,e),(0,c.A)(this,e,arguments)}return(0,l.A)(e,t),(0,s.A)(e,[{key:"render",value:function(){var t,e=(0,f.gN)(this.value);return(0,d.qy)(a||(a=(0,i.A)([' <ha-settings-row> <span slot="heading"> ',' </span> <div slot="description" .title="','"> <span class="value"> <div>',' %</div> </span> <ha-bar class="','" .value="','"></ha-bar> </div> </ha-settings-row> '])),this.heading,null!==(t=this.tooltip)&&void 0!==t?t:"",e,(0,v.H)({"target-warning":e>50,"target-critical":e>85}),this.value)}}])}(d.WF));p.styles=(0,d.AH)(r||(r=(0,i.A)(["ha-settings-row{padding:0;height:54px;width:100%}ha-settings-row>div[slot=description]{white-space:normal;color:var(--secondary-text-color);display:flex;justify-content:space-between}ha-bar{--ha-bar-primary-color:var(--metric-bar-ok-color, var(--success-color))}.target-warning{--ha-bar-primary-color:var(\n        --metric-bar-warning-color,\n        var(--warning-color)\n      )}.target-critical{--ha-bar-primary-color:var(\n        --metric-bar-critical-color,\n        var(--error-color)\n      )}.value{width:48px;padding-right:4px;padding-inline-end:4px;padding-inline-start:initial;flex-shrink:0}.value>div{direction:ltr;text-align:var(--float-start)}"]))),(0,u.Cg)([(0,h.MZ)({type:Number})],p.prototype,"value",void 0),(0,u.Cg)([(0,h.MZ)({type:String})],p.prototype,"heading",void 0),(0,u.Cg)([(0,h.MZ)({type:String})],p.prototype,"tooltip",void 0),p=(0,u.Cg)([(0,h.EM)("ha-metric")],p)},36158:function(t,e,n){n.a(t,async function(t,e){try{var a=n(44734),r=n(43080),i=n(69683),o=n(6454),s=n(25460),c=(n(28706),n(40445)),l=n(25625),u=n(96196),d=n(77845),h=n(98975),v=n(52943),f=t([h]);h=(f.then?(await f)():f)[0];var p=function(t){function e(){var t;(0,a.A)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=(0,i.A)(this,e,[].concat(r))).capitalize=!1,t}return(0,o.A)(e,t),(0,r.A)(e,[{key:"disconnectedCallback",value:function(){(0,s.A)(e,"disconnectedCallback",this,3)([]),this._clearInterval()}},{key:"connectedCallback",value:function(){(0,s.A)(e,"connectedCallback",this,3)([]),this.datetime&&this._startInterval()}},{key:"createRenderRoot",value:function(){return this}},{key:"firstUpdated",value:function(t){(0,s.A)(e,"firstUpdated",this,3)([t]),this._updateRelative()}},{key:"update",value:function(t){(0,s.A)(e,"update",this,3)([t]),this._updateRelative()}},{key:"_clearInterval",value:function(){this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}},{key:"_startInterval",value:function(){var t=this;this._clearInterval(),this._interval=window.setInterval(function(){return t._updateRelative()},6e4)}},{key:"_updateRelative",value:function(){if(this.datetime){var t="string"==typeof this.datetime?(0,l.H)(this.datetime):this.datetime,e=(0,h.K)(t,this.hass.locale);this.innerHTML=this.capitalize?(0,v.Z)(e):e}else this.innerHTML=this.hass.localize("ui.components.relative_time.never")}}])}(u.mN);(0,c.Cg)([(0,d.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,c.Cg)([(0,d.MZ)({attribute:!1})],p.prototype,"datetime",void 0),(0,c.Cg)([(0,d.MZ)({type:Boolean})],p.prototype,"capitalize",void 0),p=(0,c.Cg)([(0,d.EM)("ha-relative-time")],p),e()}catch(g){e(g)}})},8034:function(t,e,n){var a,r,i=n(72153),o=n(44734),s=n(43080),c=n(69683),l=n(6454),u=(n(28706),n(40445)),d=n(96196),h=n(77845),v=function(t){function e(){var t;(0,o.A)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=(0,c.A)(this,e,[].concat(a))).narrow=!1,t.slim=!1,t.threeLine=!1,t.wrapHeading=!1,t}return(0,l.A)(e,t),(0,s.A)(e,[{key:"render",value:function(){return(0,d.qy)(a||(a=(0,i.A)([' <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="','" ?three-line="','"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> '])),!this.threeLine,this.threeLine)}}])}(d.WF);v.styles=(0,d.AH)(r||(r=(0,i.A)([":host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16px;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display,flex);flex-direction:var(--layout-vertical_-_flex-direction,column);justify-content:var(--layout-center-justified_-_justify-content,center);flex:var(--layout-flex_-_flex,1);flex-basis:var(--layout-flex_-_flex-basis,0.000000001px)}.body[three-line]{min-height:88px}:host(:not([wrap-heading])) body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(\n        --mdc-typography-body2-font-family,\n        var(--mdc-typography-font-family, var(--ha-font-family-body))\n      );font-size:var(--mdc-typography-body2-font-size, var(--ha-font-size-s));-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-weight:var(--mdc-typography-body2-font-weight,var(--ha-font-weight-normal));line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(72px - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;min-width:0;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}:host([slim]),:host([slim]) .content,:host([slim]) ::slotted(ha-switch){padding:0}:host([slim]) .body{min-height:0}"]))),(0,u.Cg)([(0,h.MZ)({type:Boolean,reflect:!0})],v.prototype,"narrow",void 0),(0,u.Cg)([(0,h.MZ)({type:Boolean,reflect:!0})],v.prototype,"slim",void 0),(0,u.Cg)([(0,h.MZ)({type:Boolean,attribute:"three-line"})],v.prototype,"threeLine",void 0),(0,u.Cg)([(0,h.MZ)({type:Boolean,attribute:"wrap-heading",reflect:!0})],v.prototype,"wrapHeading",void 0),v=(0,u.Cg)([(0,h.EM)("ha-settings-row")],v)},21030:function(t,e,n){n.d(e,{Ht:function(){return l},gO:function(){return u},mj:function(){return s},wj:function(){return d}});var a=n(7739),r=n(31432),i=(n(48980),n(44114),n(54554),n(69085),n(26099),n(3362),n(70570)),o=function(t,e){return t.subscribeMessage(function(t){var n=Object.assign({},e.state||{});if(t.add){var a,i=(0,r.A)(t.add);try{for(i.s();!(a=i.n()).done;){var o=a.value;n[o.source]=o}}catch(l){i.e(l)}finally{i.f()}}if(t.remove){var s,c=(0,r.A)(t.remove);try{for(c.s();!(s=c.n()).done;){delete n[s.value.source]}}catch(l){c.e(l)}finally{c.f()}}e.setState(n,!0)},{type:"bluetooth/subscribe_scanner_details"})},s=function(t,e){return(0,i.N)("_bluetoothScannerDetails",function(){return Promise.resolve({})},o,t,e)},c=function(t,e){return t.subscribeMessage(function(t){var n=(0,a.A)(e.state||[]);if(t.add){var i,o=(0,r.A)(t.add);try{var s=function(){var t=i.value,e=n.findIndex(function(e){return e.address===t.address});-1===e?n.push(t):n[e]=t};for(o.s();!(i=o.n()).done;)s()}catch(f){o.e(f)}finally{o.f()}}if(t.change){var c,l=(0,r.A)(t.change);try{var u=function(){var t=c.value,e=n.findIndex(function(e){return e.address===t.address});-1!==e&&(n[e]=t)};for(l.s();!(c=l.n()).done;)u()}catch(f){l.e(f)}finally{l.f()}}if(t.remove){var d,h=(0,r.A)(t.remove);try{var v=function(){var t=d.value,e=n.findIndex(function(e){return e.address===t.address});-1!==e&&n.splice(e,1)};for(h.s();!(d=h.n()).done;)v()}catch(f){h.e(f)}finally{h.f()}}e.setState(n,!0)},{type:"bluetooth/subscribe_advertisements"})},l=function(t,e){return(0,i.N)("_bluetoothDeviceRows",function(){return Promise.resolve([])},c,t,e)},u=function(t,e,n){var a={type:"bluetooth/subscribe_connection_allocations"};return n&&(a.config_entry_id=n),t.subscribeMessage(function(t){return e(t)},a)},d=function(t,e,n){var a={type:"bluetooth/subscribe_scanner_state"};return n&&(a.config_entry_id=n),t.subscribeMessage(function(t){return e(t)},a)}},10066:function(t,e,n){n.a(t,async function(t,a){try{n.r(e),n.d(e,{BluetoothConnectionMonitorPanel:function(){return k}});var r,i,o=n(61397),s=n(50264),c=n(31432),l=n(72153),u=n(44734),d=n(43080),h=n(69683),v=n(6454),f=n(25460),p=(n(28706),n(2008),n(50113),n(23792),n(62062),n(44114),n(18111),n(22489),n(20116),n(61701),n(69085),n(53921),n(26099),n(16034),n(40445)),g=n(96196),y=n(77845),b=n(22786),m=n(93905),_=(n(27661),n(26300),n(98),n(36158)),w=n(21030),A=n(72553),x=n(14503),C=t([_,A]);[_,A]=C.then?(await C)():C;var k=function(t){function e(){var t;(0,u.A)(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=(0,h.A)(this,e,[].concat(a))).narrow=!1,t.isWide=!1,t._data=[],t._scanners={},t._addressNames={},t._sourceDevices={},t._activeGrouping="source",t._activeCollapsed=[],t._connectionAllocationData={},t._columns=(0,b.A)(function(t){return{address:{title:t("ui.panel.config.bluetooth.address"),sortable:!0,filterable:!0,showNarrow:!0,main:!0,hideable:!1,moveable:!1,direction:"asc",flex:1},name:{title:t("ui.panel.config.bluetooth.name"),filterable:!0,sortable:!0},device:{title:t("ui.panel.config.bluetooth.device"),filterable:!0,sortable:!0,template:function(t){return(0,g.qy)(r||(r=(0,l.A)(["",""])),t.device||"-")}},source:{title:t("ui.panel.config.bluetooth.source"),filterable:!0,sortable:!0,groupable:!0},source_address:{title:t("ui.panel.config.bluetooth.source_address"),filterable:!0,sortable:!0,defaultHidden:!0}}}),t._dataWithNamedSourceAndIds=(0,b.A)(function(e){return e.map(function(e){var n=t._sourceDevices[e.address],a=t._sourceDevices[e.source],r=t._scanners[e.source],i=t._addressNames[e.address]||e.address;return Object.assign(Object.assign({},e),{},{id:e.address,name:i,source_address:e.source,source:(null==a?void 0:a.name_by_user)||(null==a?void 0:a.name)||(null==r?void 0:r.name)||e.source,device:(null==n?void 0:n.name_by_user)||(null==n?void 0:n.name)||void 0})})}),t}return(0,v.A)(e,t),(0,d.A)(e,[{key:"connectedCallback",value:function(){var t=this;if((0,f.A)(e,"connectedCallback",this,3)([]),this.hass){this._unsubScanners=(0,w.mj)(this.hass.connection,function(e){t._scanners=e}),this._unsub_advertisements=(0,w.Ht)(this.hass.connection,function(e){var n,a=(0,c.A)(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;t._addressNames[r.address]=r.name}}catch(i){a.e(i)}finally{a.f()}});var n=Object.values(this.hass.devices).filter(function(t){return t.connections.find(function(t){return"bluetooth"===t[0]})});this._sourceDevices=Object.fromEntries(n.map(function(t){return[t.connections.find(function(t){return"bluetooth"===t[0]})[1],t]})),this._subscribeBluetoothConnectionAllocations()}}},{key:"_subscribeBluetoothConnectionAllocations",value:(n=(0,s.A)((0,o.A)().m(function t(){var e=this;return(0,o.A)().w(function(t){for(;;)switch(t.n){case 0:if(!this._unsubConnectionAllocations){t.n=1;break}return t.a(2);case 1:return t.n=2,(0,w.gO)(this.hass.connection,function(t){var n,a=(0,c.A)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;e._connectionAllocationData[r.source]=r}}catch(v){a.e(v)}finally{a.f()}for(var i=[],o=0,s=Object.values(e._connectionAllocationData);o<s.length;o++){var l,u=s[o],d=(0,c.A)(u.allocated);try{for(d.s();!(l=d.n()).done;){var h=l.value;i.push({address:h,source:u.source})}}catch(v){d.e(v)}finally{d.f()}}e._data=i});case 2:this._unsubConnectionAllocations=t.v;case 3:return t.a(2)}},t,this)})),function(){return n.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){(0,f.A)(e,"disconnectedCallback",this,3)([]),this._unsub_advertisements&&(this._unsub_advertisements(),this._unsub_advertisements=void 0),this._unsubConnectionAllocations&&(this._unsubConnectionAllocations(),this._unsubConnectionAllocations=void 0),this._unsubScanners&&(this._unsubScanners(),this._unsubScanners=void 0)}},{key:"render",value:function(){return(0,g.qy)(i||(i=(0,l.A)([' <hass-tabs-subpage-data-table .hass="','" .narrow="','" .route="','" .columns="','" .data="','" .initialGroupColumn="','" .initialCollapsedGroups="','" .noDataText="','" @grouping-changed="','" @collapsed-changed="','"></hass-tabs-subpage-data-table> '])),this.hass,this.narrow,this.route,this._columns(this.hass.localize),this._dataWithNamedSourceAndIds(this._data),this._activeGrouping,this._activeCollapsed,this.hass.localize("ui.panel.config.bluetooth.no_connections"),this._handleGroupingChanged,this._handleCollapseChanged)}},{key:"_handleGroupingChanged",value:function(t){this._activeGrouping=t.detail.value}},{key:"_handleCollapseChanged",value:function(t){this._activeCollapsed=t.detail.value}}]);var n}(g.WF);k.styles=x.RF,(0,p.Cg)([(0,y.MZ)({attribute:!1})],k.prototype,"hass",void 0),(0,p.Cg)([(0,y.MZ)({attribute:!1})],k.prototype,"route",void 0),(0,p.Cg)([(0,y.MZ)({type:Boolean})],k.prototype,"narrow",void 0),(0,p.Cg)([(0,y.MZ)({attribute:"is-wide",type:Boolean})],k.prototype,"isWide",void 0),(0,p.Cg)([(0,y.wk)()],k.prototype,"_data",void 0),(0,p.Cg)([(0,y.wk)()],k.prototype,"_scanners",void 0),(0,p.Cg)([(0,y.wk)()],k.prototype,"_addressNames",void 0),(0,p.Cg)([(0,y.wk)()],k.prototype,"_sourceDevices",void 0),(0,p.Cg)([(0,m.I)({key:"bluetooth-connection-table-grouping",state:!1,subscribe:!1})],k.prototype,"_activeGrouping",void 0),(0,p.Cg)([(0,m.I)({key:"bluetooth-connection-table-collapsed",state:!1,subscribe:!1})],k.prototype,"_activeCollapsed",void 0),(0,p.Cg)([(0,y.wk)()],k.prototype,"_connectionAllocationData",void 0),k=(0,p.Cg)([(0,y.EM)("bluetooth-connection-monitor")],k),a()}catch(M){a(M)}})},36240:function(t,e,n){n.d(e,{NN:function(){return r},S8:function(){return a},gN:function(){return i}});var a=function(t,e,n){return isNaN(t)||isNaN(e)||isNaN(n)?0:t>n?n:t<e?e:t},r=function(t,e,n){return 100*(t-e)/(n-e)},i=function(t){return Math.round(10*t)/10}}}]);
//# sourceMappingURL=40580.1b85a5220fdfdeda.js.map