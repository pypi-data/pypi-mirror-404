"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["11844"],{7466:function(e,t,r){r.a(e,async function(e,a){try{r.r(t),r.d(t,{CloudForgotPasswordCard:function(){return C}});var o,n,s,i,l=r(72153),c=r(61397),d=r(50264),u=r(44734),h=r(43080),p=r(75864),y=r(69683),g=r(6454),f=(r(28706),r(40445)),v=r(96196),w=r(77845),_=r(1087),m=r(89300),k=(r(38962),r(76776),r(75709),r(14503)),P=r(71117),b=r(79007),A=e([m]);m=(A.then?(await A)():A)[0];var C=function(e){function t(){var e;(0,u.A)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=(0,y.A)(this,t,[].concat(a))).translationKeyPanel="config.cloud.forgot_password",e.cardLess=!1,e._inProgress=!1,e._resetPassword=function(){var t=(0,d.A)((0,c.A)().m(function t(r){var a;return(0,c.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e._inProgress=!0,t.p=1,!e.hass){t.n=3;break}return t.n=2,(0,P.Ut)(e.hass,r);case 2:t.n=4;break;case 3:return t.n=4,(0,b.zN)(r);case 4:(0,_.r)((0,p.A)(e),"cloud-email-changed",{value:r}),e._inProgress=!1,(0,_.r)((0,p.A)(e),"cloud-done",{flashMessage:e.localize("ui.panel.".concat(e.translationKeyPanel,".check_your_email"))}),t.n=8;break;case 5:if(t.p=5,a=t.v,e._inProgress=!1,"usernotfound"!==(a&&a.body&&a.body.code)||r===r.toLowerCase()){t.n=7;break}return t.n=6,e._resetPassword(r.toLowerCase());case 6:t.n=8;break;case 7:e._error=a&&a.body&&a.body.message?a.body.message:"Unknown error";case 8:return t.a(2)}},t,null,[[1,5]])}));return function(e){return t.apply(this,arguments)}}(),e}return(0,g.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){return this.cardLess?this._renderContent():(0,v.qy)(o||(o=(0,l.A)([' <ha-card outlined .header="','"> '," </ha-card> "])),this.localize("ui.panel.".concat(this.translationKeyPanel,".subtitle")),this._renderContent())}},{key:"_renderContent",value:function(){var e;return(0,v.qy)(n||(n=(0,l.A)([' <div class="card-content"> <p> '," </p> ",' <ha-textfield autofocus id="email" label="','" .value="','" type="email" required .disabled="','" @keydown="','" .validationMessage="','"></ha-textfield> </div> <div class="card-actions"> <ha-progress-button @click="','" .progress="','"> '," </ha-progress-button> </div> "])),this.localize("ui.panel.".concat(this.translationKeyPanel,".instructions")),this._error?(0,v.qy)(s||(s=(0,l.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):v.s6,this.localize("ui.panel.".concat(this.translationKeyPanel,".email")),null!==(e=this.email)&&void 0!==e?e:"",this._inProgress,this._keyDown,this.localize("ui.panel.".concat(this.translationKeyPanel,".email_error_msg")),this._handleEmailPasswordReset,this._inProgress,this.localize("ui.panel.".concat(this.translationKeyPanel,".send_reset_email")))}},{key:"_keyDown",value:function(e){"Enter"===e.key&&this._handleEmailPasswordReset()}},{key:"_handleEmailPasswordReset",value:(r=(0,d.A)((0,c.A)().m(function e(){var t,r;return(0,c.A)().w(function(e){for(;;)switch(e.n){case 0:if(t=this.emailField,r=t.value,t.reportValidity()){e.n=1;break}return t.focus(),e.a(2);case 1:this._inProgress=!0,this._resetPassword(r);case 2:return e.a(2)}},e,this)})),function(){return r.apply(this,arguments)})}],[{key:"styles",get:function(){return[k.RF,(0,v.AH)(i||(i=(0,l.A)(["ha-card{max-width:600px;margin:0 auto;margin-top:24px}h1{margin:0}ha-textfield{width:100%}.card-actions{display:flex;justify-content:flex-end;align-items:center}"])))]}}]);var r}(v.WF);(0,f.Cg)([(0,w.MZ)({attribute:!1})],C.prototype,"hass",void 0),(0,f.Cg)([(0,w.MZ)({attribute:!1})],C.prototype,"localize",void 0),(0,f.Cg)([(0,w.MZ)({attribute:"translation-key-panel"})],C.prototype,"translationKeyPanel",void 0),(0,f.Cg)([(0,w.MZ)()],C.prototype,"email",void 0),(0,f.Cg)([(0,w.MZ)({type:Boolean,attribute:"card-less"})],C.prototype,"cardLess",void 0),(0,f.Cg)([(0,w.wk)()],C.prototype,"_inProgress",void 0),(0,f.Cg)([(0,w.wk)()],C.prototype,"_error",void 0),(0,f.Cg)([(0,w.P)("#email",!0)],C.prototype,"emailField",void 0),C=(0,f.Cg)([(0,w.EM)("cloud-forgot-password-card")],C),a()}catch(M){a(M)}})},92949:function(e,t,r){r.a(e,async function(e,a){try{r.r(t),r.d(t,{CloudForgotPassword:function(){return v}});var o,n,s=r(72153),i=r(44734),l=r(43080),c=r(69683),d=r(6454),u=(r(28706),r(40445)),h=r(96196),p=r(77845),y=r(7466),g=(r(81310),r(14503)),f=e([y]);y=(f.then?(await f)():f)[0];var v=function(e){function t(){var e;(0,i.A)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=(0,c.A)(this,t,[].concat(a))).narrow=!1,e._requestInProgress=!1,e}return(0,d.A)(t,e),(0,l.A)(t,[{key:"render",value:function(){return(0,h.qy)(o||(o=(0,s.A)([' <hass-subpage .hass="','" .narrow="','" .header="','"> <div class="content"> <cloud-forgot-password-card .hass="','" .localize="','" .email="','"></cloud-forgot-password-card> </div> </hass-subpage> '])),this.hass,this.narrow,this.hass.localize("ui.panel.config.cloud.forgot_password.title"),this.hass,this.hass.localize,this.email)}}],[{key:"styles",get:function(){return[g.RF,(0,h.AH)(n||(n=(0,s.A)([".content{padding-bottom:24px}"])))]}}])}(h.WF);(0,u.Cg)([(0,p.MZ)({attribute:!1})],v.prototype,"hass",void 0),(0,u.Cg)([(0,p.MZ)({type:Boolean})],v.prototype,"narrow",void 0),(0,u.Cg)([(0,p.MZ)()],v.prototype,"email",void 0),(0,u.Cg)([(0,p.wk)()],v.prototype,"_requestInProgress",void 0),v=(0,u.Cg)([(0,p.EM)("cloud-forgot-password")],v),a()}catch(w){a(w)}})}}]);
//# sourceMappingURL=11844.d5c83d080e1de933.js.map