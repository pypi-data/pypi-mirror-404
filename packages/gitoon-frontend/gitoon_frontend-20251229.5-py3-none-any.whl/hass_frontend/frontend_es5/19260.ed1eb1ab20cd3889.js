"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["19260"],{29961:function(t,e,i){i.a(t,async function(t,o){try{i.d(e,{n:function(){return l}});var r=i(72487),n=i(30162),a=t([r,n]);function l(t,e,i,o){var a=o/60/24,s=new Date(t);if(a>88)return 0===s.getMonth()?"{bold|".concat((0,r.fr)(s,e,i),"}"):(0,r.Wq)(s,e,i);if(a>35)return 1===s.getDate()?"{bold|".concat((0,r.sl)(s,e,i),"}"):(0,r.sl)(s,e,i);if(a>7){var l=(0,r.sl)(s,e,i);return 1===s.getDate()?"{bold|".concat(l,"}"):l}return a>2?(0,r.gu)(s,e,i):o&&o<5?(0,n.ie)(s,e,i):0===s.getHours()&&0===s.getMinutes()&&0===s.getSeconds()?"{bold|".concat((0,r.sl)(s,e,i),"}"):(0,n.fU)(s,e,i)}[r,n]=a.then?(await a)():a,o()}catch(s){o(s)}})},44439:function(t,e,i){i.a(t,async function(t,o){try{i.d(e,{p:function(){return W}});var r,n,a,s,l,d,c=i(78261),h=i(7739),u=i(47075),p=i(61397),v=i(50264),g=i(72153),m=i(44734),y=i(43080),f=i(75864),x=i(69683),_=i(6454),b=i(25460),w=(i(28706),i(2008),i(50113),i(23792),i(62062),i(44114),i(72712),i(34782),i(18111),i(22489),i(20116),i(7588),i(61701),i(18237),i(13579),i(64601),i(69085),i(5506),i(79432),i(26099),i(3362),i(31415),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(47764),i(23500),i(62953),i(40445)),k=i(88696),C=i(56261),A=i(6116),P=i(96196),L=i(77845),Z=i(94333),O=i(6415),S=i(44537),V=i(90433),D=i(1087),M=i(71769),z=i(38911),T=i(41570),j=(i(34296),i(26300),i(75428)),F=i(29961),E=i(34218),R=t([k,F]);[k,F]=R.then?(await R)():R;var W=3e5,B=function(t){function e(){var t;(0,m.A)(this,e);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=(0,x.A)(this,e,[].concat(o))).data=[],t._isZoomed=!1,t._zoomRatio=1,t._minutesDifference=1440,t._hiddenDatasets=new Set,t._modifierPressed=!1,t._isTouchDevice="ontouchstart"in window,t._shouldResizeChart=!1,t._resizeController=new k.P((0,f.A)(t),{callback:function(){t.chart&&(t.chart.getZr().animation.isFinished()?t.chart.resize():t._shouldResizeChart=!0)}}),t._loading=!1,t._reducedMotion=!1,t._listeners=[],t._formatTimeLabel=function(e){return(0,F.n)(e,t.hass.locale,t.hass.config,t._minutesDifference*t._zoomRatio)},t._handleClickZoom=function(e){if(t.chart){var i=t._isZoomed?[0,100]:[e.offsetX/t.chart.getWidth()*100-15,e.offsetX/t.chart.getWidth()*100+15];t.chart.dispatchAction({type:"dataZoom",start:i[0],end:i[1]})}},t._handleChartRenderFinished=function(){var e;t._shouldResizeChart&&(null===(e=t.chart)||void 0===e||e.resize({animation:t._reducedMotion||"number"!=typeof t._resizeAnimationDuration?void 0:{duration:t._resizeAnimationDuration}}),t._shouldResizeChart=!1,t._resizeAnimationDuration=void 0)},t}return(0,_.A)(e,t),(0,y.A)(e,[{key:"disconnectedCallback",value:function(){var t;for((0,b.A)(e,"disconnectedCallback",this,3)([]);this._listeners.length;)this._listeners.pop()();null===(t=this.chart)||void 0===t||t.dispose(),this.chart=void 0,this._originalZrFlush=void 0}},{key:"connectedCallback",value:function(){var t,i=this;if((0,b.A)(e,"connectedCallback",this,3)([]),this.hasUpdated&&this._setupChart(),this._listeners.push((0,M.m)("(prefers-reduced-motion)",function(t){i._reducedMotion!==t&&(i._reducedMotion=t,i._setChartOptions({animation:!i._reducedMotion}))})),null===(t=this.options)||void 0===t||!t.dataZoom){var o=function(t){var e,o;!i._modifierPressed&&(T.c&&"Meta"===t.key||!T.c&&"Control"===t.key)&&(i._modifierPressed=!0,null!==(e=i.options)&&void 0!==e&&e.dataZoom||i._setChartOptions({dataZoom:i._getDataZoomConfig()}),null===(o=i.chart)||void 0===o||o.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}))},r=function(t){var e,o;i._modifierPressed&&(T.c&&"Meta"===t.key||!T.c&&"Control"===t.key)&&(i._modifierPressed=!1,null!==(e=i.options)&&void 0!==e&&e.dataZoom||i._setChartOptions({dataZoom:i._getDataZoomConfig()}),null===(o=i.chart)||void 0===o||o.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!1}))};window.addEventListener("keydown",o),window.addEventListener("keyup",r),this._listeners.push(function(){return window.removeEventListener("keydown",o)},function(){return window.removeEventListener("keyup",r)})}}},{key:"firstUpdated",value:function(){this.isConnected&&this._setupChart()}},{key:"willUpdate",value:function(t){if(this.chart)if(t.has("_themes")&&this.hasUpdated)this._setupChart();else{var e={};t.has("options")&&this._updateHiddenStatsFromOptions(this.options),(t.has("data")||t.has("_hiddenDatasets"))&&(e.series=this._getSeries()),t.has("options")?(e=Object.assign(Object.assign({},e),this._createOptions()),this._compareCustomLegendOptions(t.get("options"),this.options)&&(this._shouldResizeChart=!0,this._resizeAnimationDuration=250)):this._isTouchDevice&&t.has("_isZoomed")&&(e.dataZoom=this._getDataZoomConfig()),Object.keys(e).length>0&&this._setChartOptions(e)}}},{key:"render",value:function(){return(0,P.qy)(r||(r=(0,g.A)([' <div class="container ','" style="','"> <div class="chart-container" style="','"> <div class="chart"></div> </div> ',' <div class="chart-controls ','"> ',' <slot name="button"></slot> </div> </div> '])),(0,Z.H)({"has-height":!!this.height}),(0,O.W)({height:this.height}),(0,O.W)({height:this.height?void 0:"".concat(this._getDefaultHeight(),"px")}),this._renderLegend(),(0,Z.H)({small:this.smallControls}),this._isZoomed&&!this.hideResetButton?(0,P.qy)(n||(n=(0,g.A)(['<ha-icon-button class="zoom-reset" .path="','" @click="','" title="','"></ha-icon-button>'])),"M12,4C14.1,4 16.1,4.8 17.6,6.3C20.7,9.4 20.7,14.5 17.6,17.6C15.8,19.5 13.3,20.2 10.9,19.9L11.4,17.9C13.1,18.1 14.9,17.5 16.2,16.2C18.5,13.9 18.5,10.1 16.2,7.7C15.1,6.6 13.5,6 12,6V10.6L7,5.6L12,0.6V4M6.3,17.6C3.7,15 3.3,11 5.1,7.9L6.6,9.4C5.5,11.6 5.9,14.4 7.8,16.2C8.3,16.7 8.9,17.1 9.6,17.4L9,19.4C8,19 7.1,18.4 6.3,17.6Z",this._handleZoomReset,this.hass.localize("ui.components.history_charts.zoom_reset")):P.s6)}},{key:"_renderLegend",value:function(){var t,e=this;if(null===(t=this.options)||void 0===t||!t.legend||!this.data)return P.s6;var i=(0,S.e)(this.options.legend).find(function(t){return t.show&&"custom"===t.type});if(!i)return P.s6;var o=(0,S.e)(this.data),r=i.data||o.filter(function(t){var e;return(null===(e=t.data)||void 0===e?void 0:e.length)&&(t.id||t.name)}).map(function(t){return{id:t.id,name:t.name}}),n=window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches?6:10;return(0,P.qy)(a||(a=(0,g.A)(['<div class="','"> <ul> '," "," </ul> </div>"])),(0,Z.H)({"chart-legend":!0,"multiple-items":r.length>1}),r.map(function(t,i){var r,a,l;if(!e.expandLegend&&i>=n)return P.s6;var d,c,h,u={},p="",v="";"string"==typeof t?(p=t,v=t):(p=null!==(d=t.name)&&void 0!==d?d:"",v=null!==(c=t.id)&&void 0!==c?c:p,u=null!==(h=t.itemStyle)&&void 0!==h?h:{});var m=null!==(r=o.find(function(t){return t.id===v}))&&void 0!==r?r:o.find(function(t){return t.name===v}),y=null===(a=u=Object.assign(Object.assign({color:null==m?void 0:m.color},null==m?void 0:m.itemStyle),u))||void 0===a?void 0:a.color,f=null===(l=u)||void 0===l?void 0:l.borderColor;return(0,P.qy)(s||(s=(0,g.A)(['<li .id="','" @click="','" class="','" .title="','"> <div class="bullet" style="','"></div> <div class="label">',"</div> </li>"])),v,e._legendClick,(0,Z.H)({hidden:e._hiddenDatasets.has(v)}),p,(0,O.W)({backgroundColor:y,borderColor:f||y}),p)}),r.length>n?(0,P.qy)(l||(l=(0,g.A)(['<li> <ha-assist-chip @click="','" filled label="','"> <ha-svg-icon slot="trailing-icon" .path="','"></ha-svg-icon> </ha-assist-chip> </li>'])),this._toggleExpandedLegend,this.expandLegend?this.hass.localize("ui.components.history_charts.collapse_legend"):"".concat(this.hass.localize("ui.components.history_charts.expand_legend")," (").concat(r.length-n,")"),this.expandLegend?"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z":"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"):P.s6)}},{key:"_setupChart",value:(o=(0,v.A)((0,p.A)().m(function t(){var e,o,r,n,a,s,l,d,c=this;return(0,p.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!this._loading){t.n=1;break}return t.a(2);case 1:return e=this.renderRoot.querySelector(".chart"),this._loading=!0,t.p=2,this.chart&&this.chart.dispose(),t.n=3,Promise.all([i.e("49021"),i.e("37552"),i.e("54671"),i.e("50383"),i.e("1872"),i.e("9970"),i.e("11159"),i.e("56459")]).then(i.bind(i,71578));case 3:n=t.v.default,null!==(o=this.extraComponents)&&void 0!==o&&o.length&&n.use(this.extraComponents),a=getComputedStyle(this),n.registerTheme("custom",this._createTheme(a)),this.chart=n.init(e,"custom"),this.chart.on("datazoom",function(t){c._handleDataZoomEvent(t)}),this.chart.on("click",function(t){(0,D.r)(c,"chart-click",t)}),null!==(r=this.options)&&void 0!==r&&r.dataZoom||this.chart.getZr().on("dblclick",this._handleClickZoom),this.chart.on("finished",this._handleChartRenderFinished),this._isTouchDevice&&(this.chart.getZr().on("click",function(t){t.zrByTouch&&(c._lastTapTime&&Date.now()-c._lastTapTime<300?c._handleClickZoom(t):c._lastTapTime=Date.now())}),s=!1,this.chart.on("showTip",function(t){var e,i,o;l=t.x,d=t.y,null===(e=c.chart)||void 0===e||e.setOption({xAxis:(0,S.e)(null!==(i=null===(o=c.chart)||void 0===o?void 0:o.getOption().xAxis)&&void 0!==i?i:[]).map(function(t){var e;return t.show?Object.assign(Object.assign({},t),{},{axisPointer:Object.assign(Object.assign({},t.axisPointer),{},{status:"show",handle:Object.assign(Object.assign({color:a.getPropertyValue("--primary-color"),margin:0,size:20},null===(e=t.axisPointer)||void 0===e?void 0:e.handle),{},{show:!0}),label:{show:!1}})}):t})})}),this.chart.on("hideTip",function(t){if(t.from){var e,i,o,r;if(s)return void(s=!1);null===(e=c.chart)||void 0===e||e.setOption({xAxis:(0,S.e)(null!==(i=null===(o=c.chart)||void 0===o?void 0:o.getOption().xAxis)&&void 0!==i?i:[]).map(function(t){var e;return t.show?Object.assign(Object.assign({},t),{},{axisPointer:Object.assign(Object.assign({},t.axisPointer),{},{handle:Object.assign(Object.assign({},null===(e=t.axisPointer)||void 0===e?void 0:e.handle),{},{show:!1}),status:"hide"})}):t})}),null===(r=c.chart)||void 0===r||r.dispatchAction({type:"downplay"})}else if(null!=l&&null!=d){var n;s=!0,null===(n=c.chart)||void 0===n||n.dispatchAction({type:"showTip",x:l,y:d})}})),this._updateHiddenStatsFromOptions(this.options),this.chart.setOption(Object.assign(Object.assign({},this._createOptions()),{},{series:this._getSeries()}));case 4:return t.p=4,this._loading=!1,t.f(4);case 5:return t.a(2)}},t,this,[[2,,4,5]])})),function(){return o.apply(this,arguments)})},{key:"_getAllIdsFromLegend",value:function(t,e){var i,o;if(!t)return[e];var r,n,a=(0,S.e)((null===(i=this.options)||void 0===i?void 0:i.legend)||[])[0];"custom"===(null==a?void 0:a.type)&&(r=null===(n=a.data)||void 0===n?void 0:n.find(function(t){return"object"===(0,u.A)(t)&&t.id===e}));return[e].concat((0,h.A)((null===(o=r)||void 0===o?void 0:o.secondaryIds)||[]))}},{key:"_updateHiddenStatsFromOptions",value:function(t){var e,i=this;if(t){var o=(0,S.e)((null===(e=this.options)||void 0===e?void 0:e.legend)||[])[0];Object.entries((null==o?void 0:o.selected)||{}).forEach(function(e){var o=(0,c.A)(e,2),r=o[0];!1===o[1]&&i._getAllIdsFromLegend(t,r).forEach(function(t){return i._hiddenDatasets.add(t)})}),this.requestUpdate("_hiddenDatasets")}}},{key:"_getDataZoomConfig",value:function(){var t,e,i,o,r,n,a=null!==(t=null===(e=this.options)||void 0===e||null===(e=e.xAxis)||void 0===e?void 0:e[0])&&void 0!==t?t:null===(i=this.options)||void 0===i?void 0:i.xAxis,s=null!==(o=null===(r=this.options)||void 0===r||null===(r=r.yAxis)||void 0===r?void 0:r[0])&&void 0!==o?o:null===(n=this.options)||void 0===n?void 0:n.yAxis;if("value"!==(null==a?void 0:a.type)||"category"!==(null==s?void 0:s.type))return{id:"dataZoom",type:"inside",orient:"horizontal",filterMode:"none",xAxisIndex:0,moveOnMouseMove:!this._isTouchDevice||this._isZoomed,preventDefaultMouseMove:!this._isTouchDevice||this._isZoomed,zoomLock:!this._isTouchDevice&&!this._modifierPressed}}},{key:"_createOptions",value:function(){var t,e,i,o=this,r=null===(t=this.options)||void 0===t?void 0:t.xAxis;r&&(r=(r=Array.isArray(r)?r:[r]).map(function(t){if("time"!==t.type||!1===t.show)return t;t.min&&(o._minutesDifference=(0,A.o)(t.max||new Date,t.min));var e,i=o._minutesDifference/60/24;return i&&(e=i>=89?24192e5:i>2?864e5:void 0),Object.assign(Object.assign({axisLine:{show:!1},splitLine:{show:!0}},t),{},{axisLabel:Object.assign({formatter:o._formatTimeLabel,rich:{bold:{fontWeight:"bold"}},hideOverlap:!0},t.axisLabel),minInterval:e})}));var n=null===(e=this.options)||void 0===e?void 0:e.legend;n&&(n=(0,S.e)(n).map(function(t){return"custom"===t.type?{show:!1}:t}));var a=Object.assign(Object.assign({animation:!this._reducedMotion,animationDuration:500,darkMode:null!==(i=this._themes.darkMode)&&void 0!==i&&i,aria:{show:!0},dataZoom:this._getDataZoomConfig(),toolbox:{top:Number.MAX_SAFE_INTEGER,left:Number.MAX_SAFE_INTEGER,feature:{dataZoom:{show:!0,yAxisIndex:!1,filterMode:"none",showTitle:!1}},iconStyle:{opacity:0}}},this.options),{},{legend:n,xAxis:r});if(window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches&&a.tooltip){var s=Array.isArray(a.tooltip)?a.tooltip:[a.tooltip];s.forEach(function(t){t.confine=!0,t.appendTo=void 0,t.triggerOn="click"}),a.tooltip=s}return a}},{key:"_createTheme",value:function(t){var e=t.getPropertyValue("--ha-card-background")||t.getPropertyValue("--card-background-color");return{color:(0,V.ux)(t),backgroundColor:"transparent",textStyle:{color:t.getPropertyValue("--primary-text-color"),fontFamily:"Roboto, Noto, sans-serif"},title:{textStyle:{color:t.getPropertyValue("--primary-text-color")},subtextStyle:{color:t.getPropertyValue("--secondary-text-color")}},line:{lineStyle:{width:1.5},symbolSize:1,symbol:"circle",smooth:!1},bar:{itemStyle:{barBorderWidth:1.5}},graph:{label:{color:t.getPropertyValue("--primary-text-color"),textBorderColor:e,textBorderWidth:2}},pie:{label:{color:t.getPropertyValue("--primary-text-color"),textBorderColor:e,textBorderWidth:2}},sankey:{label:{color:t.getPropertyValue("--primary-text-color"),textBorderColor:e,textBorderWidth:2}},categoryAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!0,color:t.getPropertyValue("--primary-text-color")},splitLine:{show:!1,lineStyle:{color:t.getPropertyValue("--divider-color")}},splitArea:{show:!1,areaStyle:{color:[t.getPropertyValue("--divider-color")+"3F",t.getPropertyValue("--divider-color")+"7F"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:t.getPropertyValue("--divider-color")}},axisTick:{show:!0,lineStyle:{color:t.getPropertyValue("--divider-color")}},axisLabel:{show:!0,color:t.getPropertyValue("--primary-text-color")},splitLine:{show:!0,lineStyle:{color:t.getPropertyValue("--divider-color")}},splitArea:{show:!1,areaStyle:{color:[t.getPropertyValue("--divider-color")+"3F",t.getPropertyValue("--divider-color")+"7F"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:t.getPropertyValue("--divider-color")}},axisTick:{show:!0,lineStyle:{color:t.getPropertyValue("--divider-color")}},axisLabel:{show:!0,color:t.getPropertyValue("--primary-text-color")},splitLine:{show:!0,lineStyle:{color:t.getPropertyValue("--divider-color")}},splitArea:{show:!1,areaStyle:{color:[t.getPropertyValue("--divider-color")+"3F",t.getPropertyValue("--divider-color")+"7F"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:t.getPropertyValue("--divider-color")}},axisTick:{show:!0,lineStyle:{color:t.getPropertyValue("--divider-color")}},axisLabel:{show:!0,color:t.getPropertyValue("--primary-text-color")},splitLine:{show:!0,lineStyle:{color:t.getPropertyValue("--divider-color")}},splitArea:{show:!1,areaStyle:{color:[t.getPropertyValue("--divider-color")+"3F",t.getPropertyValue("--divider-color")+"7F"]}}},legend:{textStyle:{color:t.getPropertyValue("--primary-text-color")},inactiveColor:t.getPropertyValue("--disabled-text-color"),pageIconColor:t.getPropertyValue("--primary-text-color"),pageIconInactiveColor:t.getPropertyValue("--disabled-text-color"),pageTextStyle:{color:t.getPropertyValue("--secondary-text-color")}},tooltip:{backgroundColor:t.getPropertyValue("--card-background-color"),borderColor:t.getPropertyValue("--divider-color"),textStyle:{color:t.getPropertyValue("--primary-text-color"),fontSize:12},axisPointer:{lineStyle:{color:t.getPropertyValue("--info-color")},crossStyle:{color:t.getPropertyValue("--info-color")}},extraCssText:"direction:"+t.getPropertyValue("--direction")+";margin-inline-start:3px;margin-inline-end:8px;"},timeline:{}}}},{key:"_getSeries",value:function(){var t,e,i,o,r,n,a=this,s=null!==(t=null===(e=this.options)||void 0===e||null===(e=e.xAxis)||void 0===e?void 0:e[0])&&void 0!==t?t:null===(i=this.options)||void 0===i?void 0:i.xAxis,l=null!==(o=null===(r=this.options)||void 0===r||null===(r=r.yAxis)||void 0===r?void 0:r[0])&&void 0!==o?o:null===(n=this.options)||void 0===n?void 0:n.yAxis;return(0,S.e)(this.data).map(function(t){var e,i,o,r=a._hiddenDatasets.has(String(null!==(e=t.id)&&void 0!==e?e:t.name))?void 0:t.data;if(r&&"line"===t.type){if("log"===(null==l?void 0:l.type))return Object.assign(Object.assign({},t),{},{data:r.map(function(t){return Array.isArray(t)?[t[0],"number"!=typeof t[1]||t[1]>0?t[1]:null].concat((0,h.A)(t.slice(2))):t})});if("minmax"===t.sampling){var n=null!=s&&s.min&&"number"==typeof s.min?s.min:void 0,d=null!=s&&s.max&&"number"==typeof s.max?s.max:void 0;return Object.assign(Object.assign({},t),{},{sampling:void 0,data:(0,E.P)(r,a.clientWidth*window.devicePixelRatio,n,d)})}}var c=(0,j.D)(String(null!==(i=null!==(o=t.name)&&void 0!==o?o:t.id)&&void 0!==i?i:""));return Object.assign(Object.assign({},t),{},{name:c,data:r})})}},{key:"_getDefaultHeight",value:function(){return Math.max(this.clientWidth/2,200)}},{key:"_setChartOptions",value:function(t){var e=this;if(this.chart){if(!this._originalZrFlush)if((0,S.e)(this.data).reduce(function(t,e){return t+(e.data||[]).length},0)>1e4){var i=this.chart.getZr();this._originalZrFlush=i.flush,i.flush=function(){setTimeout(function(){var t;null===(t=e._originalZrFlush)||void 0===t||t.call(i)},5)}}var o=t.series?["series"]:[];this.chart.setOption(t,{replaceMerge:o})}}},{key:"zoom",value:function(t,e){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null===(i=this.chart)||void 0===i||i.dispatchAction({type:"dataZoom",start:t,end:e,silent:o})}},{key:"_handleZoomReset",value:function(){var t;null===(t=this.chart)||void 0===t||t.dispatchAction({type:"dataZoom",start:0,end:100})}},{key:"_handleDataZoomEvent",value:function(t){var e,i,o,r=null!==(e=null===(i=t.batch)||void 0===i?void 0:i[0])&&void 0!==e?e:t,n="number"==typeof r.start?r.start:0,a="number"==typeof r.end?r.end:100;if(0===n&&100===a&&void 0!==r.startValue&&void 0!==r.endValue){var s,l,d=this.chart.getOption(),c=null!==(s=null===(l=d.xAxis)||void 0===l?void 0:l[0])&&void 0!==s?s:d.xAxis;if(null!=c&&c.min&&null!=c&&c.max){var h=new Date(c.min).getTime(),u=new Date(c.max).getTime()-h;n=Math.max(0,Math.min(100,(r.startValue-h)/u*100)),a=Math.max(0,Math.min(100,(r.endValue-h)/u*100))}}(this._isZoomed=0!==n||100!==a,this._zoomRatio=(a-n)/100,this._isTouchDevice)&&(null===(o=this.chart)||void 0===o||o.dispatchAction({type:"hideTip",from:"datazoom"}));(0,D.r)(this,"chart-zoom",{start:n,end:a})}},{key:"_legendClick",value:function(t){var e,i=this;if(this.chart){var o=null===(e=t.currentTarget)||void 0===e?void 0:e.id;this._hiddenDatasets.has(o)?(this._getAllIdsFromLegend(this.options,o).forEach(function(t){return i._hiddenDatasets.delete(t)}),(0,D.r)(this,"dataset-unhidden",{id:o})):(this._getAllIdsFromLegend(this.options,o).forEach(function(t){return i._hiddenDatasets.add(t)}),(0,D.r)(this,"dataset-hidden",{id:o})),this.requestUpdate("_hiddenDatasets")}}},{key:"_toggleExpandedLegend",value:function(){var t=this;this.expandLegend=!this.expandLegend,setTimeout(function(){var e;null===(e=t.chart)||void 0===e||e.resize()})}},{key:"_compareCustomLegendOptions",value:function(t,e){var i=(0,S.e)((null==t?void 0:t.legend)||[]),o=(0,S.e)((null==e?void 0:e.legend)||[]);return i.some(function(t){return t.show&&"custom"===t.type})!==o.some(function(t){return t.show&&"custom"===t.type})}}]);var o}(P.WF);B.styles=(0,P.AH)(d||(d=(0,g.A)([":host{display:block;position:relative;letter-spacing:normal}.container{display:flex;flex-direction:column;position:relative}.container.has-height{max-height:var(--chart-max-height,350px)}.chart-container{width:100%;max-height:var(--chart-max-height,350px)}.has-height .chart-container{flex:1}.chart{height:100%;width:100%}.chart-controls{position:absolute;top:16px;right:4px;display:flex;flex-direction:column;gap:var(--ha-space-1)}.chart-controls.small{top:0;flex-direction:row}.chart-controls ::slotted(ha-icon-button),.chart-controls ha-icon-button{background:var(--card-background-color);border-radius:var(--ha-border-radius-sm);--mdc-icon-button-size:32px;color:var(--primary-color);border:1px solid var(--divider-color)}.chart-controls.small ::slotted(ha-icon-button),.chart-controls.small ha-icon-button{--mdc-icon-button-size:22px;--mdc-icon-size:16px}.chart-controls ::slotted(ha-icon-button.inactive),.chart-controls ha-icon-button.inactive{color:var(--state-inactive-color)}.chart-legend{max-height:60%;overflow-y:auto;padding:12px 0 0;font-size:var(--ha-font-size-s);color:var(--primary-text-color)}.chart-legend ul{margin:0;padding:0;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:var(--ha-space-2)}.chart-legend li{height:24px;cursor:pointer;display:inline-flex;align-items:center;padding:0 2px;box-sizing:border-box;overflow:hidden}.chart-legend.multiple-items li{max-width:220px}.chart-legend .hidden{color:var(--secondary-text-color)}.chart-legend .label{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .bullet{border-width:1px;border-style:solid;border-radius:var(--ha-border-radius-circle);display:block;height:16px;width:16px;margin-right:4px;flex-shrink:0;box-sizing:border-box;margin-inline-end:4px;margin-inline-start:initial;direction:var(--direction)}.chart-legend .hidden .bullet{border-color:var(--secondary-text-color)!important;background-color:transparent!important}ha-assist-chip{height:100%;--_label-text-weight:500;--_leading-space:8px;--_trailing-space:8px;--_icon-label-space:4px}"]))),(0,w.Cg)([(0,L.MZ)({attribute:!1})],B.prototype,"hass",void 0),(0,w.Cg)([(0,L.MZ)({attribute:!1})],B.prototype,"data",void 0),(0,w.Cg)([(0,L.MZ)({attribute:!1})],B.prototype,"options",void 0),(0,w.Cg)([(0,L.MZ)({type:String})],B.prototype,"height",void 0),(0,w.Cg)([(0,L.MZ)({attribute:"expand-legend",type:Boolean})],B.prototype,"expandLegend",void 0),(0,w.Cg)([(0,L.MZ)({attribute:"small-controls",type:Boolean})],B.prototype,"smallControls",void 0),(0,w.Cg)([(0,L.MZ)({attribute:"hide-reset-button",type:Boolean})],B.prototype,"hideResetButton",void 0),(0,w.Cg)([(0,L.wk)(),(0,C.Fg)({context:z.qL,subscribe:!0})],B.prototype,"_themes",void 0),(0,w.Cg)([(0,L.wk)()],B.prototype,"_isZoomed",void 0),(0,w.Cg)([(0,L.wk)()],B.prototype,"_zoomRatio",void 0),(0,w.Cg)([(0,L.wk)()],B.prototype,"_minutesDifference",void 0),(0,w.Cg)([(0,L.wk)()],B.prototype,"_hiddenDatasets",void 0),B=(0,w.Cg)([(0,L.EM)("ha-chart-base")],B),o()}catch(I){o(I)}})},41570:function(t,e,i){i.d(e,{c:function(){return o}});i(27495),i(90906);var o=/Mac/i.test(navigator.userAgent)}}]);
//# sourceMappingURL=19260.ed1eb1ab20cd3889.js.map