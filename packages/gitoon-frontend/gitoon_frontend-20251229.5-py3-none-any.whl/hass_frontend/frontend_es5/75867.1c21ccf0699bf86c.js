"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["75867"],{27571:function(s,t,e){e.a(s,async function(s,t){try{var a,i,o=e(72153),n=e(44734),l=e(43080),c=e(69683),r=e(6454),p=(e(28706),e(40445)),d=e(96196),h=e(77845),_=(e(67094),e(34127)),u=s([_]);_=(u.then?(await u)():u)[0];var v=function(s){function t(){var s;(0,n.A)(this,t);for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(s=(0,c.A)(this,t,[].concat(a))).position="top",s}return(0,r.A)(t,s),(0,l.A)(t,[{key:"render",value:function(){return(0,d.qy)(a||(a=(0,o.A)([' <ha-svg-icon id="svg-icon" .path="','"></ha-svg-icon> <ha-tooltip for="svg-icon" .placement="','"> '," </ha-tooltip> "])),"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",this.position,this.label)}}])}(d.WF);v.styles=(0,d.AH)(i||(i=(0,o.A)(["ha-svg-icon{--mdc-icon-size:var(--ha-help-tooltip-size, 14px);color:var(--ha-help-tooltip-color,var(--disabled-text-color))}"]))),(0,p.Cg)([(0,h.MZ)()],v.prototype,"label",void 0),(0,p.Cg)([(0,h.MZ)()],v.prototype,"position",void 0),v=(0,p.Cg)([(0,h.EM)("ha-help-tooltip")],v),t()}catch(g){t(g)}})},69814:function(s,t,e){e.a(s,async function(s,a){try{e.r(t);var i,o,n,l,c,r,p,d,h,_,u,v,g=e(78261),f=e(72153),m=e(44734),w=e(43080),b=e(69683),z=e(6454),y=(e(28706),e(74423),e(62062),e(18111),e(7588),e(61701),e(69085),e(5506),e(26099),e(16034),e(38781),e(21699),e(23500),e(40445)),j=e(96196),A=e(77845),S=e(1087),k=e(79),x=e(72554),D=(e(11382),e(27571)),C=(e(8630),e(28732),e(67094),e(44927)),N=e(72001),I=e(14503),R=s([D]);D=(R.then?(await R)():R)[0];var q=function(s){function t(){var s;(0,m.A)(this,t);for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(s=(0,b.A)(this,t,[].concat(a)))._deviceIDsToName={},s._workingRoutes={},s}return(0,z.A)(t,s),(0,w.A)(t,[{key:"showDialog",value:function(s){this.device=s.device,this._subscribeDeviceRegistry(),this._subscribeNodeStatistics()}},{key:"closeDialog",value:function(){this._nodeStatistics=void 0,this.device=void 0,this._unsubscribe(),(0,S.r)(this,"dialog-closed",{dialog:this.localName})}},{key:"render",value:function(){var s,t,e,a,h,_,u,v=this;return this.device?(0,j.qy)(i||(i=(0,f.A)([' <ha-dialog open @closed="','" .heading="','"> <ha-list noninteractive> <ha-list-item twoline hasmeta> <span> ','</span> <span slot="secondary"> ',' </span> <span slot="meta">',"</span> </ha-list-item> <ha-list-item twoline hasmeta> <span> ",'</span> <span slot="secondary"> ',' </span> <span slot="meta">',"</span> </ha-list-item> <ha-list-item twoline hasmeta> <span> ",'</span> <span slot="secondary"> ',' </span> <span slot="meta">',"</span> </ha-list-item> <ha-list-item twoline hasmeta> <span> ",'</span> <span slot="secondary"> ',' </span> <span slot="meta">',"</span> </ha-list-item> <ha-list-item twoline hasmeta> <span> ",'</span> <span slot="secondary"> ',' </span> <span slot="meta">',"</span> </ha-list-item> "," "," </ha-list> "," </ha-dialog> "])),this.closeDialog,(0,x.l)(this.hass,this.hass.localize("ui.panel.config.zwave_js.node_statistics.title")),this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_tx.label"),this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_tx.tooltip"),null===(s=this._nodeStatistics)||void 0===s?void 0:s.commands_tx,this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_rx.label"),this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_rx.tooltip"),null===(t=this._nodeStatistics)||void 0===t?void 0:t.commands_rx,this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_dropped_tx.label"),this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_dropped_tx.tooltip"),null===(e=this._nodeStatistics)||void 0===e?void 0:e.commands_dropped_tx,this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_dropped_rx.label"),this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_dropped_rx.tooltip"),null===(a=this._nodeStatistics)||void 0===a?void 0:a.commands_dropped_rx,this.hass.localize("ui.panel.config.zwave_js.node_statistics.timeout_response.label"),this.hass.localize("ui.panel.config.zwave_js.node_statistics.timeout_response.tooltip"),null===(h=this._nodeStatistics)||void 0===h?void 0:h.timeout_response,null!==(_=this._nodeStatistics)&&void 0!==_&&_.rtt?(0,j.qy)(o||(o=(0,f.A)(["<ha-list-item twoline hasmeta> <span> ",'</span> <span slot="secondary"> ',' </span> <span slot="meta">',"</span> </ha-list-item>"])),this.hass.localize("ui.panel.config.zwave_js.node_statistics.rtt.label"),this.hass.localize("ui.panel.config.zwave_js.node_statistics.rtt.tooltip"),this._nodeStatistics.rtt):"",null!==(u=this._nodeStatistics)&&void 0!==u&&u.rssi_translated?(0,j.qy)(n||(n=(0,f.A)(["<ha-list-item twoline hasmeta> <span> ",'</span> <span slot="secondary"> ',' </span> <span slot="meta">',"</span> </ha-list-item>"])),this.hass.localize("ui.panel.config.zwave_js.node_statistics.rssi.label"),this.hass.localize("ui.panel.config.zwave_js.node_statistics.rssi.tooltip"),this._nodeStatistics.rssi_translated):"",Object.entries(this._workingRoutes).map(function(s){var t=(0,g.A)(s,2),e=t[0],a=t[1];return a?(0,j.qy)(l||(l=(0,f.A)([' <ha-expansion-panel .header="','"> <div class="row"> <span> ','<ha-help-tooltip .label="','"> </ha-help-tooltip></span> <span>','</span> </div> <div class="row"> <span> ','<ha-help-tooltip .label="','"> </ha-help-tooltip></span> <span>',"</span> </div> ",' <div class="row"> <span> ','<ha-help-tooltip .label="','"> </ha-help-tooltip></span> <span> ',' </span> </div> <div class="row"> <span> ','<ha-help-tooltip .label="','"> </ha-help-tooltip></span><span> ',"</span> </div> </ha-expansion-panel> "])),v.hass.localize("ui.panel.config.zwave_js.node_statistics.".concat(e)),v.hass.localize("ui.panel.config.zwave_js.route_statistics.protocol.label"),v.hass.localize("ui.panel.config.zwave_js.route_statistics.protocol.tooltip"),v.hass.localize("ui.panel.config.zwave_js.route_statistics.protocol.protocol_data_rate.".concat(N.dZ[a.protocol_data_rate])),v.hass.localize("ui.panel.config.zwave_js.route_statistics.data_rate.label"),v.hass.localize("ui.panel.config.zwave_js.route_statistics.data_rate.tooltip"),v.hass.localize("ui.panel.config.zwave_js.route_statistics.data_rate.protocol_data_rate.".concat(N.dZ[a.protocol_data_rate])),a.rssi_translated?(0,j.qy)(c||(c=(0,f.A)(['<div class="row"> <span> ','<ha-help-tooltip .label="','"> </ha-help-tooltip></span> <span>',"</span> </div>"])),v.hass.localize("ui.panel.config.zwave_js.route_statistics.rssi.label"),v.hass.localize("ui.panel.config.zwave_js.route_statistics.rssi.tooltip"),a.rssi_translated):"",v.hass.localize("ui.panel.config.zwave_js.route_statistics.route_failed_between.label"),v.hass.localize("ui.panel.config.zwave_js.route_statistics.route_failed_between.tooltip"),a.route_failed_between_translated?(0,j.qy)(r||(r=(0,f.A)(["",'<ha-svg-icon .path="','"></ha-svg-icon>',""])),a.route_failed_between_translated[0],"M21,9L17,5V8H10V10H17V13M7,11L3,15L7,19V16H14V14H7V11Z",a.route_failed_between_translated[1]):v.hass.localize("ui.panel.config.zwave_js.route_statistics.route_failed_between.not_applicable"),v.hass.localize("ui.panel.config.zwave_js.route_statistics.repeaters.label"),v.hass.localize("ui.panel.config.zwave_js.route_statistics.repeaters.tooltip"),a.repeater_rssi_table?(0,j.qy)(p||(p=(0,f.A)(['<div class="row"> <span class="key-cell"><b>',':</b></span> <span class="value-cell"><b>',":</b></span> </div> ",""])),v.hass.localize("ui.panel.config.zwave_js.route_statistics.repeaters.repeaters"),v.hass.localize("ui.panel.config.zwave_js.route_statistics.repeaters.rssi"),a.repeater_rssi_table):(0,j.qy)(d||(d=(0,f.A)(["",""])),v.hass.localize("ui.panel.config.zwave_js.route_statistics.repeaters.direct"))):""})):j.s6}},{key:"_computeRSSI",value:function(s,t){return Object.values(N.au).includes(s)?(0,j.qy)(h||(h=(0,f.A)(['<ha-help-tooltip .label="','"></ha-help-tooltip>'])),this.hass.localize("ui.panel.config.zwave_js.rssi.rssi_error.".concat(N.au[s]))):t?"".concat(s,"\n      ").concat(this.hass.localize("ui.panel.config.zwave_js.rssi.unit")):s.toString()}},{key:"_computeDeviceNameById",value:function(s){return this._deviceIDsToName&&this._deviceIDsToName[s]&&this._deviceIDsToName[s]||"unknown device"}},{key:"_subscribeNodeStatistics",value:function(){var s=this;this.hass&&(this._subscribedNodeStatistics=(0,N.jF)(this.hass,this.device.id,function(t){var e,a;s._nodeStatistics=Object.assign(Object.assign({},t),{},{rssi_translated:t.rssi?s._computeRSSI(t.rssi,!1):void 0});var i=[["lwr",null===(e=s._nodeStatistics)||void 0===e?void 0:e.lwr],["nlwr",null===(a=s._nodeStatistics)||void 0===a?void 0:a.nlwr]],o={};i.forEach(function(t){var e=(0,g.A)(t,2),a=e[0],i=e[1];o[a]=i,i&&(i.rssi&&(i.rssi_translated=s._computeRSSI(i.rssi,!0)),i.route_failed_between&&(i.route_failed_between_translated=[s._computeDeviceNameById(i.route_failed_between[0]),s._computeDeviceNameById(i.route_failed_between[1])]),i.repeaters&&i.repeaters.length&&(i.repeater_rssi_table=(0,j.qy)(_||(_=(0,f.A)(["",""])),i.repeaters.map(function(t,e){return(0,j.qy)(u||(u=(0,f.A)(['<div class="row"> <span class="key-cell">',':</span> <span class="value-cell">',"</span> </div>"])),s._computeDeviceNameById(i.repeaters[e]),s._computeRSSI(i.repeater_rssi[e],!0))}))))}),s._workingRoutes=o}))}},{key:"_subscribeDeviceRegistry",value:function(){var s=this;this.hass&&(this._subscribedDeviceRegistry=(0,C.Ag)(this.hass.connection,function(t){var e={};t.forEach(function(t){e[t.id]=(0,k.T)(t,s.hass)}),s._deviceIDsToName=e}))}},{key:"_unsubscribe",value:function(){this._subscribedNodeStatistics&&(this._subscribedNodeStatistics.then(function(s){return s()}),this._subscribedNodeStatistics=void 0),this._subscribedDeviceRegistry&&(this._subscribedDeviceRegistry(),this._subscribedDeviceRegistry=void 0)}}],[{key:"styles",get:function(){return[I.nA,(0,j.AH)(v||(v=(0,f.A)(["ha-list-item{height:60px}.row{display:flex;justify-content:space-between}.table{display:table}.key-cell{display:table-cell;padding-right:5px;padding-inline-end:5px;padding-inline-start:initial}.value-cell{display:table-cell;padding-left:5px;padding-inline-start:5px;padding-inline-end:initial}span[slot=meta]{font-size:.95em;color:var(--primary-text-color)}"])))]}}])}(j.WF);(0,y.Cg)([(0,A.MZ)({attribute:!1})],q.prototype,"hass",void 0),(0,y.Cg)([(0,A.wk)()],q.prototype,"device",void 0),(0,y.Cg)([(0,A.wk)()],q.prototype,"_nodeStatistics",void 0),(0,y.Cg)([(0,A.wk)()],q.prototype,"_deviceIDsToName",void 0),(0,y.Cg)([(0,A.wk)()],q.prototype,"_workingRoutes",void 0),q=(0,y.Cg)([(0,A.EM)("dialog-zwave_js-node-statistics")],q),a()}catch(H){a(H)}})}}]);
//# sourceMappingURL=75867.1c21ccf0699bf86c.js.map