"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["88435"],{18198:function(e,t,i){i.d(t,{Dc:function(){return h},Si:function(){return p}});var n,r,o=i(72153),a=i(44734),l=i(43080),s=i(69683),d=i(6454),c=i(40445),u=i(96196),f=i(77845),p=(i(88945),i(67094),function(e){switch(e.level){case 0:return"M11,10H13V16H11V10M22,12H19V20H5V12H2L12,3L22,12M15,10A2,2 0 0,0 13,8H11A2,2 0 0,0 9,10V16A2,2 0 0,0 11,18H13A2,2 0 0,0 15,16V10Z";case 1:return"M12,3L2,12H5V20H19V12H22L12,3M10,8H14V18H12V10H10V8Z";case 2:return"M12,3L2,12H5V20H19V12H22L12,3M9,8H13A2,2 0 0,1 15,10V12A2,2 0 0,1 13,14H11V16H15V18H9V14A2,2 0 0,1 11,12H13V10H9V8Z";case 3:return"M12,3L22,12H19V20H5V12H2L12,3M15,11.5V10C15,8.89 14.1,8 13,8H9V10H13V12H11V14H13V16H9V18H13A2,2 0 0,0 15,16V14.5A1.5,1.5 0 0,0 13.5,13A1.5,1.5 0 0,0 15,11.5Z";case-1:return"M12,3L2,12H5V20H19V12H22L12,3M11,15H7V13H11V15M15,18H13V10H11V8H15V18Z"}return"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"}),h=function(e){switch(e.level){case 0:return"mdi:home-floor-0";case 1:return"mdi:home-floor-1";case 2:return"mdi:home-floor-2";case 3:return"mdi:home-floor-3";case-1:return"mdi:home-floor-negative-1"}return"mdi:home"},v=function(e){function t(){return(0,a.A)(this,t),(0,s.A)(this,t,arguments)}return(0,d.A)(t,e),(0,l.A)(t,[{key:"render",value:function(){if(!this.floor)return u.s6;if(this.floor.icon)return(0,u.qy)(n||(n=(0,o.A)(['<ha-icon .icon="','"></ha-icon>'])),this.floor.icon);var e=p(this.floor);return(0,u.qy)(r||(r=(0,o.A)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),e)}}])}(u.WF);(0,c.Cg)([(0,f.MZ)({attribute:!1})],v.prototype,"floor",void 0),(0,c.Cg)([(0,f.MZ)()],v.prototype,"icon",void 0),v=(0,c.Cg)([(0,f.EM)("ha-floor-icon")],v)},7089:function(e,t,i){i.a(e,async function(e,t){try{var n,r,o,a,l,s,d,c=i(61397),u=i(50264),f=i(72153),p=i(44734),h=i(43080),v=i(69683),g=i(6454),m=(i(28706),i(2008),i(74423),i(62062),i(18111),i(81148),i(22489),i(7588),i(61701),i(13579),i(26099),i(16034),i(21699),i(11392),i(23500),i(40445)),_=i(96196),x=i(77845),y=i(22786),b=i(1087),A=i(71727),H=i(55931),V=i(21489),k=i(44927),w=i(32250),M=i(65063),C=i(27986),Z=(i(75064),i(18198),i(38508)),L=(i(26300),i(67094),e([Z]));Z=(L.then?(await L)():L)[0];var S="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",F="___ADD_NEW___",q=[{name:"search_labels.floorName",weight:10},{name:"search_labels.aliases",weight:8},{name:"search_labels.floor_id",weight:3}],E=function(e){function t(){var e;(0,p.A)(this,t);for(var i=arguments.length,d=new Array(i),c=0;c<i;c++)d[c]=arguments[c];return(e=(0,v.A)(this,t,[].concat(d))).noAdd=!1,e.disabled=!1,e.required=!1,e._computeValueRenderer=(0,y.A)(function(t){return function(t){var i=e.hass.floors[t];if(!i)return(0,_.qy)(n||(n=(0,f.A)([' <ha-svg-icon slot="start" .path="','"></ha-svg-icon> <span slot="headline">',"</span> "])),"M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z",i);var o=i?(0,H.X)(i):void 0;return(0,_.qy)(r||(r=(0,f.A)([' <ha-floor-icon slot="start" .floor="','"></ha-floor-icon> <span slot="headline">',"</span> "])),i,o)}}),e._getFloors=(0,y.A)(function(t,i,n,r,o,a,l,s,d,c){var u,f,p=Object.values(t),h=Object.values(i),v=Object.values(n),g=Object.values(r),m={};(o||a||l||s||d)&&(m=(0,k.g2)(g),u=v,f=g.filter(function(e){return e.area_id}),o&&(u=u.filter(function(e){var t=m[e.id];return!(!t||!t.length)&&m[e.id].some(function(e){return o.includes((0,A.m)(e.entity_id))})}),f=f.filter(function(e){return o.includes((0,A.m)(e.entity_id))})),a&&(u=u.filter(function(e){var t=m[e.id];return!t||!t.length||g.every(function(e){return!a.includes((0,A.m)(e.entity_id))})}),f=f.filter(function(e){return!a.includes((0,A.m)(e.entity_id))})),l&&(u=u.filter(function(t){var i=m[t.id];return!(!i||!i.length)&&m[t.id].some(function(t){var i=e.hass.states[t.entity_id];return!!i&&(i.attributes.device_class&&l.includes(i.attributes.device_class))})}),f=f.filter(function(t){var i=e.hass.states[t.entity_id];return i.attributes.device_class&&l.includes(i.attributes.device_class)})),s&&(u=u.filter(function(e){return s(e)})),d&&(u=u.filter(function(t){var i=m[t.id];return!(!i||!i.length)&&m[t.id].some(function(t){var i=e.hass.states[t.entity_id];return!!i&&d(i)})}),f=f.filter(function(t){var i=e.hass.states[t.entity_id];return!!i&&d(i)})));var _,x=p;if(u&&(_=u.filter(function(e){return e.area_id}).map(function(e){return e.area_id})),f&&(_=(null!=_?_:[]).concat(f.filter(function(e){return e.area_id}).map(function(e){return e.area_id}))),_){var y=(0,w._o)(h);x=x.filter(function(e){var t;return null===(t=y[e.floor_id])||void 0===t?void 0:t.some(function(e){return _.includes(e.area_id)})})}return c&&(x=x.filter(function(e){return!c.includes(e.floor_id)})),x.map(function(e){var t=(0,H.X)(e);return{id:e.floor_id,primary:t,floor:e,search_labels:{floorName:t,floor_id:e.floor_id,aliases:e.aliases.join(" ")}}})}),e._rowRenderer=function(e){return(0,_.qy)(o||(o=(0,f.A)([' <ha-combo-box-item type="button" compact="compact"> ',' <span slot="headline">',"</span> </ha-combo-box-item> "])),e.icon_path?(0,_.qy)(a||(a=(0,f.A)([' <ha-svg-icon slot="start" style="margin:0 4px" .path="','"></ha-svg-icon> '])),e.icon_path):(0,_.qy)(l||(l=(0,f.A)([' <ha-floor-icon slot="start" .floor="','" style="margin:0 4px"></ha-floor-icon> '])),e.floor),e.primary)},e._getItems=function(){return e._getFloors(e.hass.floors,e.hass.areas,e.hass.devices,e.hass.entities,e.includeDomains,e.excludeDomains,e.includeDeviceClasses,e.deviceFilter,e.entityFilter,e.excludeFloors)},e._allFloorNames=(0,y.A)(function(e){return Object.values(e).map(function(e){var t;return null===(t=(0,H.X)(e))||void 0===t?void 0:t.toLowerCase()}).filter(Boolean)}),e._getAdditionalItems=function(t){if(e.noAdd)return[];var i=e._allFloorNames(e.hass.floors);return t&&!i.includes(t.toLowerCase())?[{id:F+t,primary:e.hass.localize("ui.components.floor-picker.add_new_sugestion",{name:t}),icon_path:S}]:[{id:F,primary:e.hass.localize("ui.components.floor-picker.add_new"),icon_path:S}]},e._notFoundLabel=function(t){return e.hass.localize("ui.components.floor-picker.no_match",{term:(0,_.qy)(s||(s=(0,f.A)(["<b>‘","’</b>"])),t)})},e}return(0,g.A)(t,e),(0,h.A)(t,[{key:"open",value:(i=(0,u.A)((0,c.A)().m(function e(){var t;return(0,c.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this._picker)||void 0===t?void 0:t.open();case 2:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"render",value:function(){var e,t=null!==(e=this.placeholder)&&void 0!==e?e:this.hass.localize("ui.components.floor-picker.floor"),i=this._computeValueRenderer(this.hass.floors);return(0,_.qy)(d||(d=(0,f.A)([' <ha-generic-picker .hass="','" .autofocus="','" .disabled="','" .label="','" .helper="','" .placeholder="','" .notFoundLabel="','" .emptyLabel="','" .value="','" .getItems="','" .getAdditionalItems="','" .valueRenderer="','" .rowRenderer="','" .searchKeys="','" .unknownItemText="','" @value-changed="','"> </ha-generic-picker> '])),this.hass,this.autofocus,this.disabled,this.label,this.helper,t,this._notFoundLabel,this.hass.localize("ui.components.floor-picker.no_floors"),this.value,this._getItems,this._getAdditionalItems,i,this._rowRenderer,q,this.hass.localize("ui.components.floor-picker.unknown"),this._valueChanged)}},{key:"_valueChanged",value:function(e){var t=this;e.stopPropagation();var i=e.detail.value;if(i)if(i.startsWith(F)){this.hass.loadFragmentTranslation("config");var n=i.substring(13);(0,C.k)(this,{suggestedName:n,createEntry:(r=(0,u.A)((0,c.A)().m(function e(i,n){var r,o;return(0,c.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,w.KD)(t.hass,i);case 1:r=e.v,n.forEach(function(e){(0,V.gs)(t.hass,e,{floor_id:r.floor_id})}),t._setValue(r.floor_id),e.n=3;break;case 2:e.p=2,o=e.v,(0,M.showAlertDialog)(t,{title:t.hass.localize("ui.components.floor-picker.failed_create_floor"),text:o.message});case 3:return e.a(2)}},e,null,[[0,2]])})),function(e,t){return r.apply(this,arguments)})})}else{var r;this._setValue(i)}else this._setValue(void 0)}},{key:"_setValue",value:function(e){this.value=e,(0,b.r)(this,"value-changed",{value:e}),(0,b.r)(this,"change")}}]);var i}(_.WF);(0,m.Cg)([(0,x.MZ)({attribute:!1})],E.prototype,"hass",void 0),(0,m.Cg)([(0,x.MZ)()],E.prototype,"label",void 0),(0,m.Cg)([(0,x.MZ)()],E.prototype,"value",void 0),(0,m.Cg)([(0,x.MZ)()],E.prototype,"helper",void 0),(0,m.Cg)([(0,x.MZ)()],E.prototype,"placeholder",void 0),(0,m.Cg)([(0,x.MZ)({type:Boolean,attribute:"no-add"})],E.prototype,"noAdd",void 0),(0,m.Cg)([(0,x.MZ)({type:Array,attribute:"include-domains"})],E.prototype,"includeDomains",void 0),(0,m.Cg)([(0,x.MZ)({type:Array,attribute:"exclude-domains"})],E.prototype,"excludeDomains",void 0),(0,m.Cg)([(0,x.MZ)({type:Array,attribute:"include-device-classes"})],E.prototype,"includeDeviceClasses",void 0),(0,m.Cg)([(0,x.MZ)({type:Array,attribute:"exclude-floors"})],E.prototype,"excludeFloors",void 0),(0,m.Cg)([(0,x.MZ)({attribute:!1})],E.prototype,"deviceFilter",void 0),(0,m.Cg)([(0,x.MZ)({attribute:!1})],E.prototype,"entityFilter",void 0),(0,m.Cg)([(0,x.MZ)({type:Boolean})],E.prototype,"disabled",void 0),(0,m.Cg)([(0,x.MZ)({type:Boolean})],E.prototype,"required",void 0),(0,m.Cg)([(0,x.P)("ha-generic-picker")],E.prototype,"_picker",void 0),E=(0,m.Cg)([(0,x.EM)("ha-floor-picker")],E),t()}catch(D){t(D)}})},75709:function(e,t,i){i.d(t,{h:function(){return x}});var n,r,o,a,l=i(72153),s=i(44734),d=i(43080),c=i(69683),u=i(6454),f=i(25460),p=(i(28706),i(40445)),h=i(68846),v=i(92347),g=i(96196),m=i(77845),_=i(63091),x=function(e){function t(){var e;(0,s.A)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=(0,c.A)(this,t,[].concat(n))).icon=!1,e.iconTrailing=!1,e.autocorrect=!0,e}return(0,u.A)(t,e),(0,d.A)(t,[{key:"updated",value:function(e){(0,f.A)(t,"updated",this,3)([e]),(e.has("invalid")||e.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||this.validationMessage||"Invalid":""),(this.invalid||this.validateOnInitialRender||e.has("invalid")&&void 0!==e.get("invalid"))&&this.reportValidity()),e.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),e.has("autocorrect")&&(!1===this.autocorrect?this.formElement.setAttribute("autocorrect","off"):this.formElement.removeAttribute("autocorrect")),e.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{key:"renderIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t?"trailing":"leading";return(0,g.qy)(n||(n=(0,l.A)([' <span class="mdc-text-field__icon mdc-text-field__icon--','" tabindex="','"> <slot name="','Icon"></slot> </span> '])),i,t?1:-1,i)}}])}(h.J);x.styles=[v.R,(0,g.AH)(r||(r=(0,l.A)([".mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:ltr}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){max-width:calc(100% - 16px)}.mdc-floating-label--float-above{max-width:calc((100% - 16px)/ .75);transition:none}input{text-align:var(--text-field-text-align,start)}input[type=color]{height:20px}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=color]::-webkit-color-swatch-wrapper{padding:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{padding-inline-end:16px;padding-inline-start:initial;inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start);box-sizing:border-box;text-overflow:ellipsis}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px);padding-inline-end:var(--text-field-prefix-padding-right,2px);padding-inline-start:initial}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}#helper-text ha-markdown{display:inline-block}"]))),"rtl"===_.G.document.dir?(0,g.AH)(o||(o=(0,l.A)([".mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl;--direction:rtl}"]))):(0,g.AH)(a||(a=(0,l.A)([""])))],(0,p.Cg)([(0,m.MZ)({type:Boolean})],x.prototype,"invalid",void 0),(0,p.Cg)([(0,m.MZ)({attribute:"error-message"})],x.prototype,"errorMessage",void 0),(0,p.Cg)([(0,m.MZ)({type:Boolean})],x.prototype,"icon",void 0),(0,p.Cg)([(0,m.MZ)({type:Boolean})],x.prototype,"iconTrailing",void 0),(0,p.Cg)([(0,m.MZ)()],x.prototype,"autocomplete",void 0),(0,p.Cg)([(0,m.MZ)({type:Boolean})],x.prototype,"autocorrect",void 0),(0,p.Cg)([(0,m.MZ)({attribute:"input-spellcheck"})],x.prototype,"inputSpellcheck",void 0),(0,p.Cg)([(0,m.P)("input")],x.prototype,"formElement",void 0),x=(0,p.Cg)([(0,m.EM)("ha-textfield")],x)},32250:function(e,t,i){i.d(t,{KD:function(){return r},NL:function(){return o},Rj:function(){return l},_o:function(){return s},ls:function(){return a}});var n=i(31432),r=(i(44114),i(69085),function(e,t){return e.callWS(Object.assign({type:"config/floor_registry/create"},t))}),o=function(e,t,i){return e.callWS(Object.assign({type:"config/floor_registry/update",floor_id:t},i))},a=function(e,t){return e.callWS({type:"config/floor_registry/delete",floor_id:t})},l=function(e,t){return e.callWS({type:"config/floor_registry/reorder",floor_ids:t})},s=function(e){var t,i={},r=(0,n.A)(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.floor_id&&(o.floor_id in i||(i[o.floor_id]=[]),i[o.floor_id].push(o))}}catch(a){r.e(a)}finally{r.f()}return i}},54706:function(e,t,i){i.d(t,{E:function(){return u}});var n=i(31432),r=i(44734),o=i(43080),a=i(69683),l=i(25460),s=i(6454),d=(i(74423),i(23792),i(18111),i(13579),i(26099),i(3362),i(21699),i(62953),i(40445)),c=i(77845),u=function(e){var t=function(e){function t(){return(0,r.A)(this,t),(0,a.A)(this,t,arguments)}return(0,s.A)(t,e),(0,o.A)(t,[{key:"connectedCallback",value:function(){(0,l.A)(t,"connectedCallback",this,3)([]),this._checkSubscribed()}},{key:"disconnectedCallback",value:function(){if((0,l.A)(t,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){var e=this.__unsubs.pop();e instanceof Promise?e.then(function(e){return e()}):e()}this.__unsubs=void 0}}},{key:"updated",value:function(e){if((0,l.A)(t,"updated",this,3)([e]),e.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var i,r=(0,n.A)(e.keys());try{for(r.s();!(i=r.n()).done;){var o=i.value;if(this.hassSubscribeRequiredHostProps.includes(o))return void this._checkSubscribed()}}catch(a){r.e(a)}finally{r.f()}}}},{key:"hassSubscribe",value:function(){return[]}},{key:"_checkSubscribed",value:function(){var e,t=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some(function(e){return void 0===t[e]})||(this.__unsubs=this.hassSubscribe())}}])}(e);return(0,d.Cg)([(0,c.MZ)({attribute:!1})],t.prototype,"hass",void 0),t}},27986:function(e,t,i){i.d(t,{k:function(){return o}});i(23792),i(26099),i(3362),i(47764),i(62953);var n=i(1087),r=function(){return Promise.all([i.e("44533"),i.e("7199"),i.e("76068"),i.e("92769"),i.e("44966"),i.e("53868"),i.e("7592"),i.e("39005"),i.e("65374")]).then(i.bind(i,91622))},o=function(e,t){(0,n.r)(e,"show-dialog",{dialogTag:"dialog-floor-registry-detail",dialogImport:r,dialogParams:t})}},85614:function(e,t,i){i.d(t,{i:function(){return o}});var n=i(61397),r=i(50264),o=(i(23792),i(26099),i(3362),i(47764),i(62953),function(){var e=(0,r.A)((0,n.A)().m(function e(){return(0,n.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([i.e("38085"),i.e("64391")]).then(i.bind(i,40772));case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}())},22348:function(e,t,i){i.d(t,{V:function(){return r}});var n=i(37177),r=function(e){return!!e.auth.external&&n.n}},37177:function(e,t,i){i.d(t,{n:function(){return n}});i(27495),i(90906);var n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}]);
//# sourceMappingURL=88435.61bfcef0c8758499.js.map