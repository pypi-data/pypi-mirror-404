(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["81281"],{84334:function(e,t,n){"use strict";n.d(t,{H:function(){return i},R:function(){return r}});n(69085);var r=function(e,t,n){return e.subscribeMessage(function(e){return t(e)},Object.assign({type:"render_template"},n))},i=function(e,t,n,r,i){return e.connection.subscribeMessage(i,{type:"template/start_preview",flow_id:t,flow_type:n,user_input:r})}},67334:function(e,t,n){"use strict";n.r(t),n.d(t,{HuiMarkdownCard:function(){return E}});var r,i,o,a=n(61397),s=n(50264),u=n(72153),c=n(44734),l=n(43080),h=n(69683),f=n(6454),d=n(25460),p=(n(49255),n(16280),n(28706),n(23792),n(26099),n(3362),n(47764),n(62953),n(40445)),v=n(96196),g=n(77845),y=n(94333),m=n(30015),_=n.n(m),b=n(42372),w=n(1087),k=(n(38962),n(76776),n(3587),n(84334)),A=new(n(996).G)(1e3),E=function(e){function t(){var e;(0,c.A)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=(0,h.A)(this,t,[].concat(r))).preview=!1,e}return(0,f.A)(t,e),(0,l.A)(t,[{key:"getCardSize",value:function(){return void 0===this._config?3:void 0===this._config.card_size?Math.round(this._config.content.split("\n").length/2)+(this._config.title?1:0):this._config.card_size}},{key:"setConfig",value:function(e){var t;if(!e.content)throw new Error("Content required");(null===(t=this._config)||void 0===t?void 0:t.content)!==e.content&&this._tryDisconnect(),this._config=e}},{key:"connectedCallback",value:function(){(0,d.A)(t,"connectedCallback",this,3)([]),this._tryConnect()}},{key:"_computeCacheKey",value:function(){return _()(this._config)}},{key:"disconnectedCallback",value:function(){if((0,d.A)(t,"disconnectedCallback",this,3)([]),this._tryDisconnect(),this._config&&this._templateResult){var e=this._computeCacheKey();A.set(e,this._templateResult)}}},{key:"willUpdate",value:function(e){if((0,d.A)(t,"willUpdate",this,3)([e]),this._config&&!this._templateResult){var n=this._computeCacheKey();A.has(n)&&(this._templateResult=A.get(n))}}},{key:"render",value:function(){var e,t,n;return this._config?(0,v.qy)(r||(r=(0,u.A)([" ",' <ha-card .header="','" class="','"> <ha-markdown cache breaks .content="','"></ha-markdown> </ha-card> '])),this._error?(0,v.qy)(i||(i=(0,u.A)([' <ha-alert .alertType="','"> '," </ha-alert> "])),(null===(e=this._errorLevel)||void 0===e?void 0:e.toLowerCase())||"error",this._error):v.s6,this._config.text_only?void 0:this._config.title,(0,y.H)({"with-header":!!this._config.title,"text-only":null!==(t=this._config.text_only)&&void 0!==t&&t}),null===(n=this._templateResult)||void 0===n?void 0:n.result):v.s6}},{key:"updated",value:function(e){if((0,d.A)(t,"updated",this,3)([e]),this._config&&this.hass){e.has("_config")&&this._tryConnect();var n=!!this._templateResult&&!1===this._config.show_empty&&0===this._templateResult.result.length;n!==this.hidden&&(this.style.display=n?"none":"",this.toggleAttribute("hidden",n),(0,w.r)(this,"card-visibility-changed",{value:!n}));var r=e.get("hass"),i=e.get("_config");r&&i&&r.themes===this.hass.themes&&i.theme===this._config.theme||(0,b.Q)(this,this.hass.themes,this._config.theme)}}},{key:"_tryConnect",value:(g=(0,s.A)((0,a.A)().m(function e(){var t,n=this;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(void 0===this._unsubRenderTemplate&&this.hass&&this._config){e.n=1;break}return e.a(2);case 1:return this._error=void 0,this._errorLevel=void 0,e.p=2,this._unsubRenderTemplate=(0,k.R)(this.hass.connection,function(e){"error"in e?"ERROR"!==e.level&&"ERROR"===n._errorLevel||(n._error=e.error,n._errorLevel=e.level):n._templateResult=e},{template:this._config.content,entity_ids:this._config.entity_id,variables:{config:this._config,user:this.hass.user.name},strict:!0,report_errors:this.preview}),e.n=3,this._unsubRenderTemplate;case 3:e.n=5;break;case 4:e.p=4,t=e.v,this.preview&&(this._error=t.message,this._errorLevel=void 0),this._templateResult={result:this._config.content,listeners:{all:!1,domains:[],entities:[],time:!1}},this._unsubRenderTemplate=void 0;case 5:return e.a(2)}},e,this,[[2,4]])})),function(){return g.apply(this,arguments)})},{key:"_tryDisconnect",value:(p=(0,s.A)((0,a.A)().m(function e(){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(this._unsubRenderTemplate){e.n=1;break}return e.a(2);case 1:this._unsubRenderTemplate.then(function(e){return e()}).catch(),this._unsubRenderTemplate=void 0,this._error=void 0,this._errorLevel=void 0;case 2:return e.a(2)}},e,this)})),function(){return p.apply(this,arguments)})}],[{key:"getConfigElement",value:(o=(0,s.A)((0,a.A)().m(function e(){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.e("90742").then(n.bind(n,4757));case 1:return e.a(2,document.createElement("hui-markdown-card-editor"))}},e)})),function(){return o.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{type:"markdown",content:"The **Markdown** card allows you to write any text. You can style it **bold**, *italicized*, ~strikethrough~ etc. You can do images, links, and more.\n\nFor more information see the [Markdown Cheatsheet](https://commonmark.org/help)."}}}]);var o,p,g}(v.WF);E.styles=(0,v.AH)(o||(o=(0,u.A)(["ha-card{height:100%;overflow-y:auto}ha-alert{margin-bottom:8px}ha-markdown{padding:16px;word-wrap:break-word;text-align:var(--card-text-align,inherit)}.with-header ha-markdown{padding:0 16px 16px}.text-only{background:0 0;box-shadow:none;border:none}.text-only ha-markdown{padding:2px 4px}"]))),(0,p.Cg)([(0,g.MZ)({attribute:!1})],E.prototype,"hass",void 0),(0,p.Cg)([(0,g.MZ)({type:Boolean})],E.prototype,"preview",void 0),(0,p.Cg)([(0,g.wk)()],E.prototype,"_config",void 0),(0,p.Cg)([(0,g.wk)()],E.prototype,"_error",void 0),(0,p.Cg)([(0,g.wk)()],E.prototype,"_errorLevel",void 0),(0,p.Cg)([(0,g.wk)()],E.prototype,"_templateResult",void 0),E=(0,p.Cg)([(0,g.EM)("hui-markdown-card")],E)},51613:function(e,t,n){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}n(52675),n(89463),n(2259),n(23792),n(26099),n(47764),n(62953),e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},64601:function(e,t,n){"use strict";n(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},13611:function(e,t,n){"use strict";var r=n(46518),i=n(22195),o=n(62106),a=n(43724),s=TypeError,u=Object.defineProperty,c=i.self!==i;try{if(a){var l=Object.getOwnPropertyDescriptor(i,"self");!c&&l&&l.get&&l.enumerable||o(i,"self",{get:function(){return i},set:function(e){if(this!==i)throw new s("Illegal invocation");u(i,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else r({global:!0,simple:!0,forced:c},{self:i})}catch(h){}},2209:function(e,t,n){"use strict";n.d(t,{LV:function(){return m}});var r=n(78261),i=n(26520),o=n(55993),a=n(7739),s=n(31432),u=n(47075),c=(n(52675),n(89463),n(16280),n(28706),n(33771),n(23792),n(62062),n(72712),n(34782),n(55081),n(18111),n(61701),n(18237),n(36033),n(64601),n(69085),n(26099),n(3362),n(84864),n(57465),n(27495),n(90906),n(38781),n(47764),n(73772),n(62953),Symbol("Comlink.proxy")),l=Symbol("Comlink.endpoint"),h=Symbol("Comlink.releaseProxy"),f=Symbol("Comlink.finalizer"),d=Symbol("Comlink.thrown"),p=function(e){return"object"===(0,u.A)(e)&&null!==e||"function"==typeof e},v=new Map([["proxy",{canHandle:function(e){return p(e)&&e[c]},serialize:function(e){var t=new MessageChannel,n=t.port1,r=t.port2;return g(e,n),[r,[r]]},deserialize:function(e){return e.start(),m(e)}}],["throw",{canHandle:function(e){return p(e)&&d in e},serialize:function(e){var t=e.value;return[t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[]]},deserialize:function(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["*"];t.addEventListener("message",function u(l){if(l&&l.data)if(function(e,t){var n,r=(0,s.A)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t===i||"*"===i)return!0;if(i instanceof RegExp&&i.test(t))return!0}}catch(o){r.e(o)}finally{r.f()}return!1}(n,l.origin)){var h,p=Object.assign({path:[]},l.data),v=p.id,m=p.type,_=p.path,b=(l.data.argumentList||[]).map(x);try{var w=_.slice(0,-1).reduce(function(e,t){return e[t]},e),k=_.reduce(function(e,t){return e[t]},e);switch(m){case"GET":h=k;break;case"SET":w[_.slice(-1)[0]]=x(l.data.value),h=!0;break;case"APPLY":h=k.apply(w,b);break;case"CONSTRUCT":var A;h=function(e){return Object.assign(e,(0,i.A)({},c,!0))}((0,o.A)(k,(0,a.A)(b)));break;case"ENDPOINT":var E=new MessageChannel,M=E.port1,S=E.port2;g(e,S),h=function(e,t){return C.set(e,t),e}(M,[M]);break;case"RELEASE":h=void 0;break;default:return}}catch(A){h=(0,i.A)({value:A},d,0)}Promise.resolve(h).catch(function(e){return(0,i.A)({value:e},d,0)}).then(function(n){var i=R(n),o=(0,r.A)(i,2),a=o[0],s=o[1];t.postMessage(Object.assign(Object.assign({},a),{id:v}),s),"RELEASE"===m&&(t.removeEventListener("message",u),y(t),f in e&&"function"==typeof e[f]&&e[f]())}).catch(function(e){var n=R((0,i.A)({value:new TypeError("Unserializable return value")},d,0)),o=(0,r.A)(n,2),a=o[0],s=o[1];t.postMessage(Object.assign(Object.assign({},a),{id:v}),s)})}else console.warn("Invalid origin '".concat(l.origin,"' for comlink proxy"))}),t.start&&t.start()}function y(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function m(e,t){var n=new Map;return e.addEventListener("message",function(e){var t=e.data;if(t&&t.id){var r=n.get(t.id);if(r)try{r(t)}finally{n.delete(t.id)}}}),A(e,n,[],t)}function _(e){if(e)throw new Error("Proxy has been released and is not useable")}function b(e){return M(e,new Map,{type:"RELEASE"}).then(function(){y(e)})}var w=new WeakMap,k="FinalizationRegistry"in globalThis&&new FinalizationRegistry(function(e){var t=(w.get(e)||0)-1;w.set(e,t),0===t&&b(e)});function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=!1,o=new Proxy(arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},{get:function(r,s){if(_(i),s===h)return function(){!function(e){k&&k.unregister(e)}(o),b(e),t.clear(),i=!0};if("then"===s){if(0===n.length)return{then:function(){return o}};var u=M(e,t,{type:"GET",path:n.map(function(e){return e.toString()})}).then(x);return u.then.bind(u)}return A(e,t,[].concat((0,a.A)(n),[s]))},set:function(o,s,u){_(i);var c=R(u),l=(0,r.A)(c,2),h=l[0],f=l[1];return M(e,t,{type:"SET",path:[].concat((0,a.A)(n),[s]).map(function(e){return e.toString()}),value:h},f).then(x)},apply:function(o,a,s){_(i);var u=n[n.length-1];if(u===l)return M(e,t,{type:"ENDPOINT"}).then(x);if("bind"===u)return A(e,t,n.slice(0,-1));var c=E(s),h=(0,r.A)(c,2),f=h[0],d=h[1];return M(e,t,{type:"APPLY",path:n.map(function(e){return e.toString()}),argumentList:f},d).then(x)},construct:function(o,a){_(i);var s=E(a),u=(0,r.A)(s,2),c=u[0],l=u[1];return M(e,t,{type:"CONSTRUCT",path:n.map(function(e){return e.toString()}),argumentList:c},l).then(x)}});return function(e,t){var n=(w.get(t)||0)+1;w.set(t,n),k&&k.register(e,t,e)}(o,e),o}function E(e){var t,n=e.map(R);return[n.map(function(e){return e[0]}),(t=n.map(function(e){return e[1]}),Array.prototype.concat.apply([],t))]}var C=new WeakMap;function R(e){var t,n=(0,s.A)(v);try{for(n.s();!(t=n.n()).done;){var i=(0,r.A)(t.value,2),o=i[0],a=i[1];if(a.canHandle(e)){var u=a.serialize(e),c=(0,r.A)(u,2);return[{type:"HANDLER",name:o,value:c[0]},c[1]]}}}catch(l){n.e(l)}finally{n.f()}return[{type:"RAW",value:e},C.get(e)||[]]}function x(e){switch(e.type){case"HANDLER":return v.get(e.name).deserialize(e.value);case"RAW":return e.value}}function M(e,t,n,r){return new Promise(function(i){var o=new Array(4).fill(0).map(function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)}).join("-");t.set(o,i),e.start&&e.start(),e.postMessage(Object.assign({id:o},n),r)})}}}]);
//# sourceMappingURL=81281.1a9e043b7b746db0.js.map