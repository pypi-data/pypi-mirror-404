"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["27800"],{4423:function(e,n,t){t.d(n,{B:function(){return u},r:function(){return c}});var i=t(31432),r=(t(23792),t(44114),t(18111),t(13579),t(26099),t(31415),t(17642),t(58004),t(33853),t(45876),t(32475),t(15024),t(31698),t(47764),t(62953),t(44537)),a=t(71727),o=t(28455),s=function(e){if(void 0!==e)return null===e?new Set([null]):new Set((0,r.e)(e))},c=function(e,n){var t=n.domain?new Set((0,r.e)(n.domain)):void 0,i=n.hidden_domains?new Set((0,r.e)(n.hidden_domains)):void 0,c=n.device_class?new Set((0,r.e)(n.device_class)):void 0,u=s(n.floor),l=s(n.area),d=s(n.device),f=n.entity_category?new Set((0,r.e)(n.entity_category)):void 0,v=n.label?new Set((0,r.e)(n.label)):void 0,p=n.hidden_platform?new Set((0,r.e)(n.hidden_platform)):void 0;return function(n){var r=e.states[n];if(!r)return!1;if(t||i){var s=(0,a.m)(n);if(t&&!t.has(s))return!1;if(i&&i.has(s))return!1}if(c){var h=r.attributes.device_class||"none";if(!c.has(h))return!1}var y=(0,o.l)(r,e.entities,e.devices,e.areas,e.floors),m=y.area,g=y.floor,_=y.device,b=y.entity;if(b&&b.hidden)return!1;if(u){var k,A=null!==(k=null==g?void 0:g.floor_id)&&void 0!==k?k:null;if(!u.has(A))return!1}if(l){var w,S=null!==(w=null==m?void 0:m.area_id)&&void 0!==w?w:null;if(!l.has(S))return!1}if(d){var z,B=null!==(z=null==_?void 0:_.id)&&void 0!==z?z:null;if(!d.has(B))return!1}if(v){if(!b)return!1;if(!b.labels.some(function(e){return v.has(e)}))return!1}if(f){if(!b)return!1;var C=(null==b?void 0:b.entity_category)||"none";if(!f.has(C))return!1}if(p){if(!b)return!1;if(b.platform&&p.has(b.platform))return!1}return!0}},u=function(e,n){var t,r=new Set,a=[],o=(0,i.A)(n);try{for(o.s();!(t=o.n()).done;){var s,c=t.value,u=(0,i.A)(e);try{for(u.s();!(s=u.n()).done;){var l=s.value;c(l)&&!r.has(l)&&(r.add(l),a.push(l))}}catch(d){u.e(d)}finally{u.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},48441:function(e,n,t){t.d(n,{B:function(){return a}});var i=t(7739),r=(t(28706),t(46190)),a=[{area:null,hidden_platform:["automation","script","hassio","backup","mobile_app","zone","person"],hidden_domains:["ai_task","automation","configurator","device_tracker","event","geo_location","notify","persistent_notification","script","sun","tag","todo","zone"].concat((0,i.A)(r.gt))}]},78859:function(e,n,t){t.r(n),t.d(n,{HomeOtherDevicesViewStrategy:function(){return A}});var i=t(61397),r=t(7739),a=t(78261),o=t(31432),s=t(50264),c=t(44734),u=t(43080),l=t(69683),d=t(6454),f=(t(28706),t(2008),t(62062),t(44114),t(34782),t(18111),t(22489),t(61701),t(5506),t(79432),t(26099),t(40445)),v=t(96196),p=t(77845),h=t(79),y=t(71727),m=t(28455),g=t(4423),_=t(63004),b=t(24367),k=t(48441),A=function(e){function n(){return(0,c.A)(this,n),(0,l.A)(this,n,arguments)}return(0,d.A)(n,e),(0,u.A)(n,null,[{key:"generate",value:(t=(0,s.A)((0,i.A)().m(function e(n,t){var s,c,u,l,d,f,v,p,A,w,S,z,B,C,O,j,x,q,D,E,H,M,N,V,F,G,I,J,K,L;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:s=Object.keys(t.states),c=k.B.map(function(e){return(0,g.r)(t,e)}),u=(0,g.B)(s,c),l=[],d={},f=[],v=(0,o.A)(u),e.p=1,v.s();case 2:if((p=v.n()).done){e.n=6;break}if(A=p.value,w=t.states[A]){e.n=3;break}return e.a(3,5);case 3:if(S=(0,m.l)(w,t.entities,t.devices,t.areas,t.floors),z=S.device){e.n=4;break}return f.push(A),e.a(3,5);case 4:z.id in d||(d[z.id]=[]),d[z.id].push(A);case 5:e.n=2;break;case 6:e.n=8;break;case 7:e.p=7,K=e.v,v.e(K);case 8:return e.p=8,v.f(),e.f(8);case 9:B=Object.entries(d).map(function(e){var n=(0,a.A)(e,2);return{device_id:n[0],entities:n[1]}}),C=f.filter(function(e){var n=(0,y.m)(e);return(0,b.zd)(n)}),O=f.filter(function(e){var n=(0,y.m)(e);return!(0,b.zd)(n)}),j=(0,g.r)(t,{domain:"sensor",device_class:"battery"}),x=(0,g.r)(t,{domain:"sensor",device_class:["energy","power"]}),q=(0,g.r)(t,{entity_category:"none"}),D=(0,o.A)(B),e.p=10,D.s();case 11:if((E=D.n()).done){e.n=15;break}if(0!==(M=E.value).entities.length){e.n=12;break}return e.a(3,14);case 12:if(N=M.entities.filter(function(e){return j(e)}),0!==(V=M.entities.filter(function(e){return!j(e)&&!x(e)&&q(e)})).length){e.n=13;break}return e.a(3,14);case 13:F=M.device_id,G=t.devices[F],I="",G&&(I=(0,h.xn)(G)||t.localize("ui.panel.lovelace.strategy.home.unamed_device")),l.push({type:"grid",cards:[{type:"heading",heading:I,tap_action:G&&null!==(H=t.user)&&void 0!==H&&H.is_admin?{action:"navigate",navigation_path:"/config/devices/device/".concat(G.id)}:{action:"none"},badges:(0,r.A)(N.slice(0,1).map(function(e){return{entity:e,type:"entity",tap_action:{action:"more-info"}}}))}].concat((0,r.A)(V.map(function(e){return{type:"tile",entity:e,name:{type:"entity"}}})))});case 14:e.n=11;break;case 15:e.n=17;break;case 16:e.p=16,L=e.v,D.e(L);case 17:return e.p=17,D.f(),e.f(17);case 18:return J=(0,_.q)(l.length,2,3),C.length&&l.push({type:"grid",column_span:J,cards:[{type:"heading",heading:t.localize("ui.panel.lovelace.strategy.other_devices.helpers")}].concat((0,r.A)(C.map(function(e){return{type:"tile",entity:e}})))}),O.length&&l.push({type:"grid",column_span:J,cards:[{type:"heading",heading:t.localize("ui.panel.lovelace.strategy.other_devices.entities")}].concat((0,r.A)(O.map(function(e){return{type:"tile",entity:e}})))}),1===l.length&&(l[0].column_span=2),e.a(2,{type:"sections",header:{badges_position:"bottom"},max_columns:J,sections:l})}},e,null,[[10,16,17,18],[1,7,8,9]])})),function(e,n){return t.apply(this,arguments)})}]);var t}(v.mN);A=(0,f.Cg)([(0,p.EM)("home-other-devices-view-strategy")],A)}}]);
//# sourceMappingURL=27800.9f5a763bb598032a.js.map