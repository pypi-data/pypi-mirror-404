"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["52248"],{90433:function(e,t,r){r.d(t,{Vy:function(){return o},fI:function(){return s},ux:function(){return h}});r(23418),r(47764);var n=r(22786),a=r(79468),i=54;function o(e,t){var r=e%i+1;return t.getPropertyValue("--color-".concat(r))}function s(e,t){var r=t.getPropertyValue("--graph-color-".concat(e+1))||o(e,t);return(0,a.RQ)(r)}var h=(0,n.A)(function(e){return Array.from({length:i},function(t,r){return s(r,e)})},function(e,t){return e[0].getPropertyValue("--graph-color-1")===t[0].getPropertyValue("--graph-color-1")&&e[0].getPropertyValue("--color-1")===t[0].getPropertyValue("--color-1")})},27661:function(e,t,r){var n,a,i,o=r(72153),s=r(44734),h=r(43080),c=r(69683),d=r(25460),l=r(6454),u=r(40445),f=r(51978),v=r(94743),p=r(77845),g=r(96196),y=r(63091),_=function(e){function t(){return(0,s.A)(this,t),(0,c.A)(this,t,arguments)}return(0,l.A)(t,e),(0,h.A)(t,[{key:"firstUpdated",value:function(e){(0,d.A)(t,"firstUpdated",this,3)([e]),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}])}(f.n);_.styles=[v.R,(0,g.AH)(n||(n=(0,o.A)([":host{--mdc-typography-button-text-transform:none;--mdc-typography-button-font-size:var(--ha-font-size-l);--mdc-typography-button-font-family:var(--ha-font-family-body);--mdc-typography-button-font-weight:var(--ha-font-weight-medium)}:host .mdc-fab--extended{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab.mdc-fab--extended .ripple{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}"]))),"rtl"===y.G.document.dir?(0,g.AH)(a||(a=(0,o.A)([":host .mdc-fab--extended .mdc-fab__icon{direction:rtl}"]))):(0,g.AH)(i||(i=(0,o.A)([""])))],_=(0,u.Cg)([(0,p.EM)("ha-fab")],_)},68159:function(e,t,r){r.a(e,async function(e,n){try{r.r(t),r.d(t,{HuiCalendarCard:function(){return z}});var a,i,o=r(61397),s=r(50264),h=r(72153),c=r(44734),d=r(43080),l=r(69683),u=r(6454),f=r(25460),v=r(69235),p=(r(16280),r(28706),r(23792),r(62062),r(18111),r(61701),r(69085),r(26099),r(3362),r(47764),r(62953),r(40445)),g=r(96196),y=r(94333),_=r(77845),b=r(90433),m=r(42372),w=r(9899),A=(r(76776),r(55156)),k=r(63556),C=r(13632),x=(r(85979),e([v,k]));[v,k]=x.then?(await x)():x;var z=function(e){function t(){var e;(0,c.A)(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=(0,l.A)(this,t,[].concat(n)))._events=[],e._calendars=[],e._narrow=!1,e._error=void 0,e}return(0,u.A)(t,e),(0,d.A)(t,[{key:"setConfig",value:function(e){var t,r;if(null===(t=e.entities)||void 0===t||!t.length)throw new Error("Entities must be specified");if(!Array.isArray(e.entities))throw new Error("Entities need to be an array");(null===(r=this._config)||void 0===r?void 0:r.entities)!==e.entities&&this._fetchCalendarEvents(),this._config=Object.assign({initial_view:"dayGridMonth"},e)}},{key:"willUpdate",value:function(e){var r;if((0,f.A)(t,"willUpdate",this,3)([e]),!this.hasUpdated||e.has("_config")&&null!==(r=this._config)&&void 0!==r&&r.entities){var n=getComputedStyle(this);this._calendars=this._config.entities.map(function(e,t){return{entity_id:e,backgroundColor:(0,b.Vy)(t,n)}})}}},{key:"getCardSize",value:function(){return 12}},{key:"getGridOptions",value:function(){return{rows:6,columns:12,min_columns:4,min_rows:4}}},{key:"connectedCallback",value:function(){var e=this;(0,f.A)(t,"connectedCallback",this,3)([]),this.updateComplete.then(function(){return e._attachObserver()})}},{key:"disconnectedCallback",value:function(){(0,f.A)(t,"disconnectedCallback",this,3)([]),this._resizeObserver&&this._resizeObserver.disconnect()}},{key:"render",value:function(){if(!this._config||!this.hass||!this._calendars.length)return g.s6;return(0,g.qy)(a||(a=(0,h.A)([' <ha-card> <div class="header">','</div> <ha-full-calendar class="','" .narrow="','" .events="','" .hass="','" .views="','" .initialView="','" .error="','" @view-changed="','"></ha-full-calendar> </ha-card> '])),this._config.title,(0,y.H)({"is-grid":"grid"===this.layout,"is-panel":"panel"===this.layout,"has-title":!!this._config.title}),this._narrow,this._events,this.hass,["dayGridMonth","dayGridDay","listWeek"],this._config.initial_view,this._error,this._handleViewChanged)}},{key:"updated",value:function(e){if((0,f.A)(t,"updated",this,3)([e]),this._config&&this.hass){var r=e.get("hass"),n=e.get("_config");(!r||!n||e.has("hass")&&r.themes!==this.hass.themes||e.has("_config")&&n.theme!==this._config.theme)&&(0,m.Q)(this,this.hass.themes,this._config.theme)}}},{key:"_handleViewChanged",value:function(e){this._startDate=e.detail.start,this._endDate=e.detail.end,this._fetchCalendarEvents()}},{key:"_fetchCalendarEvents",value:(v=(0,s.A)((0,o.A)().m(function e(){var t;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:if(this._startDate&&this._endDate){e.n=1;break}return e.a(2);case 1:return this._error=void 0,e.n=2,(0,A.ms)(this.hass,this._startDate,this._endDate,this._calendars);case 2:t=e.v,this._events=t.events,t.errors.length>0&&(this._error="".concat(this.hass.localize("ui.components.calendar.event_retrieval_error")));case 3:return e.a(2)}},e,this)})),function(){return v.apply(this,arguments)})},{key:"_measureCard",value:function(){var e=this.shadowRoot.querySelector("ha-card");e&&(this._narrow=e.offsetWidth<870)}},{key:"_attachObserver",value:(i=(0,s.A)((0,o.A)().m(function e(){var t,r=this;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:if(this._resizeObserver||(this._resizeObserver=new ResizeObserver((0,w.s)(function(){return r._measureCard()},250,!1))),t=this.shadowRoot.querySelector("ha-card")){e.n=1;break}return e.a(2);case 1:this._resizeObserver.observe(t);case 2:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})}],[{key:"getConfigElement",value:(n=(0,s.A)((0,o.A)().m(function e(){return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([r.e("44533"),r.e("92769"),r.e("44966"),r.e("52242"),r.e("65860"),r.e("7592"),r.e("39005"),r.e("44838"),r.e("86567")]).then(r.bind(r,6534));case 1:return e.a(2,document.createElement("hui-calendar-card-editor"))}},e)})),function(){return n.apply(this,arguments)})},{key:"getStubConfig",value:function(e,t,r){return{entities:(0,C.B)(e,2,t,r,["calendar"])}}}]);var n,i,v}(g.WF);z.styles=(0,g.AH)(i||(i=(0,h.A)(["ha-card{position:relative;padding:0 8px 8px;box-sizing:border-box;height:100%;overflow:hidden}.header{color:var(--ha-card-header-color,var(--primary-text-color));font-size:var(--ha-card-header-font-size, var(--ha-font-size-2xl));line-height:var(--ha-line-height-condensed);padding-top:16px;padding-left:8px;padding-inline-start:8px;direction:var(--direction);white-space:nowrap;text-overflow:ellipsis}ha-full-calendar{--calendar-height:400px;height:var(--calendar-height)}ha-full-calendar.is-grid,ha-full-calendar.is-panel{--calendar-height:calc(100% - 16px)}ha-full-calendar.is-grid.has-title,ha-full-calendar.is-panel.has-title{--calendar-height:calc(\n        100% - var(--ha-card-header-font-size, var(--ha-font-size-2xl)) - 22px\n      )}"]))),(0,p.Cg)([(0,_.MZ)({attribute:!1})],z.prototype,"hass",void 0),(0,p.Cg)([(0,_.MZ)({attribute:!1})],z.prototype,"layout",void 0),(0,p.Cg)([(0,_.wk)()],z.prototype,"_events",void 0),(0,p.Cg)([(0,_.wk)()],z.prototype,"_config",void 0),(0,p.Cg)([(0,_.wk)()],z.prototype,"_calendars",void 0),(0,p.Cg)([(0,_.wk)()],z.prototype,"_narrow",void 0),(0,p.Cg)([(0,_.wk)()],z.prototype,"_error",void 0),z=(0,p.Cg)([(0,_.EM)("hui-calendar-card")],z),n()}catch(E){n(E)}})}}]);
//# sourceMappingURL=52248.766de1c512bc804e.js.map