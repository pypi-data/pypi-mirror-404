"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["82988"],{91069:function(e,t,a){a.a(e,async function(e,i){try{a.d(t,{EO:function(){return w},Yq:function(){return C},_U:function(){return A},eE:function(){return b},fU:function(){return x},ol:function(){return g},xo:function(){return k}});var n=a(78016),s=a(31810),r=a(49134),o=a(81977),l=a(36307),h=a(35932),c=a(73983),d=a(6946),u=a(92913),_=a(83339),p=a(77972),m=a(31886),v=a(46927),y=e([m]);m=(y.then?(await y)():y)[0];var f=function(e,t,a,i){var n=a(new m.BB(e,t),i);return n instanceof Date?new Date(n.getTime()):n},g=function(e,t,a,i,n){return a.time_zone===v.Wj.server?f(e,i.time_zone,t,n):t(e,n)},k=function(e,t,a,i,n){return a.time_zone===v.Wj.server?f(e,i.time_zone,t,n):t(e,n)},w=function(e,t,a,i,n){return k(e,a,i,n,i.time_zone===v.Wj.server?new m.BB(t,n.time_zone):t)},b=function(e,t,a,i,m){var v,y;if(k(e,n.e,i,m)&&k(t,s.c,i,m)){var f=(w(t,e,r.W,i,m)+1)*(a?1:-1);v=g(e,o.P,i,m,f),y=g(g(t,o.P,i,m,f),l.p,i,m)}else if(k(e,function(e){return(0,h.o)(e).getMilliseconds()===e.getMilliseconds()},i,m)&&k(t,function(e){return(0,c.D)(e).getMilliseconds()===e.getMilliseconds()},i,m)){var b=(w(t,e,d.c,i,m)+1)*(a?1:-1);v=g(e,u.f,i,m,b),y=g(t,u.f,i,m,b)}else{var A=w(t,e,_.b,i,m)*(a?1:-1);v=g(e,p.A,i,m,A),y=g(t,p.A,i,m,A)}return{start:v,end:y}},A=function(e,t){var a=new m.BB(e,t);return new Date(a.getTime())},C=function(e,t){return new m.BB(e,t).toISOString().split("T")[0]},x=function(e,t){return new m.BB(e,t).toISOString().split("T")[1].split(".")[0]};i()}catch(D){i(D)}})},78649:function(e,t,a){a.d(t,{n:function(){return n}});a(27495),a(90906);var i=/^(\w+)\.(\w+)$/,n=function(e){return i.test(e)}},6:function(e,t,a){var i,n,s=a(72153),r=a(44734),o=a(43080),l=a(69683),h=a(6454),c=(a(28706),a(40445)),d=a(35949),u=a(38627),_=a(96196),p=a(77845),m=a(94333),v=a(1087),y=function(e){function t(){var e;(0,r.A)(this,t);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=(0,l.A)(this,t,[].concat(i))).disabled=!1,e}return(0,h.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e={"mdc-form-field--align-end":this.alignEnd,"mdc-form-field--space-between":this.spaceBetween,"mdc-form-field--nowrap":this.nowrap};return(0,_.qy)(i||(i=(0,s.A)([' <div class="mdc-form-field ','"> <slot></slot> <label class="mdc-label" @click="','"> <slot name="label">',"</slot> </label> </div>"])),(0,m.H)(e),this._labelClick,this.label)}},{key:"_labelClick",value:function(){var e=this.input;if(e&&(e.focus(),!e.disabled))switch(e.tagName){case"HA-CHECKBOX":e.checked=!e.checked,(0,v.r)(e,"change");break;case"HA-RADIO":e.checked=!0,(0,v.r)(e,"change");break;default:e.click()}}}])}(d.M);y.styles=[u.R,(0,_.AH)(n||(n=(0,s.A)([":host(:not([alignEnd])) ::slotted(ha-switch){margin-right:10px;margin-inline-end:10px;margin-inline-start:inline}.mdc-form-field{align-items:var(--ha-formfield-align-items,center);gap:var(--ha-space-1)}.mdc-form-field>label{direction:var(--direction);margin-inline-start:0;margin-inline-end:auto;padding:0}:host([disabled]) label{color:var(--disabled-text-color)}"])))],(0,c.Cg)([(0,p.MZ)({type:Boolean,reflect:!0})],y.prototype,"disabled",void 0),y=(0,c.Cg)([(0,p.EM)("ha-formfield")],y)},54276:function(e,t,a){var i,n=a(72153),s=a(44734),r=a(43080),o=a(75864),l=a(69683),h=a(6454),c=a(25460),d=(a(28706),a(40445)),u=a(76482),_=a(91382),p=a(96245),m=a(96196),v=a(77845),y=function(e){function t(){var e;(0,s.A)(this,t);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=(0,l.A)(this,t,[].concat(i))).attachableTouchController=new u.i((0,o.A)(e),e._onTouchControlChange.bind((0,o.A)(e))),e._handleTouchEnd=function(){e.disabled||(0,c.A)(((0,o.A)(e),t),"endPressAnimation",e,3)([])},e}return(0,h.A)(t,e),(0,r.A)(t,[{key:"attach",value:function(e){(0,c.A)(t,"attach",this,3)([e]),this.attachableTouchController.attach(e)}},{key:"disconnectedCallback",value:function(){(0,c.A)(t,"disconnectedCallback",this,3)([]),this.hovered=!1,this.pressed=!1}},{key:"detach",value:function(){(0,c.A)(t,"detach",this,3)([]),this.attachableTouchController.detach()}},{key:"_onTouchControlChange",value:function(e,t){null==e||e.removeEventListener("touchend",this._handleTouchEnd),null==t||t.addEventListener("touchend",this._handleTouchEnd)}}])}(_.n);y.styles=[p.R,(0,m.AH)(i||(i=(0,n.A)([":host{--md-ripple-hover-opacity:var(--ha-ripple-hover-opacity, 0.08);--md-ripple-pressed-opacity:var(--ha-ripple-pressed-opacity, 0.12);--md-ripple-hover-color:var(\n          --ha-ripple-hover-color,\n          var(--ha-ripple-color, var(--secondary-text-color))\n        );--md-ripple-pressed-color:var(\n          --ha-ripple-pressed-color,\n          var(--ha-ripple-color, var(--secondary-text-color))\n        )}"])))],y=(0,d.Cg)([(0,v.EM)("ha-ripple")],y)},59646:function(e,t,a){var i,n=a(72153),s=a(44734),r=a(43080),o=a(69683),l=a(6454),h=a(25460),c=(a(28706),a(40445)),d=a(4845),u=a(49065),_=a(96196),p=a(77845),m=a(88360),v=function(e){function t(){var e;(0,s.A)(this,t);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=(0,o.A)(this,t,[].concat(i))).haptic=!1,e}return(0,l.A)(t,e),(0,r.A)(t,[{key:"firstUpdated",value:function(){var e=this;(0,h.A)(t,"firstUpdated",this,3)([]),this.addEventListener("change",function(){e.haptic&&(0,m.j)(e,"light")})}}])}(d.U);v.styles=[u.R,(0,_.AH)(i||(i=(0,n.A)([":host{--mdc-theme-secondary:var(--switch-checked-color)}.mdc-switch.mdc-switch--checked .mdc-switch__thumb{background-color:var(--switch-checked-button-color);border-color:var(--switch-checked-button-color)}.mdc-switch.mdc-switch--checked .mdc-switch__track{background-color:var(--switch-checked-track-color);border-color:var(--switch-checked-track-color)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb{background-color:var(--switch-unchecked-button-color);border-color:var(--switch-unchecked-button-color)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__track{background-color:var(--switch-unchecked-track-color);border-color:var(--switch-unchecked-track-color)}"])))],(0,c.Cg)([(0,p.MZ)({type:Boolean})],v.prototype,"haptic",void 0),v=(0,c.Cg)([(0,p.EM)("ha-switch")],v)},56304:function(e,t,a){var i,n=a(72153),s=a(44734),r=a(43080),o=a(69683),l=a(6454),h=a(25460),c=(a(28706),a(40445)),d=a(11896),u=a(92347),_=a(75057),p=a(96196),m=a(77845),v=function(e){function t(){var e;(0,s.A)(this,t);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=(0,o.A)(this,t,[].concat(i))).autogrow=!1,e}return(0,l.A)(t,e),(0,r.A)(t,[{key:"updated",value:function(e){(0,h.A)(t,"updated",this,3)([e]),this.autogrow&&e.has("value")&&(this.mdcRoot.dataset.value=this.value+'=â€‹"')}}])}(d.u);v.styles=[u.R,_.R,(0,p.AH)(i||(i=(0,n.A)([":host([autogrow]) .mdc-text-field{position:relative;min-height:74px;min-width:178px;max-height:200px}:host([autogrow]) .mdc-text-field:after{content:attr(data-value);margin-top:23px;margin-bottom:9px;line-height:var(--ha-line-height-normal);min-height:42px;padding:0px 32px 0 16px;letter-spacing:var(\n          --mdc-typography-subtitle1-letter-spacing,\n          .009375em\n        );visibility:hidden;white-space:pre-wrap}:host([autogrow]) .mdc-text-field__input{position:absolute;height:calc(100% - 32px)}:host([autogrow]) .mdc-text-field.mdc-text-field--no-label:after{margin-top:16px;margin-bottom:16px}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start) top}@media only screen and (min-width:459px){:host([mobile-multiline]) .mdc-text-field__input{white-space:nowrap;max-height:16px}}"])))],(0,c.Cg)([(0,m.MZ)({type:Boolean,reflect:!0})],v.prototype,"autogrow",void 0),v=(0,c.Cg)([(0,m.EM)("ha-textarea")],v)},62938:function(e,t,a){a.a(e,async function(e,i){try{a.r(t);var n,s,r,o,l,h,c,d,u,_=a(61397),p=a(50264),m=a(72153),v=a(44734),y=a(43080),f=a(69683),g=a(6454),k=(a(52675),a(89463),a(28706),a(50113),a(18111),a(20116),a(26099),a(16034),a(40445)),w=a(92913),b=a(71566),A=a(57279),C=a(83339),x=a(77972),D=a(96196),z=a(77845),q=a(22786),R=a(8480),T=a(1087),E=a(69093),I=a(82286),M=a(22682),S=a(82474),Z=(a(38962),a(18350)),W=a(19463),B=a(72554),U=(a(6),a(59646),a(56304),a(75709),a(50286),a(55156)),Y=a(14503),H=a(79757),L=a(36863),P=a(50954),O=a(91069),j=e([S,Z,W,H,L,R,O]);[S,Z,W,H,L,R,O]=j.then?(await j)():j;var V=["calendar"],N=function(e){function t(){var e;(0,v.A)(this,t);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=(0,f.A)(this,t,[].concat(i)))._summary="",e._description="",e._location="",e._allDay=!1,e._submitting=!1,e._hasLocation=!1,e._isEditableCalendar=function(e){return(0,I.$)(e,U.at.CREATE_EVENT)},e._getLocaleStrings=(0,q.A)(function(t,a){return{startDate:(0,O.Yq)(t,e._timeZone),startTime:(0,O.fU)(t,e._timeZone),endDate:(0,O.Yq)(a,e._timeZone),endTime:(0,O.fU)(a,e._timeZone)}}),e}return(0,g.A)(t,e),(0,y.A)(t,[{key:"showDialog",value:function(e){var t;if(this._error=void 0,this._info=void 0,this._params=e,this._calendarId=e.calendarId||(null===(t=Object.values(this.hass.states).find(function(e){return"calendar"===(0,E.t)(e)&&(0,I.$)(e,U.at.CREATE_EVENT)}))||void 0===t?void 0:t.entity_id),this._timeZone=(0,R.w)(this.hass.locale.time_zone,this.hass.config.time_zone),e.entry){var a=e.entry;this._allDay=(0,M.$)(a.dtstart),this._summary=a.summary,this._description=a.description,a.location&&(this._hasLocation=!0,this._location=a.location),this._rrule=a.rrule,this._allDay?(this._dtstart=new Date(a.dtstart+"T00:00:00"),this._dtend=(0,w.f)(new Date(a.dtend+"T00:00:00"),-1)):(this._dtstart=new Date(a.dtstart),this._dtend=new Date(a.dtend))}else this._allDay=!1,this._dtstart=(0,b.Q)(e.selectedDate?e.selectedDate:new Date),this._dtend=(0,A.L)(this._dtstart,1)}},{key:"closeDialog",value:function(){this._params&&(this._calendarId=void 0,this._params=void 0,this._dtstart=void 0,this._dtend=void 0,this._summary="",this._description="",this._location="",this._hasLocation=!1,this._rrule=void 0,(0,T.r)(this,"dialog-closed",{dialog:this.localName}))}},{key:"render",value:function(){if(!this._params)return D.s6;var e=void 0===this._params.entry,t=this._getLocaleStrings(this._dtstart,this._dtend),a=t.startDate,i=t.startTime,u=t.endDate,_=t.endTime;return(0,D.qy)(n||(n=(0,m.A)([' <ha-dialog open @closed="','" scrimClickAction escapeKeyAction .heading="','"> <div class="content"> '," ",' <ha-textfield class="summary" name="summary" .label="','" .value="','" required @input="','" .validationMessage="','" dialogInitialFocus></ha-textfield> <ha-textfield class="location" name="location" .label="','" .value="','" @change="','"></ha-textfield> <ha-textarea class="description" name="description" .label="','" .value="','" @change="','" autogrow></ha-textarea> <ha-entity-picker name="calendar" .hass="','" .label="','" .value="','" .includeDomains="','" .entityFilter="','" .disabled="','" required @value-changed="','"></ha-entity-picker> <ha-formfield .label="','"> <ha-switch id="all_day" .checked="','" @change="','"></ha-switch> </ha-formfield> <div> <span class="label">',':</span> <div class="flex"> <ha-date-input .value="','" .locale="','" @value-changed="','"></ha-date-input> ',' </div> </div> <div> <span class="label">',':</span> <div class="flex"> <ha-date-input .value="','" .min="','" .locale="','" @value-changed="','"></ha-date-input> ',' </div> </div> <ha-recurrence-rule-editor .hass="','" .dtstart="','" .allDay="','" .locale="','" .timezone="','" .value="','" @value-changed="','"> </ha-recurrence-rule-editor> </div> '," </ha-dialog> "])),this.closeDialog,(0,B.l)(this.hass,this.hass.localize("ui.components.calendar.event.".concat(e?"add":"edit"))),this._error?(0,D.qy)(s||(s=(0,m.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):"",this._info?(0,D.qy)(r||(r=(0,m.A)(['<ha-alert alert-type="info" dismissable @alert-dismissed-clicked="','">',"</ha-alert>"])),this._clearInfo,this._info):"",this.hass.localize("ui.components.calendar.event.summary"),this._summary,this._handleSummaryChanged,this.hass.localize("ui.common.error_required"),this.hass.localize("ui.components.calendar.event.location"),this._location,this._handleLocationChanged,this.hass.localize("ui.components.calendar.event.description"),this._description,this._handleDescriptionChanged,this.hass,this.hass.localize("ui.components.calendar.label"),this._calendarId,V,this._isEditableCalendar,!e,this._handleCalendarChanged,this.hass.localize("ui.components.calendar.event.all_day"),this._allDay,this._allDayToggleChanged,this.hass.localize("ui.components.calendar.event.start"),a,this.hass.locale,this._startDateChanged,this._allDay?"":(0,D.qy)(o||(o=(0,m.A)(['<ha-time-input .value="','" .locale="','" @value-changed="','"></ha-time-input>'])),i,this.hass.locale,this._startTimeChanged),this.hass.localize("ui.components.calendar.event.end"),u,a,this.hass.locale,this._endDateChanged,this._allDay?"":(0,D.qy)(l||(l=(0,m.A)(['<ha-time-input .value="','" .locale="','" @value-changed="','"></ha-time-input>'])),_,this.hass.locale,this._endTimeChanged),this.hass,this._dtstart,this._allDay,this.hass.locale,this.hass.config.time_zone,this._rrule||"",this._handleRRuleChanged,e?(0,D.qy)(h||(h=(0,m.A)([' <ha-button slot="primaryAction" @click="','" .disabled="','"> '," </ha-button> "])),this._createEvent,this._submitting,this.hass.localize("ui.components.calendar.event.add")):(0,D.qy)(c||(c=(0,m.A)([' <ha-button slot="primaryAction" @click="','" .disabled="','"> '," </ha-button> "," "])),this._saveEvent,this._submitting,this.hass.localize("ui.components.calendar.event.save"),this._params.canDelete?(0,D.qy)(d||(d=(0,m.A)([' <ha-button slot="secondaryAction" appearance="plain" variant="danger" @click="','" .disabled="','"> '," </ha-button> "])),this._deleteEvent,this._submitting,this.hass.localize("ui.components.calendar.event.delete")):""))}},{key:"_clearInfo",value:function(){this._info=void 0}},{key:"_handleSummaryChanged",value:function(e){this._summary=e.target.value}},{key:"_handleDescriptionChanged",value:function(e){this._description=e.target.value}},{key:"_handleLocationChanged",value:function(e){this._location=e.target.value}},{key:"_handleRRuleChanged",value:function(e){this._rrule=e.detail.value}},{key:"_allDayToggleChanged",value:function(e){this._allDay=e.target.checked,this._allDay&&this._dtstart&&this._dtend&&(this._dtstart=new Date((0,O.Yq)(this._dtstart,this._timeZone)+"T00:00:00"),this._dtend=new Date((0,O.Yq)(this._dtend,this._timeZone)+"T00:00:00"))}},{key:"_startDateChanged",value:function(e){var t=(0,C.b)(this._dtend,this._dtstart);this._dtstart=(0,O._U)("".concat(e.detail.value,"T").concat((0,O.fU)(this._dtstart,this._timeZone)),this._timeZone),this._dtend<=this._dtstart&&(this._dtend=(0,x.A)(this._dtstart,t),this._info=this.hass.localize("ui.components.calendar.event.end_auto_adjusted"))}},{key:"_endDateChanged",value:function(e){this._dtend=(0,O._U)("".concat(e.detail.value,"T").concat((0,O.fU)(this._dtend,this._timeZone)),this._timeZone)}},{key:"_startTimeChanged",value:function(e){var t=(0,C.b)(this._dtend,this._dtstart);this._dtstart=(0,O._U)("".concat((0,O.Yq)(this._dtstart,this._timeZone),"T").concat(e.detail.value),this._timeZone),this._dtend<=this._dtstart&&(this._dtend=(0,x.A)(new Date(this._dtstart),t),this._info=this.hass.localize("ui.components.calendar.event.end_auto_adjusted"))}},{key:"_endTimeChanged",value:function(e){this._dtend=(0,O._U)("".concat((0,O.Yq)(this._dtend,this._timeZone),"T").concat(e.detail.value),this._timeZone)}},{key:"_calculateData",value:function(){var e={summary:this._summary,description:this._description,location:this._location||(this._hasLocation?"":void 0),rrule:this._rrule||void 0,dtstart:"",dtend:""};return this._allDay?(e.dtstart=(0,O.Yq)(this._dtstart,this._timeZone),e.dtend=(0,O.Yq)((0,w.f)(this._dtend,1),this._timeZone)):(e.dtstart="".concat((0,O.Yq)(this._dtstart,this.hass.config.time_zone),"T").concat((0,O.fU)(this._dtstart,this.hass.config.time_zone)),e.dtend="".concat((0,O.Yq)(this._dtend,this.hass.config.time_zone),"T").concat((0,O.fU)(this._dtend,this.hass.config.time_zone))),e}},{key:"_handleCalendarChanged",value:function(e){this._calendarId=e.detail.value}},{key:"_isValidStartEnd",value:function(){return this._allDay?this._dtend>=this._dtstart:this._dtend>this._dtstart}},{key:"_createEvent",value:(k=(0,p.A)((0,_.A)().m(function e(){var t;return(0,_.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this._summary&&this._calendarId){e.n=1;break}return this._error=this.hass.localize("ui.components.calendar.event.not_all_required_fields"),e.a(2);case 1:if(this._isValidStartEnd()){e.n=2;break}return this._error=this.hass.localize("ui.components.calendar.event.invalid_duration"),e.a(2);case 2:return this._submitting=!0,e.p=3,e.n=4,(0,U.pO)(this.hass,this._calendarId,this._calculateData());case 4:e.n=6;break;case 5:return e.p=5,t=e.v,this._error=t?t.message:"Unknown error",e.a(2);case 6:return e.p=6,this._submitting=!1,e.f(6);case 7:return e.n=8,this._params.updated();case 8:this.closeDialog();case 9:return e.a(2)}},e,this,[[3,5,6,7]])})),function(){return k.apply(this,arguments)})},{key:"_saveEvent",value:(i=(0,p.A)((0,_.A)().m(function e(){var t,a,i,n;return(0,_.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this._summary&&this._calendarId){e.n=1;break}return this._error=this.hass.localize("ui.components.calendar.event.not_all_required_fields"),e.a(2);case 1:if(this._isValidStartEnd()){e.n=2;break}return this._error=this.hass.localize("ui.components.calendar.event.invalid_duration"),e.a(2);case 2:if(this._submitting=!0,t=this._params.entry,a=U.kt.THISEVENT,!t.recurrence_id){e.n=4;break}return e.n=3,(0,P.Q)(this,{title:this.hass.localize("ui.components.calendar.event.confirm_update.update"),text:this.hass.localize("ui.components.calendar.event.confirm_update.recurring_prompt"),confirmText:this.hass.localize("ui.components.calendar.event.confirm_update.update_this"),confirmFutureText:this.hass.localize("ui.components.calendar.event.confirm_update.update_future")});case 3:a=e.v;case 4:if(void 0!==a){e.n=5;break}return this._submitting=!1,e.a(2);case 5:return i=this._calculateData(),t.rrule&&i.rrule&&a===U.kt.THISEVENT&&(i.rrule=void 0),e.p=6,e.n=7,(0,U._1)(this.hass,this._calendarId,t.uid,i,t.recurrence_id||"",a);case 7:e.n=9;break;case 8:return e.p=8,n=e.v,this._error=n?n.message:"Unknown error",e.a(2);case 9:return e.p=9,this._submitting=!1,e.f(9);case 10:return e.n=11,this._params.updated();case 11:this.closeDialog();case 12:return e.a(2)}},e,this,[[6,8,9,10]])})),function(){return i.apply(this,arguments)})},{key:"_deleteEvent",value:(a=(0,p.A)((0,_.A)().m(function e(){var t,a,i;return(0,_.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return this._submitting=!0,t=this._params.entry,e.n=1,(0,P.Q)(this,{title:this.hass.localize("ui.components.calendar.event.confirm_delete.delete"),text:t.recurrence_id?this.hass.localize("ui.components.calendar.event.confirm_delete.recurring_prompt"):this.hass.localize("ui.components.calendar.event.confirm_delete.prompt"),confirmText:t.recurrence_id?this.hass.localize("ui.components.calendar.event.confirm_delete.delete_this"):this.hass.localize("ui.components.calendar.event.confirm_delete.delete"),confirmFutureText:t.recurrence_id?this.hass.localize("ui.components.calendar.event.confirm_delete.delete_future"):void 0});case 1:if(void 0!==(a=e.v)){e.n=2;break}return this._submitting=!1,e.a(2);case 2:return e.p=2,e.n=3,(0,U.At)(this.hass,this._calendarId,t.uid,t.recurrence_id||"",a);case 3:e.n=5;break;case 4:return e.p=4,i=e.v,this._error=i?i.message:"Unknown error",e.a(2);case 5:return e.p=5,this._submitting=!1,e.f(5);case 6:return e.n=7,this._params.updated();case 7:this.closeDialog();case 8:return e.a(2)}},e,this,[[2,4,5,6]])})),function(){return a.apply(this,arguments)})}],[{key:"styles",get:function(){return[Y.nA,(0,D.AH)(u||(u=(0,m.A)(["@media all and (min-width:450px) and (min-height:500px){ha-dialog{--mdc-dialog-min-width:min(600px, 95vw);--mdc-dialog-max-width:min(600px, 95vw)}}state-info{line-height:40px}ha-alert{display:block;margin-bottom:16px}ha-textarea,ha-textfield{display:block}ha-textarea{margin-bottom:16px}ha-formfield{display:block;padding:16px 0}ha-date-input{flex-grow:1}ha-time-input{margin-left:16px;margin-inline-start:16px;margin-inline-end:initial}ha-recurrence-rule-editor{display:block;margin-top:16px}.flex{display:flex;justify-content:space-between}.label{font-size:var(--ha-font-size-s);font-weight:var(--ha-font-weight-medium);color:var(--input-label-ink-color)}.date-range-details-content{display:inline-block}ha-rrule{display:block}ha-svg-icon{width:40px;margin-right:8px;margin-inline-end:8px;margin-inline-start:initial;direction:var(--direction);vertical-align:top}ha-rrule{display:inline-block}.key{display:inline-block;vertical-align:top}.value{display:inline-block;vertical-align:top}"])))]}}]);var a,i,k}(D.WF);(0,k.Cg)([(0,z.MZ)({attribute:!1})],N.prototype,"hass",void 0),(0,k.Cg)([(0,z.wk)()],N.prototype,"_error",void 0),(0,k.Cg)([(0,z.wk)()],N.prototype,"_info",void 0),(0,k.Cg)([(0,z.wk)()],N.prototype,"_params",void 0),(0,k.Cg)([(0,z.wk)()],N.prototype,"_calendarId",void 0),(0,k.Cg)([(0,z.wk)()],N.prototype,"_summary",void 0),(0,k.Cg)([(0,z.wk)()],N.prototype,"_description",void 0),(0,k.Cg)([(0,z.wk)()],N.prototype,"_location",void 0),(0,k.Cg)([(0,z.wk)()],N.prototype,"_rrule",void 0),(0,k.Cg)([(0,z.wk)()],N.prototype,"_allDay",void 0),(0,k.Cg)([(0,z.wk)()],N.prototype,"_dtstart",void 0),(0,k.Cg)([(0,z.wk)()],N.prototype,"_dtend",void 0),(0,k.Cg)([(0,z.wk)()],N.prototype,"_submitting",void 0),N=(0,k.Cg)([(0,z.EM)("dialog-calendar-event-editor")],N),i()}catch(F){i(F)}})},36863:function(e,t,a){a.a(e,async function(e,t){try{var i,n,s,r,o,l,h,c,d,u,_,p,m=a(72153),v=a(44734),y=a(43080),f=a(69683),g=a(6454),k=a(25460),w=(a(28706),a(23792),a(62062),a(34782),a(18111),a(61701),a(26099),a(27495),a(38781),a(31415),a(17642),a(58004),a(33853),a(45876),a(32475),a(15024),a(31698),a(47764),a(25440),a(62953),a(40445)),b=a(31886),A=a(96196),C=a(77845),x=a(41821),D=a(380),z=a(57237),q=(a(5745),a(32023),a(19463)),R=(a(28732),a(606),a(75709),a(55666)),T=a(91069),E=e([q,D,R,x,b,T]);[q,D,R,x,b,T]=E.then?(await E)():E;var I=function(e){function t(){var e;(0,v.A)(this,t);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=(0,f.A)(this,t,[].concat(i))).disabled=!1,e.value="",e.allDay=!1,e._computedRRule="",e._freq="none",e._interval=1,e._weekday=new Set,e._end="never",e._monthlyRepeatItems=[],e}return(0,g.A)(t,e),(0,y.A)(t,[{key:"willUpdate",value:function(e){if((0,k.A)(t,"willUpdate",this,3)([e]),e.has("locale")&&(this._allWeekdays=(0,R.cH)((0,D.P)(this.locale)).map(function(e){return e.toString()})),e.has("dtstart")||e.has("_interval")){this._monthlyRepeatItems=this.dtstart?(0,R.jz)(this.hass,this._interval,this.dtstart):[],this._computeWeekday();var a=this._monthlyRepeatSelect;if(a){var i=a.index;a.select(-1),this.updateComplete.then(function(){a.select(e.has("dtstart")?0:i)})}}if(e.has("value")||!(e.has("dtstart")||e.has("timezone")||e.has("_freq")||e.has("_interval")||e.has("_weekday")||e.has("_monthlyRepeatWeekday")||e.has("_monthday")||e.has("_end")||e.has("_count")||e.has("_untilDay"))){if(this._computedRRule!==this.value)if(this._interval=1,this._weekday.clear(),this._monthlyRepeat=void 0,this._monthday=void 0,this._monthlyRepeatWeekday=void 0,this._end="never",this._count=void 0,this._untilDay=void 0,this._computedRRule=this.value,""!==this.value){var n;try{n=x.p3.parseString(this.value)}catch(s){return void(this._freq=void 0)}this._freq=(0,R.mH)(n.freq),n.interval&&(this._interval=n.interval),this._monthlyRepeatWeekday=(0,R.j9)(n),this._monthlyRepeatWeekday&&(this._monthlyRepeat="BYDAY=".concat(this._monthlyRepeatWeekday.toString())),this._monthday=(0,R.Wt)(n),this._monthday&&(this._monthlyRepeat="BYMONTHDAY=".concat(this._monthday)),"weekly"===this._freq&&n.byweekday&&Array.isArray(n.byweekday)&&(this._weekday=new Set(n.byweekday.map(function(e){return e.toString()}))),n.until?(this._end="on",this._untilDay=new Date(new b.BB(n.until,this.timezone).getTime())):n.count&&(this._end="after",this._count=n.count)}else this._freq="none"}else this._updateRule()}},{key:"renderRepeat",value:function(){return(0,A.qy)(i||(i=(0,m.A)([' <ha-select id="freq" label="','" @selected="','" @closed="','" fixedMenuPosition naturalMenuWidth .value="','"> <ha-list-item value="none"> ',' </ha-list-item> <ha-list-item value="yearly"> ',' </ha-list-item> <ha-list-item value="monthly"> ',' </ha-list-item> <ha-list-item value="weekly"> ',' </ha-list-item> <ha-list-item value="daily"> '," </ha-list-item> </ha-select> "])),this.hass.localize("ui.components.calendar.event.repeat.label"),this._onRepeatSelected,z.d,this._freq,this.hass.localize("ui.components.calendar.event.repeat.freq.none"),this.hass.localize("ui.components.calendar.event.repeat.freq.yearly"),this.hass.localize("ui.components.calendar.event.repeat.freq.monthly"),this.hass.localize("ui.components.calendar.event.repeat.freq.weekly"),this.hass.localize("ui.components.calendar.event.repeat.freq.daily"))}},{key:"renderMonthly",value:function(){var e;return(0,A.qy)(n||(n=(0,m.A)([" "," "," "])),this.renderInterval(),this._monthlyRepeatItems.length>0?(0,A.qy)(s||(s=(0,m.A)(['<ha-select id="monthly" label="','" @selected="','" .value="','" @closed="','" fixedMenuPosition naturalMenuWidth> '," </ha-select>"])),this.hass.localize("ui.components.calendar.event.repeat.monthly.label"),this._onMonthlyDetailSelected,this._monthlyRepeat||(null===(e=this._monthlyRepeatItems[0])||void 0===e?void 0:e.value),z.d,this._monthlyRepeatItems.map(function(e){return(0,A.qy)(r||(r=(0,m.A)([' <ha-list-item .value="','" .item="','"> '," </ha-list-item> "])),e.value,e,e.label)})):A.s6)}},{key:"renderWeekly",value:function(){var e=this;return(0,A.qy)(o||(o=(0,m.A)([" ",' <ha-chip-set class="weekdays"> '," </ha-chip-set> "])),this.renderInterval(),this._allWeekdays.map(function(t){return(0,A.qy)(l||(l=(0,m.A)([' <ha-filter-chip no-leading-icon .value="','" .selected="','" @click="','" .label="','"> </ha-filter-chip> '])),t,e._weekday.has(t),e._onWeekdayToggle,e.hass.localize("ui.components.calendar.event.repeat.weekly.weekday.".concat(t.toLowerCase())))}))}},{key:"renderDaily",value:function(){return this.renderInterval()}},{key:"renderInterval",value:function(){return(0,A.qy)(h||(h=(0,m.A)([' <ha-textfield id="interval" label="','" type="number" min="1" .value="','" .suffix="','" @change="','"></ha-textfield> '])),this.hass.localize("ui.components.calendar.event.repeat.interval.label"),this._interval,this.hass.localize("ui.components.calendar.event.repeat.interval.".concat(this._freq)),this._onIntervalChange)}},{key:"renderEnd",value:function(){return(0,A.qy)(c||(c=(0,m.A)([' <ha-select id="end" label="','" .value="','" @selected="','" @closed="','" fixedMenuPosition naturalMenuWidth> <ha-list-item value="never"> ',' </ha-list-item> <ha-list-item value="after"> ',' </ha-list-item> <ha-list-item value="on"> '," </ha-list-item> </ha-select> "," "," "])),this.hass.localize("ui.components.calendar.event.repeat.end.label"),this._end,this._onEndSelected,z.d,this.hass.localize("ui.components.calendar.event.repeat.end.never"),this.hass.localize("ui.components.calendar.event.repeat.end.after"),this.hass.localize("ui.components.calendar.event.repeat.end.on"),"after"===this._end?(0,A.qy)(d||(d=(0,m.A)([' <ha-textfield id="after" label="','" type="number" min="1" .value="','" suffix="','" @change="','"></ha-textfield> '])),this.hass.localize("ui.components.calendar.event.repeat.end_after.label"),this._count,this.hass.localize("ui.components.calendar.event.repeat.end_after.ocurrences"),this._onCountChange):A.s6,"on"===this._end?(0,A.qy)(u||(u=(0,m.A)([' <ha-date-input id="on" label="','" .locale="','" .value="','" @value-changed="','"></ha-date-input> '])),this.hass.localize("ui.components.calendar.event.repeat.end_on.label"),this.locale,(0,T.Yq)(this._untilDay,this.timezone),this._onUntilChange):A.s6)}},{key:"render",value:function(){return(0,A.qy)(_||(_=(0,m.A)([" "," "," "," "," "," "])),this.renderRepeat(),"monthly"===this._freq?this.renderMonthly():A.s6,"weekly"===this._freq?this.renderWeekly():A.s6,"daily"===this._freq?this.renderDaily():A.s6,"none"!==this._freq?this.renderEnd():A.s6)}},{key:"_onIntervalChange",value:function(e){this._interval=e.target.value}},{key:"_onRepeatSelected",value:function(e){this._freq=e.target.value,"yearly"===this._freq&&(this._interval=1),"weekly"!==this._freq&&(this._weekday.clear(),this._computeWeekday()),e.stopPropagation()}},{key:"_onMonthlyDetailSelected",value:function(e){e.stopPropagation();var t=this._monthlyRepeatItems[e.detail.index];t&&(this._monthlyRepeat=t.value,this._monthlyRepeatWeekday=t.byday,this._monthday=t.bymonthday)}},{key:"_onWeekdayToggle",value:function(e){var t=e.currentTarget.value;this._weekday.has(t)?this._weekday.delete(t):this._weekday.add(t),this.requestUpdate("_weekday")}},{key:"_onEndSelected",value:function(e){var t=e.target.value;if(t!==this._end){switch(this._end=t,this._end){case"after":this._count=R.et[this._freq],this._untilDay=void 0;break;case"on":this._count=void 0,this._untilDay=(0,R.AZ)(this._freq);break;default:this._count=void 0,this._untilDay=void 0}e.stopPropagation()}}},{key:"_onCountChange",value:function(e){this._count=e.target.value}},{key:"_onUntilChange",value:function(e){e.stopPropagation(),this._untilDay=new Date(new b.BB(e.detail.value+"T00:00:00",this.timezone).getTime())}},{key:"_computeWeekday",value:function(){if(this.dtstart&&this._weekday.size<=1){var e=(0,R.VJ)(this.dtstart);this._weekday.clear(),this._weekday.add(new x.Bw(e).toString())}}},{key:"_computeRRule",value:function(){if(void 0===this._freq||"none"===this._freq)return"";var e,t;"monthly"===this._freq&&void 0!==this._monthlyRepeatWeekday?e=[this._monthlyRepeatWeekday]:"monthly"===this._freq&&void 0!==this._monthday?t=this._monthday:"weekly"===this._freq&&(e=(0,R.OS)(this._weekday));var a={freq:(0,R.zw)(this._freq),interval:this._interval>1?this._interval:void 0,count:this._count,byweekday:e,bymonthday:t},i=x.p3.optionsToString(a);if(this._untilDay){var n,s=new b.BB((0,T.Yq)(this._untilDay,this.timezone)+"T"+(0,T.fU)(this.dtstart,this.timezone),this.timezone);n=this.allDay?s.toISOString().split("T")[0].replace(/-/g,""):s.toISOString().replace(/[-:]/g,"").split(".")[0],i+=";UNTIL=".concat(n)}return i.slice(6)}},{key:"_updateRule",value:function(){var e=this._computeRRule();e!==this._computedRRule&&(this._computedRRule=e,this.dispatchEvent(new CustomEvent("value-changed",{detail:{value:e}})))}}])}(A.WF);I.styles=(0,A.AH)(p||(p=(0,m.A)(["ha-select,ha-textfield{display:block;margin-bottom:16px}.weekdays{margin-bottom:16px}.weekdays:last-child,ha-select:last-child,ha-textfield:last-child{margin-bottom:0}"]))),(0,w.Cg)([(0,C.MZ)({attribute:!1})],I.prototype,"hass",void 0),(0,w.Cg)([(0,C.MZ)({type:Boolean})],I.prototype,"disabled",void 0),(0,w.Cg)([(0,C.MZ)()],I.prototype,"value",void 0),(0,w.Cg)([(0,C.MZ)({attribute:!1})],I.prototype,"dtstart",void 0),(0,w.Cg)([(0,C.MZ)({attribute:"all-day",type:Boolean})],I.prototype,"allDay",void 0),(0,w.Cg)([(0,C.MZ)({attribute:!1})],I.prototype,"locale",void 0),(0,w.Cg)([(0,C.MZ)()],I.prototype,"timezone",void 0),(0,w.Cg)([(0,C.wk)()],I.prototype,"_computedRRule",void 0),(0,w.Cg)([(0,C.wk)()],I.prototype,"_freq",void 0),(0,w.Cg)([(0,C.wk)()],I.prototype,"_interval",void 0),(0,w.Cg)([(0,C.wk)()],I.prototype,"_weekday",void 0),(0,w.Cg)([(0,C.wk)()],I.prototype,"_monthlyRepeat",void 0),(0,w.Cg)([(0,C.wk)()],I.prototype,"_monthlyRepeatWeekday",void 0),(0,w.Cg)([(0,C.wk)()],I.prototype,"_monthday",void 0),(0,w.Cg)([(0,C.wk)()],I.prototype,"_end",void 0),(0,w.Cg)([(0,C.wk)()],I.prototype,"_count",void 0),(0,w.Cg)([(0,C.wk)()],I.prototype,"_untilDay",void 0),(0,w.Cg)([(0,C.P)("#monthly")],I.prototype,"_monthlyRepeatSelect",void 0),I=(0,w.Cg)([(0,C.EM)("ha-recurrence-rule-editor")],I),t()}catch(M){t(M)}})},85614:function(e,t,a){a.d(t,{i:function(){return s}});var i=a(61397),n=a(50264),s=(a(23792),a(26099),a(3362),a(47764),a(62953),function(){var e=(0,n.A)((0,i.A)().m(function e(){return(0,i.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([a.e("38085"),a.e("64391")]).then(a.bind(a,40772));case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}())},22348:function(e,t,a){a.d(t,{V:function(){return n}});var i=a(37177),n=function(e){return!!e.auth.external&&i.n}},37177:function(e,t,a){a.d(t,{n:function(){return i}});a(27495),a(90906);var i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}]);
//# sourceMappingURL=82988.d199b19f37ff2f0c.js.map