"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["88815"],{99939:function(e,t,r){r.d(t,{S_:function(){return c},Xd:function(){return d},lZ:function(){return l}});var i=r(31432),a=(r(74423),r(23792),r(18111),r(7588),r(79432),r(26099),r(31415),r(17642),r(58004),r(33853),r(45876),r(32475),r(15024),r(31698),r(47764),r(23500),r(62953),["zone","persistent_notification"]),n=function(e,t){var r,a,n,s,o,c,d,l;if("call-service"===t.action&&(null!==(r=t.target)&&void 0!==r&&r.entity_id||null!==(a=t.service_data)&&void 0!==a&&a.entity_id||null!==(n=t.data)&&void 0!==n&&n.entity_id)){var u=null!==(s=null!==(o=null===(c=t.service_data)||void 0===c?void 0:c.entity_id)&&void 0!==o?o:null===(d=t.data)||void 0===d?void 0:d.entity_id)&&void 0!==s?s:null===(l=t.target)||void 0===l?void 0:l.entity_id;Array.isArray(u)||(u=[u]);var h,p=(0,i.A)(u);try{for(p.s();!(h=p.n()).done;){var v=h.value;e.add(v)}}catch(f){p.e(f)}finally{p.f()}}},s=function(e,t){t&&("string"!=typeof t?(t.entity&&e.add(t.entity),t.camera_image&&e.add(t.camera_image),t.tap_action&&n(e,t.tap_action),t.hold_action&&n(e,t.hold_action)):e.add(t))},o=function(e,t){t.entity&&s(e,t.entity),t.entities&&Array.isArray(t.entities)&&t.entities.forEach(function(t){return s(e,t)}),t.card&&o(e,t.card),t.cards&&Array.isArray(t.cards)&&t.cards.forEach(function(t){return o(e,t)}),t.elements&&Array.isArray(t.elements)&&t.elements.forEach(function(t){return o(e,t)}),t.badges&&Array.isArray(t.badges)&&t.badges.forEach(function(t){return s(e,t)}),t.sections&&Array.isArray(t.sections)&&t.sections.forEach(function(t){return o(e,t)})},c=function(e){var t=new Set;return e.views.forEach(function(e){o(t,e)}),t},d=function(e,t){for(var r=new Set,i=0,n=Object.keys(e.states);i<n.length;i++){var s=n[i];t.has(s)||a.includes(s.split(".",1)[0])||r.add(s)}return r},l=function(e,t){var r=c(t);return d(e,r)}},4178:function(e,t,r){r.a(e,async function(e,t){try{var i,a,n,s,o,c,d,l,u,h,p,v,f=r(7739),y=r(72153),g=r(61397),m=r(50264),_=r(44734),w=r(43080),b=r(69683),E=r(6454),k=r(25460),C=(r(52675),r(89463),r(28706),r(2008),r(74423),r(62062),r(26910),r(18111),r(22489),r(61701),r(69085),r(26099),r(27495),r(21699),r(5746),r(40445)),A=r(78648),x=r(96196),z=r(77845),S=r(94333),q=r(3890),R=r(22786),j=r(93905),I=r(1087),M=r(52220),O=r(65829),P=(r(3103),r(22675)),H=r(45291),L=r(99939),N=r(8349),T=r(43100),U=r(92708),D=e([O,N,T]);[O,N,T]=D.then?(await D)():D;var J=function(e){function t(){var e;(0,_.A)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=(0,b.A)(this,t,[].concat(i)))._cards=[],e._filter="",e._filterCards=(0,R.A)(function(e,t){if(!t)return e;var r=e.map(function(e){return e.card}),i={keys:["type","name","description"],isCaseSensitive:!1,minMatchCharLength:Math.min(t.length,2),threshold:.2,ignoreDiacritics:!0},a=new A.A(r,i);return r=a.search(t).map(function(e){return e.item}),e.filter(function(e){return r.includes(e.card)})}),e._suggestedCards=(0,R.A)(function(e){return e.filter(function(e){return e.card.isSuggested})}),e._customCards=(0,R.A)(function(e){return e.filter(function(e){return e.card.isCustom&&!e.card.isSuggested})}),e._otherCards=(0,R.A)(function(e){return e.filter(function(e){return!e.card.isSuggested&&!e.card.isCustom})}),e}return(0,E.A)(t,e),(0,w.A)(t,[{key:"focus",value:(C=(0,m.A)((0,g.A)().m(function e(){var t;return(0,g.A)().w(function(e){for(;;)switch(e.n){case 0:if(!(t=this.renderRoot.querySelector("search-input"))){e.n=1;break}t.focus(),e.n=3;break;case 1:return e.n=2,this.updateComplete;case 2:this.focus();case 3:return e.a(2)}},e,this)})),function(){return C.apply(this,arguments)})},{key:"render",value:function(){if(!(this.hass&&this.lovelace&&this._unusedEntities&&this._usedEntities))return x.s6;var e=this._suggestedCards(this._cards),t=this._otherCards(this._cards),r=this._customCards(this._cards);return(0,x.qy)(i||(i=(0,y.A)([' <search-input .hass="','" .filter="','" @value-changed="','" .label="','"></search-input> <div id="content"> ',' <div class="cards-container"> <div class="card manual" @click="','" .config="','"> <div class="card-header"> ',' </div> <div class="preview description"> '," </div> <ha-ripple></ha-ripple> </div> </div> </div> "])),this.hass,this._filter,this._handleSearchChange,this.hass.localize("ui.panel.lovelace.editor.edit_card.search_cards"),this._filter?(0,x.qy)(a||(a=(0,y.A)(['<div class="cards-container"> '," </div>"])),this._filterCards(this._cards,this._filter).map(function(e){return e.element})):(0,x.qy)(n||(n=(0,y.A)([' <div class="cards-container"> '," "," ",' </div> <div class="cards-container"> '," ",' </div> <div class="cards-container"> '," "," </div> "])),e.length>0?(0,x.qy)(s||(s=(0,y.A)([' <div class="cards-container-header"> '," </div> "])),this.hass.localize("ui.panel.lovelace.editor.card.generic.suggested_cards")):x.s6,this._renderClipboardCard(),e.map(function(e){return e.element}),e.length>0?(0,x.qy)(o||(o=(0,y.A)([' <div class="cards-container-header"> '," </div> "])),this.hass.localize("ui.panel.lovelace.editor.card.generic.other_cards")):x.s6,t.map(function(e){return e.element}),r.length>0?(0,x.qy)(c||(c=(0,y.A)([' <div class="cards-container-header"> '," </div> "])),this.hass.localize("ui.panel.lovelace.editor.card.generic.custom_cards")):x.s6,r.map(function(e){return e.element})),this._cardPicked,{type:""},this.hass.localize("ui.panel.lovelace.editor.card.generic.manual"),this.hass.localize("ui.panel.lovelace.editor.card.generic.manual_description"))}},{key:"shouldUpdate",value:function(e){var t=e.get("hass");return!t||t.locale!==this.hass.locale}},{key:"firstUpdated",value:function(){var e=this;if(this.hass&&this.lovelace){var t=(0,L.S_)(this.lovelace),r=(0,L.Xd)(this.hass,t);this._usedEntities=(0,f.A)(t).filter(function(t){return e.hass.states[t]&&!(0,P.g0)(e.hass.states[t].state)}),this._unusedEntities=(0,f.A)(r).filter(function(t){return e.hass.states[t]&&!(0,P.g0)(e.hass.states[t].state)}),this._loadCards()}}},{key:"updated",value:function(e){if((0,k.A)(t,"updated",this,3)([e]),e.has("_filter")){var r=this.parentElement.shadowRoot.getElementById("content");r&&r.scrollTo({behavior:"auto",top:0})}}},{key:"_loadCards",value:function(){var e=this,t=U.j.map(function(t){var r;return Object.assign({name:e.hass.localize("ui.panel.lovelace.editor.card.".concat(t.type,".name")),description:e.hass.localize("ui.panel.lovelace.editor.card.".concat(t.type,".description")),isSuggested:(null===(r=e.suggestedCards)||void 0===r?void 0:r.includes(t.type))||!1},t)});t=t.sort(function(t,r){var i;return t.isSuggested&&!r.isSuggested?-1:!t.isSuggested&&r.isSuggested?1:(0,M.xL)(t.name||t.type,r.name||r.type,null===(i=e.hass)||void 0===i?void 0:i.language)}),H.J_.length>0&&(t=t.concat(H.J_.map(function(e){return{type:e.type,name:e.name,description:e.description,showElement:e.preview,isCustom:!0}}).sort(function(t,r){var i;return(0,M.xL)(t.name||t.type,r.name||r.type,null===(i=e.hass)||void 0===i?void 0:i.language)}))),this._cards=t.map(function(t){return{card:t,element:(0,x.qy)(d||(d=(0,y.A)(["",""])),(0,q.T)(e._renderCardElement(t),(0,x.qy)(l||(l=(0,y.A)([' <div class="card spinner"> <ha-spinner></ha-spinner> </div> '])))))}})}},{key:"_renderClipboardCard",value:function(){return this._clipboard?(0,x.qy)(u||(u=(0,y.A)([" ",""])),(0,q.T)(this._renderCardElement({type:this._clipboard.type,showElement:!0,isCustom:!1,name:this.hass.localize("ui.panel.lovelace.editor.card.generic.paste"),description:"".concat(this.hass.localize("ui.panel.lovelace.editor.card.generic.paste_description",{type:this._clipboard.type}))},this._clipboard),(0,x.qy)(h||(h=(0,y.A)([' <div class="card spinner"> <ha-spinner></ha-spinner> </div> ']))))):x.s6}},{key:"_handleSearchChange",value:function(e){this._filter=e.detail.value}},{key:"_cardPicked",value:function(e){var t=e.currentTarget.config;(0,I.r)(this,"config-changed",{config:t})}},{key:"_tryCreateCardElement",value:function(e){var t=this,r=(0,N.MJ)(e);return r.hass=this.hass,r.addEventListener("ll-rebuild",function(i){i.stopPropagation(),t._rebuildCard(r,e)},{once:!0}),r}},{key:"_rebuildCard",value:function(e,t){var r;try{r=this._tryCreateCardElement(t)}catch(i){return}e.parentElement&&e.parentElement.replaceChild(r,e)}},{key:"_renderCardElement",value:(r=(0,m.A)((0,g.A)().m(function e(t,r){var i,a,n,s,o,c,d,l;return(0,g.A)().w(function(e){for(;;)switch(e.n){case 0:if(i=t.type,a=t.showElement,n=t.isCustom,s=t.name,o=t.description,c=n?(0,H.wi)(i):void 0,n&&(i="".concat(H.IP).concat(i)),l=null!=r?r:{type:i},!this.hass||!this.lovelace){e.n=3;break}if(r){e.n=2;break}return e.n=1,(0,T.N)(this.hass,i,this._unusedEntities,this._usedEntities);case 1:l=e.v;case 2:if(a)try{d=this._tryCreateCardElement(l)}catch(u){d=void 0}case 3:return d&&(d.tabIndex=-1),e.a(2,(0,x.qy)(p||(p=(0,y.A)([' <div class="card" tabindex="0"> <div class="overlay" @click="','" .config="','"></div> <div class="card-header"> ',' </div> <div class="preview ','"> '," </div> <ha-ripple></ha-ripple> </div> "])),this._cardPicked,l,c?c.name||c.type:s,(0,S.H)({description:!d||"HUI-ERROR-CARD"===d.tagName}),d&&"HUI-ERROR-CARD"!==d.tagName?d:c?c.description||this.hass.localize("ui.panel.lovelace.editor.cardpicker.no_description"):o))}},e,this)})),function(e,t){return r.apply(this,arguments)})}],[{key:"styles",get:function(){return[(0,x.AH)(v||(v=(0,y.A)(["search-input{display:block;--mdc-shape-small:var(--card-picker-search-shape);margin:var(--card-picker-search-margin);position:sticky;top:0;z-index:10;background-color:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff))}.cards-container-header{font-size:var(--ha-font-size-l);font-weight:var(--ha-font-weight-medium);padding:12px 8px;margin:0;grid-column:1/-1;position:sticky;top:56px;z-index:1;background:linear-gradient(90deg,var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff)) 0%,#ffffff00 80%)}.cards-container{display:grid;grid-gap:8px 8px;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));margin-top:20px}.card{height:100%;max-width:500px;display:flex;flex-direction:column;border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));background:var(--primary-background-color,#fafafa);cursor:pointer;position:relative;overflow:hidden;border:var(--ha-card-border-width,1px) solid var(--ha-card-border-color,var(--divider-color))}.card-header{color:var(--ha-card-header-color,var(--primary-text-color));font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-font-size-l);font-weight:var(--ha-font-weight-bold);letter-spacing:-.012em;line-height:var(--ha-line-height-condensed);padding:12px 16px;display:block;text-align:center}.preview{pointer-events:none;margin:20px;flex-grow:1;display:flex;align-items:center;justify-content:center}.preview>:first-child{display:block;width:100%}.description{text-align:center}.spinner{align-items:center;justify-content:center}.overlay{position:absolute;width:100%;height:100%;z-index:1;box-sizing:border-box;border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg))}.manual{max-width:none;grid-column:1/-1}.icon{position:absolute;top:8px;right:8px inset-inline-start: 8px;inset-inline-end:8px;border-radius:var(--ha-border-radius-circle);--mdc-icon-size:16px;line-height:16px;box-sizing:border-box;color:var(--text-primary-color);padding:4px}.icon.custom{background:var(--warning-color)}"])))]}}]);var r,C}(x.WF);(0,C.Cg)([(0,z.MZ)({attribute:!1})],J.prototype,"hass",void 0),(0,C.Cg)([(0,z.MZ)({attribute:!1})],J.prototype,"suggestedCards",void 0),(0,C.Cg)([(0,z.wk)(),(0,j.I)({key:"dashboardCardClipboard",state:!0,subscribe:!0,storage:"sessionStorage"})],J.prototype,"_clipboard",void 0),(0,C.Cg)([(0,z.wk)()],J.prototype,"_cards",void 0),(0,C.Cg)([(0,z.wk)()],J.prototype,"_filter",void 0),J=(0,C.Cg)([(0,z.EM)("hui-card-picker")],J),t()}catch(Z){t(Z)}})},43100:function(e,t,r){r.a(e,async function(e,i){try{r.d(t,{N:function(){return c}});var a=r(61397),n=r(50264),s=(r(69085),r(8349)),o=e([s]);s=(o.then?(await o)():o)[0];var c=function(){var e=(0,n.A)((0,a.A)().m(function e(t,r,i,n){var o,c,d;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return o={type:r},e.n=1,(0,s.dY)(r);case 1:if(!(c=e.v)||!c.getStubConfig){e.n=3;break}return e.n=2,c.getStubConfig(t,i,n);case 2:d=e.v,o=Object.assign(Object.assign({},o),d);case 3:return e.a(2,o)}},e)}));return function(t,r,i,a){return e.apply(this,arguments)}}();i()}catch(d){i(d)}})},92708:function(e,t,r){r.d(t,{j:function(){return i}});var i=[{type:"alarm-panel",showElement:!0},{type:"button",showElement:!0},{type:"calendar",showElement:!0},{type:"clock",showElement:!0},{type:"entities",showElement:!0},{type:"entity",showElement:!0},{type:"gauge",showElement:!0},{type:"glance",showElement:!0},{type:"history-graph",showElement:!0},{type:"statistics-graph",showElement:!1},{type:"statistic",showElement:!0},{type:"humidifier",showElement:!0},{type:"light",showElement:!0},{type:"map",showElement:!0},{type:"markdown",showElement:!0},{type:"media-control",showElement:!0},{type:"picture",showElement:!0},{type:"picture-elements",showElement:!0},{type:"picture-entity",showElement:!0},{type:"picture-glance",showElement:!0},{type:"plant-status",showElement:!0},{type:"sensor",showElement:!0},{type:"thermostat",showElement:!0},{type:"weather-forecast",showElement:!0},{type:"area",showElement:!0},{type:"tile",showElement:!0},{type:"conditional"},{type:"entity-filter"},{type:"grid"},{type:"horizontal-stack"},{type:"iframe"},{type:"logbook"},{type:"vertical-stack"},{type:"todo-list"},{type:"heading",showElement:!0}]}}]);
//# sourceMappingURL=88815.78793e9658a729e9.js.map