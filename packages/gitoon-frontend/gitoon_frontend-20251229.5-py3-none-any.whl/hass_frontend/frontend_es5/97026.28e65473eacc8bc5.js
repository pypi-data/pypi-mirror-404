"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["97026"],{23528:function(e,t,n){n.a(e,async function(e,i){try{n.d(t,{$3:function(){return m},$O:function(){return C},$j:function(){return y},ED:function(){return s},JE:function(){return k},OQ:function(){return W},PU:function(){return z},Ph:function(){return h},Uf:function(){return A},W1:function(){return p},Wr:function(){return _},Z:function(){return l},gF:function(){return v},iY:function(){return x},jU:function(){return c},nN:function(){return w},p3:function(){return d},pJ:function(){return g},r_:function(){return u},sz:function(){return f}});n(74423),n(18111),n(13579),n(62953);var r=n(28978),a=n(380),o=e([a]);a=(o.then?(await o)():o)[0];var s=function(e){return e[e.NONE=0]="NONE",e[e.ARITHMETIC=1]="ARITHMETIC",e[e.CIRCULAR=2]="CIRCULAR",e}({});const c=["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"],u=["L","gal","ft³","m³","CCF","MCF"],l=e=>e.sendMessagePromise({type:"recorder/info"}),d=(e,t)=>e.callWS({type:"recorder/list_statistic_ids",statistic_type:t}),_=(e,t)=>e.callWS({type:"recorder/get_statistics_metadata",statistic_ids:t}),f=(e,t,n,i,r="hour",a,o)=>e.callWS({type:"recorder/statistics_during_period",start_time:t.toISOString(),end_time:null==n?void 0:n.toISOString(),statistic_ids:i,period:r,units:a,types:o}),g=(e,t,n,i)=>e.callWS({type:"recorder/statistic_during_period",statistic_id:t,units:i,fixed_period:n.fixed_period?{start_time:n.fixed_period.start instanceof Date?n.fixed_period.start.toISOString():n.fixed_period.start,end_time:n.fixed_period.end instanceof Date?n.fixed_period.end.toISOString():n.fixed_period.end}:void 0,calendar:n.calendar?{..."week"===n.calendar.period?{first_weekday:(0,a.D)(e.locale).substring(0,3)}:{},...n.calendar}:void 0,rolling_window:n.rolling_window}),h=e=>e.callWS({type:"recorder/validate_statistics"}),p=(e,t,n,i)=>e.callWS({type:"recorder/update_statistics_metadata",statistic_id:t,unit_of_measurement:n,unit_class:i}),m=(e,t)=>e.callWS({type:"recorder/clear_statistics",statistic_ids:t}),y=e=>{let t=null;if(!e)return null;for(const n of e)null!==n.change&&void 0!==n.change&&(null===t?t=n.change:t+=n.change);return t},v=(e,t)=>{let n=null;for(const i of t){if(!(i in e))continue;const t=y(e[i]);null!==t&&(null===n?n=t:n+=t)}return n},x=(e,t)=>e.some(e=>void 0!==e[t]&&null!==e[t]),S=["mean","min","max"],b=["sum","state","change"],w=(e,t)=>!(!S.includes(t)||0===e.mean_type)||!(!b.includes(t)||!e.has_sum),A=(e,t,n,i,r)=>{const a=new Date(n).toISOString();return e.callWS({type:"recorder/adjust_sum_statistics",statistic_id:t,start_time:a,adjustment:i,adjustment_unit_of_measurement:r})},C=(e,t,n)=>{const i=e.states[t];return i?(0,r.u)(i):(null==n?void 0:n.name)||t},k=(e,t,n)=>{let i;var r;t&&(i=null===(r=e.states[t])||void 0===r?void 0:r.attributes.unit_of_measurement);return void 0===i?null==n?void 0:n.statistics_unit_of_measurement:i},W=e=>e.includes(":"),z=e=>e.callWS({type:"recorder/update_statistics_issues"});i()}catch(c){i(c)}})},89979:function(e,t,n){n.a(e,async function(e,i){try{n.r(t);var r,a,o,s,c=n(72153),u=n(44734),l=n(43080),d=n(69683),_=n(6454),f=(n(28706),n(40445)),g=n(96196),h=n(77845),p=n(6415),m=(n(76776),n(5127)),y=(n(67094),n(38114)),v=n(54706),x=n(91874),S=n(784),b=e([m,y,x]);[m,y,x]=b.then?(await b)():b;var w={maximumFractionDigits:0},A=function(e){function t(){var e;(0,u.A)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=(0,d.A)(this,t,[].concat(i))).hassSubscribeRequiredHostProps=["_config"],e}return(0,_.A)(t,e),(0,l.A)(t,[{key:"hassSubscribe",value:function(){var e,t=this;return[(0,y.tb)(this.hass,{key:null===(e=this._config)||void 0===e?void 0:e.collection_key}).subscribe(function(e){t._data=e})]}},{key:"getCardSize",value:function(){return 4}},{key:"setConfig",value:function(e){this._config=e}},{key:"shouldUpdate",value:function(e){return(0,S.xP)(this,e)||e.size>1||!e.has("hass")}},{key:"render",value:function(){var e;if(!this._config||!this.hass)return g.s6;if(!this._data)return(0,g.qy)(r||(r=(0,c.A)(["",""])),this.hass.localize("ui.panel.lovelace.cards.energy.loading"));var t=(0,y.gv)(this._data),n=t.summedData;t.compareSummedData;if(!("solar"in n.total))return g.s6;var i,s=null!==(e=n.total.to_grid)&&void 0!==e?e:null;if(null!==s){var u=!!n.to_battery||!!n.from_battery;i=(0,y.pe)(u,n)}return(0,g.qy)(a||(a=(0,c.A)([" <ha-card> "," </ha-card> "])),void 0!==i?(0,g.qy)(o||(o=(0,c.A)([' <ha-gauge min="0" max="100" .value="','" label="%" .formatOptions="','" .locale="','" style="','"></ha-gauge> <ha-svg-icon id="info" .path="','"></ha-svg-icon> <ha-tooltip for="info" placement="left"> '," <br><br> ",' </ha-tooltip> <div class="name"> '," </div> "])),i,w,this.hass.locale,(0,p.W)({"--gauge-color":this._computeSeverity(i)}),"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.card_indicates_solar_energy_used"),this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.card_indicates_solar_energy_used_charge_home_bat"),this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.self_consumed_solar_energy")):null!==s?this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.not_produced_solar_energy"):this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.self_consumed_solar_could_not_calc"))}},{key:"_computeSeverity",value:function(e){return e>75?x.severityMap.green:e<50?x.severityMap.yellow:x.severityMap.normal}}])}((0,v.E)(g.WF));A.styles=(0,g.AH)(s||(s=(0,c.A)(["ha-card{height:100%;overflow:hidden;padding:16px;display:flex;align-items:center;justify-content:center;flex-direction:column;box-sizing:border-box}ha-gauge{width:100%;max-width:250px;direction:ltr}.name{text-align:center;line-height:initial;color:var(--primary-text-color);width:100%;font-size:var(--ha-font-size-m);margin-top:8px}ha-svg-icon{position:absolute;right:4px;inset-inline-end:4px;inset-inline-start:initial;top:4px;color:var(--secondary-text-color)}"]))),(0,f.Cg)([(0,h.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,f.Cg)([(0,h.wk)()],A.prototype,"_config",void 0),(0,f.Cg)([(0,h.wk)()],A.prototype,"_data",void 0),A=(0,f.Cg)([(0,h.EM)("hui-energy-solar-consumed-gauge-card")],A),i()}catch(C){i(C)}})},56434:function(e,t,n){n.d(t,{e:function(){return r}});var i=n(81977);function r(e,t,n){return(0,i.P)(e,12*t,n)}}}]);
//# sourceMappingURL=97026.28e65473eacc8bc5.js.map