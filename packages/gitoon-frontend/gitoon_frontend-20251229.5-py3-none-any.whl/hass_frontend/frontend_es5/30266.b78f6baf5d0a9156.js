"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["30266"],{64138:function(e,t,n){n.a(e,async function(e,o){try{n.r(t),n.d(t,{HaIconPicker:function(){return V}});var r,a,i,s=n(31432),c=n(44734),u=n(43080),l=n(69683),p=n(6454),h=n(72153),d=n(61397),v=n(7739),g=n(50264),f=(n(28706),n(2008),n(74423),n(23792),n(62062),n(44114),n(26910),n(18111),n(22489),n(7588),n(61701),n(13579),n(79432),n(26099),n(16034),n(3362),n(27495),n(21699),n(47764),n(25440),n(23500),n(62953),n(40445)),y=n(96196),_=n(77845),m=n(22786),A=n(1087),b=n(57769),k=(n(75064),n(38508)),C=(n(88945),e([k]));k=(C.then?(await C)():C)[0];var w=[],M=!1,Z=function(e,t){var n,o="".concat(t,":").concat(e.name),r=e.name,a=r.split("-"),i=null!==(n=e.keywords)&&void 0!==n?n:[],s={iconName:r};return a.forEach(function(e,t){s["part".concat(t)]=e}),i.forEach(function(e,t){s["keyword".concat(t)]=e}),{id:o,primary:o,icon:o,search_labels:s,sorting_label:o}},I=function(){var e=(0,g.A)((0,d.A)().m(function e(){var t,o;return(0,d.A)().w(function(e){for(;;)switch(e.n){case 0:return M=!0,e.n=1,n.e("81340").then(n.t.bind(n,25143,19));case 1:return t=e.v,w=t.default.map(function(e){return Z(e,"mdi")}),o=[],Object.keys(b.y).forEach(function(e){o.push(q(e))}),e.n=2,Promise.all(o);case 2:e.v.forEach(function(e){var t;(t=w).push.apply(t,(0,v.A)(e))});case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,g.A)((0,d.A)().m(function e(t){var n,o;return(0,d.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,"function"==typeof(n=b.y[t].getIconList)){e.n=1;break}return e.a(2,[]);case 1:return e.n=2,n();case 2:return o=e.v,e.a(2,o.map(function(e){return Z(e,t)}));case 3:return e.p=3,e.v,console.warn("Unable to load icon list for ".concat(t," iconset")),e.a(2,[])}},e,null,[[0,3]])}));return function(t){return e.apply(this,arguments)}}(),L=function(e){return(0,y.qy)(r||(r=(0,h.A)([' <ha-combo-box-item type="button"> <ha-icon .icon="','" slot="start"></ha-icon> '," </ha-combo-box-item> "])),e.id,e.id)},V=function(e){function t(){var e;(0,c.A)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=(0,l.A)(this,t,[].concat(o))).disabled=!1,e.required=!1,e.invalid=!1,e._getIconPickerItems=function(){return w},e._filterIcons=(0,m.A)(function(e,t,n){var o=e.toLowerCase().replace(/\s+/g,"-"),r=null!=n&&n.length?n:t;if(!o.length)return r;var a,i=[],c=(0,s.A)(r);try{for(c.s();!(a=c.n()).done;){var u=a.value,l=(u.id.split(":")[1]||u.id).toLowerCase().split("-"),p=u.search_labels?Object.values(u.search_labels).filter(function(e){return null!==e}).map(function(e){return e.toLowerCase()}):[],h=u.id.toLowerCase();l.includes(o)?i.push({item:u,rank:1}):p.includes(o)?i.push({item:u,rank:2}):h.includes(o)?i.push({item:u,rank:3}):p.some(function(e){return e.includes(o)})&&i.push({item:u,rank:4})}}catch(d){c.e(d)}finally{c.f()}return 0===i.length&&i.push({item:{id:e,primary:e,icon:e,search_labels:{keyword:e},sorting_label:e},rank:0}),i.sort(function(e,t){return e.rank-t.rank}).map(function(e){return e.item})}),e}return(0,p.A)(t,e),(0,u.A)(t,[{key:"render",value:function(){var e;return(0,y.qy)(a||(a=(0,h.A)([' <ha-generic-picker .hass="','" allow-custom-value .getItems="','" .helper="','" .disabled="','" .required="','" .errorMessage="','" .invalid="','" .rowRenderer="','" .icon="','" .label="','" .value="','" .searchFn="','" .notFoundLabel="','" popover-placement="bottom-start" @value-changed="','"> <slot name="start"></slot> </ha-generic-picker> '])),this.hass,this._getIconPickerItems,this.helper,this.disabled,this.required,this.errorMessage,this.invalid,L,this._icon,this.label,this._value,this._filterIcons,null===(e=this.hass)||void 0===e?void 0:e.localize("ui.components.icon-picker.no_match"),this._valueChanged)}},{key:"firstUpdated",value:function(){var e=this;M||I().then(function(){e._getIconPickerItems=function(){return w},e.requestUpdate()})}},{key:"_valueChanged",value:function(e){e.stopPropagation(),this._setValue(e.detail.value)}},{key:"_setValue",value:function(e){this.value=e,(0,A.r)(this,"value-changed",{value:this._value},{bubbles:!1,composed:!1})}},{key:"_icon",get:function(){var e;return null!==(e=this.value)&&void 0!==e&&e.length?this.value:this.placeholder}},{key:"_value",get:function(){return this.value||""}}])}(y.WF);V.styles=(0,y.AH)(i||(i=(0,h.A)(["ha-generic-picker{width:100%;display:block}"]))),(0,f.Cg)([(0,_.MZ)({attribute:!1})],V.prototype,"hass",void 0),(0,f.Cg)([(0,_.MZ)()],V.prototype,"value",void 0),(0,f.Cg)([(0,_.MZ)()],V.prototype,"label",void 0),(0,f.Cg)([(0,_.MZ)()],V.prototype,"helper",void 0),(0,f.Cg)([(0,_.MZ)()],V.prototype,"placeholder",void 0),(0,f.Cg)([(0,_.MZ)({attribute:"error-message"})],V.prototype,"errorMessage",void 0),(0,f.Cg)([(0,_.MZ)({type:Boolean})],V.prototype,"disabled",void 0),(0,f.Cg)([(0,_.MZ)({type:Boolean})],V.prototype,"required",void 0),(0,f.Cg)([(0,_.MZ)({type:Boolean})],V.prototype,"invalid",void 0),V=(0,f.Cg)([(0,_.EM)("ha-icon-picker")],V),o()}catch(E){o(E)}})},16536:function(e,t,n){n.a(e,async function(e,t){try{var o,r,a,i,s,c,u=n(61397),l=n(50264),p=n(7739),h=n(72153),d=n(44734),v=n(43080),g=n(69683),f=n(6454),y=(n(28706),n(2008),n(74423),n(23792),n(62062),n(18111),n(22489),n(61701),n(36033),n(26099),n(31415),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(21699),n(47764),n(11392),n(62953),n(40445)),_=n(96196),m=n(77845),A=n(22786),b=n(1087),k=n(38508),C=(n(67094),n(76570)),w=n(54706),M=n(90986),Z=e([k]);k=(Z.then?(await Z)():Z)[0];var I="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",q="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",L="___ADD_NEW___",V="___NO_CATEGORIES___",E=function(e){function t(){var e;(0,d.A)(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return(e=(0,g.A)(this,t,[].concat(c))).noAdd=!1,e.disabled=!1,e.required=!1,e.hassSubscribeRequiredHostProps=["scope"],e._categoryMap=(0,A.A)(function(e){return e?new Map(e.map(function(e){return[e.category_id,e]})):new Map}),e._computeValueRenderer=(0,A.A)(function(t){return function(n){var s=e._categoryMap(t).get(n);return s?(0,_.qy)(r||(r=(0,h.A)([" ",' <span slot="headline">',"</span> "])),s.icon?(0,_.qy)(a||(a=(0,h.A)(['<ha-icon slot="start" .icon="','"></ha-icon>'])),s.icon):(0,_.qy)(i||(i=(0,h.A)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),q),s.name):(0,_.qy)(o||(o=(0,h.A)([' <ha-svg-icon slot="start" .path="','"></ha-svg-icon> <span slot="headline">',"</span> "])),q,n)}}),e._getCategories=(0,A.A)(function(t){return t&&0!==t.length?t.map(function(e){return{id:e.category_id,primary:e.name,icon:e.icon||void 0,icon_path:e.icon?void 0:q,sorting_label:e.name}}):[{id:V,primary:e.hass.localize("ui.components.category-picker.no_categories"),icon_path:q}]}),e._getItems=function(){return e._getCategories(e._categories)},e._allCategoryNames=(0,A.A)(function(e){return e?(0,p.A)(new Set(e.map(function(e){return e.name.toLowerCase()}).filter(Boolean))):[]}),e._getAdditionalItems=function(t){if(e.noAdd)return[];var n=e._allCategoryNames(e._categories);return t&&!n.includes(t.toLowerCase())?[{id:L+t,primary:e.hass.localize("ui.components.category-picker.add_new_sugestion",{name:t}),icon_path:I}]:[{id:L,primary:e.hass.localize("ui.components.category-picker.add_new"),icon_path:I}]},e._notFoundLabel=function(t){return e.hass.localize("ui.components.category-picker.no_match",{term:(0,_.qy)(s||(s=(0,h.A)(["<b>‘","’</b>"])),t)})},e}return(0,f.A)(t,e),(0,v.A)(t,[{key:"open",value:(n=(0,l.A)((0,u.A)().m(function e(){var t;return(0,u.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this._picker)||void 0===t?void 0:t.open();case 2:return e.a(2)}},e,this)})),function(){return n.apply(this,arguments)})},{key:"hassSubscribe",value:function(){var e=this;return[(0,C.Ar)(this.hass.connection,this.scope,function(t){e._categories=t})]}},{key:"render",value:function(){var e=this._computeValueRenderer(this._categories);return(0,_.qy)(c||(c=(0,h.A)([' <ha-generic-picker .hass="','" .autofocus="','" .label="','" .placeholder="','" .value="','" .notFoundLabel="','" .emptyLabel="','" .getItems="','" .getAdditionalItems="','" .valueRenderer="','" .unknownItemText="','" @value-changed="','"> </ha-generic-picker> '])),this.hass,this.autofocus,this.label,this.placeholder,this.value,this._notFoundLabel,this.hass.localize("ui.components.category-picker.no_categories"),this._getItems,this._getAdditionalItems,e,this.hass.localize("ui.components.category-picker.unknown"),this._valueChanged)}},{key:"_valueChanged",value:function(e){var t=this;e.stopPropagation();var n=e.detail.value;if(n!==V)if(n)if(n.startsWith(L)){this.hass.loadFragmentTranslation("config");var o=n.substring(13);(0,M.S)(this,{scope:this.scope,suggestedName:o,createEntry:(r=(0,l.A)((0,u.A)().m(function e(n){var o;return(0,u.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,C.s_)(t.hass,t.scope,n);case 1:return o=e.v,t._setValue(o.category_id),e.a(2,o)}},e)})),function(e){return r.apply(this,arguments)})})}else{var r;this._setValue(n)}else this._setValue(void 0)}},{key:"_setValue",value:function(e){var t=this;this.value=e,setTimeout(function(){(0,b.r)(t,"value-changed",{value:e}),(0,b.r)(t,"change")},0)}}]);var n}((0,w.E)(_.WF));(0,y.Cg)([(0,m.MZ)({attribute:!1})],E.prototype,"hass",void 0),(0,y.Cg)([(0,m.MZ)()],E.prototype,"scope",void 0),(0,y.Cg)([(0,m.MZ)()],E.prototype,"label",void 0),(0,y.Cg)([(0,m.MZ)()],E.prototype,"value",void 0),(0,y.Cg)([(0,m.MZ)()],E.prototype,"helper",void 0),(0,y.Cg)([(0,m.MZ)()],E.prototype,"placeholder",void 0),(0,y.Cg)([(0,m.MZ)({type:Boolean,attribute:"no-add"})],E.prototype,"noAdd",void 0),(0,y.Cg)([(0,m.MZ)({type:Boolean})],E.prototype,"disabled",void 0),(0,y.Cg)([(0,m.MZ)({type:Boolean})],E.prototype,"required",void 0),(0,y.Cg)([(0,m.wk)()],E.prototype,"_categories",void 0),(0,y.Cg)([(0,m.P)("ha-generic-picker")],E.prototype,"_picker",void 0),E=(0,y.Cg)([(0,m.EM)("ha-category-picker")],E),t()}catch(H){t(H)}})}}]);
//# sourceMappingURL=30266.b78f6baf5d0a9156.js.map