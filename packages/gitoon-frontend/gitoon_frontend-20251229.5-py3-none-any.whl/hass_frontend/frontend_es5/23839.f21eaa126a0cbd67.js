"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["23839"],{90433:function(t,n,e){e.d(n,{Vy:function(){return a},fI:function(){return u},ux:function(){return c}});e(23418),e(47764);var o=e(22786),i=e(79468),r=54;function a(t,n){var e=t%r+1;return n.getPropertyValue("--color-".concat(e))}function u(t,n){var e=n.getPropertyValue("--graph-color-".concat(t+1))||a(t,n);return(0,i.RQ)(e)}var c=(0,o.A)(function(t){return Array.from({length:r},function(n,e){return u(e,t)})},function(t,n){return t[0].getPropertyValue("--graph-color-1")===n[0].getPropertyValue("--graph-color-1")&&t[0].getPropertyValue("--color-1")===n[0].getPropertyValue("--color-1")})},72487:function(t,n,e){e.a(t,async function(t,o){try{e.d(n,{CA:function(){return z},Pm:function(){return A},Wq:function(){return b},Yq:function(){return s},fr:function(){return p},gu:function(){return C},kz:function(){return h},sl:function(){return y},zB:function(){return d}});var i=e(26520),r=(e(28706),e(50113),e(18111),e(20116),e(26099),e(74487)),a=e(22786),u=e(46927),c=e(8480),l=t([r,c]);[r,c]=l.then?(await l)():l;(0,a.A)(function(t,n){return new Intl.DateTimeFormat(t.language,{weekday:"long",month:"long",day:"numeric",timeZone:(0,c.w)(t.time_zone,n)})});var s=function(t,n,e){return f(n,e.time_zone).format(t)},f=(0,a.A)(function(t,n){return new Intl.DateTimeFormat(t.language,{year:"numeric",month:"long",day:"numeric",timeZone:(0,c.w)(t.time_zone,n)})}),h=function(t,n,e){return m(n,e.time_zone).format(t)},m=(0,a.A)(function(t,n){return new Intl.DateTimeFormat(t.language,{year:"numeric",month:"short",day:"numeric",timeZone:(0,c.w)(t.time_zone,n)})}),d=function(t,n,e){var o,r,a,c,l=g(n,e.time_zone);if(n.date_format===u.ow.language||n.date_format===u.ow.system)return l.format(t);var s=l.formatToParts(t),f=null===(o=s.find(function(t){return"literal"===t.type}))||void 0===o?void 0:o.value,h=null===(r=s.find(function(t){return"day"===t.type}))||void 0===r?void 0:r.value,m=null===(a=s.find(function(t){return"month"===t.type}))||void 0===a?void 0:a.value,d=null===(c=s.find(function(t){return"year"===t.type}))||void 0===c?void 0:c.value,y=s[s.length-1],v="literal"===(null==y?void 0:y.type)?null==y?void 0:y.value:"";return"bg"===n.language&&n.date_format===u.ow.YMD&&(v=""),(0,i.A)((0,i.A)((0,i.A)({},u.ow.DMY,"".concat(h).concat(f).concat(m).concat(f).concat(d).concat(v)),u.ow.MDY,"".concat(m).concat(f).concat(h).concat(f).concat(d).concat(v)),u.ow.YMD,"".concat(d).concat(f).concat(m).concat(f).concat(h).concat(v))[n.date_format]},g=(0,a.A)(function(t,n){var e=t.date_format===u.ow.system?void 0:t.language;return t.date_format===u.ow.language||(t.date_format,u.ow.system),new Intl.DateTimeFormat(e,{year:"numeric",month:"numeric",day:"numeric",timeZone:(0,c.w)(t.time_zone,n)})}),y=function(t,n,e){return v(n,e.time_zone).format(t)},v=(0,a.A)(function(t,n){return new Intl.DateTimeFormat(t.language,{day:"numeric",month:"short",timeZone:(0,c.w)(t.time_zone,n)})}),p=function(t,n,e){return _(n,e.time_zone).format(t)},_=(0,a.A)(function(t,n){return new Intl.DateTimeFormat(t.language,{month:"long",year:"numeric",timeZone:(0,c.w)(t.time_zone,n)})}),b=function(t,n,e){return w(n,e.time_zone).format(t)},w=(0,a.A)(function(t,n){return new Intl.DateTimeFormat(t.language,{month:"long",timeZone:(0,c.w)(t.time_zone,n)})}),A=function(t,n,e){return x(n,e.time_zone).format(t)},x=(0,a.A)(function(t,n){return new Intl.DateTimeFormat(t.language,{year:"numeric",timeZone:(0,c.w)(t.time_zone,n)})}),z=function(t,n,e){return M(n,e.time_zone).format(t)},M=(0,a.A)(function(t,n){return new Intl.DateTimeFormat(t.language,{weekday:"long",timeZone:(0,c.w)(t.time_zone,n)})}),C=function(t,n,e){return k(n,e.time_zone).format(t)},k=(0,a.A)(function(t,n){return new Intl.DateTimeFormat(t.language,{weekday:"short",timeZone:(0,c.w)(t.time_zone,n)})});o()}catch(D){o(D)}})},30162:function(t,n,e){e.a(t,async function(t,o){try{e.d(n,{LW:function(){return g},Xs:function(){return m},fU:function(){return l},ie:function(){return f}});var i=e(74487),r=e(22786),a=e(8480),u=e(69543),c=t([i,a]);[i,a]=c.then?(await c)():c;var l=function(t,n,e){return s(n,e.time_zone).format(t)},s=(0,r.A)(function(t,n){return new Intl.DateTimeFormat(t.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,u.J)(t)?"h12":"h23",timeZone:(0,a.w)(t.time_zone,n)})}),f=function(t,n,e){return h(n,e.time_zone).format(t)},h=(0,r.A)(function(t,n){return new Intl.DateTimeFormat(t.language,{hour:(0,u.J)(t)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,u.J)(t)?"h12":"h23",timeZone:(0,a.w)(t.time_zone,n)})}),m=function(t,n,e){return d(n,e.time_zone).format(t)},d=(0,r.A)(function(t,n){return new Intl.DateTimeFormat(t.language,{weekday:"long",hour:(0,u.J)(t)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,u.J)(t)?"h12":"h23",timeZone:(0,a.w)(t.time_zone,n)})}),g=function(t,n,e){return y(n,e.time_zone).format(t)},y=(0,r.A)(function(t,n){return new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,a.w)(t.time_zone,n)})});o()}catch(v){o(v)}})},8480:function(t,n,e){e.a(t,async function(t,o){try{e.d(n,{n:function(){return f},w:function(){return h}});var i,r,a,u=e(74487),c=e(46927),l=t([u]);u=(l.then?(await l)():l)[0];var s=null===(i=Intl.DateTimeFormat)||void 0===i||null===(r=(a=i.call(Intl)).resolvedOptions)||void 0===r?void 0:r.call(a).timeZone,f=null!=s?s:"UTC",h=function(t,n){return t===c.Wj.local&&s?f:n};o()}catch(m){o(m)}})},69543:function(t,n,e){e.d(n,{J:function(){return r}});e(74423),e(21699);var o=e(22786),i=e(46927),r=(0,o.A)(function(t){if(t.time_format===i.Hg.language||t.time_format===i.Hg.system){var n=t.time_format===i.Hg.language?t.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(n).includes("10")}return t.time_format===i.Hg.am_pm})},76774:function(t,n,e){e.d(n,{w:function(){return o}});var o=function(t,n){var e=t.area_id,o=e?n.areas[e]:void 0,i=null==o?void 0:o.floor_id;return{device:t,area:o||null,floor:(i?n.floors[i]:void 0)||null}}},75428:function(t,n,e){e.d(n,{D:function(){return r}});var o=e(75158),i=e.n(o),r=function(t){return i()(t,{whiteList:{},stripIgnoreTag:!0,stripIgnoreTagBody:!0})}},34218:function(t,n,e){e.d(n,{P:function(){return a}});var o=e(47075),i=e(78261),r=e(31432);e(23792),e(44114),e(72712),e(18111),e(18237),e(36033),e(2892),e(26099),e(47764),e(62953);function a(t,n,e,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!t)return[];if(t.length<=n)return t;var c,l=null!=e?e:u(t[0])[0],s=null!=o?o:u(t[t.length-1])[0],f=Math.ceil((s-l)/Math.floor(n)),h=new Map,m=(0,r.A)(t);try{for(m.s();!(c=m.n()).done;){var d=c.value,g=u(d);if(Array.isArray(g)){var y=Number(g[0]),v=Number(g[1]);if(!isNaN(y)&&!isNaN(v)){var p=Math.floor((y-l)/f),_=h.get(p);_?_.push({point:d,x:y,y:v}):h.set(p,[{point:d,x:y,y:v}])}}}}catch(j){m.e(j)}finally{m.f()}var b=[];if(a){var w,A=(0,r.A)(h);try{for(A.s();!(w=A.n()).done;){var x=(0,i.A)(w.value,2),z=(x[0],x[1]),M=z.reduce(function(t,n){return t+n.y},0),C=M/z.length,k=z.reduce(function(t,n){return t+n.x},0),D=k/z.length,P=u(z[0].point),I=Array.isArray(P)?[D,C]:{value:[D,C]};b.push(I)}}catch(j){A.e(j)}finally{A.f()}}else{var L,F=(0,r.A)(h);try{for(F.s();!(L=F.n()).done;){var T,Z=(0,i.A)(L.value,2),S=(Z[0],Z[1]),N=S[0],H=S[0],V=(0,r.A)(S);try{for(V.s();!(T=V.n()).done;){var E=T.value;E.y<N.y&&(N=E),E.y>H.y&&(H=E)}}catch(j){V.e(j)}finally{V.f()}N.x>H.x&&b.push(H.point),b.push(N.point),N.x<H.x&&b.push(H.point)}}catch(j){F.e(j)}finally{F.f()}}return b}function u(t){return t&&"object"===(0,o.A)(t)&&"value"in t?t.value:t}},7358:function(t,n,e){e.a(t,async function(t,n){try{var o,i,r=e(72153),a=e(44734),u=e(43080),c=e(69683),l=e(6454),s=(e(28706),e(2008),e(50113),e(23792),e(62062),e(44114),e(18111),e(22489),e(20116),e(7588),e(61701),e(69085),e(26099),e(3362),e(47764),e(23500),e(62953),e(40445)),f=e(96196),h=e(77845),m=e(22786),d=e(71769),g=e(44439),y=e(54706),v=e(19459),p=t([g]);g=(p.then?(await p)():p)[0];var _,b=function(t){function n(){var t;return(0,a.A)(this,n),(t=(0,c.A)(this,n))._reducedMotion=!1,t._physicsEnabled=!0,t._showLabels=!0,t._nodePositions={},t._createOptions=(0,m.A)(function(n){return{tooltip:{trigger:"item",confine:!0,formatter:t.tooltipFormatter},legend:{show:!(null==n||!n.length),data:null==n?void 0:n.map(function(t){return Object.assign(Object.assign({},t),{},{icon:t.symbol})}),top:8},dataZoom:{type:"inside",filterMode:"none"}}},v.b),t._getSeries=(0,m.A)(function(n,e,o,i,r){return{id:"network",type:"graph",layout:e?"force":"none",draggable:!0,roam:!0,roamTrigger:"global",selectedMode:"single",label:{show:i,position:"right",formatter:function(t){var n,e,o=t.data;return o.context?"{primary|".concat(null!==(e=o.name)&&void 0!==e?e:"","}\n{secondary|").concat(o.context,"}"):null!==(n=o.name)&&void 0!==n?n:""},rich:{primary:{fontSize:12},secondary:{fontSize:12,color:getComputedStyle(document.body).getPropertyValue("--secondary-text-color"),lineHeight:16}}},emphasis:{focus:r?"none":"adjacency"},force:{repulsion:[400,600],edgeLength:[200,350],gravity:.05,layoutAnimation:!o&&n.nodes.length<100},edgeSymbol:["none","arrow"],edgeSymbolSize:10,data:t._getSeriesData(n.nodes,n.links,t._nodePositions),links:n.links.map(function(t){var n;return Object.assign(Object.assign({},t),{},{value:t.reverseValue?Math.max(null!==(n=t.value)&&void 0!==n?n:0,t.reverseValue):t.value,symbolSize:t.reverseValue?1:t.symbolSize})}),categories:n.categories||[]}},v.b),t._getSeriesData=(0,m.A)(function(n,e,o){return t._getPositionedNodes(n,e,o).map(function(t){return{id:t.id,name:t.name,context:t.context,category:t.category,value:t.value,symbolSize:t.symbolSize||30,symbol:t.symbol||"circle",itemStyle:t.itemStyle||{},fixed:t.fixed,x:t.x,y:t.y}})},v.b),_||Promise.all([e.e("49021"),e.e("37552"),e.e("54671"),e.e("50383"),e.e("9970"),e.e("40584"),e.e("57400")]).then(e.bind(e,94230)).then(function(n){_=n,t.requestUpdate()}),t}return(0,l.A)(n,t),(0,u.A)(n,[{key:"hassSubscribe",value:function(){var t=this;return[(0,d.m)("(prefers-reduced-motion)",function(n){t._reducedMotion!==n&&(t._reducedMotion=n)})]}},{key:"render",value:function(){var t,n;if(!_||null===(t=this.data.nodes)||void 0===t||!t.length)return f.s6;var e=window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches;return(0,f.qy)(o||(o=(0,r.A)(['<ha-chart-base .hass="','" .data="','" .options="','" height="100%" .extraComponents="','"> <slot name="button" slot="button"></slot> <ha-icon-button slot="button" class="','" .path="','" @click="','" label="','"></ha-icon-button> <ha-icon-button slot="button" class="','" .path="','" @click="','" label="','"></ha-icon-button> </ha-chart-base>'])),this.hass,this._getSeries(this.data,this._physicsEnabled,this._reducedMotion,this._showLabels,e),this._createOptions(null===(n=this.data)||void 0===n?void 0:n.categories),[_],this._physicsEnabled?"active":"inactive","M5,10A2,2 0 0,0 3,12C3,13.11 3.9,14 5,14C6.11,14 7,13.11 7,12A2,2 0 0,0 5,10M5,16A4,4 0 0,1 1,12A4,4 0 0,1 5,8A4,4 0 0,1 9,12A4,4 0 0,1 5,16M10.5,11H14V8L18,12L14,16V13H10.5V11M5,6C4.55,6 4.11,6.05 3.69,6.14C5.63,3.05 9.08,1 13,1C19.08,1 24,5.92 24,12C24,18.08 19.08,23 13,23C9.08,23 5.63,20.95 3.69,17.86C4.11,17.95 4.55,18 5,18C5.8,18 6.56,17.84 7.25,17.56C8.71,19.07 10.74,20 13,20A8,8 0 0,0 21,12A8,8 0 0,0 13,4C10.74,4 8.71,4.93 7.25,6.44C6.56,6.16 5.8,6 5,6Z",this._togglePhysics,this.hass.localize("ui.panel.config.common.graph.toggle_physics"),this._showLabels?"active":"inactive","M9.6,14L12,7.7L14.4,14M11,5L5.5,19H7.7L8.8,16H15L16.1,19H18.3L13,5H11Z",this._toggleLabels,this.hass.localize("ui.panel.config.common.graph.toggle_labels"))}},{key:"_getPositionedNodes",value:function(t,n,e){var o=this,i=this.clientWidth,r=this.clientHeight,a=t.map(function(t){return Object.assign({},t)});return a.forEach(function(t){e[t.id]&&(t.x=e[t.id].x,t.y=e[t.id].y),0===t.polarDistance&&(null==t.x&&null==t.y&&(t.x=i/2,t.y=r/2),o._positionNodeNeighbors(t,a,n,e))}),a.forEach(function(t){if(t.polarDistance&&null==t.x&&null==t.y){var n=2*Math.random()*Math.PI;t.x=Math.cos(n)*i/2*t.polarDistance+i/2,t.y=Math.sin(n)*r/2*t.polarDistance+r/2,o._nodePositions[t.id]={x:t.x,y:t.y}}}),a}},{key:"_positionNodeNeighbors",value:function(t,n,e,o,i){var r=this,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI,c=e.map(function(e){return e.source!==t.id||e.target===i||e.ignoreForceLayout?e.target!==t.id||e.source===i||e.ignoreForceLayout?null:n.find(function(t){return t.id===e.source}):n.find(function(t){return t.id===e.target})}).filter(Boolean);if(c.length){var l=Math.abs(u-a)/c.length,s=[];c.forEach(function(n,e){if(null==n.x&&null==n.y){var i=a+l*e+l/2;s.push({neighbor:n,angle:i}),o[n.id]?(n.x=o[n.id].x,n.y=o[n.id].y):(n.x=t.x+Math.cos(i)*r.clientWidth/4,n.y=t.y+Math.sin(i)*r.clientHeight/4)}}),s.forEach(function(i){var a=i.neighbor,u=i.angle;r._positionNodeNeighbors(a,n,e,o,t.id,u-Math.PI/2,u+Math.PI/2)})}}},{key:"_togglePhysics",value:function(){this._saveNodePositions(),this._physicsEnabled=!this._physicsEnabled}},{key:"_toggleLabels",value:function(){this._showLabels=!this._showLabels}},{key:"_saveNodePositions",value:function(){var t,n={};null!==(t=this._baseChart)&&void 0!==t&&t.chart&&this._baseChart.chart.getModel().getSeriesByIndex(0).getGraph().eachNode(function(t){var e=t.getLayout();e&&(n[t.id]={x:e[0],y:e[1]})}),this._nodePositions=n}}])}((0,y.E)(f.WF));b.styles=(0,f.AH)(i||(i=(0,r.A)([":host{display:block;position:relative}ha-chart-base{height:100%;--chart-max-height:100%}::slotted(ha-icon-button),ha-icon-button{margin-right:12px}"]))),(0,s.Cg)([(0,h.MZ)({attribute:!1})],b.prototype,"data",void 0),(0,s.Cg)([(0,h.MZ)({attribute:!1})],b.prototype,"tooltipFormatter",void 0),(0,s.Cg)([(0,h.wk)()],b.prototype,"_reducedMotion",void 0),(0,s.Cg)([(0,h.wk)()],b.prototype,"_physicsEnabled",void 0),(0,s.Cg)([(0,h.wk)()],b.prototype,"_showLabels",void 0),(0,s.Cg)([(0,h.P)("ha-chart-base")],b.prototype,"_baseChart",void 0),b=(0,s.Cg)([(0,h.EM)("ha-network-graph")],b),n()}catch(w){n(w)}})}}]);
//# sourceMappingURL=23839.f21eaa126a0cbd67.js.map