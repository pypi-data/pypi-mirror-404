"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["37136"],{41758:function(t,i,e){e.d(i,{o:function(){return r}});e(28706),e(23792),e(26910),e(18111),e(7588),e(36033),e(26099),e(47764),e(23500),e(62953);var n=e(92126),a=e(79622),o=!1;n.j._pipeline.generator.register("default",function(t){t.sort(function(t,i){return i.population-t.population});for(var i,e=t[0],n=new Map,r=function(t,i){return n.has(t)||n.set(t,(0,a.$W)(e.rgb,i)),n.get(t)>4.5},s=1;s<t.length&&void 0===i;s++){if(r(t[s].hex,t[s].rgb)){o,i=t[s].rgb;break}var c=t[s];o;for(var h=s+1;h<t.length;h++){var l=t[h],d=Math.abs(c.rgb[0]-l.rgb[0])+Math.abs(c.rgb[1]-l.rgb[1])+Math.abs(c.rgb[2]-l.rgb[2]);if(!(d>150)&&r(l.hex,l.rgb)){o,i=l.rgb;break}}}return void 0===i&&(i=e.getYiq()<200?[255,255,255]:[0,0,0]),{foreground:new e.constructor(i,0),background:e}});var r=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return new n.j(t,{colorCount:i}).getPalette().then(function(t){var i=t.foreground;return{background:t.background,foreground:i}})}},36358:function(t,i,e){e.d(i,{g:function(){return a}});e(23792),e(26099),e(3362),e(47764),e(62953);var n=e(1087),a=function(t,i){(0,n.r)(t,"show-dialog",{dialogTag:"dialog-join-media-players",dialogImport:function(){return Promise.all([e.e("93785"),e.e("12036"),e.e("48209")]).then(e.bind(e,16106))},dialogParams:i})}},95287:function(t,i,e){e.d(i,{O:function(){return a}});e(23792),e(26099),e(3362),e(47764),e(62953);var n=e(1087),a=function(t,i){(0,n.r)(t,"show-dialog",{dialogTag:"dialog-media-player-browse",dialogImport:function(){return Promise.all([e.e("44533"),e.e("7199"),e.e("49021"),e.e("46095"),e.e("76068"),e.e("63768"),e.e("92769"),e.e("8124"),e.e("93785"),e.e("44966"),e.e("26767"),e.e("80131"),e.e("47251"),e.e("22397"),e.e("34326"),e.e("34861"),e.e("52242"),e.e("16360"),e.e("12036"),e.e("49932"),e.e("68662"),e.e("51146"),e.e("7592"),e.e("39005"),e.e("8851"),e.e("44838"),e.e("39708"),e.e("81673"),e.e("53992")]).then(e.bind(e,93565))},dialogParams:i})}},92723:function(t,i,e){e.a(t,async function(t,n){try{e.r(i),e.d(i,{HuiMediaControlCard:function(){return F}});var a,o,r,s,c,h,l,d,u,g,p,v,f=e(61397),m=e(50264),_=e(72153),b=e(44734),y=e(43080),k=e(69683),w=e(6454),A=e(25460),x=e(69235),C=(e(16280),e(28706),e(23792),e(62062),e(18111),e(61701),e(26099),e(3362),e(47764),e(62953),e(40445)),q=e(43306),M=e(96196),j=e(77845),O=e(94333),z=e(6415),I=e(42372),H=e(1087),B=e(47129),P=e(82286),W=e(41758),E=e(9899),S=(e(76776),e(26300),e(93367)),U=e(36358),N=e(95287),V=e(22675),L=e(53072),$=e(37642),R=e(13632),Z=e(784),T=(e(12895),e(85979)),X=t([x,q,S]);[x,q,S]=X.then?(await X)():X;var F=function(t){function i(){var t;(0,b.A)(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=(0,k.A)(this,i,[].concat(n)))._narrow=!1,t._veryNarrow=!1,t._cardHeight=0,t._marqueeActive=!1,t}return(0,w.A)(i,t),(0,y.A)(i,[{key:"getCardSize",value:function(){return 3}},{key:"setConfig",value:function(t){var i=this;if(!t.entity||"media_player"!==t.entity.split(".")[0])throw new Error("Specify an entity from within the media_player domain");this._config=t,this.updateComplete.then(function(){return i._measureCard()})}},{key:"connectedCallback",value:function(){var t=this;if((0,A.A)(i,"connectedCallback",this,3)([]),this.updateComplete.then(function(){return t._attachObserver()}),this.hass&&this._config){var e=this._stateObj;e&&!this._progressInterval&&this._showProgressBar&&"playing"===e.state&&(this._progressInterval=window.setInterval(function(){return t._updateProgressBar()},1e3))}}},{key:"disconnectedCallback",value:function(){(0,A.A)(i,"disconnectedCallback",this,3)([]),this._progressInterval&&(clearInterval(this._progressInterval),this._progressInterval=void 0),this._resizeObserver&&this._resizeObserver.disconnect()}},{key:"render",value:function(){var t,i,e=this;if(!this.hass||!this._config)return M.s6;var n=this._stateObj;if(!n)return(0,M.qy)(a||(a=(0,_.A)([' <hui-warning .hass="','"> '," </hui-warning> "])),this.hass,(0,T.j)(this.hass,this._config.entity));var v={"background-image":this._image?"url(".concat(this.hass.hassUrl(this._image),")"):"none",width:"".concat(this._cardHeight,"px"),"background-color":this._backgroundColor||""},f={"background-image":"linear-gradient(to right, ".concat(this._backgroundColor,", ").concat(this._backgroundColor+"00",")"),width:"".concat(this._cardHeight,"px")},m=n.state,b=!(0,B.a)(n)&&!(0,V.g0)(m),y=(0,V.g0)(m)||b&&!(0,P.$)(n,L.vj.TURN_ON),k=!this._image,w=(0,L.Un)(n,!1),A=w&&(!this._veryNarrow||b||"idle"===m||"on"===m),x=(0,L.mm)(n),C=(0,L.HN)(n.attributes.media_title),q=null===(t=n.attributes.group_members)||void 0===t?void 0:t.length;return(0,M.qy)(o||(o=(0,_.A)([' <ha-card> <div class="background ','"> <div class="color-block" style="','"></div> <div class="no-img" style="','"></div> <div class="image" style="','"></div> ',' </div> <div class="player ','" style="','"> <div class="top-info"> <div class="icon-name"> <ha-state-icon class="icon" .stateObj="','" .hass="','"></ha-state-icon> <div> ',' </div> </div> <div> <ha-icon-button .path="','" .label="','" class="more-info" @click="','"></ha-icon-button> </div> </div> '," </div> </ha-card> "])),(0,O.H)({"no-image":k,off:b||y,unavailable:y}),(0,z.W)({"background-color":this._backgroundColor||""}),(0,z.W)({"background-color":this._backgroundColor||""}),(0,z.W)(v),k?"":(0,M.qy)(r||(r=(0,_.A)([' <div class="color-gradient" style="','"></div> '])),(0,z.W)(f)),(0,O.H)({"no-image":k,narrow:this._narrow&&!this._veryNarrow,off:b||y,"no-progress":this._veryNarrow||!this._showProgressBar,"no-controls":!A}),(0,z.W)({color:this._foregroundColor||""}),n,this.hass,(0,$.v)(this.hass,this.hass.states[this._config.entity],this._config.name),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this.hass.localize("ui.panel.lovelace.cards.show_more_info"),this._handleMoreInfo,!y&&(x||C||A)?(0,M.qy)(s||(s=(0,_.A)([' <div> <div class="title-controls"> '," "," </div> "," </div> "])),x||C?(0,M.qy)(c||(c=(0,_.A)([' <div class="media-info"> <hui-marquee .text="','" .active="','" @mouseover="','" @mouseleave="','"></hui-marquee> '," </div> "])),C||x,this._marqueeActive,this._marqueeMouseOver,this._marqueeMouseLeave,C?x:""):"",A?(0,M.qy)(h||(h=(0,_.A)([' <div class="controls"> <div class="start"> ',' </div> <div class="end"> '," "," </div> </div> "])),w.map(function(t){return(0,M.qy)(l||(l=(0,_.A)([' <ha-icon-button .label="','" .path="','" action="','" @click="','"> </ha-icon-button> '])),e.hass.localize("ui.card.media_player.".concat(t.action)),t.icon,t.action,e._handleClick)}),(0,P.$)(n,L.vj.BROWSE_MEDIA)?(0,M.qy)(d||(d=(0,_.A)([' <ha-icon-button class="browse-media" .label="','" .path="','" @click="','"></ha-icon-button> '])),this.hass.localize("ui.card.media_player.browse_media"),"M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M12,14.5V5.5L18,10L12,14.5Z",this._handleBrowseMedia):"",(0,P.$)(n,L.vj.GROUPING)?(0,M.qy)(u||(u=(0,_.A)([' <ha-icon-button class="join-media" .label="','" @click="','"> <ha-svg-icon .path="','"></ha-svg-icon> '," </ha-icon-button> "])),this.hass.localize("ui.card.media_player.join"),this._handleJoinMediaPlayers,"M14,10A3,3 0 0,0 11,13A3,3 0 0,0 14,16A3,3 0 0,0 17,13A3,3 0 0,0 14,10M14,18A5,5 0 0,1 9,13A5,5 0 0,1 14,8A5,5 0 0,1 19,13A5,5 0 0,1 14,18M14,2A2,2 0 0,1 16,4A2,2 0 0,1 14,6A2,2 0 0,1 12,4A2,2 0 0,1 14,2M19,0H9A2,2 0 0,0 7,2V18A2,2 0 0,0 9,20H19A2,2 0 0,0 21,18V2A2,2 0 0,0 19,0M5,22H17V24H5A2,2 0 0,1 3,22V4H5",q&&q>1?(0,M.qy)(g||(g=(0,_.A)(['<span class="badge"> '," </span>"])),null===(i=n.attributes.group_members)||void 0===i?void 0:i.length):M.s6):""):"",this._showProgressBar?(0,M.qy)(p||(p=(0,_.A)([' <mwc-linear-progress determinate style="','" @click="','"> </mwc-linear-progress> '])),(0,z.W)({"--mdc-theme-primary":this._foregroundColor||"var(--accent-color)",cursor:(0,P.$)(n,L.vj.SEEK)?"pointer":"initial"}),this._handleSeek):""):"")}},{key:"shouldUpdate",value:function(t){return(0,Z.LX)(this,t)||t.size>1||!t.has("hass")}},{key:"firstUpdated",value:function(){this._attachObserver(),this._measureCard()}},{key:"willUpdate",value:function(t){var e,n;if((0,A.A)(i,"willUpdate",this,3)([t]),this._config&&this.hass&&(t.has("_config")||t.has("hass"))){if(!this._stateObj)return this._progressInterval&&(clearInterval(this._progressInterval),this._progressInterval=void 0),this._foregroundColor=void 0,void(this._backgroundColor=void 0);var a=t.get("hass"),o=(null==a||null===(e=a.states[this._config.entity])||void 0===e?void 0:e.attributes.entity_picture_local)||(null==a||null===(n=a.states[this._config.entity])||void 0===n?void 0:n.attributes.entity_picture);if(!this._image)return this._foregroundColor=void 0,void(this._backgroundColor=void 0);this._image!==o&&this._setColors()}}},{key:"updated",value:function(t){var i=this;if(this._config&&this.hass&&this._stateObj&&(t.has("_config")||t.has("hass"))){var e=this._stateObj,n=t.get("hass"),a=t.get("_config");n&&a&&n.themes===this.hass.themes&&a.theme===this._config.theme||(0,I.Q)(this,this.hass.themes,this._config.theme),this._updateProgressBar(),!this._progressInterval&&this._showProgressBar&&"playing"===e.state?this._progressInterval=window.setInterval(function(){return i._updateProgressBar()},1e3):!this._progressInterval||this._showProgressBar&&"playing"===e.state||(clearInterval(this._progressInterval),this._progressInterval=void 0)}}},{key:"_image",get:function(){if(this.hass&&this._config){var t=this._stateObj;if(t)return t.attributes.entity_picture_local||t.attributes.entity_picture}}},{key:"_showProgressBar",get:function(){if(!this.hass||!this._config||this._narrow)return!1;var t=this._stateObj;return!!t&&(("playing"===t.state||"paused"===t.state)&&"media_duration"in t.attributes&&"media_position"in t.attributes)}},{key:"_measureCard",value:function(){var t=this.shadowRoot.querySelector("ha-card");t&&(this._narrow=t.offsetWidth<350,this._veryNarrow=t.offsetWidth<300,this._cardHeight=t.offsetHeight)}},{key:"_attachObserver",value:(x=(0,m.A)((0,f.A)().m(function t(){var i,e=this;return(0,f.A)().w(function(t){for(;;)switch(t.n){case 0:if(this._resizeObserver||(this._resizeObserver=new ResizeObserver((0,E.s)(function(){return e._measureCard()},250,!1))),i=this.shadowRoot.querySelector("ha-card")){t.n=1;break}return t.a(2);case 1:this._resizeObserver.observe(i);case 2:return t.a(2)}},t,this)})),function(){return x.apply(this,arguments)})},{key:"_handleMoreInfo",value:function(){(0,H.r)(this,"hass-more-info",{entityId:this._config.entity})}},{key:"_handleBrowseMedia",value:function(){var t=this;(0,N.O)(this,{action:"play",entityId:this._config.entity,mediaPickedCallback:function(i){return(0,L.ie)(t.hass,t._config.entity,i.item.media_content_id,i.item.media_content_type)}})}},{key:"_handleJoinMediaPlayers",value:function(){(0,U.g)(this,{entityId:this._config.entity})}},{key:"_handleClick",value:function(t){(0,L.ce)(this.hass,this._stateObj,t.currentTarget.getAttribute("action"))}},{key:"_updateProgressBar",value:function(){var t;this._progressBar&&null!==(t=this._stateObj)&&void 0!==t&&t.attributes.media_duration&&(this._progressBar.progress=(0,L.$6)(this._stateObj)/this._stateObj.attributes.media_duration)}},{key:"_stateObj",get:function(){return this.hass.states[this._config.entity]}},{key:"_handleSeek",value:function(t){var i=this._stateObj;if((0,P.$)(i,L.vj.SEEK)){var e=this._progressBar.offsetWidth,n=t.offsetX/e,a=this._stateObj.attributes.media_duration*n;this.hass.callService("media_player","media_seek",{entity_id:this._config.entity,seek_position:a})}}},{key:"_setColors",value:(v=(0,m.A)((0,f.A)().m(function t(){var i,e,n,a;return(0,f.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:if(this._image){t.n=1;break}return t.a(2);case 1:return t.p=1,t.n=2,(0,W.o)(this.hass.hassUrl(this._image));case 2:i=t.v,e=i.foreground,n=i.background,this._backgroundColor=n.hex,this._foregroundColor=e.hex,t.n=4;break;case 3:t.p=3,a=t.v,console.error("Error getting Image Colors",a),this._foregroundColor=void 0,this._backgroundColor=void 0;case 4:return t.a(2)}},t,this,[[1,3]])})),function(){return v.apply(this,arguments)})},{key:"_marqueeMouseOver",value:function(){this._marqueeActive||(this._marqueeActive=!0)}},{key:"_marqueeMouseLeave",value:function(){this._marqueeActive&&(this._marqueeActive=!1)}}],[{key:"getConfigElement",value:(n=(0,m.A)((0,f.A)().m(function t(){return(0,f.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.e("49597").then(e.bind(e,92620));case 1:return t.a(2,document.createElement("hui-media-control-card-editor"))}},t)})),function(){return n.apply(this,arguments)})},{key:"getStubConfig",value:function(t,i,e){return{type:"media-control",entity:(0,R.B)(t,1,i,e,["media_player"])[0]||""}}}]);var n,v,x}(M.WF);F.styles=(0,M.AH)(v||(v=(0,_.A)(['ha-card{overflow:hidden;height:100%}.background{display:flex;position:absolute;top:0;left:0;height:100%;width:100%;transition:filter .8s}.color-block{background-color:var(--primary-color);transition:background-color .8s;width:100%}.color-gradient{position:absolute;background-image:linear-gradient(to right,var(--primary-color),transparent);height:100%;right:0;opacity:1;transition:width .8s,opacity .8s linear .8s}.image{background-color:var(--primary-color);background-position:center;background-size:cover;background-repeat:no-repeat;position:absolute;right:0;height:100%;opacity:1;transition:width .8s,background-image .8s,background-color .8s,background-size .8s,opacity .8s linear .8s}.no-image .image{opacity:0}.no-img{background-color:var(--primary-color);background-size:initial;background-repeat:no-repeat;background-position:center center;padding-bottom:0;position:absolute;right:0;height:100%;background-image:url("/static/images/card_media_player_bg.png");width:50%;transition:opacity .8s,background-color .8s}.off .color-gradient,.off .image{opacity:0;transition:opacity 0s,width .8s;width:0}.background:not(.off):not(.no-image) .no-img,.unavailable .no-img{opacity:0}.player{position:relative;padding:16px;height:100%;box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between;color:var(--text-primary-color);transition-property:color,padding;transition-duration:.4s}.controls{padding:8px 8px 8px 0;display:flex;justify-content:flex-start;align-items:center;transition:padding,color;transition-duration:.4s;margin-left:-12px;margin-inline-start:-12px;margin-inline-end:initial;padding-inline-start:0;padding-inline-end:8px;direction:ltr}.controls>div{display:flex;align-items:center}.controls>.start{flex-grow:1}.controls ha-icon-button{--mdc-icon-button-size:44px;--mdc-icon-size:30px}ha-icon-button[action=media_pause],ha-icon-button[action=media_play],ha-icon-button[action=media_play_pause],ha-icon-button[action=media_stop],ha-icon-button[action=turn_off],ha-icon-button[action=turn_on]{--mdc-icon-button-size:56px;--mdc-icon-size:40px}ha-icon-button.browse-media{--mdc-icon-size:24px;inset-inline-end:4px;inset-inline-start:initial}ha-icon-button.join-media{--mdc-icon-size:24px;inset-inline-end:4px;inset-inline-start:initial}.top-info{display:flex;justify-content:space-between}.icon-name{display:flex;height:fit-content;align-items:center}.icon-name ha-state-icon{padding-right:8px;padding-inline-start:initial;padding-inline-end:8px;direction:var(--direction)}.more-info{position:absolute;top:4px;right:4px;inset-inline-start:initial;inset-inline-end:4px;direction:var(--direction)}.media-info{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}hui-marquee{font-size:1.2em;margin:0px 0 4px}.title-controls{padding-top:16px}mwc-linear-progress{width:100%;margin-top:4px;--mdc-linear-progress-buffer-color:rgba(200, 200, 200, 0.5)}.no-image .controls{padding:0}.off.background{filter:grayscale(1)}.narrow .controls,.no-progress .controls{padding-bottom:0}.narrow ha-icon-button{--mdc-icon-button-size:40px;--mdc-icon-size:28px}.narrow ha-icon-button[action=media_pause],.narrow ha-icon-button[action=media_play],.narrow ha-icon-button[action=media_play_pause],.narrow ha-icon-button[action=turn_on]{--mdc-icon-button-size:50px;--mdc-icon-size:36px}.narrow ha-icon-button.browse-media{--mdc-icon-size:24px}.no-progress.player:not(.no-controls){padding-bottom:0px}.badge{position:absolute;top:0;right:0;width:auto;height:auto;display:flex;justify-content:center;align-items:center;min-width:8px;min-height:16px;border-radius:10px;font-weight:var(--ha-font-weight-normal);font-size:var(--ha-font-size-xs);background-color:var(--accent-color);padding:0 4px;color:var(--text-accent-color,var(--text-primary-color))}']))),(0,C.Cg)([(0,j.MZ)({attribute:!1})],F.prototype,"hass",void 0),(0,C.Cg)([(0,j.wk)()],F.prototype,"_config",void 0),(0,C.Cg)([(0,j.wk)()],F.prototype,"_foregroundColor",void 0),(0,C.Cg)([(0,j.wk)()],F.prototype,"_backgroundColor",void 0),(0,C.Cg)([(0,j.wk)()],F.prototype,"_narrow",void 0),(0,C.Cg)([(0,j.wk)()],F.prototype,"_veryNarrow",void 0),(0,C.Cg)([(0,j.wk)()],F.prototype,"_cardHeight",void 0),(0,C.Cg)([(0,j.P)("mwc-linear-progress")],F.prototype,"_progressBar",void 0),(0,C.Cg)([(0,j.wk)()],F.prototype,"_marqueeActive",void 0),F=(0,C.Cg)([(0,j.EM)("hui-media-control-card")],F),n()}catch(G){n(G)}})},12895:function(t,i,e){var n,a,o,r=e(72153),s=e(44734),c=e(43080),h=e(69683),l=e(6454),d=e(25460),u=(e(28706),e(40445)),g=e(96196),p=e(77845),v=function(t){function i(){var t;(0,s.A)(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=(0,h.A)(this,i,[].concat(n))).active=!1,t.animating=!1,t}return(0,l.A)(i,t),(0,c.A)(i,[{key:"firstUpdated",value:function(t){var e=this;(0,d.A)(i,"firstUpdated",this,3)([t]),this.addEventListener("mouseover",function(){return e.classList.add("hovering")},{capture:!0}),this.addEventListener("mouseout",function(){return e.classList.remove("hovering")})}},{key:"updated",value:function(t){(0,d.A)(i,"updated",this,3)([t]),t.has("text")&&this.animating&&(this.animating=!1),t.has("active")&&this.active&&this.offsetWidth<this.scrollWidth&&(this.animating=!0)}},{key:"render",value:function(){return this.text?(0,g.qy)(n||(n=(0,r.A)([' <div class="marquee-inner" @animationiteration="','"> <span>',"</span> "," </div> "])),this._onIteration,this.text,this.animating?(0,g.qy)(a||(a=(0,r.A)([" <span>","</span> "])),this.text):""):g.s6}},{key:"_onIteration",value:function(){this.active||(this.animating=!1)}}])}(g.WF);v.styles=(0,g.AH)(o||(o=(0,r.A)([":host{display:flex;position:relative;align-items:center;height:1.2em;contain:strict}.marquee-inner{position:absolute;left:0;right:0;text-overflow:ellipsis;overflow:hidden}:host(.hovering) .marquee-inner{text-overflow:initial;overflow:initial}:host([animating]) .marquee-inner{left:initial;right:initial;animation:marquee 10s linear infinite}:host([animating]) .marquee-inner span{padding-right:16px;padding-inline-end:16px;padding-inline-start:initial}@keyframes marquee{0%{transform:translateX(0%)}100%{transform:translateX(-50%)}}"]))),(0,u.Cg)([(0,p.MZ)()],v.prototype,"text",void 0),(0,u.Cg)([(0,p.MZ)({type:Boolean})],v.prototype,"active",void 0),(0,u.Cg)([(0,p.MZ)({reflect:!0,type:Boolean})],v.prototype,"animating",void 0),v=(0,u.Cg)([(0,p.EM)("hui-marquee")],v)}}]);
//# sourceMappingURL=37136.aaad7e70fb7ab8f8.js.map