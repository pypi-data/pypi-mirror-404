"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["6660"],{93444:function(e,a,t){var r,o,i=t(72153),n=t(44734),l=t(43080),s=t(69683),d=t(6454),h=t(40445),c=t(96196),u=t(77845),f=function(e){function a(){return(0,n.A)(this,a),(0,s.A)(this,a,arguments)}return(0,d.A)(a,e),(0,l.A)(a,[{key:"render",value:function(){return(0,c.qy)(r||(r=(0,i.A)([' <footer> <slot name="secondaryAction"></slot> <slot name="primaryAction"></slot> </footer> '])))}}],[{key:"styles",get:function(){return[(0,c.AH)(o||(o=(0,i.A)(["footer{display:flex;gap:var(--ha-space-3);justify-content:flex-end;align-items:center;width:100%}"])))]}}])}(c.WF);f=(0,h.Cg)([(0,u.EM)("ha-dialog-footer")],f)},76538:function(e,a,t){var r,o,i,n,l,s,d=t(72153),h=t(44734),c=t(43080),u=t(69683),f=t(6454),v=(t(28706),t(40445)),p=t(96196),g=t(77845),m=function(e){function a(){var e;(0,h.A)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=(0,u.A)(this,a,[].concat(r))).subtitlePosition="below",e.showBorder=!1,e}return(0,f.A)(a,e),(0,c.A)(a,[{key:"render",value:function(){var e=(0,p.qy)(r||(r=(0,d.A)(['<div class="header-title"> <slot name="title"></slot> </div>']))),a=(0,p.qy)(o||(o=(0,d.A)(['<div class="header-subtitle"> <slot name="subtitle"></slot> </div>'])));return(0,p.qy)(i||(i=(0,d.A)([' <header class="header"> <div class="header-bar"> <section class="header-navigation-icon"> <slot name="navigationIcon"></slot> </section> <section class="header-content"> ',' </section> <section class="header-action-items"> <slot name="actionItems"></slot> </section> </div> <slot></slot> </header> '])),"above"===this.subtitlePosition?(0,p.qy)(n||(n=(0,d.A)(["","",""])),a,e):(0,p.qy)(l||(l=(0,d.A)(["","",""])),e,a))}}],[{key:"styles",get:function(){return[(0,p.AH)(s||(s=(0,d.A)([":host{display:block}:host([show-border]){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.header-bar{display:flex;flex-direction:row;align-items:center;padding:0 var(--ha-space-1);box-sizing:border-box}.header-content{flex:1;padding:10px var(--ha-space-1);display:flex;flex-direction:column;justify-content:center;min-height:var(--ha-space-12);min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-title{height:var(--ha-dialog-header-title-height,calc(var(--ha-font-size-xl) + var(--ha-space-1)));font-size:var(--ha-font-size-xl);line-height:var(--ha-line-height-condensed);font-weight:var(--ha-font-weight-medium);color:var(--ha-dialog-header-title-color,var(--primary-text-color))}.header-subtitle{font-size:var(--ha-font-size-m);line-height:var(--ha-line-height-normal);color:var(--ha-dialog-header-subtitle-color,var(--secondary-text-color))}@media all and (min-width:450px) and (min-height:500px){.header-bar{padding:0 var(--ha-space-2)}}.header-navigation-icon{flex:none;min-width:var(--ha-space-2);height:100%;display:flex;flex-direction:row}.header-action-items{flex:none;min-width:var(--ha-space-2);height:100%;display:flex;flex-direction:row}"])))]}}])}(p.WF);(0,v.Cg)([(0,g.MZ)({type:String,attribute:"subtitle-position"})],m.prototype,"subtitlePosition",void 0),(0,v.Cg)([(0,g.MZ)({type:Boolean,reflect:!0,attribute:"show-border"})],m.prototype,"showBorder",void 0),m=(0,v.Cg)([(0,g.EM)("ha-dialog-header")],m)},2846:function(e,a,t){t.d(a,{G:function(){return g},J:function(){return p}});var r,o,i=t(44734),n=t(43080),l=t(69683),s=t(6454),d=t(72153),h=t(40445),c=t(97154),u=t(82553),f=t(96196),v=t(77845),p=(t(54276),[u.R,(0,f.AH)(r||(r=(0,d.A)([":host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color)}md-item{overflow:var(--md-item-overflow,hidden);align-items:var(--md-item-align-items,center);gap:var(--ha-md-list-item-gap,16px)}"])))]),g=function(e){function a(){return(0,i.A)(this,a),(0,l.A)(this,a,arguments)}return(0,s.A)(a,e),(0,n.A)(a,[{key:"renderRipple",value:function(){return"text"===this.type?f.s6:(0,f.qy)(o||(o=(0,d.A)(['<ha-ripple part="ripple" for="item" ?disabled="','"></ha-ripple>'])),this.disabled&&"link"!==this.type)}}])}(c.n);g.styles=p,g=(0,h.Cg)([(0,v.EM)("ha-md-list-item")],g)},17308:function(e,a,t){var r,o=t(72153),i=t(43080),n=t(44734),l=t(69683),s=t(6454),d=t(40445),h=t(49838),c=t(11245),u=t(96196),f=t(77845),v=function(e){function a(){return(0,n.A)(this,a),(0,l.A)(this,a,arguments)}return(0,s.A)(a,e),(0,i.A)(a)}(h.B);v.styles=[c.R,(0,u.AH)(r||(r=(0,o.A)([":host{--md-sys-color-surface:var(--card-background-color)}"])))],v=(0,d.Cg)([(0,f.EM)("ha-md-list")],v)},45331:function(e,a,t){t.a(e,async function(e,a){try{var r,o,i,n,l,s,d=t(7739),h=t(72153),c=t(61397),u=t(50264),f=t(44734),v=t(43080),p=t(75864),g=t(69683),m=t(6454),y=t(25460),b=(t(28706),t(40445)),w=t(93900),_=t(96196),A=t(77845),x=t(32288),k=t(1087),S=t(59992),C=t(14503),M=t(22348),L=(t(76538),t(26300),e([w,S]));[w,S]=L.then?(await L)():L;var q=function(e){function a(){var e;(0,f.A)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=(0,g.A)(this,a,[].concat(r))).open=!1,e.type="standard",e.width="medium",e.preventScrimClose=!1,e.headerSubtitlePosition="below",e.flexContent=!1,e._open=!1,e._bodyScrolled=!1,e._handleShow=(0,u.A)((0,c.A)().m(function a(){return(0,c.A)().w(function(a){for(;;)switch(a.n){case 0:return e._open=!0,(0,k.r)((0,p.A)(e),"opened"),a.n=1,e.updateComplete;case 1:requestAnimationFrame(function(){var a;if((0,M.V)(e.hass)){var t=e.querySelector("[autofocus]");null!==t&&(t.id||(t.id="ha-wa-dialog-autofocus"),e.hass.auth.external.fireMessage({type:"focus_element",payload:{element_id:t.id}}))}else null===(a=e.querySelector("[autofocus]"))||void 0===a||a.focus()});case 2:return a.a(2)}},a)})),e._handleAfterShow=function(){(0,k.r)((0,p.A)(e),"after-show")},e._handleAfterHide=function(){e._open=!1,(0,k.r)((0,p.A)(e),"closed")},e}return(0,m.A)(a,e),(0,v.A)(a,[{key:"scrollableElement",get:function(){return this.bodyContainer}},{key:"updated",value:function(e){(0,y.A)(a,"updated",this,3)([e]),e.has("open")&&(this._open=this.open)}},{key:"render",value:function(){var e,a;return(0,_.qy)(r||(r=(0,h.A)([' <wa-dialog .open="','" .lightDismiss="','" without-header aria-labelledby="','" aria-describedby="','" @wa-show="','" @wa-after-show="','" @wa-after-hide="','"> <slot name="header"> <ha-dialog-header .subtitlePosition="','" .showBorder="','"> <slot name="headerNavigationIcon" slot="navigationIcon"> <ha-icon-button data-dialog="close" .label="','" .path="','"></ha-icon-button> </slot> '," ",' <slot name="headerActionItems" slot="actionItems"></slot> </ha-dialog-header> </slot> <div class="content-wrapper"> <div class="body ha-scrollbar" @scroll="','"> <slot></slot> </div> ',' </div> <slot name="footer" slot="footer"></slot> </wa-dialog> '])),this._open,!this.preventScrimClose,(0,x.J)(this.ariaLabelledBy||(void 0!==this.headerTitle?"ha-wa-dialog-title":void 0)),(0,x.J)(this.ariaDescribedBy),this._handleShow,this._handleAfterShow,this._handleAfterHide,this.headerSubtitlePosition,this._bodyScrolled,null!==(e=null===(a=this.hass)||void 0===a?void 0:a.localize("ui.common.close"))&&void 0!==e?e:"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",void 0!==this.headerTitle?(0,_.qy)(o||(o=(0,h.A)(['<span slot="title" class="title" id="ha-wa-dialog-title"> '," </span>"])),this.headerTitle):(0,_.qy)(i||(i=(0,h.A)(['<slot name="headerTitle" slot="title"></slot>']))),void 0!==this.headerSubtitle?(0,_.qy)(n||(n=(0,h.A)(['<span slot="subtitle">',"</span>"])),this.headerSubtitle):(0,_.qy)(l||(l=(0,h.A)(['<slot name="headerSubtitle" slot="subtitle"></slot>']))),this._handleBodyScroll,this.renderScrollableFades())}},{key:"disconnectedCallback",value:function(){(0,y.A)(a,"disconnectedCallback",this,3)([]),this._open=!1}},{key:"_handleBodyScroll",value:function(e){this._bodyScrolled=e.target.scrollTop>0}}],[{key:"styles",get:function(){return[].concat((0,d.A)((0,y.A)(a,"styles",this)),[C.dp,(0,_.AH)(s||(s=(0,h.A)(['\n        wa-dialog {\n          --full-width: var(\n            --ha-dialog-width-full,\n            min(95vw, var(--safe-width))\n          );\n          --width: min(var(--ha-dialog-width-md, 580px), var(--full-width));\n          --spacing: var(--dialog-content-padding, var(--ha-space-6));\n          --show-duration: var(--ha-dialog-show-duration, 200ms);\n          --hide-duration: var(--ha-dialog-hide-duration, 200ms);\n          --ha-dialog-surface-background: var(\n            --card-background-color,\n            var(--ha-color-surface-default)\n          );\n          --wa-color-surface-raised: var(\n            --ha-dialog-surface-background,\n            var(--card-background-color, var(--ha-color-surface-default))\n          );\n          --wa-panel-border-radius: var(\n            --ha-dialog-border-radius,\n            var(--ha-border-radius-3xl)\n          );\n          max-width: var(--ha-dialog-max-width, var(--safe-width));\n        }\n        @media (prefers-reduced-motion: reduce) {\n          wa-dialog {\n            --show-duration: 0ms;\n            --hide-duration: 0ms;\n          }\n        }\n\n        :host([width="small"]) wa-dialog {\n          --width: min(var(--ha-dialog-width-sm, 320px), var(--full-width));\n        }\n\n        :host([width="large"]) wa-dialog {\n          --width: min(var(--ha-dialog-width-lg, 1024px), var(--full-width));\n        }\n\n        :host([width="full"]) wa-dialog {\n          --width: var(--full-width);\n        }\n\n        wa-dialog::part(dialog) {\n          min-width: var(--width, var(--full-width));\n          max-width: var(--width, var(--full-width));\n          max-height: var(\n            --ha-dialog-max-height,\n            calc(var(--safe-height) - var(--ha-space-20))\n          );\n          min-height: var(--ha-dialog-min-height);\n          margin-top: var(--dialog-surface-margin-top, auto);\n          /* Used to offset the dialog from the safe areas when space is limited */\n          transform: translate(\n            calc(\n              var(--safe-area-offset-left, 0px) - var(\n                  --safe-area-offset-right,\n                  0px\n                )\n            ),\n            calc(\n              var(--safe-area-offset-top, 0px) - var(\n                  --safe-area-offset-bottom,\n                  0px\n                )\n            )\n          );\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n        }\n\n        @media all and (max-width: 450px), all and (max-height: 500px) {\n          :host([type="standard"]) {\n            --ha-dialog-border-radius: 0;\n\n            wa-dialog {\n              /* Make the container fill the whole screen width and not the safe width */\n              --full-width: var(--ha-dialog-width-full, 100vw);\n              --width: var(--full-width);\n            }\n\n            wa-dialog::part(dialog) {\n              /* Make the dialog fill the whole screen height and not the safe height */\n              min-height: var(--ha-dialog-min-height, 100vh);\n              min-height: var(--ha-dialog-min-height, 100dvh);\n              max-height: var(--ha-dialog-max-height, 100vh);\n              max-height: var(--ha-dialog-max-height, 100dvh);\n              margin-top: 0;\n              margin-bottom: 0;\n              /* Use safe area as padding instead of the container size */\n              padding-top: var(--safe-area-inset-top);\n              padding-bottom: var(--safe-area-inset-bottom);\n              padding-left: var(--safe-area-inset-left);\n              padding-right: var(--safe-area-inset-right);\n              /* Reset the transform to center the dialog */\n              transform: none;\n            }\n          }\n        }\n\n        .header-title-container {\n          display: flex;\n          align-items: center;\n        }\n\n        .header-title {\n          margin: 0;\n          margin-bottom: 0;\n          color: var(--ha-dialog-header-title-color, var(--primary-text-color));\n          font-size: var(\n            --ha-dialog-header-title-font-size,\n            var(--ha-font-size-2xl)\n          );\n          line-height: var(\n            --ha-dialog-header-title-line-height,\n            var(--ha-line-height-condensed)\n          );\n          font-weight: var(\n            --ha-dialog-header-title-font-weight,\n            var(--ha-font-weight-normal)\n          );\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          margin-right: var(--ha-space-3);\n        }\n\n        wa-dialog::part(body) {\n          padding: 0;\n          display: flex;\n          flex-direction: column;\n          max-width: 100%;\n          overflow: hidden;\n        }\n\n        .content-wrapper {\n          position: relative;\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          min-height: 0;\n        }\n\n        .body {\n          position: var(--dialog-content-position, relative);\n          padding: var(\n            --dialog-content-padding,\n            0 var(--ha-space-6) var(--ha-space-6) var(--ha-space-6)\n          );\n          overflow: auto;\n          flex-grow: 1;\n        }\n        :host([flexcontent]) .body {\n          max-width: 100%;\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n        }\n\n        wa-dialog::part(footer) {\n          padding: 0;\n        }\n\n        ::slotted([slot="footer"]) {\n          display: flex;\n          padding: var(--ha-space-3) var(--ha-space-4) var(--ha-space-4)\n            var(--ha-space-4);\n          gap: var(--ha-space-3);\n          justify-content: flex-end;\n          align-items: center;\n          width: 100%;\n        }\n      '])))])}}])}((0,S.V)(_.WF));(0,b.Cg)([(0,A.MZ)({attribute:!1})],q.prototype,"hass",void 0),(0,b.Cg)([(0,A.MZ)({attribute:"aria-labelledby"})],q.prototype,"ariaLabelledBy",void 0),(0,b.Cg)([(0,A.MZ)({attribute:"aria-describedby"})],q.prototype,"ariaDescribedBy",void 0),(0,b.Cg)([(0,A.MZ)({type:Boolean,reflect:!0})],q.prototype,"open",void 0),(0,b.Cg)([(0,A.MZ)({reflect:!0})],q.prototype,"type",void 0),(0,b.Cg)([(0,A.MZ)({type:String,reflect:!0,attribute:"width"})],q.prototype,"width",void 0),(0,b.Cg)([(0,A.MZ)({type:Boolean,reflect:!0,attribute:"prevent-scrim-close"})],q.prototype,"preventScrimClose",void 0),(0,b.Cg)([(0,A.MZ)({attribute:"header-title"})],q.prototype,"headerTitle",void 0),(0,b.Cg)([(0,A.MZ)({attribute:"header-subtitle"})],q.prototype,"headerSubtitle",void 0),(0,b.Cg)([(0,A.MZ)({type:String,attribute:"header-subtitle-position"})],q.prototype,"headerSubtitlePosition",void 0),(0,b.Cg)([(0,A.MZ)({type:Boolean,reflect:!0,attribute:"flexcontent"})],q.prototype,"flexContent",void 0),(0,b.Cg)([(0,A.wk)()],q.prototype,"_open",void 0),(0,b.Cg)([(0,A.P)(".body")],q.prototype,"bodyContainer",void 0),(0,b.Cg)([(0,A.wk)()],q.prototype,"_bodyScrolled",void 0),(0,b.Cg)([(0,A.Ls)({passive:!0})],q.prototype,"_handleBodyScroll",null),q=(0,b.Cg)([(0,A.EM)("ha-wa-dialog")],q),a()}catch(E){a(E)}})},59992:function(e,a,t){t.a(e,async function(e,r){try{t.d(a,{V:function(){return w}});var o,i,n=t(7739),l=t(72153),s=t(44734),d=t(43080),h=t(75864),c=t(69683),u=t(6454),f=t(25460),v=(t(28706),t(40875),t(40445)),p=t(88696),g=t(96196),m=t(94333),y=t(77845),b=e([p]);p=(b.then?(await b)():b)[0];var w=function(e){var a=function(e){function a(){var e;(0,s.A)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=(0,c.A)(this,a,[].concat(r)))._contentScrolled=!1,e._contentScrollable=!1,e._onScroll=function(a){var t,r=a.currentTarget;e._contentScrolled=(null!==(t=r.scrollTop)&&void 0!==t?t:0)>e.scrollFadeThreshold,e._updateScrollableState(r)},e._resize=new p.P((0,h.A)(e),{target:null,callback:function(a){var t,r=null===(t=a[0])||void 0===t?void 0:t.target;r&&e._updateScrollableState(r)}}),e.scrollFadeSafeAreaPadding=16,e.scrollFadeThreshold=4,e}return(0,u.A)(a,e),(0,d.A)(a,[{key:"scrollableElement",get:function(){return a.DEFAULT_SCROLLABLE_ELEMENT}},{key:"firstUpdated",value:function(e){var t;null===(t=(0,f.A)(a,"firstUpdated",this,3))||void 0===t||t([e]),this._attachScrollableElement()}},{key:"updated",value:function(e){var t;null===(t=(0,f.A)(a,"updated",this,3))||void 0===t||t([e]),this._attachScrollableElement()}},{key:"disconnectedCallback",value:function(){this._detachScrollableElement(),(0,f.A)(a,"disconnectedCallback",this,3)([])}},{key:"renderScrollableFades",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,g.qy)(o||(o=(0,l.A)([' <div class="','"></div> <div class="','"></div> '])),(0,m.H)({"fade-top":!0,rounded:e,visible:this._contentScrolled}),(0,m.H)({"fade-bottom":!0,rounded:e,visible:this._contentScrollable}))}},{key:"_attachScrollableElement",value:function(){var e=this.scrollableElement;e!==this._scrollTarget&&(this._detachScrollableElement(),e&&(this._scrollTarget=e,e.addEventListener("scroll",this._onScroll,{passive:!0}),this._resize.observe(e),this._updateScrollableState(e)))}},{key:"_detachScrollableElement",value:function(){var e,a;this._scrollTarget&&(this._scrollTarget.removeEventListener("scroll",this._onScroll),null===(e=(a=this._resize).unobserve)||void 0===e||e.call(a,this._scrollTarget),this._scrollTarget=void 0)}},{key:"_updateScrollableState",value:function(e){var a=parseFloat(getComputedStyle(e).getPropertyValue("--safe-area-inset-bottom"))||0,t=e.scrollHeight,r=void 0===t?0:t,o=e.clientHeight,i=void 0===o?0:o,n=e.scrollTop,l=void 0===n?0:n;this._contentScrollable=r-i>l+a+this.scrollFadeSafeAreaPadding}}],[{key:"styles",get:function(){var e,a,t=Object.getPrototypeOf(this),r=void 0===(a=null!==(e=null==t?void 0:t.styles)&&void 0!==e?e:[])?[]:Array.isArray(a)?a:[a];return[].concat((0,n.A)(r),[(0,g.AH)(i||(i=(0,l.A)([".fade-bottom,.fade-top{position:absolute;left:0;right:0;height:var(--ha-space-4);pointer-events:none;transition:opacity 180ms ease-in-out;background:linear-gradient(to bottom,var(--shadow-color),transparent);border-radius:var(--ha-border-radius-square);opacity:0}.fade-top{top:0}.fade-bottom{bottom:0;transform:rotate(180deg)}.fade-bottom.visible,.fade-top.visible{opacity:1}.fade-bottom.rounded,.fade-top.rounded{border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));border-bottom-left-radius:var(--ha-border-radius-square);border-bottom-right-radius:var(--ha-border-radius-square)}.fade-top.rounded{border-top-left-radius:var(--ha-border-radius-square);border-top-right-radius:var(--ha-border-radius-square)}.fade-bottom.rounded{border-bottom-left-radius:var(--ha-border-radius-square);border-bottom-right-radius:var(--ha-border-radius-square)}"])))])}}])}(e);return a.DEFAULT_SCROLLABLE_ELEMENT=null,(0,v.Cg)([(0,y.wk)()],a.prototype,"_contentScrolled",void 0),(0,v.Cg)([(0,y.wk)()],a.prototype,"_contentScrollable",void 0),a};r()}catch(_){r(_)}})},54607:function(e,a,t){t.a(e,async function(e,r){try{t.r(a);var o,i,n,l,s,d,h,c,u,f,v=t(31432),p=t(78261),g=t(7739),m=t(72153),y=t(61397),b=t(50264),w=t(44734),_=t(43080),A=t(69683),x=t(6454),k=(t(28706),t(2008),t(23792),t(62062),t(44114),t(54554),t(18111),t(22489),t(61701),t(69085),t(26099),t(16034),t(3362),t(47764),t(62953),t(40445)),S=t(96196),C=t(77845),M=t(4937),L=t(89020),q=t(1087),E=t(18350),H=(t(93444),t(18198),t(88945),t(45331)),T=(t(17308),t(2846),t(85938),t(67094),t(21489)),z=t(32250),j=t(14503),O=t(81619),F=e([E,H]);[E,H]=F.then?(await F)():F;var P="M21 11H3V9H21V11M21 13H3V15H21V13Z",B="__unassigned__",Z=function(e){function a(){var e;(0,w.A)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=(0,A.A)(this,a,[].concat(r)))._open=!1,e._saving=!1,e}return(0,x.A)(a,e),(0,_.A)(a,[{key:"showDialog",value:(r=(0,b.A)((0,y.A)().m(function e(a){return(0,y.A)().w(function(e){for(;;)switch(e.n){case 0:this._open=!0,this._computeHierarchy();case 1:return e.a(2)}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_computeHierarchy",value:function(){this._hierarchy=(0,L.cs)(Object.values(this.hass.floors),Object.values(this.hass.areas))}},{key:"closeDialog",value:function(){this._saving=!1,this._open=!1}},{key:"_dialogClosed",value:function(){this._open=!1,this._hierarchy=void 0,this._saving=!1,(0,q.r)(this,"dialog-closed",{dialog:this.localName})}},{key:"render",value:function(){var e=this;if(!this._hierarchy)return S.s6;var a=this._hierarchy.floors.length>0,t=this.hass.localize(a?"ui.panel.config.areas.dialog.reorder_floors_areas_title":"ui.panel.config.areas.dialog.reorder_areas_title");return(0,S.qy)(o||(o=(0,m.A)([' <ha-wa-dialog .hass="','" .open="','" header-title="','" @closed="','"> <div class="content"> <ha-sortable handle-selector=".floor-handle" draggable-selector=".floor" @item-moved="','" invert-swap> <div class="floors"> '," </div> </ha-sortable> ",' </div> <ha-dialog-footer slot="footer"> <ha-button slot="secondaryAction" @click="','" appearance="plain"> ',' </ha-button> <ha-button slot="primaryAction" @click="','" .disabled="','"> '," </ha-button> </ha-dialog-footer> </ha-wa-dialog> "])),this.hass,this._open,t,this._dialogClosed,this._floorMoved,(0,M.u)(this._hierarchy.floors,function(e){return e.id},function(a){return e._renderFloor(a)}),this._renderUnassignedAreas(),this.closeDialog,this.hass.localize("ui.common.cancel"),this._save,this._saving,this.hass.localize("ui.common.save"))}},{key:"_renderFloor",value:function(e){var a=this,t=this.hass.floors[e.id];return t?(0,S.qy)(i||(i=(0,m.A)([' <div class="floor"> <div class="floor-header"> <ha-floor-icon .floor="','"></ha-floor-icon> <span class="floor-name">','</span> <ha-svg-icon class="floor-handle" .path="','"></ha-svg-icon> </div> <ha-sortable handle-selector=".area-handle" draggable-selector="ha-md-list-item" @item-moved="','" @item-added="','" group="areas" .floor="','"> <ha-md-list> '," </ha-md-list> </ha-sortable> </div> "])),t,t.name,P,this._areaMoved,this._areaAdded,e.id,e.areas.length>0?e.areas.map(function(e){return a._renderArea(e)}):(0,S.qy)(n||(n=(0,m.A)(['<p class="empty"> '," </p>"])),this.hass.localize("ui.panel.config.areas.dialog.empty_floor"))):S.s6}},{key:"_renderUnassignedAreas",value:function(){var e=this,a=this._hierarchy.floors.length>0;return(0,S.qy)(l||(l=(0,m.A)([' <div class="floor unassigned"> ',' <ha-sortable handle-selector=".area-handle" draggable-selector="ha-md-list-item" @item-moved="','" @item-added="','" group="areas" .floor="','"> <ha-md-list> '," </ha-md-list> </ha-sortable> </div> "])),a?(0,S.qy)(s||(s=(0,m.A)(['<div class="floor-header"> <span class="floor-name"> '," </span> </div>"])),this.hass.localize("ui.panel.config.areas.dialog.other_areas")):S.s6,this._areaMoved,this._areaAdded,B,this._hierarchy.areas.length>0?this._hierarchy.areas.map(function(a){return e._renderArea(a)}):(0,S.qy)(d||(d=(0,m.A)(['<p class="empty"> '," </p>"])),this.hass.localize("ui.panel.config.areas.dialog.empty_unassigned")))}},{key:"_renderArea",value:function(e){var a=this.hass.areas[e];return a?(0,S.qy)(h||(h=(0,m.A)([' <ha-md-list-item .sortableData="','"> ',' <span slot="headline">','</span> <ha-svg-icon class="area-handle" slot="end" .path="','"></ha-svg-icon> </ha-md-list-item> '])),a,a.icon?(0,S.qy)(c||(c=(0,m.A)(['<ha-icon slot="start" .icon="','"></ha-icon>'])),a.icon):(0,S.qy)(u||(u=(0,m.A)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),"M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z"),a.name,P):S.s6}},{key:"_floorMoved",value:function(e){if(e.stopPropagation(),this._hierarchy){var a=e.detail,t=a.oldIndex,r=a.newIndex,o=(0,g.A)(this._hierarchy.floors),i=o.splice(t,1),n=(0,p.A)(i,1)[0];o.splice(r,0,n),this._hierarchy=Object.assign(Object.assign({},this._hierarchy),{},{floors:o})}}},{key:"_areaMoved",value:function(e){if(e.stopPropagation(),this._hierarchy){var a=e.currentTarget.floor,t=e.detail,r=t.oldIndex,o=t.newIndex,i=a===B?null:a;if(null===i){var n=(0,g.A)(this._hierarchy.areas),l=n.splice(r,1),s=(0,p.A)(l,1)[0];n.splice(o,0,s),this._hierarchy=Object.assign(Object.assign({},this._hierarchy),{},{areas:n})}else this._hierarchy=Object.assign(Object.assign({},this._hierarchy),{},{floors:this._hierarchy.floors.map(function(e){if(e.id===i){var a=(0,g.A)(e.areas),t=a.splice(r,1),n=(0,p.A)(t,1)[0];return a.splice(o,0,n),Object.assign(Object.assign({},e),{},{areas:a})}return e})})}}},{key:"_areaAdded",value:function(e){if(e.stopPropagation(),this._hierarchy){var a=e.currentTarget.floor,t=e.detail,r=t.data,o=t.index,i=a===B?null:a,n=this._hierarchy.areas.filter(function(e){return e!==r.area_id});null===i&&n.splice(o,0,r.area_id),this._hierarchy=Object.assign(Object.assign({},this._hierarchy),{},{floors:this._hierarchy.floors.map(function(e){if(e.id===i){var a=(0,g.A)(e.areas);return a.splice(o,0,r.area_id),Object.assign(Object.assign({},e),{},{areas:a})}return Object.assign(Object.assign({},e),{},{areas:e.areas.filter(function(e){return e!==r.area_id})})}),areas:n})}}},{key:"_computeFloorChanges",value:function(){if(!this._hierarchy)return[];var e,a=[],t=(0,v.A)(this._hierarchy.floors);try{for(t.s();!(e=t.n()).done;){var r,o=e.value,i=(0,v.A)(o.areas);try{for(i.s();!(r=i.n()).done;){var n,l,s=r.value,d=null!==(n=null===(l=this.hass.areas[s])||void 0===l?void 0:l.floor_id)&&void 0!==n?n:null;o.id!==d&&a.push({areaId:s,floorId:o.id})}}catch(g){i.e(g)}finally{i.f()}}}catch(g){t.e(g)}finally{t.f()}var h,c=(0,v.A)(this._hierarchy.areas);try{for(c.s();!(h=c.n()).done;){var u,f,p=h.value;null!==(null!==(u=null===(f=this.hass.areas[p])||void 0===f?void 0:f.floor_id)&&void 0!==u?u:null)&&a.push({areaId:p,floorId:null})}}catch(g){c.e(g)}finally{c.f()}return a}},{key:"_save",value:(t=(0,b.A)((0,y.A)().m(function e(){var a,t,r,o,i,n=this;return(0,y.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this._hierarchy&&!this._saving){e.n=1;break}return e.a(2);case 1:return this._saving=!0,e.p=2,a=(0,L.Xz)(this._hierarchy),t=(0,L.Vu)(this._hierarchy),r=this._computeFloorChanges(),o=r.map(function(e){var a=e.areaId,t=e.floorId;return(0,T.gs)(n.hass,a,{floor_id:t})}),e.n=3,Promise.all(o);case 3:return e.n=4,(0,T.WT)(this.hass,a);case 4:return e.n=5,(0,z.Rj)(this.hass,t);case 5:this.closeDialog(),e.n=7;break;case 6:e.p=6,i=e.v,(0,O.P)(this,{message:i.message||this.hass.localize("ui.panel.config.areas.dialog.reorder_failed")}),this._saving=!1;case 7:return e.a(2)}},e,this,[[2,6]])})),function(){return t.apply(this,arguments)})}],[{key:"styles",get:function(){return[j.RF,j.nA,(0,S.AH)(f||(f=(0,m.A)(["ha-wa-dialog{max-height:90%;--dialog-content-padding:var(--ha-space-2) var(--ha-space-6)}@media all and (max-width:580px),all and (max-height:500px){ha-wa-dialog{min-width:100%;min-height:100%}}.floors{display:flex;flex-direction:column;gap:16px}.floor{border:1px solid var(--divider-color);border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));overflow:hidden}.floor.unassigned{margin-top:16px}.floor-header{display:flex;align-items:center;padding:12px 16px;background-color:var(--secondary-background-color);gap:12px}.floor-name{flex:1;font-weight:var(--ha-font-weight-medium)}.floor-handle{cursor:grab;color:var(--secondary-text-color)}ha-md-list{padding:0;--md-list-item-leading-space:16px;--md-list-item-trailing-space:16px;display:flex;flex-direction:column}ha-md-list-item{--md-list-item-one-line-container-height:48px;--md-list-item-container-shape:0}ha-md-list-item.sortable-ghost{border-radius:calc(var(--ha-card-border-radius,var(--ha-border-radius-lg)) - 1px);box-shadow:inset 0 0 0 2px var(--primary-color)}.area-handle{cursor:grab;color:var(--secondary-text-color)}.empty{text-align:center;color:var(--secondary-text-color);font-style:italic;margin:0;padding:12px 16px;order:1}ha-md-list:has(ha-md-list-item) .empty{display:none}.content{padding-top:16px;padding-bottom:16px}"])))]}}]);var t,r}(S.WF);(0,k.Cg)([(0,C.MZ)({attribute:!1})],Z.prototype,"hass",void 0),(0,k.Cg)([(0,C.wk)()],Z.prototype,"_open",void 0),(0,k.Cg)([(0,C.wk)()],Z.prototype,"_hierarchy",void 0),(0,k.Cg)([(0,C.wk)()],Z.prototype,"_saving",void 0),Z=(0,k.Cg)([(0,C.EM)("dialog-areas-floors-order")],Z),r()}catch(I){r(I)}})},22348:function(e,a,t){t.d(a,{V:function(){return o}});var r=t(37177),o=function(e){return!!e.auth.external&&r.n}},37177:function(e,a,t){t.d(a,{n:function(){return r}});t(27495),t(90906);var r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}]);
//# sourceMappingURL=6660.0357eec58fa70398.js.map