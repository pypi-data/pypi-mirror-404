"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["50895"],{23528:function(t,e,n){n.a(t,async function(t,r){try{n.d(e,{$3:function(){return y},$O:function(){return I},$j:function(){return g},ED:function(){return o},JE:function(){return M},OQ:function(){return O},PU:function(){return E},Ph:function(){return f},Uf:function(){return w},W1:function(){return m},Wr:function(){return _},Z:function(){return d},gF:function(){return v},iY:function(){return C},jU:function(){return c},nN:function(){return b},p3:function(){return l},pJ:function(){return p},r_:function(){return u},sz:function(){return h}});n(74423),n(18111),n(13579),n(62953);var i=n(28978),s=n(380),a=t([s]);s=(a.then?(await a)():a)[0];var o=function(t){return t[t.NONE=0]="NONE",t[t.ARITHMETIC=1]="ARITHMETIC",t[t.CIRCULAR=2]="CIRCULAR",t}({});const c=["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"],u=["L","gal","ft³","m³","CCF","MCF"],d=t=>t.sendMessagePromise({type:"recorder/info"}),l=(t,e)=>t.callWS({type:"recorder/list_statistic_ids",statistic_type:e}),_=(t,e)=>t.callWS({type:"recorder/get_statistics_metadata",statistic_ids:e}),h=(t,e,n,r,i="hour",s,a)=>t.callWS({type:"recorder/statistics_during_period",start_time:e.toISOString(),end_time:null==n?void 0:n.toISOString(),statistic_ids:r,period:i,units:s,types:a}),p=(t,e,n,r)=>t.callWS({type:"recorder/statistic_during_period",statistic_id:e,units:r,fixed_period:n.fixed_period?{start_time:n.fixed_period.start instanceof Date?n.fixed_period.start.toISOString():n.fixed_period.start,end_time:n.fixed_period.end instanceof Date?n.fixed_period.end.toISOString():n.fixed_period.end}:void 0,calendar:n.calendar?{..."week"===n.calendar.period?{first_weekday:(0,s.D)(t.locale).substring(0,3)}:{},...n.calendar}:void 0,rolling_window:n.rolling_window}),f=t=>t.callWS({type:"recorder/validate_statistics"}),m=(t,e,n,r)=>t.callWS({type:"recorder/update_statistics_metadata",statistic_id:e,unit_of_measurement:n,unit_class:r}),y=(t,e)=>t.callWS({type:"recorder/clear_statistics",statistic_ids:e}),g=t=>{let e=null;if(!t)return null;for(const n of t)null!==n.change&&void 0!==n.change&&(null===e?e=n.change:e+=n.change);return e},v=(t,e)=>{let n=null;for(const r of e){if(!(r in t))continue;const e=g(t[r]);null!==e&&(null===n?n=e:n+=e)}return n},C=(t,e)=>t.some(t=>void 0!==t[e]&&null!==t[e]),k=["mean","min","max"],S=["sum","state","change"],b=(t,e)=>!(!k.includes(e)||0===t.mean_type)||!(!S.includes(e)||!t.has_sum),w=(t,e,n,r,i)=>{const s=new Date(n).toISOString();return t.callWS({type:"recorder/adjust_sum_statistics",statistic_id:e,start_time:s,adjustment:r,adjustment_unit_of_measurement:i})},I=(t,e,n)=>{const r=t.states[e];return r?(0,i.u)(r):(null==n?void 0:n.name)||e},M=(t,e,n)=>{let r;var i;e&&(r=null===(i=t.states[e])||void 0===i?void 0:i.attributes.unit_of_measurement);return void 0===r?null==n?void 0:n.statistics_unit_of_measurement:r},O=t=>t.includes(":"),E=t=>t.callWS({type:"recorder/update_statistics_issues"});r()}catch(c){r(c)}})},62284:function(t,e,n){n.a(t,async function(t,r){try{n.r(e),n.d(e,{HuiEnergyCompareCard:function(){return w}});var i,s,a,o=n(72153),c=n(44734),u=n(43080),d=n(69683),l=n(6454),_=(n(28706),n(40445)),h=n(6946),p=n(73983),f=n(96196),m=n(77845),y=n(72487),g=n(38114),v=n(54706),C=n(784),k=(n(38962),n(1087)),S=n(14503),b=t([y,g]);[y,g]=b.then?(await b)():b;var w=function(t){function e(){var t;(0,c.A)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=(0,d.A)(this,e,[].concat(r))).hidden=!0,t.connectedWhileHidden=!0,t.hassSubscribeRequiredHostProps=["_config"],t}return(0,l.A)(e,t),(0,u.A)(e,[{key:"getCardSize",value:function(){return 1}},{key:"setConfig",value:function(t){this._config=t}},{key:"hassSubscribe",value:function(){var t=this;return[(0,g.tb)(this.hass,{key:this._config.collection_key}).subscribe(function(e){return t._update(e)})]}},{key:"shouldUpdate",value:function(t){return(0,C.xP)(this,t)||t.size>1||!t.has("hass")}},{key:"render",value:function(){if(!this._startCompare||!this._endCompare)return f.s6;var t=(0,h.c)(this._endCompare,this._startCompare);return(0,f.qy)(i||(i=(0,o.A)([' <ha-alert dismissable @alert-dismissed-clicked="','"> '," </ha-alert> "])),this._stopCompare,this.hass.localize("ui.panel.lovelace.cards.energy.energy_compare.info",{start:(0,f.qy)(s||(s=(0,o.A)(["<b>","","</b>"])),(0,y.Yq)(this._start,this.hass.locale,this.hass.config),t>0?" -\n          ".concat((0,y.Yq)(this._end||(0,p.D)(new Date),this.hass.locale,this.hass.config)):""),end:(0,f.qy)(a||(a=(0,o.A)(["<b>","",'</b> <button class="link" @click="','"> (',") </button>"])),(0,y.Yq)(this._startCompare,this.hass.locale,this.hass.config),t>0?" -\n          ".concat((0,y.Yq)(this._endCompare,this.hass.locale,this.hass.config)):"",this._changeCompareMode,this._compareMode===g.lh.PREVIOUS?this.hass.localize("ui.panel.lovelace.cards.energy.energy_compare.compare_previous_year"):this.hass.localize("ui.panel.lovelace.cards.energy.energy_compare.compare_previous_period"))}))}},{key:"_changeCompareMode",value:function(){var t=(0,g.tb)(this.hass,{key:this._config.collection_key});t.setCompare(this._compareMode===g.lh.PREVIOUS?g.lh.YOY:g.lh.PREVIOUS),t.refresh()}},{key:"_update",value:function(t){this._start=t.start,this._end=t.end,this._startCompare=t.startCompare,this._endCompare=t.endCompare,this._compareMode=t.compareMode;var e=this.hidden;this.hidden=!this._startCompare,e!==this.hidden&&(0,k.r)(this,"card-visibility-changed")}},{key:"_stopCompare",value:function(){var t=(0,g.tb)(this.hass,{key:this._config.collection_key});t.setCompare(g.lh.NONE),t.refresh()}}])}((0,v.E)(f.WF));w.styles=[S.og],(0,_.Cg)([(0,m.MZ)({attribute:!1})],w.prototype,"hass",void 0),(0,_.Cg)([(0,m.wk)()],w.prototype,"_config",void 0),(0,_.Cg)([(0,m.wk)()],w.prototype,"_start",void 0),(0,_.Cg)([(0,m.wk)()],w.prototype,"_end",void 0),(0,_.Cg)([(0,m.wk)()],w.prototype,"_startCompare",void 0),(0,_.Cg)([(0,m.wk)()],w.prototype,"_endCompare",void 0),(0,_.Cg)([(0,m.wk)()],w.prototype,"_compareMode",void 0),(0,_.Cg)([(0,m.MZ)({type:Boolean,reflect:!0})],w.prototype,"hidden",void 0),w=(0,_.Cg)([(0,m.EM)("hui-energy-compare-card")],w),r()}catch(I){r(I)}})},56434:function(t,e,n){n.d(e,{e:function(){return i}});var r=n(81977);function i(t,e,n){return(0,r.P)(t,12*e,n)}}}]);
//# sourceMappingURL=50895.50062844e5df13de.js.map