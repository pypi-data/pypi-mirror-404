# mcpb.conf - MCPB Bundle Configuration for xaffinity-mcp
#
# This file configures the MCPB bundle generation via `mcp-bash bundle`.
# Values here override server.d/server.meta.json.

# ==============================================================================
# Server Metadata
# ==============================================================================
# Note: MCPB_VERSION is read from VERSION file automatically by mcp-bash
MCPB_NAME="xaffinity-mcp"
MCPB_DESCRIPTION="MCP server for Affinity CRM - entity search, relationship intelligence, workflow management, and interaction logging"

# Author information (required for MCP Registry listing)
MCPB_AUTHOR_NAME="Yaniv Golan"
MCPB_AUTHOR_EMAIL="yaniv@golan.name"
MCPB_AUTHOR_URL="https://github.com/yaniv-golan"

# ==============================================================================
# Registry/Marketplace Metadata (mcp-bash 0.10.0+)
# ==============================================================================
MCPB_LICENSE="MIT"
MCPB_REPOSITORY="https://github.com/yaniv-golan/affinity-sdk"
MCPB_HOMEPAGE="https://github.com/yaniv-golan/affinity-sdk"
MCPB_DOCUMENTATION="https://github.com/yaniv-golan/affinity-sdk/tree/main/mcp"
MCPB_SUPPORT="https://github.com/yaniv-golan/affinity-sdk/issues"
MCPB_KEYWORDS="affinity crm sales pipeline workflow automation dealflow"

# ==============================================================================
# User Configuration (mcp-bash 0.10.0+)
# ==============================================================================
# Defines user-configurable options that implementing apps (Claude Desktop, etc.)
# collect via UI and pass to the server at runtime.

# Schema file defining configurable fields
MCPB_USER_CONFIG_FILE="user-config.json"

# Map user_config keys to environment variables (passed to server)
# Format: "config_key=ENV_VAR,config_key2=ENV_VAR2"
MCPB_USER_CONFIG_ENV_MAP="api_key=AFFINITY_API_KEY,read_only=AFFINITY_MCP_READ_ONLY,disable_destructive=AFFINITY_MCP_DISABLE_DESTRUCTIVE,session_cache_ttl=AFFINITY_SESSION_CACHE_TTL,debug_mode=MCPBASH_LOG_LEVEL"

# ==============================================================================
# Bundle Contents
# ==============================================================================
# Additional directories to include in bundle (space-separated)
# - .registry: CLI Gateway command registry (generated by CI)
# - .claude-plugin/skills: Skill SKILL.md files served by MCP resources (workflows-guide, query-guide)
MCPB_INCLUDE=".registry .claude-plugin/skills"

# Files to exclude from bundle (space-separated patterns)
# Note: .claude-plugin/hooks and .claude-plugin/commands are for Claude Code, not MCP
MCPB_EXCLUDE="*.log .git .claude-plugin/hooks .claude-plugin/commands .claude-plugin/agents"
