{
  "name": "execute-read-command",
  "description": "Execute a read-only CLI command. Use discover-commands first to find the right command.\n\nüìñ For complex workflows: Read xaffinity://workflows-guide for patterns and best practices.\n\nNote: Do not include --json in argv; JSON output is automatic.\n\nPAGINATION SAFETY: The gateway enforces limits on commands that support pagination:\n- Default: 1000 records (injected if no --max-results specified)\n- Maximum: 10000 records (higher values are capped with warning)\n- --all flag: BLOCKED (use explicit --max-results or cursor pagination)\nTo fetch more than 10000 records, use cursor pagination with --cursor.\n\nWhen to use this tool vs query:\n- Use `query` tool for bulk data retrieval with expand/include (better timeout handling, supports TOON format for 40% token savings)\n- Use this tool for CLI commands without query equivalent: field ls, field history, interaction ls, list get (shows saved views), etc.\n\n‚ö†Ô∏è EXPAND WARNING: Do NOT use --expand or --check-unreplied flags via this tool for bulk operations.\n- These cause N+1 API calls and may timeout. Use the `query` tool with dryRun=true first instead.\n\nKey concepts:\n- Entities (Company, Person, Opportunity): Global CRM records. Use 'company ls', 'person ls' to search ALL entities.\n- Lists: Collections with custom fields. Use 'list export <name>' to get entries from a specific list.\n- To filter by list-specific fields (Status, Stage, etc.), use 'list export', NOT 'company ls'.\n\nGetting field values:\n- Default list export returns only basic columns (listEntryId, entityType, entityId, entityName)\n- Use --field for each custom field you need: list export Dealflow --field \"Team Member\" --field \"Owner\"\n- --saved-view can be combined with --field for server-side filtering + explicit field selection\n\nExamples:\n- field ls --list-id Dealflow (see list fields and dropdown options)\n- field history field-123456 --person-id 789 (audit who changed a field and when)\n- interaction ls --type all --company-id 12345 (all interaction types; --days or --after optional)\n- person get john@example.com\n- list get Dealflow (shows fields and saved views)\n\nFilter syntax: 'field op \"value\"' where op is = != =~ (contains) =^ (starts) =$ (ends) > < >= <=\n\nFor workflow guidance (when to use query vs CLI, common patterns), read the xaffinity://workflows-guide resource.",
  "inputSchema": {
    "type": "object",
    "required": ["command"],
    "properties": {
      "command": {
        "type": "string",
        "description": "CLI command path (e.g., 'person get', 'company ls', 'list export'). Use discover-commands to find available commands."
      },
      "argv": {
        "type": "array",
        "items": { "type": "string" },
        "description": "Command arguments as array. Include IDs as first element, then flags. Example: ['12345', '--filter', 'Status=Active', '--limit', '50']"
      },
      "maxOutputBytes": {
        "type": "integer",
        "default": 50000,
        "description": "Maximum output size in bytes (default 50000). Larger outputs are truncated with truncated=true marker. Use --limit flag to reduce output size."
      },
      "dryRun": {
        "type": "boolean",
        "default": false,
        "description": "If true, return the command that would be executed without running it. Useful for verification."
      }
    }
  },
  "timeoutSecs": 120,
  "maxTimeoutSecs": 300,
  "progressExtendsTimeout": true,
  "timeoutHint": "For large exports, use --limit to reduce batch size. Avoid --expand/--include on large lists.",
  "annotations": {
    "readOnlyHint": true,
    "destructiveHint": false,
    "idempotentHint": true,
    "openWorldHint": true
  }
}
