// Flow derived from standalone function
digraph "Function Flow" {
	rankdir=TB
	graph [fontsize=16 label="Function Flow" labelloc=t]
	validate_product_data [label="Validate Product Data" fillcolor=lightgreen shape=ellipse style=filled]
	check_duplicate_sku [label="Check Duplicate SKU" fillcolor=lightgreen shape=ellipse style=filled]
	save_product [label="Save Product" fillcolor=lightblue shape=box style=filled]
	notify_catalog_update [label="Notify Catalog Update" fillcolor=lightgreen shape=ellipse style=filled]
	lookup_product [label="Lookup Product" fillcolor=lightgreen shape=ellipse style=filled]
	apply_update [label="Apply Update" fillcolor=lightblue shape=box style=filled]
	check_order_references [label="Check Order References" fillcolor=lightgreen shape=ellipse style=filled]
	soft_delete [label="Soft Delete" fillcolor=lightblue shape=box style=filled]
	hard_delete [label="Hard Delete" fillcolor=lightblue shape=box style=filled]
	create_product [label="Create Product" fillcolor=lightyellow shape=diamond style=filled]
	get_product [label="Get Product" fillcolor=lightblue shape=box style=filled]
	update_product [label="Update Product" fillcolor=lightyellow shape=diamond style=filled]
	delete_product [label="Delete Product" fillcolor=lightyellow shape=diamond style=filled]
	save_product -> notify_catalog_update
	apply_update -> notify_catalog_update
	soft_delete -> notify_catalog_update
	hard_delete -> notify_catalog_update
	create_product -> validate_product_data
	create_product -> check_duplicate_sku
	create_product -> save_product
	get_product -> lookup_product
	update_product -> lookup_product
	update_product -> validate_product_data
	update_product -> apply_update
	delete_product -> lookup_product
	delete_product -> check_order_references
	delete_product -> soft_delete [label=yes]
	delete_product -> hard_delete [label=yes]
	delete_product -> soft_delete [label=no]
}
