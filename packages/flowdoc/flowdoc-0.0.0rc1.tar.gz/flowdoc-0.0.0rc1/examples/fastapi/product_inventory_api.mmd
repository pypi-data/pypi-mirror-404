flowchart TD
    validate_product_data([Validate Product Data])
    check_duplicate_sku([Check Duplicate SKU])
    save_product[Save Product]
    notify_catalog_update([Notify Catalog Update])
    lookup_product([Lookup Product])
    apply_update[Apply Update]
    check_order_references([Check Order References])
    soft_delete[Soft Delete]
    hard_delete[Hard Delete]
    create_product{Create Product}
    get_product[Get Product]
    update_product{Update Product}
    delete_product{Delete Product}

    save_product --> notify_catalog_update
    apply_update --> notify_catalog_update
    soft_delete --> notify_catalog_update
    hard_delete --> notify_catalog_update
    create_product --> validate_product_data
    create_product --> check_duplicate_sku
    create_product --> save_product
    get_product --> lookup_product
    update_product --> lookup_product
    update_product --> validate_product_data
    update_product --> apply_update
    delete_product --> lookup_product
    delete_product --> check_order_references
    delete_product -->|yes| soft_delete
    delete_product -->|yes| hard_delete
    delete_product -->|no| soft_delete
