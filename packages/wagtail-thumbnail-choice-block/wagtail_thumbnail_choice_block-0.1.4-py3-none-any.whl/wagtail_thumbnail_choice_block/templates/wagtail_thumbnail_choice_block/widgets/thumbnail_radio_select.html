<div{% if widget.attrs.id %} id="{{ widget.attrs.id }}"{% endif %}{% if widget.attrs.class %} class="thumbnail-radio-select {{ widget.attrs.class }}"{% else %} class="thumbnail-radio-select"{% endif %} style="--thumbnail-size: {{ widget.thumbnail_size }}px;">
  <div class="thumbnail-filter-wrapper">
    <div class="thumbnail-selected-preview"></div>
    <input type="text" class="thumbnail-filter-input" placeholder="Select an option..." autocomplete="off" readonly>
  </div>
  <div class="thumbnail-dropdown">
{% for group, options, index in widget.optgroups %}
  {% if group %}
    <div class="thumbnail-radio-group">
      {% if group %}<span class="thumbnail-radio-group-label">{{ group }}</span>{% endif %}
  {% endif %}
  {% for option in options %}
    <label{% if option.attrs.id %} for="{{ option.attrs.id }}"{% endif %} class="thumbnail-radio-option{% if option.attrs.checked %} selected{% endif %}" data-label="{{ option.label|lower }}">
      <input type="{{ option.type }}" name="{{ option.name }}"{% if option.value != None %} value="{{ option.value }}"{% endif %}{% for name, value in option.attrs.items %} {{ name }}{% if value != True %}="{{ value }}"{% endif %}{% endfor %}>
      <span class="thumbnail-wrapper">
        {% if option.thumbnail_template_html %}
          {{ option.thumbnail_template_html|safe }}
        {% elif option.thumbnail_url %}
          <img src="{{ option.thumbnail_url }}" alt="{{ option.label }}" class="thumbnail-image">
        {% else %}
          <span class="thumbnail-placeholder"></span>
        {% endif %}
      </span>
      <span class="thumbnail-label">{{ option.label }}</span>
    </label>
  {% endfor %}
  {% if group %}</div>{% endif %}
{% endfor %}
    <div class="thumbnail-no-results" style="display: none;">No matching options found.</div>
  </div>
</div>
