(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{9475:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/experiment/[id]",function(){return s(6120)}])},6120:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ExperimentPage}});var a=s(5893),r=s(7294),i=s(1163),n=s(9008),c=s.n(n),l=s(9604);function ExperimentDetails(e){let{experimentId:t}=e,[s,i]=(0,r.useState)(null),[n,c]=(0,r.useState)(!0),[d,x]=(0,r.useState)(null);if((0,r.useEffect)(()=>{let fetchDetails=async()=>{try{c(!0),x(null);let e=await fetch("/api/experiments/".concat(t));if(!e.ok)throw Error("Failed to fetch experiment details");let s=await e.json();i(s)}catch(e){x(e instanceof Error?e.message:"An error occurred")}finally{c(!1)}};fetchDetails()},[t]),n)return(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(d)return(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-red-600 mb-4",children:d}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"btn btn-primary",children:"Retry"})]});if(!s)return(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Experiment not found"})});let m=s.experiment;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:m.name||"[Unnamed]"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["ID: ",m.id]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,a.jsx)("span",{className:"status-badge status-".concat(m.status),children:m.status}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Created ",(0,l.SY)(m.created_at)]})]})]})}),m.description&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("p",{className:"text-gray-700",children:m.description})}),m.tags.length>0&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:m.tags.map(e=>(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e},e))})})]}),Object.keys(s.config).length>0&&(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Configuration"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parameter"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(s.config).map(e=>{let[t,s]=e;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"object"==typeof s?JSON.stringify(s):String(s)})]},t)})})]})})]}),s.artifacts.length>0&&(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Artifacts"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modified"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.artifacts.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:formatFileSize(e.size)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,l.SY)(new Date(1e3*e.modified).toISOString())}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsx)("a",{href:"/api/experiments/".concat(t,"/artifacts/").concat(e.name),download:!0,className:"text-primary-600 hover:text-primary-900",children:"Download"})})]},e.name))})]})})]})]})}function formatFileSize(e){if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]}function ExperimentPage(){let e=(0,i.useRouter)(),{id:t}=e.query,[s,n]=(0,r.useState)(null),[l,d]=(0,r.useState)(!0),[x,m]=(0,r.useState)(null);return((0,r.useEffect)(()=>{if(!t)return;let fetchExperiment=async()=>{try{d(!0),m(null);let e=await fetch("/api/experiments/".concat(t));if(!e.ok)throw Error("Failed to fetch experiment");let s=await e.json();n(s.experiment)}catch(e){m(e instanceof Error?e.message:"An error occurred")}finally{d(!1)}};fetchExperiment()},[t]),l)?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):x?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-red-600 mb-4",children:x}),(0,a.jsx)("button",{onClick:()=>e.reload(),className:"btn btn-primary",children:"Retry"})]}):s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c(),{children:(0,a.jsxs)("title",{children:[s.name||"[Unnamed]"," - Yanex"]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>e.back(),className:"btn btn-secondary",children:"‚Üê Back"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:s.name||"[Unnamed]"})]}),(0,a.jsx)(ExperimentDetails,{experimentId:t})]})]}):(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Experiment not found"})})}},9604:function(e,t,s){"use strict";s.d(t,{SY:function(){return formatRelativeTime}});var a=s(9620);function parseTimestamp(e){return new Date(e.endsWith("Z")||e.match(/[+-]\d{2}:\d{2}$/)?e:e+"Z")}function formatRelativeTime(e){if(!e)return"Unknown";try{let t=parseTimestamp(e);return(0,a.Z)(t,{addSuffix:!0})}catch(t){return e}}},1163:function(e,t,s){e.exports=s(9974)}},function(e){e.O(0,[714,774,888,179],function(){return e(e.s=9475)}),_N_E=e.O()}]);