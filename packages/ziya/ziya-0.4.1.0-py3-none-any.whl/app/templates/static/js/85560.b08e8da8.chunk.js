"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[85560],{85560:(t,e,i)=>{i.r(e),i.d(e,{jointPlugin:()=>x});var o=i(89379),n=i(28004);const r=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:120,height:80},n=t.text||t.label||t.id,{shapes:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.standard.Rectangle({id:t.id,position:i,size:o,attrs:{body:{fill:"dark"===e?"#4c566a":"#ffffff",stroke:"dark"===e?"#88c0d0":"#2c3e50",strokeWidth:2,rx:8,ry:8,magnet:!0,filter:"dark"===e?"drop-shadow(2px 2px 4px rgba(0,0,0,0.5))":"drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"},label:{text:n,fill:"dark"===e?"#eceff4":"#2c3e50",fontSize:14,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle"}}})},a=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:80,height:80},n=t.text||t.label||t.id,{shapes:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.standard.Circle({id:t.id,position:i,size:o,attrs:{body:{fill:"dark"===e?"#5e81ac":"#3498db",stroke:"dark"===e?"#88c0d0":"#2980b9",strokeWidth:3,magnet:!0,filter:"dark"===e?"drop-shadow(2px 2px 6px rgba(0,0,0,0.4))":"drop-shadow(2px 2px 6px rgba(0,0,0,0.2))"},label:{text:n,fill:"dark"===e?"#eceff4":"#ffffff",fontSize:13,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle"}}})},s=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:140,height:70},n=t.text||t.label||t.id,{shapes:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.standard.Ellipse({id:t.id,position:i,size:o,attrs:{body:{fill:"dark"===e?"#bf616a":"#e74c3c",stroke:"dark"===e?"#d08770":"#c0392b",strokeWidth:2,magnet:!0,filter:"dark"===e?"drop-shadow(2px 2px 4px rgba(0,0,0,0.5))":"drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"},label:{text:n,fill:"dark"===e?"#eceff4":"#ffffff",fontSize:13,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle"}}})},l=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:120,height:80},n=t.text||t.label||t.id,{shapes:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.standard.Polygon({id:t.id,position:i,size:o,attrs:{body:{fill:"dark"===e?"#ebcb8b":"#f39c12",stroke:"dark"===e?"#d08770":"#e67e22",strokeWidth:2,refPoints:"0,10 10,0 20,10 10,20",magnet:!0,filter:"dark"===e?"drop-shadow(2px 2px 4px rgba(0,0,0,0.5))":"drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"},label:{text:n,fill:"dark"===e?"#2e3440":"#ffffff",fontSize:12,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle"}}})},d=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:100,height:86},n=t.text||t.label||t.id,{shapes:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.standard.Polygon({id:t.id,position:i,size:o,attrs:{body:{fill:"dark"===e?"#a3be8c":"#27ae60",stroke:"dark"===e?"#8fbcbb":"#229954",strokeWidth:2,refPoints:"15,0 25,0 30,8.66 25,17.32 15,17.32 10,8.66",filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"},label:{text:n,fill:"dark"===e?"#eceff4":"#ffffff",fontSize:12,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle"}}})},c=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:80,height:100},n=t.text||t.label||t.id,{dia:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.Element({id:t.id,position:i,size:o,markup:[{tagName:"ellipse",selector:"top"},{tagName:"rect",selector:"body"},{tagName:"ellipse",selector:"bottom"},{tagName:"text",selector:"label"}],attrs:{top:{cx:o.width/2,cy:8,rx:o.width/2-2,ry:8,fill:"dark"===e?"#5e81ac":"#3498db",stroke:"dark"===e?"#88c0d0":"#2980b9",strokeWidth:2},body:{x:2,y:8,width:o.width-4,height:o.height-16,fill:"dark"===e?"#5e81ac":"#3498db",stroke:"dark"===e?"#88c0d0":"#2980b9",strokeWidth:2},bottom:{cx:o.width/2,cy:o.height-8,rx:o.width/2-2,ry:8,fill:"dark"===e?"#4c566a":"#2c3e50",stroke:"dark"===e?"#88c0d0":"#2980b9",strokeWidth:2},label:{text:n,fill:"dark"===e?"#eceff4":"#ffffff",fontSize:12,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle",x:o.width/2,y:o.height/2}}})},h=(t,e,i)=>{const n=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},r=t.size||w(e),a=t.text||t.label||t.id,s=b(e,i),l=u(e),{shapes:d}=globalThis.__jointRuntimeDeps||{};if(!d)throw new Error("Joint.js not initialized");const c=new d.standard.Rectangle({id:t.id,position:n,size:r,attrs:{body:s.body,label:(0,o.A)((0,o.A)({},s.label),{},{text:a})}});return l.forEach(t=>{c.addPort(N(t,i))}),t.ports&&t.ports.forEach(t=>{c.addPort(N(t,i))}),c},f=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:100,height:80},n=t.text||t.label||t.id,{dia:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.Element({id:t.id,position:i,size:o,markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{body:{d:"M 0 0 L ".concat(o.width-15," 0 L ").concat(o.width," 15 L ").concat(o.width," ").concat(o.height," L 0 ").concat(o.height," Z M ").concat(o.width-15," 0 L ").concat(o.width-15," 15 L ").concat(o.width," 15"),fill:"dark"===e?"#d08770":"#f39c12",stroke:"dark"===e?"#ebcb8b":"#e67e22",strokeWidth:2,filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"},label:{text:n,fill:"dark"===e?"#2e3440":"#ffffff",fontSize:11,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle",x:o.width/2,y:o.height/2+5}}})},p=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:120,height:80},n=t.text||t.label||t.id,{dia:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.Element({id:t.id,position:i,size:o,markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"tab1"},{tagName:"rect",selector:"tab2"},{tagName:"text",selector:"label"}],attrs:{body:{x:0,y:10,width:o.width,height:o.height-10,fill:"dark"===e?"#5e81ac":"#3498db",stroke:"dark"===e?"#88c0d0":"#2980b9",strokeWidth:2,rx:5,filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"},tab1:{x:10,y:0,width:20,height:15,fill:"dark"===e?"#81a1c1":"#5dade2",stroke:"dark"===e?"#88c0d0":"#2980b9",strokeWidth:1,rx:3},tab2:{x:35,y:0,width:20,height:15,fill:"dark"===e?"#81a1c1":"#5dade2",stroke:"dark"===e?"#88c0d0":"#2980b9",strokeWidth:1,rx:3},label:{text:n,fill:"dark"===e?"#eceff4":"#ffffff",fontSize:12,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle",x:o.width/2,y:o.height/2+5}}})},g=(t,e,i)=>{const o=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},n=t.size||k(e),r=t.value||A(e),a=t.text||t.label||t.id+(r?" (".concat(r,")"):""),s=y(e,i,n,a),l=m(e),d=z(e),{dia:c}=globalThis.__jointRuntimeDeps||{};if(!c)throw new Error("Joint.js not initialized");const h=new c.Element({id:t.id,position:o,size:n,markup:l,attrs:s});return d.forEach(t=>{h.addPort(N(t,i))}),h},m=t=>({resistor:[{tagName:"path",selector:"symbol"},{tagName:"text",selector:"label"}],capacitor:[{tagName:"line",selector:"plate1"},{tagName:"line",selector:"plate2"},{tagName:"text",selector:"label"}],inductor:[{tagName:"path",selector:"coil"},{tagName:"text",selector:"label"}],battery:[{tagName:"line",selector:"positive"},{tagName:"line",selector:"negative"},{tagName:"text",selector:"polarityPos"},{tagName:"text",selector:"polarityNeg"},{tagName:"text",selector:"label"}],ground:[{tagName:"path",selector:"symbol"},{tagName:"text",selector:"label"}],diode:[{tagName:"path",selector:"triangle"},{tagName:"line",selector:"cathode"},{tagName:"text",selector:"label"}],voltage_source:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"polarityPos"},{tagName:"text",selector:"polarityNeg"},{tagName:"text",selector:"label"}],current_source:[{tagName:"circle",selector:"body"},{tagName:"path",selector:"arrow"},{tagName:"text",selector:"label"}],transistor:[{tagName:"circle",selector:"body"},{tagName:"line",selector:"baseLead"},{tagName:"line",selector:"base"},{tagName:"line",selector:"collector"},{tagName:"line",selector:"emitter"},{tagName:"path",selector:"arrow"},{tagName:"text",selector:"label"}]}[t]||[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]),y=(t,e,i,o)=>{const n="dark"===e?"#ffffff":"#000000",r="dark"===e?"#ffffff":"#000000",a={text:o,fill:r,fontSize:11,fontFamily:"Arial, sans-serif",textAnchor:"middle",textVerticalAnchor:"top",x:i.width/2,y:i.height+5};return{resistor:{symbol:{d:"M 0,".concat(i.height/2," L ").concat(.2*i.width,",").concat(i.height/2," L ").concat(.25*i.width,",").concat(.2*i.height," L ").concat(.35*i.width,",").concat(.8*i.height," L ").concat(.45*i.width,",").concat(.2*i.height," L ").concat(.55*i.width,",").concat(.8*i.height," L ").concat(.65*i.width,",").concat(.2*i.height," L ").concat(.75*i.width,",").concat(.8*i.height," L ").concat(.8*i.width,",").concat(i.height/2," L ").concat(i.width,",").concat(i.height/2),fill:"none",stroke:n,strokeWidth:2},label:a},capacitor:{plate1:{x1:.45*i.width,y1:.2*i.height,x2:.45*i.width,y2:.8*i.height,stroke:n,strokeWidth:3},plate2:{x1:.55*i.width,y1:.2*i.height,x2:.55*i.width,y2:.8*i.height,stroke:n,strokeWidth:3},label:a},battery:{positive:{x1:.4*i.width,y1:.2*i.height,x2:.4*i.width,y2:.8*i.height,stroke:n,strokeWidth:4},negative:{x1:.6*i.width,y1:.3*i.height,x2:.6*i.width,y2:.7*i.height,stroke:n,strokeWidth:2},polarityPos:{text:"+",fill:r,fontSize:14,fontWeight:"bold",textAnchor:"middle",x:.4*i.width,y:.1*i.height},polarityNeg:{text:"\u2212",fill:r,fontSize:14,fontWeight:"bold",textAnchor:"middle",x:.6*i.width,y:.1*i.height},label:a},ground:{symbol:{d:"M ".concat(i.width/2,",0 L ").concat(i.width/2,",").concat(.6*i.height," M ").concat(.2*i.width,",").concat(.6*i.height," L ").concat(.8*i.width,",").concat(.6*i.height," M ").concat(.3*i.width,",").concat(.75*i.height," L ").concat(.7*i.width,",").concat(.75*i.height," M ").concat(.4*i.width,",").concat(.9*i.height," L ").concat(.6*i.width,",").concat(.9*i.height),fill:"none",stroke:n,strokeWidth:2},label:a},diode:{triangle:{d:"M ".concat(.3*i.width,",").concat(.3*i.height," L ").concat(.7*i.width,",").concat(i.height/2," L ").concat(.3*i.width,",").concat(.7*i.height," Z"),fill:"transparent",stroke:n,strokeWidth:2},cathode:{x1:.7*i.width,y1:.3*i.height,x2:.7*i.width,y2:.7*i.height,stroke:n,strokeWidth:2},label:a},inductor:{coil:{d:"M 0,".concat(i.height/2," L ").concat(.15*i.width,",").concat(i.height/2," ")+"Q ".concat(.2*i.width,",").concat(.1*i.height," ").concat(.25*i.width,",").concat(i.height/2," ")+"Q ".concat(.3*i.width,",").concat(.9*i.height," ").concat(.35*i.width,",").concat(i.height/2," ")+"Q ".concat(.4*i.width,",").concat(.1*i.height," ").concat(.45*i.width,",").concat(i.height/2," ")+"Q ".concat(.5*i.width,",").concat(.9*i.height," ").concat(.55*i.width,",").concat(i.height/2," ")+"Q ".concat(.6*i.width,",").concat(.1*i.height," ").concat(.65*i.width,",").concat(i.height/2," ")+"Q ".concat(.7*i.width,",").concat(.9*i.height," ").concat(.75*i.width,",").concat(i.height/2," ")+"L ".concat(i.width,",").concat(i.height/2),fill:"none",stroke:n,strokeWidth:2},label:a},voltage_source:{body:{cx:i.width/2,cy:i.height/2,r:Math.min(i.width,i.height)/2-2,fill:"transparent",stroke:n,strokeWidth:2},polarityPos:{text:"+",fill:r,fontSize:16,fontWeight:"bold",textAnchor:"middle",x:i.width/2-.15*i.width,y:i.height/2+5},polarityNeg:{text:"\u2212",fill:r,fontSize:16,fontWeight:"bold",textAnchor:"middle",x:i.width/2+.15*i.width,y:i.height/2+5},label:a},current_source:{body:{cx:i.width/2,cy:i.height/2,r:Math.min(i.width,i.height)/2-2,fill:"transparent",stroke:n,strokeWidth:2},arrow:{d:"M ".concat(i.width/2,",").concat(.3*i.height," L ").concat(i.width/2,",").concat(.7*i.height," M ").concat(i.width/2,",").concat(.7*i.height," L ").concat(.4*i.width,",").concat(.6*i.height," M ").concat(i.width/2,",").concat(.7*i.height," L ").concat(.6*i.width,",").concat(.6*i.height),fill:"none",stroke:n,strokeWidth:2},label:a},transistor:{body:{cx:i.width/2,cy:i.height/2,r:Math.min(i.width,i.height)/2.5,fill:"transparent",stroke:n,strokeWidth:1.5},baseLead:{x1:0,y1:i.height/2,x2:.35*i.width,y2:i.height/2,stroke:n,strokeWidth:2},base:{x1:.35*i.width,y1:.3*i.height,x2:.35*i.width,y2:.7*i.height,stroke:n,strokeWidth:3},collector:{x1:.35*i.width,y1:.35*i.height,x2:i.width,y2:.15*i.height,stroke:n,strokeWidth:2},emitter:{x1:.35*i.width,y1:.65*i.height,x2:i.width,y2:.85*i.height,stroke:n,strokeWidth:2},arrow:{d:"M ".concat(.55*i.width,",").concat(.72*i.height," L ").concat(.65*i.width,",").concat(.8*i.height," L ").concat(.6*i.width,",").concat(.68*i.height," Z"),fill:n,stroke:n,strokeWidth:1},label:a}}[t]||{body:{fill:"transparent",stroke:n,strokeWidth:2,width:i.width,height:i.height},label:a}},x={name:"joint-renderer",priority:6,sizingConfig:{sizingStrategy:"auto-expand",needsDynamicHeight:!0,needsOverflowVisible:!0,observeResize:!1,minWidth:void 0,minHeight:void 0,containerStyles:{width:"100%",height:"auto",maxHeight:"none",overflow:"visible"}},canHandle:t=>(t=>"object"===typeof t&&null!==t&&("joint"===t.type||"jointjs"===t.type||"diagram"===t.type)&&("string"===typeof t.definition||t.elements&&"object"===typeof t.elements||t.cells&&Array.isArray(t.cells)))(t),isDefinitionComplete:t=>{if(!t||0===t.trim().length)return!1;const e=t.trim().split("\n");return e.length>=2&&e.some(t=>t.includes("elements:")||t.match(/\w+\s*(?:\[\w+\])?/))},render:async(t,e,m,y)=>{console.log("Joint.js plugin render called with spec:",m);const[w,b]=await Promise.all([i.e(20011).then(i.t.bind(i,20011,23)),Promise.all([i.e(20011),i.e(6361)]).then(i.bind(i,6361))]),{dia:u,shapes:k,anchors:A,connectionPoints:z,routers:N,connectors:W}=w,{DirectedGraph:D}=b;globalThis.__jointRuntimeDeps={dia:u,shapes:k,anchors:A,connectionPoints:z,routers:N,connectors:W};try{const e=t._jointPaper;e&&(e.remove(),delete t._jointPaper),t.innerHTML="",t.style.width="100%",t.style.maxWidth="100%";const i=document.createElement("div");if(i.className="joint-loading-spinner",i.style.cssText="\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: center;\n                padding: 2em;\n                min-height: 200px;\n                width: 100%;\n            ",i.innerHTML='\n                <div style="\n                    border: 4px solid rgba(0, 0, 0, 0.1);\n                    border-top: 4px solid '.concat(y?"#4cc9f0":"#3498db",';\n                    border-radius: 50%;\n                    width: 40px;\n                    height: 40px;\n                    animation: joint-spin 1s linear infinite;\n                    margin-bottom: 15px;\n                "></div>\n                <div style="font-family: system-ui, -apple-system, sans-serif; color: ').concat(y?"#eceff4":"#333333",';">\n                    Rendering diagram...\n                </div>\n            '),t.appendChild(i),!document.querySelector("#joint-spinner-keyframes")){const t=document.createElement("style");t.id="joint-spinner-keyframes",t.textContent="\n                    @keyframes joint-spin {\n                        0% { transform: rotate(0deg); }\n                        100% { transform: rotate(360deg); }\n                    }\n                ",document.head.appendChild(t)}if(m.isStreaming&&!m.forceRender){const e=m.definition||"";if(!x.isDefinitionComplete(e))return void(t.innerHTML='\n                        <div style="text-align: center; padding: 20px; background-color: '.concat(y?"#1f1f1f":"#f6f8fa",'; border: 1px dashed #ccc; border-radius: 4px;">\n                            <p>Waiting for complete Joint.js diagram definition...</p>\n                            <button onclick="this.parentElement.style.display=\'none\'; this.dispatchEvent(new CustomEvent(\'forceRender\', { bubbles: true }))" \n                                style="background-color: #4361ee; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; margin-top: 10px;">\n                                \ud83d\udd04 Force Render\n                            </button>\n                        </div>\n                    '))}let w,b;if(m.definition){const t=(t=>{const e=t.split("\n").map(t=>t.trim()).filter(t=>t&&!t.startsWith("//")&&!t.startsWith("#")&&!t.startsWith("```")&&!t.startsWith("type:")&&!t.startsWith("definition:")&&"|"!==t),i=[],o=[];let n="elements";for(const r of e)if(r.toLowerCase().includes("elements:"))n="elements";else if(r.toLowerCase().includes("links:")||r.toLowerCase().includes("connections:"))n="links";else if("elements"===n){const t=r.match(/^(\w+)(?:\s*\[(\w+)\])?(?:\s*"([^"]*)")?(?:\s*@\((\d+),\s*(\d+)\))?(?:\s*size\((\d+),\s*(\d+)\))?/)||r.match(/^(\w+):\s*"?([^"]*)"?$/)||r.match(/^(\w+)$/);if(t){const[,e,o,n,r,a,s,l]=t;i.push({id:e,type:o||"rect",position:r&&a?[parseInt(r),parseInt(a)]:[i.length%4*180+80,120*Math.floor(i.length/4)+60],size:s&&l?{width:parseInt(s),height:parseInt(l)}:{width:120,height:80},text:n||e})}else if(r.includes(":")&&!r.includes("->")){const t=r.match(/^(\w+):\s*"?([^"]*)"?$/);if(t){const[,e,o]=t;i.push({id:e,type:"rect",position:[i.length%4*180+80,120*Math.floor(i.length/4)+60],size:{width:120,height:80},text:o||e})}}}else if("links"===n){const t=r.match(/^(\w+)\s*->\s*(\w+)(?:\s*"([^"]*)")?/);if(t){const[,e,i,n]=t;o.push({id:"".concat(e,"-").concat(i),source:e,target:i,label:n})}}return 0===i.length&&t.trim()&&(console.log("No elements parsed from definition, creating default test elements"),i.push({id:"A",type:"rect",position:[100,100],size:{width:120,height:80},text:"Element A"}),i.push({id:"B",type:"circle",position:[300,100],size:{width:80,height:80},text:"Element B"}),o.push({id:"A-B",source:"A",target:"B",label:"connection"})),{elements:i,connections:o}})((0,n.k)(m.definition,"joint"));w=t.elements,b=t.connections,console.log("Parsed from definition:",{elements:w.length,connections:b.length})}else{if(!m.elements)throw new Error("No elements or definition provided");w=Object.keys(m.elements).map(t=>(0,o.A)((0,o.A)({},{type:"rect"}),{},{id:t},m.elements[t])),b=m.connections||[],console.log("Parsed from object format:",{elements:w.length,elementIds:w.map(t=>t.id),elementTypes:w.map(t=>t.type||"undefined"),connections:b.length})}if(console.log("Parsed elements:",w),console.log("Parsed connections:",b),0===w.length)throw new Error("No elements found in specification");const P="auto"===m.theme?y?"dark":"light":m.theme||(y?"dark":"light"),J=t.parentElement;let B=null===J||void 0===J?void 0:J.getBoundingClientRect(),F=J;for(;F&&B&&0===B.width;){var R;F=F.parentElement,B=null===(R=F)||void 0===R?void 0:R.getBoundingClientRect()}const V=B&&B.width>0?B.width:.8*window.innerWidth,H=B&&B.height>0?B.height:400;console.log("Joint.js sizing:",{container:t.getBoundingClientRect(),parentRect:B,availableWidth:V,availableHeight:H,windowWidth:window.innerWidth});const G=m.width||Math.max(V-40,400),O=m.height||Math.max(H-40,300),I=new u.Graph({},{cellNamespace:k});console.log("Creating Joint.js paper with dimensions:",{width:G,height:O});const Q=new u.Paper({el:t,width:G,height:O,gridSize:!1!==m.grid?10:1,drawGrid:!1!==m.grid,model:I,cellViewNamespace:k,anchorNamespace:A,connectionPointNamespace:z,routerNamespace:N,connectorNamespace:W,interactive:!1!==m.interactive,snapLinks:{radius:30},linkPinning:!1,defaultAnchor:{name:"modelCenter"},defaultConnectionPoint:{name:"boundary"},defaultRouter:{name:"normal"},defaultLink:()=>new k.standard.Link,defaultConnector:{name:"rounded",args:{radius:15}},background:{color:"dark"===P?"#1f1f1f":"#ffffff"}});t._jointPaper=Q;const q=new ResizeObserver(e=>{for(const i of e){const{width:e}=i.contentRect,o=Q.getComputedSize();if(e>0&&e!==o.width&&Math.abs(o.width-e)>5){console.log("Container width changed, updating paper width:",{from:o.width,to:e});const i=I.getBBox();if(i){const o=40,n=i.height+2*o;Q.setDimensions(e,Math.max(n,300)),t.style.height="".concat(Math.max(n,300),"px"),t.style.minHeight="".concat(Math.max(n,300),"px");const r=t.parentElement;null!==r&&void 0!==r&&r.classList.contains("d3-container")&&(r.style.height="auto",r.style.minHeight="".concat(Math.max(n,300),"px")),Q.translate(o-i.x,o-i.y);const a=t.querySelector("svg");a&&a.setAttribute("viewBox","0 0 ".concat(e," ").concat(Math.max(n,300)))}}}});q.observe(t),t._resizeObserver=q;const U=t.querySelector(".joint-paper");U&&(U.style.width="100%",U.style.height="auto",U.style.minHeight="unset",U.style.maxHeight="none",console.log("Forced paper element to full width")),i&&i.parentNode===t&&t.removeChild(i);const Z=[];let $=0;const Y=Math.min(Math.ceil(Math.sqrt(w.length)),4),X=Math.min((G-100)/Y,150),K=(Y-1)*X,tt=Math.max(60,(G-K)/2),et=80,it={default:(t,e)=>r(t,e),rect:(t,e)=>r(t,e),square:(t,e)=>r((0,o.A)((0,o.A)({},t),{},{size:{width:80,height:80}}),e),circle:(t,e)=>a(t,e),ellipse:(t,e)=>s(t,e),diamond:(t,e)=>l(t,e),hexagon:(t,e)=>d(t,e),cylinder:(t,e)=>c(t,e),actor:(t,e)=>C(t,e),process:(t,e)=>r((0,o.A)((0,o.A)({},t),{},{size:t.size||{width:140,height:60}}),e),decision:(t,e)=>l(t,e),start:(t,e)=>a((0,o.A)((0,o.A)({},t),{},{size:t.size||{width:80,height:80}}),e),end:(t,e)=>a((0,o.A)((0,o.A)({},t),{},{size:t.size||{width:80,height:80}}),e),node:(t,e)=>a(t,e),box:(t,e)=>r(t,e),oval:(t,e)=>s(t,e),rhombus:(t,e)=>l(t,e),rectangle:(t,e)=>r(t,e),database:(t,e)=>c(t,e),storage:(t,e)=>r(t,e),message:(t,e)=>v(t,e),document:(t,e)=>f(t,e),component:(t,e)=>p(t,e),module:(t,e)=>j(t,e),class:(t,e)=>L(t,"class",e),interface:(t,e)=>L(t,"interface",e),package:(t,e)=>L(t,"package",e),note:(t,e)=>E(t,e),subprocess:(t,e)=>M(t,e),manual:(t,e)=>S(t,e),data:(t,e)=>_(t,e),router:(t,e)=>h(t,"router",e),switch:(t,e)=>h(t,"switch",e),server:(t,e)=>h(t,"server",e),firewall:(t,e)=>h(t,"firewall",e),cloud:(t,e)=>h(t,"cloud",e),resistor:(t,e)=>g(t,"resistor",e),capacitor:(t,e)=>g(t,"capacitor",e),inductor:(t,e)=>g(t,"inductor",e),battery:(t,e)=>g(t,"battery",e),ground:(t,e)=>g(t,"ground",e),voltage_source:(t,e)=>g(t,"voltage_source",e),current_source:(t,e)=>g(t,"current_source",e),diode:(t,e)=>g(t,"diode",e),transistor:(t,e)=>g(t,"transistor",e)};if(console.log("\ud83d\udd27 JOINT-DEBUG: Starting element creation"),console.log("\ud83d\udd27 JOINT-DEBUG: Shape registry keys:",Object.keys(it)),w.forEach(t=>{try{const e=t.type||t.shape||"rect";console.log("\ud83d\udd27 JOINT-DEBUG: Processing element ".concat(t.id,":"),{type:t.type,shape:t.shape,shapeType:e,hasCreator:!!it[e]});if(!it[e]){console.warn('\ud83d\udd27 JOINT-DEBUG: No shape creator found for "'.concat(e,'", using rect as fallback'));if(!it.rect)throw new Error('No shape creator for "'.concat(e,'" and no rect fallback available'))}const i=it[e]||it.rect;let n=t.position;if(!n||Array.isArray(n)&&(n[0]<0||n[1]<0)||"object"===typeof n&&!Array.isArray(n)&&"x"in n&&"y"in n&&(n.x<0||n.y<0)){const e=$%Y,i=Math.floor($/Y);n=[tt+e*X,et+120*i],console.log("\ud83d\udd27 JOINT-DEBUG: Auto-positioning element ".concat(t.id," at grid (").concat(e,", ").concat(i,") -> (").concat(n[0],", ").concat(n[1],")"))}const r=i((0,o.A)((0,o.A)({},t),{},{position:n,size:t.size||{width:120,height:80}}),P);r&&(Z.push(r),I.addCell(r),console.log("\ud83d\udd27 JOINT-DEBUG: \u2713 Created element ".concat(t.id)))}catch(e){console.warn("Failed to create element ".concat(t.id,":"),e)}finally{$++}}),console.log("Created ".concat(Z.length," elements out of ").concat(w.length," specified")),0===Z.length)throw new Error("No elements were successfully created");const ot=[];if(b.forEach(t=>{try{const e="string"===typeof t.source?t.source:t.source.id,i="string"===typeof t.target?t.target:t.target.id,n=Z.some(t=>t.id===e),r=Z.some(t=>t.id===i);if(!n)return void console.warn('Link source "'.concat(e,'" not found in created elements'));if(!r)return void console.warn('Link target "'.concat(i,'" not found in created elements'));const a=((t,e)=>{var i,n;const r="string"===typeof t.source?{id:t.source,anchor:{name:"modelCenter"},connectionPoint:{name:"boundary"}}:(0,o.A)((0,o.A)({},t.source),{},{anchor:t.source.anchor||{name:"modelCenter"},connectionPoint:t.source.connectionPoint||{name:"boundary"}}),a="string"===typeof t.target?{id:t.target,anchor:{name:"modelCenter"},connectionPoint:{name:"boundary"}}:(0,o.A)((0,o.A)({},t.target),{},{anchor:t.target.anchor||{name:"modelCenter"},connectionPoint:t.target.connectionPoint||{name:"boundary"}}),{shapes:s}=globalThis.__jointRuntimeDeps||{};if(!s)throw new Error("Joint.js not initialized");const l=new s.standard.Link({id:t.id,source:r,target:a,router:{name:t.router||"normal",args:{padding:20}},connector:{name:t.connector||"rounded",args:{radius:15}},vertices:t.vertices||[],defaultRouter:{name:"normal"},attrs:{line:{stroke:"dark"===e?"#88c0d0":"#34495e",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:(null===(i=t.attrs)||void 0===i||null===(n=i.line)||void 0===n?void 0:n.strokeDasharray)||"0",filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.2))",targetMarker:{type:"path",d:"M 14 -7 0 0 14 7 z",fill:"dark"===e?"#88c0d0":"#34495e",stroke:"dark"===e?"#88c0d0":"#34495e",strokeWidth:2}},wrapper:{strokeWidth:10,stroke:"transparent"}}});return t.label&&l.appendLabel({position:.5,attrs:{rect:{fill:"dark"===e?"#3b4252":"#ffffff",stroke:"dark"===e?"#4c566a":"#bdc3c7",strokeWidth:1,rx:6,ry:6,width:"calc(w + 16)",height:"calc(h + 8)",x:"calc(x - 8)",y:"calc(y - 4)"},text:{text:t.label,fill:"dark"===e?"#eceff4":"#2c3e50",fontSize:12,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle"}}}),l})(t,P);a&&(ot.push(a),I.addCell(a),console.log("Created link: ".concat(t.id),a))}catch(e){console.warn("Failed to create link ".concat(t.id,":"),e)}}),console.log("Created ".concat(ot.length," links out of ").concat(b.length," specified")),!1!==m.autoLayout&&Z.length>1){console.log("Applying DirectedGraph layout to Joint.js diagram");try{D.layout(I,{nodeSep:50,edgeSep:80,rankSep:100,marginX:30,marginY:30,rankDir:"TB",resizeClusters:!0,clusterPadding:{top:40,left:10,right:10,bottom:10}}),console.log("DirectedGraph layout applied successfully")}catch(T){console.warn("Auto-layout failed, using manual positioning:",T)}}const nt=()=>{const e=I.getBBox();if(console.log("Graph bounding box:",e),e&&e.width>0&&e.height>0){const i=40,o=e.width+2*i,n=e.height+2*i,r=t.getBoundingClientRect(),a=r.width>0?r.width:G,s=Math.max(o,a),l=n;Q.setDimensions(s,l),t.style.height="".concat(l,"px"),t.style.minHeight="".concat(l,"px"),t.style.maxHeight="none";const d=t.parentElement;null!==d&&void 0!==d&&d.classList.contains("d3-container")&&(d.style.height="".concat(l,"px"),d.style.minHeight="".concat(l,"px"),d.style.maxHeight="none");const c=null===d||void 0===d?void 0:d.parentElement;null!==c&&void 0!==c&&c.classList.contains("d3-container")&&(c.style.height="".concat(l,"px"),c.style.minHeight="".concat(l,"px"),c.style.maxHeight="none"),t.style.maxHeight="none",Q.translate(i-e.x,i-e.y),console.log("Paper dimensions updated to fit content");const h=t.querySelector("svg");h&&(h.style.width="100%",h.style.height="100%",h.style.maxWidth="100%",h.style.maxHeight="none",h.setAttribute("viewBox","0 0 ".concat(s," ").concat(l)),h.setAttribute("preserveAspectRatio","xMidYMid meet"),console.log("SVG viewBox set to:",s,l))}};setTimeout(nt,300),Q.on("element:pointerclick",t=>{console.log("Element clicked:",t.model.id),I.getElements().forEach(t=>{const e=Q.findViewByModel(t);e&&e.unhighlight()}),t.highlight()}),Q.on("link:pointerclick",t=>{console.log("Link clicked:",t.model.id)}),Q.on("element:contextmenu",(t,e)=>{e.preventDefault(),console.log("Element right-clicked:",t.model.id)});const rt=document.createElement("div");rt.className="diagram-actions",rt.style.cssText="\n                position: absolute;\n                top: 10px;\n                right: 10px;\n                z-index: 1000;\n                display: flex;\n                gap: 5px;\n            ";const at=document.createElement("button");at.innerHTML="\ud83d\udd0d Fit",at.className="diagram-action-button",at.style.cssText="\n                background-color: #4361ee;\n                color: white;\n                border: none;\n                border-radius: 4px;\n                padding: 6px 12px;\n                cursor: pointer;\n                font-size: 12px;\n                margin: 2px;\n            ",at.onclick=()=>{Q.scaleContentToFit({padding:20,minScale:.5,maxScale:1.5}),setTimeout(()=>{const e=I.getBBox();e&&(t.style.height="".concat(e.height+80,"px"))},100)},rt.appendChild(at),t.style.position="relative",t.appendChild(rt),console.log("Joint.js diagram rendered successfully")}catch(P){console.error("Joint.js rendering error:",P);const e=t.querySelector(".joint-loading-spinner");e&&e.parentNode===t&&t.removeChild(e),t.innerHTML='\n                <div class="joint-error" style="\n                    padding: 16px;\n                    margin: 16px 0;\n                    border-radius: 6px;\n                    background-color: '.concat(y?"#2a1f1f":"#fff2f0",";\n                    border: 1px solid ").concat(y?"#a61d24":"#ffa39e",";\n                    color: ").concat(y?"#ff7875":"#cf1322",';\n                ">\n                    <strong>Joint.js Rendering Error:</strong>\n                    <p>').concat(P instanceof Error?P.message:"Unknown error","</p>\n                    <details>\n                        <summary>Show Definition</summary>\n                    <pre><code>").concat(m.definition||JSON.stringify(m,null,2),"</code></pre>\n                </details>\n            </div>\n            ")}}},w=t=>({router:{width:80,height:60},switch:{width:100,height:40},server:{width:60,height:80},firewall:{width:80,height:80},cloud:{width:120,height:80}}[t]||{width:80,height:60}),b=(t,e)=>({body:{fill:"dark"===e?"#2f3349":"#ffffff",stroke:"dark"===e?"#4cc9f0":"#333333",strokeWidth:2,rx:"cloud"===t?15:5,ry:"cloud"===t?15:5},label:{fill:"dark"===e?"#ffffff":"#000000",fontSize:11,fontFamily:"Arial, sans-serif",textAnchor:"middle",textVerticalAnchor:"middle"}}),u=t=>({router:[{id:"wan",position:"top",type:"input"},{id:"lan1",position:"bottom",type:"output"},{id:"lan2",position:"left",type:"output"},{id:"lan3",position:"right",type:"output"}],switch:[{id:"port1",position:"left",type:"inout"},{id:"port2",position:"left",type:"inout"},{id:"port3",position:"right",type:"inout"},{id:"port4",position:"right",type:"inout"}],server:[{id:"network",position:"top",type:"input"},{id:"storage",position:"bottom",type:"output"}],firewall:[{id:"external",position:"left",type:"input"},{id:"internal",position:"right",type:"output"}],cloud:[{id:"connection",position:"bottom",type:"inout"}]}[t]||[]),k=t=>({resistor:{width:60,height:20},capacitor:{width:40,height:40},inductor:{width:60,height:30},battery:{width:40,height:60},ground:{width:40,height:30},voltage_source:{width:40,height:40},current_source:{width:40,height:40},diode:{width:30,height:30},transistor:{width:50,height:40}}[t]||{width:40,height:40}),A=t=>({resistor:"1k\u03a9",capacitor:"100\xb5F",inductor:"1mH",battery:"9V",voltage_source:"5V",current_source:"1A"}[t]||""),z=t=>({resistor:[{id:"terminal1",position:"left",type:"inout"},{id:"terminal2",position:"right",type:"inout"}],capacitor:[{id:"positive",position:"top",type:"inout"},{id:"negative",position:"bottom",type:"inout"}],battery:[{id:"positive",position:"top",type:"output"},{id:"negative",position:"bottom",type:"input"}],diode:[{id:"anode",position:"left",type:"input"},{id:"cathode",position:"right",type:"output"}],transistor:[{id:"base",position:"left",type:"input"},{id:"collector",position:"top",type:"output"},{id:"emitter",position:"bottom",type:"output"}]}[t]||[{id:"port1",position:"left",type:"inout"},{id:"port2",position:"right",type:"inout"}]),N=(t,e)=>{const i=W(t.position||"top");return{id:t.id,group:t.type||"default",args:i,markup:[{tagName:"circle",selector:"portBody"}],attrs:{portBody:{fill:"dark"===e?"#4cc9f0":"#333333",stroke:"dark"===e?"#ffffff":"#000000",strokeWidth:1,r:4,magnet:!0}}}},W=t=>({top:{x:"50%",y:"0%"},bottom:{x:"50%",y:"100%"},left:{x:"0%",y:"50%"},right:{x:"100%",y:"50%"}}[t]||{x:"50%",y:"50%"}),v=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:120,height:60},n=t.text||t.label||t.id,{dia:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.Element({id:t.id,position:i,size:o,markup:[{tagName:"rect",selector:"body"},{tagName:"path",selector:"flap"},{tagName:"text",selector:"label"}],attrs:{body:{x:0,y:0,width:o.width,height:o.height,fill:"dark"===e?"#ebcb8b":"#f39c12",stroke:"dark"===e?"#d08770":"#e67e22",strokeWidth:2,rx:5,ry:5},flap:{d:"M 0,0 L ".concat(o.width/2,",").concat(o.height/3," L ").concat(o.width,",0"),fill:"none",stroke:"dark"===e?"#d08770":"#e67e22",strokeWidth:2},label:{text:n,fill:"dark"===e?"#2e3440":"#ffffff",fontSize:12,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle",x:o.width/2,y:o.height/2+5}}})},j=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:120,height:80},n=t.text||t.label||t.id,{shapes:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.standard.Rectangle({id:t.id,position:i,size:o,attrs:{body:{fill:"dark"===e?"#5e81ac":"#3498db",stroke:"dark"===e?"#81a1c1":"#2980b9",strokeWidth:3,strokeDasharray:"10,5",rx:8,ry:8,filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"},label:{text:n,fill:"dark"===e?"#eceff4":"#ffffff",fontSize:13,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle"}}})},L=(t,e,i)=>{const o=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},n=t.size||{width:160,height:120},r=t.text||t.label||t.id,a={class:{fill:"dark"===i?"#4c566a":"#ffffff",stroke:"dark"===i?"#88c0d0":"#2c3e50"},interface:{fill:"dark"===i?"#5e81ac":"#e8f4fd",stroke:"dark"===i?"#81a1c1":"#3498db"},package:{fill:"dark"===i?"#a3be8c":"#e8f5e8",stroke:"dark"===i?"#8fbcbb":"#27ae60"}},{shapes:s}=globalThis.__jointRuntimeDeps||{};if(!s)throw new Error("Joint.js not initialized");return new s.standard.Rectangle({id:t.id,position:o,size:n,attrs:{body:{fill:a[e].fill,stroke:a[e].stroke,strokeWidth:2,rx:5,ry:5,filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"},label:{text:"interface"===e?"<<interface>>\n".concat(r):r,fill:"dark"===i?"#eceff4":"#2c3e50",fontSize:12,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"top",y:15}}})},E=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:100,height:80},n=t.text||t.label||t.id,{dia:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.Element({id:t.id,position:i,size:o,markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{body:{d:"M 0,0 L ".concat(o.width-15,",0 L ").concat(o.width,",15 L ").concat(o.width,",").concat(o.height," L 0,").concat(o.height," Z M ").concat(o.width-15,",0 L ").concat(o.width-15,",15 L ").concat(o.width,",15"),fill:"dark"===e?"#ebcb8b":"#fff3cd",stroke:"dark"===e?"#d08770":"#ffc107",strokeWidth:2},label:{text:n,fill:"dark"===e?"#2e3440":"#856404",fontSize:11,fontFamily:"Arial, sans-serif",fontWeight:"normal",textAnchor:"middle",textVerticalAnchor:"middle",x:o.width/2-7,y:o.height/2}}})},_=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:120,height:60},n=t.text||t.label||t.id,{dia:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.Element({id:t.id,position:i,size:o,markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{body:{d:"M 15,0 L ".concat(o.width,",0 L ").concat(o.width-15,",").concat(o.height," L 0,").concat(o.height," Z"),fill:"dark"===e?"#b48ead":"#9b59b6",stroke:"dark"===e?"#d08770":"#8e44ad",strokeWidth:2},label:{text:n,fill:"dark"===e?"#eceff4":"#ffffff",fontSize:12,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle",x:o.width/2,y:o.height/2}}})},M=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:120,height:60},n=t.text||t.label||t.id,{dia:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.Element({id:t.id,position:i,size:o,markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"plus1"},{tagName:"rect",selector:"plus2"},{tagName:"text",selector:"label"}],attrs:{body:{x:0,y:0,width:o.width,height:o.height,fill:"dark"===e?"#5e81ac":"#3498db",stroke:"dark"===e?"#81a1c1":"#2980b9",strokeWidth:2,rx:5,ry:5},plus1:{x:o.width/2-8,y:o.height/2-2,width:16,height:4,fill:"dark"===e?"#eceff4":"#ffffff"},plus2:{x:o.width/2-2,y:o.height/2-8,width:4,height:16,fill:"dark"===e?"#eceff4":"#ffffff"},label:{text:n,fill:"dark"===e?"#eceff4":"#ffffff",fontSize:12,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"top",x:o.width/2,y:10}}})},S=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:120,height:80},n=t.text||t.label||t.id,{dia:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.Element({id:t.id,position:i,size:o,markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{body:{d:"M 0,15 Q 30,0 60,15 Q 90,0 120,15 L 120,80 L 0,80 Z",fill:"dark"===e?"#d08770":"#e67e22",stroke:"dark"===e?"#bf616a":"#d35400",strokeWidth:2},label:{text:n,fill:"dark"===e?"#eceff4":"#ffffff",fontSize:12,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",textVerticalAnchor:"middle",x:o.width/2,y:o.height/2+5}}})},C=(t,e)=>{const i=Array.isArray(t.position)?{x:t.position[0],y:t.position[1]}:t.position||{x:0,y:0},o=t.size||{width:60,height:100},n=t.text||t.label||t.id,{dia:r}=globalThis.__jointRuntimeDeps||{};if(!r)throw new Error("Joint.js not initialized");return new r.Element({id:t.id,position:i,size:o,markup:[{tagName:"circle",selector:"head"},{tagName:"line",selector:"body"},{tagName:"line",selector:"leftArm"},{tagName:"line",selector:"rightArm"},{tagName:"line",selector:"leftLeg"},{tagName:"line",selector:"rightLeg"},{tagName:"text",selector:"label"}],attrs:{head:{cx:o.width/2,cy:15,r:10,fill:"dark"===e?"#d08770":"#f39c12",stroke:"dark"===e?"#bf616a":"#e67e22",strokeWidth:2},body:{x1:o.width/2,y1:25,x2:o.width/2,y2:60,stroke:"dark"===e?"#eceff4":"#2c3e50",strokeWidth:3},leftArm:{x1:o.width/2,y1:35,x2:o.width/2-15,y2:50,stroke:"dark"===e?"#eceff4":"#2c3e50",strokeWidth:3},rightArm:{x1:o.width/2,y1:35,x2:o.width/2+15,y2:50,stroke:"dark"===e?"#eceff4":"#2c3e50",strokeWidth:3},leftLeg:{x1:o.width/2,y1:60,x2:o.width/2-15,y2:85,stroke:"dark"===e?"#eceff4":"#2c3e50",strokeWidth:3},rightLeg:{x1:o.width/2,y1:60,x2:o.width/2+15,y2:85,stroke:"dark"===e?"#eceff4":"#2c3e50",strokeWidth:3},label:{text:n,fill:"dark"===e?"#eceff4":"#2c3e50",fontSize:10,fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",x:o.width/2,y:o.height-5}}})}}}]);
//# sourceMappingURL=85560.b08e8da8.chunk.js.map