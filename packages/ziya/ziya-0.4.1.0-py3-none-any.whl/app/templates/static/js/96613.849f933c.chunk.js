"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[96613],{16512:(t,e,n)=>{n.d(e,{A:()=>r,Z:()=>o});const o=()=>"\n    let currentScale = 1;\n    const svg = document.querySelector('svg');\n    \n    function zoomIn() {\n        currentScale *= 1.2;\n        svg.style.transform = `scale(${currentScale})`;\n    }\n    \n    function zoomOut() {\n        currentScale /= 1.2;\n        svg.style.transform = `scale(${currentScale})`;\n    }\n    \n    function resetZoom() {\n        currentScale = 1;\n        svg.style.transform = 'scale(1)';\n    }\n",r=function(){return"\n    function downloadSvg() {\n        const svgData = new XMLSerializer().serializeToString(svg);\n        const svgBlob = new Blob([svgData], {type: 'image/svg+xml'});\n        const url = URL.createObjectURL(svgBlob);\n        \n        const link = document.createElement('a');\n        link.href = url;\n        link.download = '".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"diagram.svg","';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        setTimeout(() => URL.revokeObjectURL(url), 1000);\n    }\n")}},67974:(t,e,n)=>{function o(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function r(t){const e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function i(t,e,n){return.2126*r(t)+.7152*r(e)+.0722*r(n)}function a(t){if(!t||"transparent"===t||"none"===t)return!1;let e=0,n=0,o=0;const r=t.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);if(r)e=parseInt(r[1],16),n=parseInt(r[2],16),o=parseInt(r[3],16);else{if(!t.startsWith("rgb")){return["white","lightblue","lightgreen","lightyellow","lightgrey","lightgray","pink","yellow","#aed6f1","#d4e6f1","#d5f5e3","#f5f5f5","#e6e6e6","#f0f0f0","#ffffff","#f8f9fa","#e9ecef","#dee2e6","#ced4da","#adb5bd"].some(e=>e.toLowerCase()===t.toLowerCase())}{const r=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(!r)return!1;e=parseInt(r[1]),n=parseInt(r[2]),o=parseInt(r[3])}}return i(e,n,o)>.4}function s(t){const e=o(t);if(!e){const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(!e)return"#ffffff";const n=parseInt(e[1]),o=parseInt(e[2]),r=parseInt(e[3]);return s("#".concat(n.toString(16).padStart(2,"0")).concat(o.toString(16).padStart(2,"0")).concat(r.toString(16).padStart(2,"0")))}const n=i(e.r,e.g,e.b);if(e.r>180&&e.g>180&&e.b<Math.min(e.r-30,e.g-30))return"#000000";if(e.b>200&&e.r>150&&e.g>180)return"#000000";if(e.b>180&&e.r>100&&e.g>100&&Math.abs(e.r-e.g)<60)return"#000000";if(Math.abs(e.r-e.g)<30&&Math.abs(e.g-e.b)<30)return e.r>160?"#000000":"#ffffff";const r=Math.max(e.r,e.g,e.b);return Math.min(e.r,e.g,e.b)>100&&r>180||n>.5?"#000000":"#ffffff"}function l(t,e){const n=t=>{const e={white:"#ffffff",black:"#000000",red:"#ff0000",green:"#008000",blue:"#0000ff",yellow:"#ffff00",cyan:"#00ffff",magenta:"#ff00ff",gray:"#808080",grey:"#808080",transparent:"#ffffff",none:"#ffffff"},n=t.toLowerCase().trim();e[n]&&(t=e[n]);const r=o(t);if(r)return r;const i=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return i?{r:parseInt(i[1]),g:parseInt(i[2]),b:parseInt(i[3])}:null},r=n(t),a=n(e);if(!r||!a)return console.warn("\ud83d\udd0d COLOR-PARSE-FAIL:",{color1:t,color2:e,rgb1:r,rgb2:a}),1;const s=i(r.r,r.g,r.b),l=i(a.r,a.g,a.b);return(Math.max(s,l)+.05)/(Math.min(s,l)+.05)}function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ffffff",n=null;const o=t.closest("g");if(o){const t=o.getAttribute("fill");if(t&&"none"!==t)return console.log("Found parent group fill:",t),t;const e=o.querySelector('rect, ellipse, polygon, circle, path[fill]:not([fill="none"])');if(e){const t=e.getAttribute("fill"),o=window.getComputedStyle(e).fill;if(n=o&&"none"!==o&&"rgb(0, 0, 0)"!==o?o:t,n&&"none"!==n)return console.log("Found background shape fill:",n),n}}if(o){const t=o.querySelectorAll('ellipse[fill]:not([fill="none"]), polygon[fill]:not([fill="none"]), path[fill]:not([fill="none"])');if(t.length>0){const e=t[0].getAttribute("fill");if(e&&"none"!==e)return console.log("Found sibling shape fill:",e),e}}if(!n){const e=window.getComputedStyle(t).backgroundColor;e&&"rgba(0, 0, 0, 0)"!==e&&"transparent"!==e&&(n=e)}return!n&&o&&(o.classList.contains("legend")||o.closest(".legend")||t.closest(".legend"))?e:n||e}function f(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{minContrast:o=3,skipClasses:r=[],skipSelectors:i=[],debug:a=!1}=n,f=a?console.log:()=>{},d=e?"#2e3440":"#ffffff",g=e?"#eceff4":"#333333",p=e?"#88c0d0":"#333333";let u=0,h=0,b=0;f("\ud83d\udd0d UNIVERSAL-SVG-FIX: Starting visibility enhancement");t.querySelectorAll("foreignObject").forEach(t=>{t.querySelectorAll("div, span, p").forEach(t=>{var n;const r=null===(n=t.textContent)||void 0===n?void 0:n.trim();if(!r)return;const i=c(t,d),a=s(i),p=window.getComputedStyle(t).color||g,h=l(p,i),b=p===i||e&&"#000000"===p||!e&&"#ffffff"===p;f('\ud83d\udd0d HTML-TEXT: "'.concat(r.substring(0,30),'" contrast=').concat(h.toFixed(2)," current=").concat(p," bg=").concat(i)),(h<o||b)&&(t.style.setProperty("color",a,"important"),u++,f('\ud83d\udd27 HTML text fix: "'.concat(r.substring(0,30),'" -> ').concat(a)))})});t.querySelectorAll("text").forEach(t=>{var n,a;if(r.some(e=>t.classList.contains(e)))return;if(i.some(e=>t.matches(e)))return;const p=null===(n=t.textContent)||void 0===n?void 0:n.trim();if(!p)return;const h=c(t,d),b=s(h),m=t.getAttribute("fill")||window.getComputedStyle(t).fill||g;f('\ud83d\udd0d TEXT-ANALYSIS: "'.concat(p.substring(0,30),'"'),{currentColor:m,backgroundColor:h,optimalColor:b,pageBg:d,defaultTextColor:g,element:t.tagName,parentClass:null===(a=t.parentElement)||void 0===a?void 0:a.getAttribute("class"),hasComputedStyle:!!window.getComputedStyle(t).fill});const y=l(m,h),v=m===h||e&&"#000000"===m||!e&&"#ffffff"===m;f('\ud83d\udd0d CONTRAST-CHECK: "'.concat(p.substring(0,30),'"'),{contrast:y.toFixed(2),minContrast:o,textInvisible:v,willFix:y<o||v}),(y<o||v)&&(t.setAttribute("fill",b),t.style.setProperty("fill",b,"important"),u++,f('\ud83d\udd27 Text fix: "'.concat(p.substring(0,30),'" -> ').concat(b," (was ").concat(m,", contrast: ").concat(y.toFixed(2),")")))});t.querySelectorAll("rect, ellipse, polygon, circle, path[fill]").forEach(t=>{const n=t.getAttribute("fill"),o=t.getAttribute("stroke");"path"===t.tagName&&n&&"none"!==n&&!o||!o||"none"!==o&&(!e||"#000000"!==o&&o!==d)&&(e||"#ffffff"!==o&&"white"!==o)||(t.setAttribute("stroke",p),h++,f("\ud83d\udd27 Shape stroke fix: ".concat(o," -> ").concat(p)))});const m=t.querySelectorAll('line, path[d]:not([fill]), path[fill="none"], path.path, path[class*="journey"], path[class*="line"], path[stroke]');return f("\ud83d\udd0d LINE-SCAN: Found ".concat(m.length," line elements to check")),m.forEach(t=>{const n=t.getAttribute("stroke"),o=parseFloat(t.getAttribute("stroke-width")||"0"),r=!n||"none"===n||n===d||e&&("#000000"===n||"black"===n||"#2e3440"===n)||!e&&("#ffffff"===n||"white"===n),i=e&&n&&("#808080"===n.toLowerCase()||"#999999"===n.toLowerCase()||"#666666"===n.toLowerCase()||"grey"===n.toLowerCase()||"gray"===n.toLowerCase());r?(t.setAttribute("stroke",p),t.setAttribute("stroke-width","2"),b++,f("\ud83d\udd27 Line fix: invisible stroke -> ".concat(p))):i?(t.setAttribute("stroke",p),t.style.setProperty("stroke",p,"important"),o<1.5&&t.setAttribute("stroke-width","2"),b++,f("\ud83d\udd27 Line fix: low-contrast grey (".concat(n,") -> ").concat(p))):o<.5&&(t.setAttribute("stroke-width","1.5"),b++,f("\ud83d\udd27 Line fix: stroke too thin -> 1.5px"))}),f("\ud83d\udd0d UNIVERSAL-SVG-FIX: Enhanced ".concat(u," text, ").concat(h," shapes, ").concat(b," lines")),{textFixed:u,shapesFixed:h,linesFixed:b}}n.d(e,{E2:()=>o,RP:()=>s,bX:()=>f,l1:()=>a})},96613:(t,e,n)=>{n.r(e),n.d(e,{graphvizPlugin:()=>s});var o=n(28004),r=n(67974),i=n(16512);const a=new WeakMap,s={name:"graphviz-renderer",priority:5,sizingConfig:{sizingStrategy:"auto-expand",needsDynamicHeight:!0,needsOverflowVisible:!0,observeResize:!0,containerStyles:{width:"100%",height:"auto",overflow:"visible"}},canHandle:t=>"object"===typeof t&&null!==t&&"graphviz"===t.type&&t.definition?"string"===typeof t.definition&&t.definition.trim().length>0:!!(t=>"object"===typeof t&&null!==t&&"graphviz"===t.type&&t.definition?"string"===typeof t.definition&&t.definition.trim().length>0:"object"===typeof t&&null!==t&&"graphviz"===t.type&&"string"===typeof t.definition&&t.definition.trim().length>0)(t),isDefinitionComplete:t=>{if(!t||0===t.trim().length)return!1;const e=t.split("{").length-1;return e===t.split("}").length-1&&e>0&&t.includes("}")},render:async(t,e,f,d)=>{try{const h=await n.e(87122).then(n.bind(n,87122));let b;if(console.log("=== GRAPHVIZ DEBUG START ==="),console.log("Spec type:",typeof f),console.log("Spec is null:",null===f),console.log("Spec keys:",f?Object.keys(f):"N/A"),console.log("Spec stringified:",JSON.stringify(f,null,2)),console.log("Spec.definition exists:",!(!f||"object"!==typeof f||!("definition"in f))),console.log("Spec.definition type:",f&&"object"===typeof f&&"definition"in f?typeof f.definition:"N/A"),console.log("Spec.definition value (first 200):",f&&"object"===typeof f&&f.definition?f.definition.substring(0,200):"N/A"),console.log("=== GRAPHVIZ DEBUG END ==="),console.log("Graphviz render called with spec:",typeof f,f),"object"===typeof f&&null!==f&&f.definition){let t=f.definition;if("string"===typeof t&&t.trim().startsWith("{"))try{const e=JSON.parse(t);"graphviz"===e.type&&e.definition?(b=e.definition,console.log("Extracted definition from double-wrapped JSON")):(b=t,console.log("Using definition string as-is"))}catch(g){b=t,console.log("JSON parse failed, using definition string as-is")}else b=t,console.log("Using definition directly from spec object")}else{if("string"!==typeof f)throw console.error("Invalid spec format:",f),new Error("Invalid graphviz spec: no definition found");console.log("Processing string spec");try{const t=JSON.parse(f);t.definition?(b=t.definition,console.log("Extracted definition from JSON string")):(b=(0,o.k)(f,"graphviz"),console.log("Used YAML extraction from string"))}catch(p){b=(0,o.k)(f,"graphviz"),console.log("Used YAML extraction fallback")}}console.log("Raw definition (first 200 chars):",b.substring(0,200));const m=null!==t.querySelector("svg"),y=document.createElement("div");if(y.innerHTML='\n                <div style="\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    justify-content: center;\n                    padding: 2em;\n                    width: 100%;\n                    height: 100%;\n                    min-height: 150px;\n                ">\n                    <div style="\n                        border: 4px solid rgba(0, 0, 0, 0.1);\n                        border-top: 4px solid '.concat(d?"#4cc9f0":"#3498db",';\n                        border-radius: 50%;\n                        width: 40px;\n                        height: 40px;\n                        animation: graphviz-spin 1s linear infinite;\n                        margin-bottom: 15px;\n                    "></div>\n                    <div style="\n                        font-family: system-ui, -apple-system, sans-serif;\n                        color: ').concat(d?"#eceff4":"#333333",';\n                    ">Rendering Visualization...</div>\n                </div>\n                <style>\n                    @keyframes graphviz-spin {\n                        0% { transform: rotate(0deg); }\n                        100% { transform: rotate(360deg); }\n                    }\n            '),t.innerHTML=y.innerHTML,!f.isMarkdownBlockClosed&&!f.forceRender){console.log("Graphviz: Markdown block still open, letting content display as code");try{t.innerHTML=""}catch(u){console.warn("Could not remove loading spinner:",u)}return}if(!b||b.trim().length<10)return void console.log("Graphviz: Definition too short, waiting for more content");if(m&&f.isStreaming)return;console.log("Rendering Graphviz diagram with ".concat(b.length," chars")),a.set(t,d);const v={light:{text:"#333333",stroke:"#555555",nodeFill:"#f5f5f5",nodeBorder:"#999999",edgeColor:"#333333",background:"transparent",labelText:"#333333",clusterBg:"#f0f0f0",clusterBorder:"#cccccc"},dark:{text:"#ffffff",stroke:"#00b7ff",nodeFill:"#2a3990",nodeBorder:"#4cc9f0",edgeColor:"#f72585",background:"transparent",labelText:"#ffffff",clusterBg:"#1a1a2e",clusterBorder:"#4cc9f0",nodeColors:["#4361ee","#3a0ca3","#7209b7","#f72585","#4cc9f0","#06d6a0","#118ab2"]}},w=d?v.dark:v.light,S=await h.instance();let k=b;console.log("Starting with rawDefinition:",b.substring(0,100)),console.log("processedDefinition initialized as:",k.substring(0,100)),k=k.replace(/(\w+)\s*-\.->\s*(\w+)\s*\[([^\]]+)\]/g,"$1 -> $2 [$3]"),k=k.replace(/(\w+)\s*-\.->\s*(\w+)/g,"$1 -> $2"),k=k.replace(/label\s*=\s*"((?:\\"|[^"])*)"/g,(t,e)=>{const n=e.replace(/\\"/g,'"').replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\\n/g,"<br/>").replace(/\n/g,"<br/>");return"label=<".concat(n,">")});let x=k;if(console.log("themedDot before theme application:",x.substring(0,100)),k.match(/^(\s*(?:di)?graph\s+[^{]*{)/)){const t=d?"#ffffff":"#000000";x=k.replace(/^(\s*(?:di)?graph\s+[^{]*{)/,'$1\n                    bgcolor="transparent";\n                    node [color="'.concat(w.nodeBorder,'", style="filled", fillcolor="').concat(w.nodeFill,'", penwidth=1.5];\n                    edge [color="').concat(w.edgeColor,'", fontcolor="').concat(t,'", penwidth=1.5];\n                    graph [fontcolor="').concat(t,'", color="').concat(w.clusterBorder,'", fontname="Arial"];'));const e=f.definition.match(/^\s*label\s*=\s*"([^"]+)"/m);if(e){const n=e[1];x=x.replace(/^\s*label\s*=\s*"([^"]+)"/m,' label=<<font color="'.concat(t,'">').concat(n,"</font>>"))}}console.log("Final themedDot being sent to Viz.js:",x.substring(0,100)),console.log("themedDot full length:",x.length);const A=await S.renderSVGElement(x),C=A.getElementsByTagName("*");let L=0;const z=d?v.dark.nodeColors:[],I=new Map,M=new Map;for(let t=0;t<C.length;t++){const e=C[t];if("polygon"===e.tagName&&e.parentElement&&e.parentElement.classList.contains("cluster")){const t=e.getAttribute("fill");if(t&&(M.set(e.parentElement,t),d&&(0,r.l1)(t))){const n=l(t);e.setAttribute("fill",n),e.setAttribute("stroke",w.clusterBorder),e.setAttribute("data-original-fill",t),e.setAttribute("data-darkened","true")}}}for(let t=0;t<C.length;t++){const e=C[t];if(("ellipse"===e.tagName||"polygon"===e.tagName)&&"none"!==e.getAttribute("fill")){const t=e.getAttribute("fill");if(t&&I.set(e,t),d){if(t&&(0,r.l1)(t))if("#ffffff"===t.toLowerCase()||"white"===t.toLowerCase()||c(t)>.9)if(z.length>0){const n=L%z.length;e.setAttribute("fill",z[n]),e.setAttribute("data-original-fill",t),e.setAttribute("data-darkened","true"),L++}else e.setAttribute("fill",w.nodeFill),e.setAttribute("data-original-fill",t),e.setAttribute("data-darkened","true");else{const n=l(t);e.setAttribute("fill",n),e.setAttribute("data-original-fill",t),e.setAttribute("data-darkened","true")}e.setAttribute("stroke",w.nodeBorder),e.setAttribute("stroke-width","1.5")}}}setTimeout(()=>{const t=(0,r.bX)(A,d,{debug:!0});console.log("\u2705 Graphviz visibility enhanced:",t)},300);for(let t=0;t<C.length;t++){const e=C[t];"path"===e.tagName?e.getAttribute("fill")&&"none"!==e.getAttribute("fill")||(e.setAttribute("stroke",w.edgeColor),e.setAttribute("stroke-width","1.5")):"polygon"===e.tagName&&e.classList.contains("arrow")&&(e.setAttribute("fill",w.edgeColor),e.setAttribute("stroke",w.edgeColor))}t.innerHTML="";const T=document.createElement("div");T.className="graphviz-wrapper",T.style.cssText="\n                width: 100%;\n                max-width: 100%;\n                overflow: auto;\n                padding: 1em;\n                display: flex;\n                justify-content: center;\n            ",T.appendChild(A),t.appendChild(T);const E=document.createElement("div");E.className="diagram-actions";const N=document.createElement("button");N.innerHTML="\u2197\ufe0f Open",N.className="diagram-action-button graphviz-open-button",N.onclick=()=>{const t=A;let e=600,n=400;try{const o=t.getBBox();e=Math.max(o.width+50,400),n=Math.max(o.height+100,300)}catch(u){console.warn("Could not get SVG dimensions, using defaults",u)}const o=(new XMLSerializer).serializeToString(A),r='\n                <!DOCTYPE html>\n                <html>\n                <head>\n                    <meta charset="UTF-8">\n                    <title>Graphviz Diagram</title>\n                    <style>\n                        body {\n                            margin: 0;\n                            padding: 0;\n                            display: flex;\n                            flex-direction: column;\n                            height: 100vh;\n                            background-color: #f8f9fa;\n                            font-family: system-ui, -apple-system, sans-serif;\n                        }\n                        .toolbar {\n                            background-color: #f1f3f5;\n                            border-bottom: 1px solid #dee2e6;\n                            padding: 8px;\n                            display: flex;\n                            justify-content: space-between;\n                            align-items: center;\n                        }\n                        .toolbar button {\n                            background-color: #4361ee;\n                            color: white;\n                            border: none;\n                            border-radius: 4px;\n                            padding: 6px 12px;\n                            cursor: pointer;\n                            margin-right: 8px;\n                            font-size: 14px;\n                        }\n                        .toolbar button:hover {\n                            background-color: #3a0ca3;\n                        }\n                        .container {\n                            flex: 1;\n                            display: flex;\n                            justify-content: center;\n                            align-items: center;\n                            overflow: auto;\n                            padding: 20px;\n                        }\n                        svg {\n                            max-width: 100%;\n                            max-height: 100%;\n                            height: auto;\n                            width: auto;\n                        }\n                        @media (prefers-color-scheme: dark) {\n                            body {\n                                background-color: #212529;\n                                color: #f8f9fa;\n                            }\n                            .toolbar {\n                                background-color: #343a40;\n                                border-bottom: 1px solid #495057;\n                            }\n                        }\n                    </style>\n                </head>\n                <body>\n                    <div class="toolbar">\n                        <div>\n                            <button onclick="zoomIn()">Zoom In</button>\n                            <button onclick="zoomOut()">Zoom Out</button>\n                            <button onclick="resetZoom()">Reset</button>\n                        </div>\n                        <div>\n                            <button onclick="downloadSvg()">Download SVG</button>\n                        </div>\n                    </div>\n                    <div class="container" id="svg-container">\n                        '.concat(o,"\n                    </div>\n                    <script>\n                        const svg = document.querySelector('svg');\n                        let currentScale = 1;\n                        \n                        // Make sure SVG is responsive\n                        svg.setAttribute('width', '100%');\n                        svg.setAttribute('height', '100%');\n                        svg.style.maxWidth = '100%';\n                        svg.style.maxHeight = '100%';\n                        svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');\n                        ").concat((0,i.Z)()).concat((0,i.A)("graphviz-diagram.svg"),"\n                    <\/script>\n                </body>\n                </html>\n                "),a=new Blob([r],{type:"text/html"}),s=URL.createObjectURL(a),l=window.open(s,"GraphvizDiagram","width=".concat(e,",height=").concat(n,",resizable=yes,scrollbars=yes,status=no,toolbar=no,menubar=no,location=no"));l&&l.focus(),setTimeout(()=>URL.revokeObjectURL(s),1e4)},E.appendChild(N);const R=document.createElement("button");R.innerHTML="\ud83d\udcbe Save",R.className="diagram-action-button graphviz-save-button",R.onclick=()=>{const t=(new XMLSerializer).serializeToString(A),e='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'.concat(t),n=new Blob([e],{type:"image/svg+xml"}),o=URL.createObjectURL(n),r=document.createElement("a");r.href=o,r.download="graphviz-diagram-".concat(Date.now(),".svg"),document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>URL.revokeObjectURL(o),1e3)},E.appendChild(R);let B=!1;const D=T.innerHTML,U=document.createElement("button");U.innerHTML=B?"\ud83c\udfa8 View":"\ud83d\udcdd Source",U.className="diagram-action-button graphviz-source-button",U.onclick=()=>{B=!B,U.innerHTML=B?"\ud83c\udfa8 View":"\ud83d\udcdd Source",T.innerHTML=B?'\n                        <div style="\n                            backgroundColor: '.concat(d?"#1f1f1f":"#f6f8fa",";\n                            border: 1px solid ").concat(d?"#303030":"#e1e4e8",";\n                            borderRadius: '6px';\n                            padding: '16px';\n                            margin: '16px 0'\n                        \">\n                            <div style=\"\n                                fontSize: '12px';\n                                color: ").concat(d?"#8b949e":"#586069",";\n                                marginBottom: '8px';\n                                fontWeight: 'bold'\n                            \">\n                                \ud83d\udd17 Graphviz Source:\n                            </div>\n                            <pre style=\"\n                                margin: 0;\n                                color: ").concat(d?"#e6e6e6":"#24292e",";\n                                fontSize: '13px';\n                                lineHeight: '1.45';\n                                whiteSpace: 'pre-wrap';\n                                wordBreak: 'break-word';\n                                fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", monospace';\n                                maxHeight: '500px';\n                                overflow: 'auto'\n                            \"><code>").concat(f.definition,"</code></pre>\n                        </div>\n                    "):D},E.appendChild(U),t.insertBefore(E,T);const O=document.createElement("button");O.innerHTML=d?"\u2600\ufe0f Light":"\ud83c\udf19 Dark",O.className="diagram-action-button graphviz-theme-button",O.onclick=()=>{s.render(t,e,f,!d)},E.appendChild(O)}catch(h){console.error("Graphviz rendering error:",h),f.isStreaming&&t.querySelector("svg")||(t.innerHTML='\n                <div class="graphviz-error">\n                    <strong>Graphviz Error:</strong>\n                    <pre>'.concat(h instanceof Error?h.message:"Unknown error","</pre>\n                    <details>\n                        <summary>Show Definition</summary>\n                        <pre><code>").concat(f.definition,"</code></pre>\n                    </details>\n                </div>\n            "))}}};function l(t){const e={white:"#2e3440",lightblue:"#5e81ac",lightgreen:"#8fbcbb",lightgrey:"#4c566a",lightgray:"#4c566a",pink:"#b48ead"};if(e[t.toLowerCase()])return e[t.toLowerCase()];try{let e,n,o;if(t.startsWith("#")){const r=t.substring(1);3===r.length?(e=parseInt(r[0]+r[0],16),n=parseInt(r[1]+r[1],16),o=parseInt(r[2]+r[2],16)):(e=parseInt(r.substring(0,2),16),n=parseInt(r.substring(2,4),16),o=parseInt(r.substring(4,6),16))}else{if(!t.startsWith("rgb"))return"#2e3440";{const r=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(!r)return"#2e3440";e=parseInt(r[1],10),n=parseInt(r[2],10),o=parseInt(r[3],10)}}return e=Math.max(Math.floor(.4*e),0),n=Math.max(Math.floor(.4*n),0),o=Math.max(Math.floor(.4*o),0),"#".concat(e.toString(16).padStart(2,"0")).concat(n.toString(16).padStart(2,"0")).concat(o.toString(16).padStart(2,"0"))}catch(n){return"#2e3440"}}function c(t){let e,n,o;if(t.startsWith("#")){const r=t.substring(1);3===r.length?(e=parseInt(r[0]+r[0],16),n=parseInt(r[1]+r[1],16),o=parseInt(r[2]+r[2],16)):(e=parseInt(r.substring(0,2),16),n=parseInt(r.substring(2,4),16),o=parseInt(r.substring(4,6),16))}else{if(!t.startsWith("rgb"))return 0;{const r=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(!r)return 0;e=parseInt(r[1],10),n=parseInt(r[2],10),o=parseInt(r[3],10)}}return(.299*e+.587*n+.114*o)/255}}}]);
//# sourceMappingURL=96613.849f933c.chunk.js.map