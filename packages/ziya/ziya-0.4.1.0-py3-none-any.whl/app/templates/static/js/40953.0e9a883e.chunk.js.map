{"version":3,"file":"static/js/40953.0e9a883e.chunk.js","mappings":"6IAkBA,MAAMA,EAAgB,CAAEC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,IAEjDC,EAAmC,CAC5CC,KAAM,cACNC,SAAU,GACVC,aAAc,CACVC,eAAgB,aAChBC,oBAAoB,EACpBC,sBAAsB,EACtBC,eAAe,EACfC,gBAAiB,CACbC,OAAQ,QACRC,SAAU,SAGlBC,UAAYC,GAEY,kBAATA,IACQ,QAAdA,EAAKC,MAAgC,SAAdD,EAAKC,MAAiC,YAAdD,EAAKC,MAAoC,WAAdD,EAAKC,MAGxFC,OAAQA,CAACC,EAAwBC,EAASJ,KACtCK,QAAQC,MAAM,gCAAiCN,GAE/C,IAEII,EAAGG,OAAOJ,GAAWK,UAAU,KAAKC,SAEpC,MAAMC,EAASV,EAAKU,QAAU3B,EACxB4B,GAASX,EAAKW,OAAS,KAAOD,EAAOvB,KAAOuB,EAAOzB,MACnDY,GAAUG,EAAKH,QAAU,KAAOa,EAAO1B,IAAM0B,EAAOxB,OAGpD0B,EAAMR,EAAGG,OAAOJ,GACjBU,OAAO,OACPC,KAAK,QAASH,EAAQD,EAAOvB,KAAOuB,EAAOzB,OAC3C6B,KAAK,SAAUjB,EAASa,EAAO1B,IAAM0B,EAAOxB,QAC5C2B,OAAO,KACPC,KAAK,YAAY,aAADC,OAAeL,EAAOvB,KAAI,KAAA4B,OAAIL,EAAO1B,IAAG,MAEvDgC,EAAOC,MAAMC,QAAQlB,EAAKgB,MAAQhB,EAAKgB,KAAO,GAG9CG,EAAIf,EAAGgB,YACRC,MAAM,CAAC,EAAGV,IACVW,OAAOtB,EAAKgB,KAAKO,IAAKC,GAAWA,EAAEC,QACnCC,QAAQ,IAEPC,EAAIvB,EAAGwB,cACRP,MAAM,CAACxB,EAAQ,IACfyB,OAAO,CAAC,EAAGlB,EAAGyB,IAAI7B,EAAKgB,KAAOQ,GAAWA,EAAEM,SAWhD,GARAlB,EAAIC,OAAO,KACNC,KAAK,YAAY,eAADC,OAAiBlB,EAAM,MACvCkC,KAAK3B,EAAG4B,WAAWb,IAGxBP,EAAIC,OAAO,KACNkB,KAAK3B,EAAG6B,SAASN,IAEJ,QAAd3B,EAAKC,KAELW,EAAIJ,UAAU,QACTQ,KAAKA,GACLkB,KAAK,QACLpB,KAAK,IAAMU,GAAWL,EAAEK,EAAEC,QAC1BX,KAAK,IAAMU,GAAWG,EAAEH,EAAEM,QAC1BhB,KAAK,QAASK,EAAEgB,aAChBrB,KAAK,SAAWU,GAAW3B,EAAS8B,EAAEH,EAAEM,QACxChB,KAAK,OAASU,GAAWA,EAAEY,OAAS,kBACtC,GAAkB,SAAdpC,EAAKC,MAAiC,YAAdD,EAAKC,KAAoB,CAExD,MAAMoC,EAAOjC,EAAGiC,OACXlB,EAAGK,GAAWL,EAAEK,EAAEC,OAASN,EAAEgB,YAAc,GAC3CR,EAAGH,GAAWG,EAAEH,EAAEM,QAEL,SAAd9B,EAAKC,MAELW,EAAIC,OAAO,QACNyB,MAAMtB,GACNF,KAAK,OAAQ,QACbA,KAAK,SAAU,aACfA,KAAK,eAAgB,GACrBA,KAAK,IAAKuB,GAInBzB,EAAIJ,UAAU,UACTQ,KAAKA,GACLkB,KAAK,UACLpB,KAAK,KAAOU,GAAWL,EAAEK,EAAEC,OAASN,EAAEgB,YAAc,GACpDrB,KAAK,KAAOU,GAAWG,EAAEH,EAAEM,QAC3BhB,KAAK,IAAmB,WAAdd,EAAKC,KAAqBuB,GAAWA,EAAEe,MAAQ,EAAI,GAC7DzB,KAAK,OAASU,GAAWA,EAAEY,OAAS,aACpCtB,KAAK,SAAU,QACfA,KAAK,eAAgB,EAC9B,CAEJ,CAAE,MAAO0B,GAEL,MADAnC,QAAQmC,MAAM,4BAA6BA,GACrCA,CACV,G","sources":["plugins/d3/basicChart.ts"],"sourcesContent":["import { D3RenderPlugin } from '../../types/d3';\n\nexport interface BasicChartSpec {\n    type: 'bar' | 'line';\n    data: Array<{\n        label: string;\n        value: number;\n    }>;\n    width?: number;\n    height?: number;\n    margin?: {\n        top: number;\n        right: number;\n        bottom: number;\n        left: number;\n    };\n}\n\nconst defaultMargin = { top: 20, right: 20, bottom: 30, left: 40 };\n\nexport const basicChartPlugin: D3RenderPlugin = {\n    name: 'basic-chart',\n    priority: 10, // Higher priority than network diagram\n    sizingConfig: {\n        sizingStrategy: 'responsive',\n        needsDynamicHeight: false,\n        needsOverflowVisible: false,\n        observeResize: false,\n        containerStyles: {\n            height: '400px',\n            overflow: 'auto'\n        }\n    },\n    canHandle: (spec: any) => {\n        return (\n            typeof spec === 'object' &&\n            (spec.type === 'bar' || spec.type === 'line' || spec.type === 'scatter' || spec.type === 'bubble')\n        );\n    },\n    render: (container: HTMLElement, d3: any, spec: any) => {\n        console.debug('Basic chart plugin rendering:', spec);\n\n        try {\n            // Clear any existing content\n            d3.select(container).selectAll('*').remove();\n\n            const margin = spec.margin || defaultMargin;\n            const width = (spec.width || 600) - margin.left - margin.right;\n            const height = (spec.height || 400) - margin.top - margin.bottom;\n\n            // Create SVG\n            const svg = d3.select(container)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom)\n                .append('g')\n                .attr('transform', `translate(${margin.left},${margin.top})`)\n\n            const data = Array.isArray(spec.data) ? spec.data : [];\n\n            // Create scales\n            const x = d3.scaleBand()\n                .range([0, width])\n                .domain(spec.data.map((d: any) => d.label))\n                .padding(0.1);\n\n            const y = d3.scaleLinear()\n                .range([height, 0])\n                .domain([0, d3.max(spec.data, (d: any) => d.value)]);\n\n            // Add X axis\n            svg.append('g')\n                .attr('transform', `translate(0,${height})`)\n                .call(d3.axisBottom(x));\n\n            // Add Y axis\n            svg.append('g')\n                .call(d3.axisLeft(y));\n\n            if (spec.type === 'bar') {\n                // Add bars\n                svg.selectAll('rect')\n                    .data(data)\n                    .join('rect')\n                    .attr('x', (d: any) => x(d.label))\n                    .attr('y', (d: any) => y(d.value))\n                    .attr('width', x.bandwidth())\n                    .attr('height', (d: any) => height - y(d.value))\n                    .attr('fill', (d: any) => d.color || 'steelblue');\n            } else if (spec.type === 'line' || spec.type === 'scatter') {\n                // Create line generator\n                const line = d3.line()\n                    .x((d: any) => x(d.label) + x.bandwidth() / 2)\n                    .y((d: any) => y(d.value));\n\n                if (spec.type === 'line') {\n                    // Add line\n                    svg.append('path')\n                        .datum(data)\n                        .attr('fill', 'none')\n                        .attr('stroke', 'steelblue')\n                        .attr('stroke-width', 2)\n                        .attr('d', line);\n                }\n\n                // Add points\n                svg.selectAll('circle')\n                    .data(data)\n                    .join('circle')\n                    .attr('cx', (d: any) => x(d.label) + x.bandwidth() / 2)\n                    .attr('cy', (d: any) => y(d.value))\n                    .attr('r', spec.type === 'bubble' ? (d: any) => d.size || 5 : 4)\n                    .attr('fill', (d: any) => d.color || 'steelblue')\n                    .attr('stroke', '#fff')\n                    .attr('stroke-width', 1);\n            }\n\n        } catch (error) {\n            console.error('Basic chart render error:', error);\n            throw error;\n        }\n    }\n};\n"],"names":["defaultMargin","top","right","bottom","left","basicChartPlugin","name","priority","sizingConfig","sizingStrategy","needsDynamicHeight","needsOverflowVisible","observeResize","containerStyles","height","overflow","canHandle","spec","type","render","container","d3","console","debug","select","selectAll","remove","margin","width","svg","append","attr","concat","data","Array","isArray","x","scaleBand","range","domain","map","d","label","padding","y","scaleLinear","max","value","call","axisBottom","axisLeft","join","bandwidth","color","line","datum","size","error"],"ignoreList":[],"sourceRoot":""}