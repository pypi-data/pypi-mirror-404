{"version":3,"file":"static/js/38644.febb7a84.chunk.js","mappings":"iJAiBA,MAAMA,EAAwBC,GAEN,kBAATA,GACO,YAAdA,EAAKC,MACLC,MAAMC,QAAQH,EAAKI,QACnBF,MAAMC,QAAQH,EAAKK,QACnBL,EAAKI,MAAME,QAAU,GACrBN,EAAKI,MAAMG,MAAOC,GAA2B,kBAATA,EAAEC,KACtCT,EAAKK,MAAMC,QAAU,GACrBN,EAAKK,MAAME,MAAOG,GAA+B,kBAAbA,EAAEC,QAA2C,kBAAbD,EAAEE,QAIjEC,EAAuC,CAChDC,KAAM,kBACNC,SAAU,EACVC,aAAc,CACVC,eAAgB,aAChBC,oBAAoB,EACpBC,sBAAsB,EACtBC,eAAe,EACfC,gBAAiB,CACbC,OAAQ,QACRC,SAAU,SAGlBC,UAAWzB,EACX0B,OAAQA,CAACC,EAAwBC,EAAS3B,KAAe,IAAD4B,EAGpD,GAFAC,QAAQC,MAAM,oCAAqC,CAAE9B,UAEhDD,EAAqBC,GACtB,MAAM,IAAI+B,MAAM,yCAGpBF,QAAQC,MAAM,0BAA2B,CACrCE,UAAWhC,EAAKI,MAAME,OACtB2B,UAAWjC,EAAKK,MAAMC,OACtB4B,WAAuB,QAAbN,EAAE5B,EAAKmC,cAAM,IAAAP,OAAA,EAAXA,EAAatB,SAE7B,IAAK,IAAD8B,EACA,MAAMC,EAAMV,EAAGW,OAAOZ,GACjBa,UAAU,KAAKC,SACfC,OAAO,OACPC,KAAK,QAAS1C,EAAK2C,OACnBD,KAAK,SAAU1C,EAAKsB,QACpBoB,KAAK,UAAW,CAAC,EAAG,EAAG1C,EAAK2C,MAAO3C,EAAKsB,SAE7C,GAAe,QAAfc,EAAIpC,EAAKmC,cAAM,IAAAC,GAAXA,EAAa9B,OAAQ,CACrB,MAAMsC,EAASP,EAAIE,UAAU,UACxBM,KAAK7C,EAAKmC,QACVW,QACAL,OAAO,KACPC,KAAK,QAAS,SACdA,KAAK,YAAa,kBACvBE,EAAOH,OAAO,QACTC,KAAK,IAAKK,GAAc,gBAATA,EAAEtC,GAAuB,IAAM,KAC9CiC,KAAK,IAAK,IACVA,KAAK,QAASK,GAAc,gBAATA,EAAEtC,GAAuB,IAAM,KAClDiC,KAAK,SAAU,KACfA,KAAK,OAAQ,QACbA,KAAK,SAAU,QACfA,KAAK,mBAAoB,OAC9BE,EAAOH,OAAO,QACTC,KAAK,IAAKK,GAAc,gBAATA,EAAEtC,GAAuB,IAAM,KAC9CiC,KAAK,IAAK,IACVM,KAAKD,GAAKA,EAAEE,OACZP,KAAK,OAAQ,OACtB,CAKJ,CAAE,MAAOQ,GAIL,MAHArB,QAAQqB,MAAM,gCAAiCA,GAE/CvB,EAAGW,OAAOZ,GAAWa,UAAU,KAAKC,SAC9BU,CACV,G","sources":["plugins/d3/networkDiagram.ts"],"sourcesContent":["import { D3RenderPlugin, D3Node, D3Link, D3Style } from '../../types/d3';\n\nexport interface NetworkDiagramSpec {\n    width: number;\n    height: number;\n    nodes: D3Node[];\n    links: D3Link[];\n    groups?: Array<{\n        id: string;\n        label: string;\n        members: string[];\n    }>;\n    styles?: {\n        [key: string]: D3Style;\n    };\n};\n\nconst isNetworkDiagramSpec = (spec: any): spec is NetworkDiagramSpec => {\n    return (\n        typeof spec === 'object' &&\n        spec.type === 'network' && // Check for network type\n        Array.isArray(spec.nodes) &&\n        Array.isArray(spec.links) &&\n        spec.nodes.length >= 0 &&\n        spec.nodes.every((n: any) => typeof n.id === 'string') &&\n        spec.links.length >= 0 &&\n        spec.links.every((l: any) => typeof l.source === 'string' && typeof l.target === 'string')\n    );\n};\n\nexport const networkDiagramPlugin: D3RenderPlugin = {\n    name: 'network-diagram',\n    priority: 1,\n    sizingConfig: {\n        sizingStrategy: 'responsive',\n        needsDynamicHeight: false,\n        needsOverflowVisible: false,\n        observeResize: false,\n        containerStyles: {\n            height: '400px',\n            overflow: 'auto'\n        }\n    },\n    canHandle: isNetworkDiagramSpec,\n    render: (container: HTMLElement, d3: any, spec: any) => {\n        console.debug('Network diagram plugin rendering:', { spec });\n\n        if (!isNetworkDiagramSpec(spec)) {\n            throw new Error('Invalid network diagram specification');\n        }\n\n        console.debug('Network diagram render:', {\n            nodeCount: spec.nodes.length,\n            linkCount: spec.links.length,\n            groupCount: spec.groups?.length\n        });\n        try {\n            const svg = d3.select(container)\n                .selectAll('*').remove()  // Clear existing content\n                .append('svg')\n                .attr('width', spec.width)\n                .attr('height', spec.height)\n                .attr('viewBox', [0, 0, spec.width, spec.height]);\n            // Create board containers if groups exist\n            if (spec.groups?.length) {\n                const boards = svg.selectAll('.board')\n                    .data(spec.groups)\n                    .enter()\n                    .append('g')\n                    .attr('class', 'board')\n                    .attr('transform', 'translate(0,0)');\n                boards.append('rect')\n                    .attr('x', d => d.id === 'modem_board' ? 180 : 680)\n                    .attr('y', 50)\n                    .attr('width', d => d.id === 'modem_board' ? 350 : 200)\n                    .attr('height', 500)\n                    .attr('fill', 'none')\n                    .attr('stroke', '#666')\n                    .attr('stroke-dasharray', '5,5');\n                boards.append('text')\n                    .attr('x', d => d.id === 'modem_board' ? 200 : 700)\n                    .attr('y', 80)\n                    .text(d => d.label)\n                    .attr('fill', '#666');\n            }\n            // Draw links first (rest of the rendering code remains the same)\n            // ... (previous link rendering code)\n            // Draw nodes\n            // ... (previous node rendering code)\n        } catch (error) {\n            console.error('Network diagram render error:', error);\n            // Clean up on error\n            d3.select(container).selectAll('*').remove();\n            throw error;\n        }\n    }\n};\n"],"names":["isNetworkDiagramSpec","spec","type","Array","isArray","nodes","links","length","every","n","id","l","source","target","networkDiagramPlugin","name","priority","sizingConfig","sizingStrategy","needsDynamicHeight","needsOverflowVisible","observeResize","containerStyles","height","overflow","canHandle","render","container","d3","_spec$groups","console","debug","Error","nodeCount","linkCount","groupCount","groups","_spec$groups2","svg","select","selectAll","remove","append","attr","width","boards","data","enter","d","text","label","error"],"ignoreList":[],"sourceRoot":""}