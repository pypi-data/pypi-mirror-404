[project]
name = "primefeat"
version = "0.0.3"
description = "A python package for the exploration of primordial features."
readme = "README.md"
authors = [
    { name = "Rodrigo Calderon", email = "calderon.cosmology@gmail.com" }
]
requires-python = ">=3.10"
dependencies = [
    "getdist>=1.7.4",
    "ipykernel>=7.1.0",
    "matplotlib>=3.10.8",
    "numpy",
    "scikit-learn>=1.7.2",
    "scipy",
    "tqdm>=4.67.1",
    "typer>=0.20.0",
]

[project.scripts]
primefeat = "primefeat:main"

[project.optional-dependencies]
interactive = [
    "marimo>=0.19.2",
]
jit = [
    "numba>=0.63.1",
]

[build-system]
requires = ["uv_build>=0.9.9,<0.10.0"]
build-backend = "uv_build"

[dependency-groups]
dev = [
    "bump-my-version>=1.2.6",
    "codespell>=2.4.1",
    "mkdocs>=1.6.1",
    "mkdocs-jupyter>=0.24.1",
    "mkdocs-material>=9.7.1",
    "mkdocstrings[python]>=0.27.0",
    "pytest>=9.0.2",
    "pytest-cov>=6.0.0",
    "pywavelets>=1.8.0",
]

[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]
addopts = [
    "--verbose",
    "--strict-markers",
    "--disable-warnings",
    "-ra",
]
markers = [
    "slow: marks tests as slow",
    "integration: marks tests as integration tests",
    "requires_numba: tests requiring numba",
    "requires_pywt: tests requiring pywavelets",
    "requires_class: tests requiring CLASS",
]

[tool.bumpversion]
current_version = "0.0.3"
parse = "(?P<major>\\d+)\\.(?P<minor>\\d+)\\.(?P<patch>\\d+)"
serialize = ["{major}.{minor}.{patch}"]
search = "{current_version}"
replace = "{new_version}"
regex = false
tag = true
tag_name = "v{new_version}"
tag_message = "Bump version: {current_version} → {new_version}"
commit = true
message = "Bump version: {current_version} → {new_version}"

[[tool.bumpversion.files]]
filename = "pyproject.toml"
search = 'version = "{current_version}"'
replace = 'version = "{new_version}"'
