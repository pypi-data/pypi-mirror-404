# Generated by the gRPC Python protocol compiler plugin. DO NOT EDIT!
"""Client and server classes corresponding to protobuf-defined services."""
import grpc
import warnings

from nominal.ai.v1 import model_provider_health_pb2 as nominal_dot_ai_dot_v1_dot_model__provider__health__pb2

GRPC_GENERATED_VERSION = '1.76.0'
GRPC_VERSION = grpc.__version__
_version_not_supported = False

try:
    from grpc._utilities import first_version_is_lower
    _version_not_supported = first_version_is_lower(GRPC_VERSION, GRPC_GENERATED_VERSION)
except ImportError:
    _version_not_supported = True

if _version_not_supported:
    raise RuntimeError(
        f'The grpc package installed is at version {GRPC_VERSION},'
        + ' but the generated code in nominal/ai/v1/model_provider_health_pb2_grpc.py depends on'
        + f' grpcio>={GRPC_GENERATED_VERSION}.'
        + f' Please upgrade your grpc module to grpcio>={GRPC_GENERATED_VERSION}'
        + f' or downgrade your generated code using grpcio-tools<={GRPC_VERSION}.'
    )


class ModelProviderHealthServiceStub(object):
    """ModelProviderHealthService monitors the health and performance of the backing LLM model provider.
    It runs lightweight health checks every 5 minutes to measure provider responsiveness and reliability,
    independent of the complexity of user prompts.
    """

    def __init__(self, channel):
        """Constructor.

        Args:
            channel: A grpc.Channel.
        """
        self.GetProviderStatus = channel.unary_unary(
                '/nominal.ai.v1.ModelProviderHealthService/GetProviderStatus',
                request_serializer=nominal_dot_ai_dot_v1_dot_model__provider__health__pb2.GetProviderStatusRequest.SerializeToString,
                response_deserializer=nominal_dot_ai_dot_v1_dot_model__provider__health__pb2.GetProviderStatusResponse.FromString,
                _registered_method=True)


class ModelProviderHealthServiceServicer(object):
    """ModelProviderHealthService monitors the health and performance of the backing LLM model provider.
    It runs lightweight health checks every 5 minutes to measure provider responsiveness and reliability,
    independent of the complexity of user prompts.
    """

    def GetProviderStatus(self, request, context):
        """GetProviderStatus returns the current health status of the model provider based on recent health checks.
        The status is HEALTHY if all checks in the last 30 minutes passed latency thresholds,
        or DEGRADED if any checks exceeded latency thresholds or failed entirely.
        """
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details('Method not implemented!')
        raise NotImplementedError('Method not implemented!')


def add_ModelProviderHealthServiceServicer_to_server(servicer, server):
    rpc_method_handlers = {
            'GetProviderStatus': grpc.unary_unary_rpc_method_handler(
                    servicer.GetProviderStatus,
                    request_deserializer=nominal_dot_ai_dot_v1_dot_model__provider__health__pb2.GetProviderStatusRequest.FromString,
                    response_serializer=nominal_dot_ai_dot_v1_dot_model__provider__health__pb2.GetProviderStatusResponse.SerializeToString,
            ),
    }
    generic_handler = grpc.method_handlers_generic_handler(
            'nominal.ai.v1.ModelProviderHealthService', rpc_method_handlers)
    server.add_generic_rpc_handlers((generic_handler,))
    server.add_registered_method_handlers('nominal.ai.v1.ModelProviderHealthService', rpc_method_handlers)


 # This class is part of an EXPERIMENTAL API.
class ModelProviderHealthService(object):
    """ModelProviderHealthService monitors the health and performance of the backing LLM model provider.
    It runs lightweight health checks every 5 minutes to measure provider responsiveness and reliability,
    independent of the complexity of user prompts.
    """

    @staticmethod
    def GetProviderStatus(request,
            target,
            options=(),
            channel_credentials=None,
            call_credentials=None,
            insecure=False,
            compression=None,
            wait_for_ready=None,
            timeout=None,
            metadata=None):
        return grpc.experimental.unary_unary(
            request,
            target,
            '/nominal.ai.v1.ModelProviderHealthService/GetProviderStatus',
            nominal_dot_ai_dot_v1_dot_model__provider__health__pb2.GetProviderStatusRequest.SerializeToString,
            nominal_dot_ai_dot_v1_dot_model__provider__health__pb2.GetProviderStatusResponse.FromString,
            options,
            channel_credentials,
            insecure,
            call_credentials,
            compression,
            wait_for_ready,
            timeout,
            metadata,
            _registered_method=True)
