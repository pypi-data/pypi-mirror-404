# Issue #07: README.md æ›´æ–°

## æ¦‚è¦

Phase2ï¼ˆ#01-#06ï¼‰ã§å®Ÿè£…ã•ã‚Œã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†æ©Ÿèƒ½ã‚’ `readme.md` ã«åæ˜ ã™ã‚‹ã€‚
æ©Ÿèƒ½ã®æ¦‚è¦ã ã‘ã§ãªãã€**ãªãœã“ã®è¨­è¨ˆã‚’æ¡ç”¨ã—ãŸã‹**ã‚’æ˜ç¢ºã«ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®‰å¿ƒã—ã¦ä½¿ãˆã‚‹æƒ…å ±ã‚’æä¾›ã™ã‚‹ã€‚

## ç¾çŠ¶

ç¾åœ¨ã®README.mdã¯Phase1.6ã¾ã§ã®æ©Ÿèƒ½ã‚’è¨˜è¼‰:
- `@node`, `@entry_point` ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿
- `typed_pipeline()` ã«ã‚ˆã‚‹å‹å®‰å…¨ãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- 3å±¤ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆ`on_error`, `on_step`, `RetryPolicy`ï¼‰

Phase2ã®æ©Ÿèƒ½ãŒæ¬ å¦‚:
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼ˆ`.railway/project.yaml`ï¼‰
- `railway update` ã‚³ãƒãƒ³ãƒ‰
- `railway backup` ã‚³ãƒãƒ³ãƒ‰
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§ãƒã‚§ãƒƒã‚¯

## ç›®æ¨™

### 1. ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æ›´æ–°

```markdown
### Phase 2 âœ… å®Œäº†ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼‰
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³è¨˜éŒ²ï¼ˆ`.railway/project.yaml`ï¼‰
- âœ… ãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆ`railway new` å®Ÿè¡Œæ™‚ï¼‰
- âœ… `railway update` ã‚³ãƒãƒ³ãƒ‰ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- âœ… `railway backup` ã‚³ãƒãƒ³ãƒ‰ï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
- âœ… Dry-run ãƒ¢ãƒ¼ãƒ‰ï¼ˆ`--dry-run` ã§å¤‰æ›´ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰

### Phase 3 ğŸ“‹ è¨ˆç”»ä¸­
- ğŸ”œ ä¸¦åˆ—ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œ
- ğŸ”œ ã‚°ãƒ©ãƒ•ãƒ™ãƒ¼ã‚¹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- ğŸ”œ WebUI
- ğŸ”œ ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
```

### 2. CLI Commands ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ 

```markdown
### ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
```bash
railway update                   # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ›´æ–°
railway update --dry-run         # å¤‰æ›´ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆå®Ÿè¡Œã—ãªã„ï¼‰
railway update --init            # ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã®ãªã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆæœŸåŒ–
railway backup list              # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸€è¦§
railway backup restore           # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ
railway backup clean --keep 3    # å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å‰Šé™¤
```
```

### 3. æ–°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€Œãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã€ã‚’è¿½åŠ 

READMEã®ã€Œè¨­å®šç®¡ç†ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å¾Œã«æŒ¿å…¥:

---

## ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

Railway Framework ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’è¿½è·¡ã—ã€å®‰å…¨ãªã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’æ”¯æ´ã—ã¾ã™ã€‚

### ãªãœãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒå¿…è¦ã‹ï¼Ÿ

| å•é¡Œ | å½±éŸ¿ | Railway ã®è§£æ±ºç­– |
|------|------|------------------|
| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸æ˜ | ãƒãƒ¼ãƒ ã§ä¸æ•´åˆç™ºç”Ÿ | `.railway/project.yaml` ã§æ˜ç¤º |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ›´ | `railway new` ã§ä¸æ•´åˆ | äº’æ›æ€§ãƒã‚§ãƒƒã‚¯ + è­¦å‘Š |
| æ‰‹å‹•ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | é¢å€’ã€ãƒŸã‚¹ã—ã‚„ã™ã„ | `railway update` ã§è‡ªå‹•åŒ– |

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿

`railway init` å®Ÿè¡Œæ™‚ã«è‡ªå‹•ç”Ÿæˆ:

```yaml
# .railway/project.yaml
railway:
  version: "0.10.0"              # ç”Ÿæˆæ™‚ã®railway-frameworkãƒãƒ¼ã‚¸ãƒ§ãƒ³
  created_at: "2026-01-23T10:30:00+09:00"
  updated_at: "2026-01-23T10:30:00+09:00"

project:
  name: "my_automation"

compatibility:
  min_version: "0.10.0"          # å¿…è¦ãªæœ€å°ãƒãƒ¼ã‚¸ãƒ§ãƒ³
```

**è¨­è¨ˆåˆ¤æ–­:**

| åˆ¤æ–­ | ç†ç”± |
|------|------|
| YAMLå½¢å¼ | äººé–“ãŒèª­ã¿ã‚„ã™ãã€æ‰‹å‹•ç·¨é›†ã‚‚å¯èƒ½ |
| `.railway/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é›†ç´„ã€`.gitignore` ä¸è¦ |
| Gitç®¡ç†å¯¾è±¡ | ãƒãƒ¼ãƒ å…¨å“¡ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’å…±æœ‰ |

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§ãƒã‚§ãƒƒã‚¯

`railway new` ç³»ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã«è‡ªå‹•ãƒã‚§ãƒƒã‚¯:

```bash
$ railway new node fetch_data

âš ï¸  ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´ã‚’æ¤œå‡º
    ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: 0.9.0
    ç¾åœ¨:         0.10.0

    ãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒç•°ãªã‚Šã¾ã™ã€‚
    ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

    [c] ç¶šè¡Œ / [u] 'railway update' ã‚’å®Ÿè¡Œ / [a] ä¸­æ­¢
    Choice: _
```

**äº’æ›æ€§ãƒ«ãƒ¼ãƒ«:**

| æ¡ä»¶ | å‹•ä½œ |
|------|------|
| åŒä¸€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ãã®ã¾ã¾å®Ÿè¡Œ |
| ãƒã‚¤ãƒŠãƒ¼å·®ç•° | è­¦å‘Š + ç¢ºèª |
| ãƒ¡ã‚¸ãƒ£ãƒ¼å·®ç•° | ã‚¨ãƒ©ãƒ¼ + æ‹’å¦ |
| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸æ˜ | è­¦å‘Š + ç¢ºèª |

### railway update ã‚³ãƒãƒ³ãƒ‰

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³:

```bash
$ railway update

ğŸ” ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ†æä¸­...

   ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå:      my_automation
   ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³:    0.9.0
   ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³: 0.10.0

ğŸ“‹ é©ç”¨ã•ã‚Œã‚‹å¤‰æ›´:

   [ãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ ]
   + .railway/project.yaml

   [è¨­å®šæ›´æ–°]
   ~ config/development.yaml
     - æ–°è¦ã‚­ãƒ¼: railway.version_check

ç¶šè¡Œã—ã¾ã™ã‹? [y/N]: y

âœ… æ›´æ–°å®Œäº†
   ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—: .railway/backups/0.9.0_20260123_103000/
   æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 0.10.0
```

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³:**

```bash
railway update --dry-run     # å¤‰æ›´ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆå®Ÿè¡Œã—ãªã„ï¼‰
railway update --init        # ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã®ãªã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆæœŸåŒ–
railway update --force       # ç¢ºèªãªã—ã§å®Ÿè¡Œ
railway update --no-backup   # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ã‚¹ã‚­ãƒƒãƒ—
```

**è¨­è¨ˆåˆ¤æ–­:**

| åˆ¤æ–­ | ç†ç”± |
|------|------|
| è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— | å¤±æ•—æ™‚ã«ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯èƒ½ã€å®‰å…¨ç¬¬ä¸€ |
| ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ | æ„å›³ã—ãªã„å¤‰æ›´ã‚’é˜²æ­¢ |
| æ®µéšçš„ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | 0.9â†’0.10â†’0.11 ã¨é †ç•ªã«é©ç”¨ã€å¤§ããªã‚¸ãƒ£ãƒ³ãƒ—ã‚‚å®‰å…¨ |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ¼ãƒ‰ä¸å¤‰æ›´ | `src/nodes/*`, `tests/*` ã¯çµ¶å¯¾ã«å¤‰æ›´ã—ãªã„ |

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

```bash
# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸€è¦§
$ railway backup list
  0.9.0_20260123_103000  2æ™‚é–“å‰   15KB
  0.8.0_20260120_090000  3æ—¥å‰     12KB

# å¾©å…ƒ
$ railway backup restore
ã©ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã«æˆ»ã—ã¾ã™ã‹? [1]: 1
âœ… ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Œäº†

# å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å‰Šé™¤
$ railway backup clean --keep 3
ğŸ—‘ï¸  2ä»¶ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å‰Šé™¤ã—ã¾ã—ãŸ
```

**ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å¯¾è±¡:**

| å¯¾è±¡ | ç†ç”± |
|------|------|
| `.railway/project.yaml` | ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã®å¾©å…ƒ |
| `TUTORIAL.md` | è‡ªå‹•ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ« |
| `pyproject.toml` | ä¾å­˜é–¢ä¿‚ |
| `config/*.yaml` | è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« |

**é™¤å¤–å¯¾è±¡ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ¼ãƒ‰ï¼‰:**

- `src/nodes/*` - æ›´æ–°å¯¾è±¡å¤–
- `tests/*` - æ›´æ–°å¯¾è±¡å¤–
- `.venv/` - ä»®æƒ³ç’°å¢ƒ

### Dry-run ãƒ¢ãƒ¼ãƒ‰

å¤‰æ›´ã‚’å®Ÿè¡Œã›ãšã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼:

```bash
$ railway update --dry-run

ğŸ“‹ é©ç”¨ã•ã‚Œã‚‹å¤‰æ›´:

   [ãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ ]
   + src/py.typed (0 bytes)

   [ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°]
   ~ TUTORIAL.md (+150/-0 lines)
     - ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€ŒStep 8ã€ã‚’è¿½åŠ 

   [è¨­å®šæ›´æ–°]
   ~ config/development.yaml
     - æ–°è¦ã‚­ãƒ¼: railway.version_check
     - ã‚­ãƒ¼åå¤‰æ›´: log_level â†’ logging.level

   [ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ï¼ˆæ‰‹å‹•å¯¾å¿œæ¨å¥¨ï¼‰]
   ! src/nodes/fetch_data.py:15
     @node(log_input=True)  â†’  @node(log_inputs=True)

[dry-run] å®Ÿéš›ã®å¤‰æ›´ã¯è¡Œã‚ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚
å®Ÿè¡Œã™ã‚‹ã«ã¯: railway update
```

---

### 4. ç‰¹å¾´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ 

```markdown
- ğŸ”„ **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³è¿½è·¡ã€è‡ªå‹•ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
```

## è¨­è¨ˆ

### è¿½åŠ ã™ã‚‹æƒ…å ±ã®æ§‹æˆ

```
readme.md
â”œâ”€â”€ ...ï¼ˆæ—¢å­˜ï¼‰
â”œâ”€â”€ CLI Commands
â”‚   â””â”€â”€ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼ˆè¿½åŠ ï¼‰
â”œâ”€â”€ ç‰¹å¾´ï¼ˆ1è¡Œè¿½åŠ ï¼‰
â”œâ”€â”€ ...ï¼ˆæ—¢å­˜ï¼‰
â”œâ”€â”€ è¨­å®šç®¡ç†
â”œâ”€â”€ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼ˆæ–°è¦ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰â˜…
â”‚   â”œâ”€â”€ ãªãœãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒå¿…è¦ã‹ï¼Ÿ
â”‚   â”œâ”€â”€ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ ãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§ãƒã‚§ãƒƒã‚¯
â”‚   â”œâ”€â”€ railway update ã‚³ãƒãƒ³ãƒ‰
â”‚   â”œâ”€â”€ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
â”‚   â””â”€â”€ Dry-run ãƒ¢ãƒ¼ãƒ‰
â”œâ”€â”€ ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹
â””â”€â”€ ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆæ›´æ–°ï¼‰â˜…
```

### ãªãœã“ã®æ§‹æˆã‹

| åˆ¤æ–­ | ç†ç”± |
|------|------|
| ã€Œè¨­å®šç®¡ç†ã€ã®å¾Œã«é…ç½® | è¨­å®šã«é–¢é€£ã™ã‚‹æ©Ÿèƒ½ã¨ã—ã¦è‡ªç„¶ãªæµã‚Œ |
| ã‚³ãƒãƒ³ãƒ‰ã¯å…ˆã«CLI Commandsã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ  | ç´ æ—©ãã‚³ãƒãƒ³ãƒ‰ã‚’æ¢ã›ã‚‹ |
| ã€Œãªãœå¿…è¦ã‹ã€ã‚’æœ€åˆã«èª¬æ˜ | æ©Ÿèƒ½ã®ä¾¡å€¤ã‚’å…ˆã«ä¼ãˆã‚‹ |
| è¨­è¨ˆåˆ¤æ–­ã‚’å„æ©Ÿèƒ½ã«æ·»ãˆã‚‹ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®‰å¿ƒã—ã¦ä½¿ãˆã‚‹ |

## å®Ÿè£…

### å®Ÿè£…æ‰‹é †

1. `readme.md` ã‚’èª­ã¿è¾¼ã‚€
2. CLI Commands ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã€Œãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã€ã‚’è¿½åŠ 
3. ç‰¹å¾´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«1è¡Œè¿½åŠ 
4. ã€Œè¨­å®šç®¡ç†ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å¾Œã«ã€Œãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æŒ¿å…¥
5. ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ›´æ–°

### ã‚³ãƒ¼ãƒ‰å¤‰æ›´

#### 1. CLI Commands ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆã€Œå®Ÿè¡Œã€ã®å¾Œã«è¿½åŠ ï¼‰

```python
# Insert after "### å®Ÿè¡Œ" section
CLI_COMMANDS_ADDITION = """
### ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
```bash
railway update                   # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ›´æ–°
railway update --dry-run         # å¤‰æ›´ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆå®Ÿè¡Œã—ãªã„ï¼‰
railway update --init            # ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã®ãªã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆæœŸåŒ–
railway backup list              # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸€è¦§
railway backup restore           # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ
railway backup clean --keep 3    # å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å‰Šé™¤
```
"""
```

#### 2. ç‰¹å¾´ã‚»ã‚¯ã‚·ãƒ§ãƒ³

```markdown
- ğŸ”„ **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³è¿½è·¡ã€è‡ªå‹•ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
```

#### 3. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå…¨æ–‡ã¯ã€Œç›®æ¨™ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³å‚ç…§ï¼‰

ã€Œè¨­å®šç®¡ç†ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã® `---` ã®å¾Œã«æŒ¿å…¥ã€‚

#### 4. ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚»ã‚¯ã‚·ãƒ§ãƒ³

```markdown
### Phase 2 âœ… å®Œäº†ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼‰
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³è¨˜éŒ²ï¼ˆ`.railway/project.yaml`ï¼‰
- âœ… ãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆ`railway new` å®Ÿè¡Œæ™‚ï¼‰
- âœ… `railway update` ã‚³ãƒãƒ³ãƒ‰ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- âœ… `railway backup` ã‚³ãƒãƒ³ãƒ‰ï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
- âœ… Dry-run ãƒ¢ãƒ¼ãƒ‰ï¼ˆ`--dry-run` ã§å¤‰æ›´ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰

### Phase 3 ğŸ“‹ è¨ˆç”»ä¸­
- ğŸ”œ ä¸¦åˆ—ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œ
- ğŸ”œ ã‚°ãƒ©ãƒ•ãƒ™ãƒ¼ã‚¹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- ğŸ”œ WebUI
- ğŸ”œ ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
```

## ãƒ†ã‚¹ãƒˆï¼ˆTDD: Red â†’ Green â†’ Refactorï¼‰

### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
tests/unit/docs/
â””â”€â”€ test_readme_content.py
```

### Red Phase: ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ã

```python
# tests/unit/docs/test_readme_content.py
"""README.md ã®å†…å®¹ã‚’æ¤œè¨¼ã™ã‚‹ãƒ†ã‚¹ãƒˆã€‚

TDD Red Phase: ã¾ãšãƒ†ã‚¹ãƒˆã‚’æ›¸ãã€å¤±æ•—ã‚’ç¢ºèªã™ã‚‹ã€‚
"""
from pathlib import Path

import pytest


class TestReadmeVersionManagementSection:
    """READMEã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå«ã¾ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼ã€‚"""

    @pytest.fixture
    def readme_content(self) -> str:
        """README.mdã®å†…å®¹ã‚’èª­ã¿è¾¼ã‚€ã€‚"""
        readme_path = Path(__file__).parents[4] / "readme.md"
        return readme_path.read_text(encoding="utf-8")

    def test_has_version_management_section(self, readme_content: str):
        """ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå­˜åœ¨ã™ã‚‹ã€‚"""
        assert "## ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†" in readme_content

    def test_explains_project_yaml(self, readme_content: str):
        """project.yamlã®èª¬æ˜ãŒã‚ã‚‹ã€‚"""
        assert ".railway/project.yaml" in readme_content

    def test_has_railway_update_command(self, readme_content: str):
        """railway updateã‚³ãƒãƒ³ãƒ‰ã®èª¬æ˜ãŒã‚ã‚‹ã€‚"""
        assert "railway update" in readme_content
        assert "--dry-run" in readme_content

    def test_has_railway_backup_command(self, readme_content: str):
        """railway backupã‚³ãƒãƒ³ãƒ‰ã®èª¬æ˜ãŒã‚ã‚‹ã€‚"""
        assert "railway backup" in readme_content
        assert "backup list" in readme_content
        assert "backup restore" in readme_content

    def test_version_management_in_cli_commands(self, readme_content: str):
        """CLI Commandsã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒã‚ã‚‹ã€‚"""
        # CLI Commandsã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚‹
        cli_section_start = readme_content.find("## CLI Commands")
        cli_section_end = readme_content.find("## ", cli_section_start + 1)
        cli_section = readme_content[cli_section_start:cli_section_end]

        assert "railway update" in cli_section
        assert "railway backup" in cli_section

    def test_version_management_in_features(self, readme_content: str):
        """ç‰¹å¾´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒã‚ã‚‹ã€‚"""
        assert "ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†" in readme_content
        # çµµæ–‡å­—ä»˜ãã®ç‰¹å¾´è¡Œã¨ã—ã¦å­˜åœ¨
        assert "ğŸ”„" in readme_content or "ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†" in readme_content

    def test_roadmap_updated(self, readme_content: str):
        """ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ãŒPhase 2å®Œäº†ã‚’ç¤ºã—ã¦ã„ã‚‹ã€‚"""
        assert "Phase 2" in readme_content
        # Phase 2ãŒå®Œäº†ãƒãƒ¼ã‚¯ã•ã‚Œã¦ã„ã‚‹
        roadmap_section = readme_content[readme_content.find("## ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—"):]
        assert "ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†" in roadmap_section

    def test_design_decisions_explained(self, readme_content: str):
        """è¨­è¨ˆåˆ¤æ–­ã®èª¬æ˜ãŒã‚ã‚‹ã€‚"""
        # å„æ©Ÿèƒ½ã«ã€Œãªãœã€ã®èª¬æ˜ãŒã‚ã‚‹
        has_design_table = (
            "| åˆ¤æ–­ | ç†ç”± |" in readme_content
            or "è¨­è¨ˆåˆ¤æ–­" in readme_content
        )
        assert has_design_table

    def test_compatibility_rules_documented(self, readme_content: str):
        """äº’æ›æ€§ãƒ«ãƒ¼ãƒ«ãŒæ–‡æ›¸åŒ–ã•ã‚Œã¦ã„ã‚‹ã€‚"""
        assert "ãƒã‚¤ãƒŠãƒ¼" in readme_content or "ãƒ¡ã‚¸ãƒ£ãƒ¼" in readme_content
        assert "äº’æ›" in readme_content
```

### Green Phase: æœ€å°é™ã®å®Ÿè£…

ä¸Šè¨˜ã€Œå®Ÿè£…ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æ‰‹é †ã«å¾“ã„ã€README.mdã‚’æ›´æ–°ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é€šã™ã€‚

### Refactor Phase: æ”¹å–„

1. æ–‡æ›¸ã®ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆãƒˆãƒ¼ãƒ³ã€å½¢å¼ï¼‰
2. ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆç¢ºèª
3. å†…éƒ¨ãƒªãƒ³ã‚¯ã®æ¤œè¨¼

### ç¢ºèªé …ç›®ï¼ˆæ‰‹å‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰

- [ ] CLI Commands ã«ã€Œãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã€ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹
- [ ] ç‰¹å¾´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã€Œãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã€ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹
- [ ] ã€Œãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒã€Œè¨­å®šç®¡ç†ã€ã®å¾Œã«ã‚ã‚‹
- [ ] ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹
- [ ] å…¨ã¦ã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãŒæ­£ã—ããƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚Œã¦ã„ã‚‹
- [ ] æ—¢å­˜ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨ã®ãƒˆãƒ¼ãƒ³ãƒ»å½¢å¼ãŒä¸€è²«ã—ã¦ã„ã‚‹

## ä¾å­˜é–¢ä¿‚

- #01 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³è¨˜éŒ²ï¼ˆå®Œäº†å¾Œï¼‰
- #02 ãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆå®Œäº†å¾Œï¼‰
- #03 railway updateã‚³ãƒãƒ³ãƒ‰åŸºæœ¬å®Ÿè£…ï¼ˆå®Œäº†å¾Œï¼‰
- #04 ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥è¨­è¨ˆï¼ˆå®Œäº†å¾Œï¼‰
- #05 ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ï¼ˆå®Œäº†å¾Œï¼‰
- #06 Dry-runãƒ¢ãƒ¼ãƒ‰å®Ÿè£…ï¼ˆå®Œäº†å¾Œï¼‰

**Note**: å…¨ã¦ã®å®Ÿè£…å®Œäº†å¾Œã«READMEã‚’æ›´æ–°ã™ã‚‹ã€‚å®Ÿè£…é€”ä¸­ã§ã®éƒ¨åˆ†æ›´æ–°ã¯é¿ã‘ã‚‹ã€‚

## å„ªå…ˆåº¦

**ä½** - æ©Ÿèƒ½å®Ÿè£…å®Œäº†å¾Œã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæ¥­
