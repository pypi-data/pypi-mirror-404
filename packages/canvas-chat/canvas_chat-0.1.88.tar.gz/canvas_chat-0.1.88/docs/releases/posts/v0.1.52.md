---
date: 2026-01-11 12:54:46
categories:
  - Releases
---

# Version 0.1.51

This release introduces a major improvement in query refinement by implementing structured generation with enhanced reliability and validation. It also includes important bug fixes related to module imports, scrolling behavior, and query handling, as well as documentation updates to enforce ES module usage and improve release note deployment.

## New Features

- Implement structured generation for query refinement using a Pydantic model to ensure consistent, validated JSON output and remove parsing errors. This adds multiple fallback layers and eliminates unwanted formatting or extra text in responses. (9d0757) (Eric Ma)
- Add a regression test suite to verify that all core modules import correctly without relying on global window variables, preventing future module dependency issues. (f93178) (Eric Ma)

## Bug Fixes

- Prevent empty refined queries from overwriting original user queries in both search and research commands, ensuring user instructions are preserved and providing graceful fallback when refinements are empty. (4d4adc) (Eric Ma)
- Replace all uses of `window.layoutUtils` with proper ES module imports to fix crashes (e.g., in the /note command) and improve module dependency management. (daf8a2) (Eric Ma)
- Enable scrolling inside code nodes by updating event handlers and CSS styles, fixing issues where long code blocks could not be scrolled. (e1387a) (Eric Ma)
- Fix blog post ordering by including full timestamps in release note frontmatter, ensuring correct chronological sorting even when multiple releases occur on the same day. (89efe8) (Eric Ma)
- Trigger documentation deployment automatically after releases by adding manual workflow dispatch and updating GitHub Actions workflows to overcome security limitations. (ca9304) (Eric Ma)

## Deprecations

- Update architecture guide to mandate exclusive use of ES modules, removing outdated gradual migration advice and discouraging use of global window variables with clear refactoring guidance. (6d7fd9) (Eric Ma)
