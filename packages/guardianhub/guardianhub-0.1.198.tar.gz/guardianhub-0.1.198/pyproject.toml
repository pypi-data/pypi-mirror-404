[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[project]
name = "guardianhub"
version = "0.1.198"  # This will be overridden by Hatch's dynamic version
# Note: Keep _version.py as the source of truth for version
description = "Unified SDK for Local AI Guardian"
authors = [
    {name = "Jayant", email = "jayant@yantramops.com"}
]
readme = "README.md"
license = {text = "MIT"}
requires-python = ">=3.10"
dependencies = [
    "httpx>=0.24.0",
    "pydantic>=2.0.0",
    "pydantic-settings>=2.0.0",
    "pycryptodome>=3.18.0",
    "click>=8.0.0",
    "httpcore>=0.17.0",
    "prometheus-client>=0.23.1",
    "fastapi>=0.123.0",
    "opentelemetry-api>=1.38.0",
    "opentelemetry-sdk>=1.38.0",
    "opentelemetry-util-http>=0.59b0",
    "opentelemetry-exporter-otlp-proto-http>=1.38.0",
    "opentelemetry-instrumentation-fastapi>=0.59b0",
    "opentelemetry-instrumentation-httpx>=0.59b0",
    "langfuse==3.10.1 ; python_version >= '3.10' and python_version < '4.0'"
]

[project.optional-dependencies]
test = [
    "pytest>=7.0.0",
    "pytest-asyncio>=0.20.0",
    "pytest-cov>=4.0.0",
    "pytest-mock>=3.10.0",
    "pytest-httpx>=0.25.0"
]
dev = [
    "pytest>=7.0.0",
    "pytest-asyncio>=0.20.0",
    "pytest-cov>=4.0.0",
    "pytest-mock>=3.10.0",
    "pytest-httpx>=0.25.0"
]
muscle = [
    "temporalio>=1.5.0",
    "uvicorn>=0.23.0"  # For the AgentLauncher
]

[project.urls]
Homepage = "https://github.com/yantramai/guardianhub-sdk"
Source = "https://github.com/yantramai/guardianhub-sdk"

[tool.hatch.version]
path = "src/guardianhub/_version.py"

[tool.hatch.build.targets.wheel]
packages = ["src/guardianhub"]
artifacts = ["src/guardianhub/config/*.json"]

[tool.hatch.build.targets.sdist]
include = ["src/guardianhub", "src/guardianhub/config/*.json"]