Metadata-Version: 2.1
Name: autoglm-local
Version: 1.3.5
Summary: AutoGLM AI-APPUI è‡ªåŠ¨åŒ–æµ‹è¯•å¹³å° - æœ¬åœ°å®¢æˆ·ç«¯ï¼ˆå†…ç½®å®Œæ•´ä¾èµ–ï¼‰
Home-page: http://qa.local:8787/zsdx/AI_UIauto_app
Author: chenwenkun
Author-email: 
Keywords: appium,automation,testing,android,ios,ai
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Topic :: Software Development :: Testing
Classifier: Topic :: Software Development :: Quality Assurance
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: fastapi>=0.100.0
Requires-Dist: uvicorn>=0.22.0
Requires-Dist: websockets>=11.0
Requires-Dist: python-multipart>=0.0.6
Requires-Dist: httpx>=0.24.0
Requires-Dist: openai>=1.0.0
Requires-Dist: adbutils>=2.0.0
Requires-Dist: tidevice>=0.12.0
Requires-Dist: loguru>=0.7.0
Requires-Dist: requests>=2.28.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: Pillow>=10.0.0
Requires-Dist: openpyxl>=3.1.0

# AutoGLM WebUI éƒ¨ç½²æŒ‡å—

## ğŸš€ å¿«é€Ÿå¯åŠ¨ï¼ˆå‚è€ƒ appinstalltestï¼‰

### ç‹¬ç«‹æ¨¡å¼ï¼ˆæ¨èï¼Œæ— éœ€ Dockerï¼‰

```bash
cd web_ui
./start_standalone.sh
```

### Docker æ¨¡å¼

```bash
cd web_ui

# æ„å»ºé•œåƒ
docker build -t autoglm .

# å¯åŠ¨æœåŠ¡
docker run -d -p 8792:8792 --name autoglm autoglm
```

### è®¿é—®

æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:8792`

## ğŸ“¦ æ¶æ„è¯´æ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Linux æœåŠ¡å™¨           â”‚          â”‚        Mac æœ¬åœ°             â”‚
â”‚      (Docker éƒ¨ç½²)          â”‚   HTTP   â”‚        (pip å®‰è£…)           â”‚
â”‚                             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                             â”‚
â”‚   æœåŠ¡ç«¯ (remote_server)    â”‚  æ³¨å†Œ    â”‚   æœ¬åœ°ç«¯ (local_server)     â”‚
â”‚   ç«¯å£: 8792                â”‚  å¿ƒè·³    â”‚   ç«¯å£: 8793                â”‚
â”‚                             â”‚          â”‚                             â”‚
â”‚   - é¡µé¢å±•ç¤º                â”‚          â”‚   - è®¾å¤‡ç®¡ç†                â”‚
â”‚   - é…ç½®ç®¡ç†                â”‚          â”‚   - æˆªå›¾/è¿œç¨‹æ§åˆ¶           â”‚
â”‚   - æ¥æ”¶æœ¬åœ°ç«¯æ³¨å†Œ          â”‚          â”‚   - AI ä»»åŠ¡æ‰§è¡Œ             â”‚
â”‚   - ä»£ç†è½¬å‘                â”‚          â”‚   - ä¸»åŠ¨æ³¨å†Œåˆ°æœåŠ¡ç«¯        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²                                           â”‚
         â”‚                                           â–¼
         â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    è®¿é—® Web                                  â”‚ Android/iOS  â”‚
                                              â”‚    è®¾å¤‡      â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å·¥ä½œæµç¨‹**ï¼š
1. Linux æœåŠ¡ç«¯å¯åŠ¨ï¼ˆDockerï¼‰
2. Mac æœ¬åœ°ç«¯å¯åŠ¨ï¼Œ**æŒ‡å®šæœåŠ¡ç«¯åœ°å€**ï¼Œè‡ªåŠ¨æ³¨å†Œ
3. ç”¨æˆ·è®¿é—®æœåŠ¡ç«¯ Web é¡µé¢
4. æœåŠ¡ç«¯ä»£ç†è¯·æ±‚åˆ°å·²æ³¨å†Œçš„æœ¬åœ°ç«¯

---

## ğŸ³ æœåŠ¡ç«¯éƒ¨ç½² (Linux Docker)

### ğŸ‡¨ğŸ‡³ ä¸­å›½å¤§é™†ç”¨æˆ·ï¼ˆæ¨èï¼‰

#### 1. è‡ªåŠ¨é…ç½® Docker å›½å†…æº

```bash
cd web_ui
./setup_docker_china.sh
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
- é…ç½® Docker å›½å†…é•œåƒåŠ é€Ÿæº
- å¯ç”¨ BuildKit åŠ é€Ÿæ„å»º
- ä¼˜åŒ– DNS è®¾ç½®

#### 2. ä¸€é”®æ„å»ºå’Œå¯åŠ¨

```bash
# ä½¿ç”¨ä¸­å›½å¤§é™†ä¼˜åŒ–æ„å»ºè„šæœ¬
./build_china.sh
```

#### 3. å¯åŠ¨æœåŠ¡

```bash
# ä¸éœ€è¦æŒ‡å®šä»»ä½• Mac åœ°å€ï¼
docker-compose up -d
```

#### 4. ç®¡ç†æœåŠ¡

```bash
# åœæ­¢æœåŠ¡
./stop.sh

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# é‡å¯æœåŠ¡
docker-compose restart

# å®Œå…¨æ¸…ç†ï¼ˆåˆ é™¤å®¹å™¨ã€é•œåƒã€æ•°æ®ï¼‰
./clean.sh
```

### ğŸŒ å›½é™…ç”¨æˆ· / æ‰‹åŠ¨é…ç½®

#### 1. æ„å»ºé•œåƒ

```bash
cd web_ui
docker build -t autoglm-server .
```

#### 2. è¿è¡Œå®¹å™¨

```bash
docker run -d \
  -p 8792:8792 \
  --restart always \
  --name autoglm-server \
  autoglm-server
```

æˆ–ä½¿ç”¨ docker-composeï¼š
```bash
docker-compose up -d
```

---

## ğŸ”§ ç‹¬ç«‹æ¨¡å¼éƒ¨ç½²ï¼ˆæœ€ç®€å•ï¼‰

é€‚åˆå•æœºä½¿ç”¨ï¼Œå‚è€ƒ appinstalltest çš„æ¶æ„ã€‚

### å¿«é€Ÿå¯åŠ¨

```bash
cd web_ui
./start_standalone.sh
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
1. æ£€æŸ¥ Python ç¯å¢ƒ
2. å®‰è£…ä¾èµ–åŒ…
3. æ£€æŸ¥è®¾å¤‡è¿æ¥
4. å¯åŠ¨ Web æœåŠ¡

### æ‰‹åŠ¨å¯åŠ¨

```bash
cd web_ui
pip install -r requirements.txt
python server.py
```

### è®¿é—®

æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:8792`

---

## ğŸ–¥ï¸ åˆ†ç¦»æ¨¡å¼éƒ¨ç½²ï¼ˆå¤šè®¾å¤‡åœºæ™¯ï¼‰

### æ–¹å¼ä¸€ï¼špip å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# æ‰“åŒ…
cd web_ui
python setup.py sdist bdist_wheel

# å®‰è£…
pip install dist/autoglm_local-1.0.0-py3-none-any.whl
```

### æ–¹å¼äºŒï¼šç›´æ¥è¿è¡Œ

```bash
pip install -r requirements_local.txt
python start_local.py --server http://æœåŠ¡å™¨IP:8792
```

### å¯åŠ¨æœ¬åœ°ç«¯

```bash
# æŒ‡å®šæœåŠ¡ç«¯åœ°å€ï¼Œè‡ªåŠ¨æ³¨å†Œ
autoglm-local --server http://æœåŠ¡å™¨IP:8792

# æˆ–ä½¿ç”¨ç¯å¢ƒå˜é‡
export SERVER_URL=http://æœåŠ¡å™¨IP:8792
autoglm-local
```

å¯åŠ¨åï¼Œæœ¬åœ°ç«¯ä¼šï¼š
1. è‡ªåŠ¨å‘æœåŠ¡ç«¯æ³¨å†Œ
2. å®šæœŸå‘é€å¿ƒè·³ï¼ˆ30ç§’ï¼‰
3. æŠ¥å‘Šè¿æ¥çš„è®¾å¤‡åˆ—è¡¨

---

## ğŸ“‹ éƒ¨ç½²ç¤ºä¾‹

### ğŸ‡¨ğŸ‡³ ä¸­å›½å¤§é™†å®Œæ•´éƒ¨ç½²æµç¨‹

å‡è®¾ï¼š
- Linux æœåŠ¡å™¨ IP: `192.168.1.200`
- Mac æœ¬åœ° IP: `192.168.1.100`

#### Step 1: Linux æœåŠ¡å™¨é…ç½®å’Œéƒ¨ç½²

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /path/to/cloudGLM/Open-AutoGLM/web_ui

# ğŸš€ ä¸­å›½å¤§é™†ç”¨æˆ·ï¼šé…ç½® Docker å›½å†…æº
./setup_docker_china.sh

# ğŸ—ï¸ ä½¿ç”¨ä¼˜åŒ–æ„å»ºè„šæœ¬
./build_china.sh

# ğŸš€ å¯åŠ¨æœåŠ¡
docker-compose up -d

# æ£€æŸ¥çŠ¶æ€
docker-compose ps
docker-compose logs -f
```

#### Step 2: Mac æœ¬åœ°ç«¯éƒ¨ç½²

```bash
# åœ¨ Mac ä¸Šè¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/chenwenkun/Documents/AIcwk/cloudGLM/Open-AutoGLM/web_ui

# ğŸ“¦ æ‰“åŒ…å®‰è£…æœ¬åœ°ç«¯
python setup.py sdist bdist_wheel
pip install dist/autoglm_local-1.0.0-py3-none-any.whl

# ğŸš€ å¯åŠ¨æœ¬åœ°ç«¯ï¼ŒæŒ‡å®šæœåŠ¡ç«¯åœ°å€
autoglm-local --server http://192.168.1.200:8792
```

#### Step 3: éªŒè¯éƒ¨ç½²

```bash
# ğŸŒ æµè§ˆå™¨è®¿é—®
http://192.168.1.200:8792

# ğŸ“± é¡µé¢ä¼šè‡ªåŠ¨æ˜¾ç¤ºå·²æ³¨å†Œçš„æœ¬åœ°ç«¯å’Œè¿æ¥çš„è®¾å¤‡ï¼
```

### ğŸ”§ å¿«é€Ÿå¯åŠ¨è„šæœ¬ï¼ˆä¸­å›½å¤§é™†ï¼‰

åˆ›å»º `start_china.sh`ï¼š

```bash
#!/bin/bash
# ä¸­å›½å¤§é™†ä¸€é”®å¯åŠ¨è„šæœ¬

echo "ğŸ‡¨ğŸ‡³ AutoGLM ä¸­å›½å¤§é™†å¯åŠ¨è„šæœ¬"

# é…ç½® Dockerï¼ˆå¦‚æœè¿˜æ²¡é…ç½®ï¼‰
if [ ! -f ~/.docker/daemon.json ]; then
    echo "ğŸ”§ é…ç½® Docker å›½å†…æº..."
    ./setup_docker_china.sh
fi

# æ„å»ºå’Œå¯åŠ¨
echo "ğŸ—ï¸ æ„å»ºæœåŠ¡ç«¯..."
./build_china.sh

echo "ğŸš€ å¯åŠ¨æœåŠ¡..."
docker-compose up -d

echo "âœ… éƒ¨ç½²å®Œæˆï¼"
echo "ğŸŒ è®¿é—®åœ°å€: http://localhost:8792"
echo "ğŸ“ æœ¬åœ°ç«¯å¯åŠ¨å‘½ä»¤: autoglm-local --server http://æœåŠ¡å™¨IP:8792"
```

---

## ğŸ”§ é…ç½®è¯´æ˜

### æœ¬åœ°ç«¯å‚æ•°

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `--server`, `-s` | æœåŠ¡ç«¯åœ°å€ | æ— ï¼ˆç‹¬ç«‹è¿è¡Œï¼‰ |
| `--port`, `-p` | æœ¬åœ°ç«¯å£ | 8793 |
| `--name`, `-n` | æœ¬åœ°ç«¯åç§° | ä¸»æœºå |

### ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ |
|--------|------|
| `SERVER_URL` | æœåŠ¡ç«¯åœ°å€ |
| `LOCAL_PORT` | æœ¬åœ°ç«¯å£ |
| `LOCAL_NAME` | æœ¬åœ°ç«¯åç§° |

---

## ğŸ› ï¸ API è¯´æ˜

### æœåŠ¡ç«¯æ–°å¢ API

| è·¯å¾„ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/local/register` | POST | æœ¬åœ°ç«¯æ³¨å†Œ |
| `/local/heartbeat` | POST | æœ¬åœ°ç«¯å¿ƒè·³ |
| `/local/list` | GET | åˆ—å‡ºæ‰€æœ‰æœ¬åœ°ç«¯ |
| `/local/{name}` | DELETE | ç§»é™¤æœ¬åœ°ç«¯ |

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç½‘ç»œè¿é€šæ€§**ï¼šMac éœ€è¦èƒ½è®¿é—® Linux æœåŠ¡å™¨çš„ 8792 ç«¯å£
2. **é˜²ç«å¢™è®¾ç½®**ï¼š
   - Linux: å…è®¸ 8792 ç«¯å£å…¥ç«™
   - Mac: å…è®¸ 8793 ç«¯å£å…¥ç«™ï¼ˆæœåŠ¡ç«¯ä»£ç†è¯·æ±‚ï¼‰
3. **å¿ƒè·³è¶…æ—¶**ï¼šæœ¬åœ°ç«¯ 60 ç§’æ— å¿ƒè·³ä¼šè¢«æ ‡è®°ä¸ºç¦»çº¿
4. **å¤šæœ¬åœ°ç«¯**ï¼šæ”¯æŒå¤šå° Mac åŒæ—¶æ³¨å†Œåˆ°åŒä¸€æœåŠ¡ç«¯

---

## ä½œè€…

chenwenkun
