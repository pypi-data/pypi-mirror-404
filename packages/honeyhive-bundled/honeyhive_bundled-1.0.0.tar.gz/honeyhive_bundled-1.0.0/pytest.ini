[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts =
    --strict-markers
    --strict-config
    --tb=short
    --ignore=tests/unit/mcp_servers
    --ignore=tests/unit/_v0_archive
# Coverage disabled by default - enabled per test type in tox.ini
# Unit tests: coverage enabled with 80% threshold
# Integration tests: coverage disabled (focus on behavior, not coverage)
# Note: MCP server tests are excluded (independent component with separate dependencies)
markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (slower, component interaction)
    slow: Slow running tests
    api: API-related tests
    tracer: Tracer functionality tests
    models: Model validation tests
    workflows: End-to-end workflow tests
    performance: Performance tests
    error_handling: Error handling tests
    async: Asynchronous tests
    real_api: Tests that require real API access
    mock: Tests that use mocking
    evaluation: Evaluation framework tests
    multi_instance: Multi-instance tracer tests
    tracer_provider: TracerProvider integration tests
    multi_tracer: Multi-tracer functionality tests
    end_to_end: End-to-end validation tests
    real_instrumentor: Tests that use real instrumentor integrations
    openai_required: Tests that require OpenAI API access
    anthropic_required: Tests that require Anthropic API access
filterwarnings =
    ignore::DeprecationWarning
    ignore:No data was collected:coverage.exceptions.CoverageWarning
    ignore::coverage.exceptions.CoverageWarning
