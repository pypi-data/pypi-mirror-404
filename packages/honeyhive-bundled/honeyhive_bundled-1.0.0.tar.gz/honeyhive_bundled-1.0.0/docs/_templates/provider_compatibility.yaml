---
# Provider Compatibility Matrix
# This file contains compatibility metadata for all LLM provider integrations
# Source of truth for version support, instrumentor compatibility, and known limitations
#
# NOTE: HoneyHive SDK requires Python >=3.11 (from pyproject.toml line 6)
# All providers inherit this base requirement

openai:
  python_version_support:
    supported:
      - "3.11"
      - "3.12"
      - "3.13"
    partial: []
    unsupported:
      - "3.10 and below"

  sdk_version_range:
    minimum: "openai >= 1.0.0"
    recommended: "openai >= 1.10.0"
    tested_versions:
      - "1.10.0"
      - "1.11.0"
      - "1.12.0"
      - "1.13.0"

  instrumentor_compatibility:
    openinference:
      status: "fully_supported"
      notes: "All features available including streaming and function calling"
    traceloop:
      status: "fully_supported"
      notes: "Enhanced metrics, cost tracking, and token usage analysis"

  known_limitations:
    - "**Streaming**: Requires manual span finalization for proper trace completion"
    - "**Batch API**: Limited instrumentor support, manual tracing recommended"
    - "**Function Calling**: Fully supported with both instrumentors"
    - "**Vision API**: Supported in OpenAI SDK >= 1.11.0, traced automatically"

anthropic:
  python_version_support:
    supported:
      - "3.11"
      - "3.12"
      - "3.13"
    partial: []
    unsupported:
      - "3.10 and below"

  sdk_version_range:
    minimum: "anthropic >= 0.17.0"
    recommended: "anthropic >= 0.21.0"
    tested_versions:
      - "0.21.0"
      - "0.22.0"
      - "0.23.0"

  instrumentor_compatibility:
    openinference:
      status: "fully_supported"
      notes: "Full Claude 3 family support with streaming and vision"
    traceloop:
      status: "fully_supported"
      notes: "Enhanced metrics with Claude-specific cost tracking"

  known_limitations:
    - "**Streaming**: Partial support - requires manual context management for proper traces"
    - "**Vision API**: Supported for Claude 3 models, traced automatically"
    - "**Tool Use**: Fully supported with both instrumentors"
    - "**Message Batching**: Not yet supported by instrumentors, use manual tracing"

google-ai:
  python_version_support:
    supported:
      - "3.11"
      - "3.12"
      - "3.13"
    partial: []
    unsupported:
      - "3.10 and below"

  sdk_version_range:
    minimum: "google-generativeai >= 0.3.0"
    recommended: "google-generativeai >= 0.4.0"
    tested_versions:
      - "0.4.0"
      - "0.5.0"
      - "0.6.0"

  instrumentor_compatibility:
    openinference:
      status: "fully_supported"
      notes: "Gemini Pro and Pro Vision support with multimodal tracing"
    traceloop:
      status: "experimental"
      notes: "Basic support available, some Gemini-specific features in development"

  known_limitations:
    - "**Streaming**: Supported with manual span management required"
    - "**Multimodal Input**: Vision features traced but media content not captured"
    - "**Function Calling**: Supported in Gemini Pro models"
    - "**Safety Settings**: Not captured in traces by default"

google-adk:
  python_version_support:
    supported:
      - "3.11"
      - "3.12"
      - "3.13"
    partial: []
    unsupported:
      - "3.10 and below"

  sdk_version_range:
    minimum: "google-adk >= 1.0.0"
    recommended: "google-adk >= 1.2.0"
    tested_versions:
      - "1.2.0"
      - "1.3.0"

  instrumentor_compatibility:
    openinference:
      status: "fully_supported"
      notes: "Multi-agent workflows and tool calling fully traced"
    traceloop:
      status: "not_supported"
      notes: "Traceloop instrumentor not available for Google ADK - use OpenInference"

  known_limitations:
    - "**Traceloop**: Not available for Google ADK, OpenInference only"
    - "**Multi-Agent Workflows**: Requires nested span management for proper trace hierarchy"
    - "**Tool Calling**: Fully supported with automatic tool execution tracing"
    - "**Streaming Responses**: Partial support, manual span finalization needed"

bedrock:
  python_version_support:
    supported:
      - "3.11"
      - "3.12"
      - "3.13"
    partial: []
    unsupported:
      - "3.10 and below"

  sdk_version_range:
    minimum: "boto3 >= 1.26.0"
    recommended: "boto3 >= 1.28.0"
    tested_versions:
      - "1.28.0"
      - "1.29.0"
      - "1.30.0"

  instrumentor_compatibility:
    openinference:
      status: "fully_supported"
      notes: "Support for Claude, Titan, and Llama models on Bedrock"
    traceloop:
      status: "partial"
      notes: "Basic support, some Bedrock-specific features require OpenInference"

  known_limitations:
    - "**Model Support**: Claude, Titan, Llama 2 fully supported; other models experimental"
    - "**Streaming**: Supported with both instrumentors, automatic span management"
    - "**Cross-Region**: Requires proper AWS credentials and region configuration"
    - "**Embedding Models**: Traced but may require manual metadata enrichment"

azure-openai:
  python_version_support:
    supported:
      - "3.11"
      - "3.12"
      - "3.13"
    partial: []
    unsupported:
      - "3.10 and below"

  sdk_version_range:
    minimum: "openai >= 1.0.0"
    recommended: "openai >= 1.10.0"
    tested_versions:
      - "1.10.0"
      - "1.11.0"
      - "1.12.0"

  instrumentor_compatibility:
    openinference:
      status: "fully_supported"
      notes: "Full Azure OpenAI support with deployment-specific tracing"
    traceloop:
      status: "fully_supported"
      notes: "Enhanced metrics with Azure-specific cost tracking and quotas"

  known_limitations:
    - "**Deployment Names**: Must configure Azure deployment names separately from model names"
    - "**API Versions**: Requires Azure API version in configuration, traced in metadata"
    - "**Managed Identity**: Supported but requires additional Azure SDK configuration"
    - "**Streaming**: Fully supported with both instrumentors"

mcp:
  python_version_support:
    supported:
      - "3.11"
      - "3.12"
      - "3.13"
    partial: []
    unsupported:
      - "3.10 and below"

  sdk_version_range:
    minimum: "mcp-sdk >= 0.1.0"
    recommended: "mcp-sdk >= 0.2.0"
    tested_versions:
      - "0.2.0"
      - "0.3.0"

  instrumentor_compatibility:
    openinference:
      status: "experimental"
      notes: "Basic MCP protocol tracing, tool execution captured"
    traceloop:
      status: "not_supported"
      notes: "Traceloop instrumentor not available for MCP - use OpenInference"

  known_limitations:
    - "**Protocol Version**: MCP 1.0 protocol required, earlier versions not supported"
    - "**Tool Discovery**: Automatic tool discovery traced, manual tools require enrichment"
    - "**Streaming Tools**: Partial support for streaming tool responses"
    - "**Multi-Server**: Multiple MCP server connections require manual span management"
