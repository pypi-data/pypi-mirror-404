# Test configuration for the Windows manifest example

[test]
description = "Demonstrates Windows SxS manifest support with DPI awareness"

# Files that should exist after the build
# Note: manifest files are generated and embedded
expected_outputs = [
    "build/obj.myapp/main.obj",
    "build/myapp.exe",
    "build/MyLib.dll",
    "build/ManifestExample.MyLib.manifest",
    "build/app.manifest",
]

# [verify]
# Skipping runtime verification - the manifest embeds visual styles and
# DPI settings, but full SxS assembly setup requires additional configuration.
# The key test is that the build completes with embedded manifest.
# commands = [
#     { run = "./build/myapp.exe", expect_stdout = "Hello from Windows manifest example!" },
# ]

[skip]
# Only run on Windows - requires MSVC or clang-cl toolchain
platforms = ["linux", "darwin"]
# Requires either MSVC (cl.exe) or clang-cl to be installed
requires_any = ["cl.exe", "clang-cl.exe"]
# Windows manifests don't work with Xcode or Make on Windows
generators = ["xcode", "make"]
