# Test configuration for the multi_file example

[test]
description = "Demonstrates building a multi-file C project with include directories"

# Files that should exist after the build
# Object files are in obj.<target>/ subdirectories
# Paths are Unix-style; automatically adapted for Windows
expected_outputs = [
    "build/obj.calculator/math_ops.o",
    "build/obj.calculator/main.o",
    "build/calculator",
]

[verify]
# Run the built program and check output
# Commands are Unix-style; automatically adapted for Windows
commands = [
    { run = "./build/calculator", expect_stdout = "a = 5, b = 3" },
    { run = "./build/calculator", expect_stdout = "add(5, 3) = 8" },
    { run = "./build/calculator", expect_stdout = "multiply(5, 3) = 15" },
]

[skip]
# Works on all platforms with a C compiler
