[project]
name = "the1conf"
version = "1.2.3"
description = "All in one configuration management tool for your python applications."
readme = "README.md"
requires-python = ">=3.12,<3.13"
license = "MIT"
license-files = ["LICENSE"]
authors = [
    { name = "Eric CHASTAN", email = "eric@chastan.consulting" },
]
keywords = [
    "configuration",
    "settings",
    "cli",
    "click",
    "pydantic",
]
classifiers = [
    "Development Status :: 5 - Production/Stable",
    "Intended Audience :: Developers",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.12",
    "Topic :: Software Development :: Libraries",
]
dependencies = [
    "pydantic>=2.12.5",
    "click>=8.3.1",
    "toml>=0.10.2",
    "jinja2>=3.1.6",
]

[project.urls]
Repository = "https://gitlab.com/eric-chastan/the1conf"
Issues = "https://gitlab.com/eric-chastan/the1conf/-/issues"

[tool.poetry]
packages = [
    { include = "the1conf", from = "python/main" },
]

[tool.poetry.group.dev]

[tool.poetry.group.dev.dependencies]
autopep8 = ">=2.3.2"
black = ">=26.1.0"
ipykernel = ">=7.1.0"
ipython = ">=9.6.0"
jupyter = ">=1.1.1"
mypy = ">=1.19.1"
pyls-black = ">=0.4.7"
pytest = ">=9.0.2"
poethepoet = ">=0.40.0"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.mypy]
disallow_any_decorated = false
disallow_any_generics = false
disallow_any_unimported = false
disallow_subclassing_any = false
disallow_untyped_calls = false
disallow_untyped_defs = true
ignore_missing_imports = true
warn_unused_ignores = true
ignore_missing_imports_per_module = true


[tool.pytest.ini_options]
testpaths = "python/test"
addopts = "-s"
log_cli = true
#mock_use_standalone_module = true

[tool.flake8]
max-line-length = 90
doctests = true
exclude =  [".git", ".eggs", "__pycache__", "tests/", "docs/", "build/", "dist/"]

[tool.black]
line-length = 90

[tool.poe.tasks]
prepare = { cmd = "./scripts/prepare_commit.sh", help = "Format, test and bump version" }
