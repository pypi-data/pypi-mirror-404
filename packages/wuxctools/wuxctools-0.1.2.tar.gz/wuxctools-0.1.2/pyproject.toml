[project]
name = "wuxctools"
version = "0.1.2"
description = "xucai's personal scripts"
readme = "README.md"
requires-python = ">=3.13"
dependencies = [
  "altair-viewer>=0.4.0",
  "colorcet>=3.1.0",
  "h5py>=3.15.1",
  "holoviews>=1.22.1",
  "lxml>=6.0.2",
  "matplotlib>=3.10.7",
  "msgspec>=0.20.0",
  "numpy>=2.3.5",
  "plotly>=6.5.0",
  "polars[rtcompat]>=1.35.2",
  "rdkit>=2025.9.3",
  "rich>=14.2.0",
  "tqdm>=4.67.1",
  "tyro>=0.9.35",
]

[build-system]
requires = ["uv_build>=0.9.7,<0.10.0"]
build-backend = "uv_build"

[project.scripts]
xc = "wuxctools.cli:app"

[project.optional-dependencies]
pymatgen = ["pymatgen>=2025.10.7"]

[tool.uv.sources]
microsoft-python-type-stubs = { git = "https://github.com/microsoft/python-type-stubs.git" }

[dependency-groups]
dev = [
  "lxml-stubs>=0.5.1",
  "microsoft-python-type-stubs",
  "mypy>=1.15.0",
  "pymatgen>=2025.10.7",
  "pyqt6>=6.9.1",
  "torch>=2.9.1",
  "ty>=0.0.8",
  "types-tqdm>=4.67.0.20250809",
  "viztracer>=1.1.1",
]

[tool.ty.rules]
possibly-unresolved-reference = "error"

[tool.pyright]
typeCheckingMode = "strict"
reportUnknownMemberType = "none"

[tool.ruff]
src = ["src"]
lint.select = [
  "E",   # pycodestyle errors.
  "F",   # Pyflakes rules.
  "PLC", # Pylint convention warnings.
  "PLE", # Pylint errors.
  "PLR", # Pylint refactor recommendations.
  "PLW", # Pylint warnings.
  "I",   # Import sorting.
]

lint.ignore = [
  "E501",    # Line too long.
  "PLC0415", # Import should be placed at the top of the file.
  "PLR2004", # Magic value used in comparison.
]
