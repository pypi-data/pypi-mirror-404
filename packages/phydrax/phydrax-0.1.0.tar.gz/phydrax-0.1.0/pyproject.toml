[build-system]
build-backend = "hatchling.build"
requires = ["hatchling"]

[tool.hatch.build]
exclude = [
  ".venv/**",
  ".uv/**",
  ".uv-cache/**",
  ".pytest_cache/**",
  ".ruff_cache/**",
  "**/__pycache__/**",
  ".DS_Store",
]

[project]
authors = [
  {email = "leonard@phydra.ai", name = "Phydra Labs"}
]
name = "phydrax"
version = "0.1.0"
requires-python = ">=3.11,<4.0"
license-files = ["LICENSE"]

dependencies = [
    "build123d>=0.10.0",
    "coordax==0.2.3",
    "equinox==0.13.2",
    "evosax>=0.2.0",
    "interpax>=0.3.12",
    "jax>=0.8.2",
    "jaxtyping>=0.3.5",
    "manifold3d>=3.3.2",
    "meshio>=5.3.5",
    "opt-einsum>=3.4.0",
    "optax>=0.2.6",
    "orthax>=0.2.7",
    "pandas>=3.0.0",
    "plotly>=6.5.1",
    "pyvista>=0.46.4",
    "quadax>=0.2.11",
    "trimesh[easy]>=4.11.1",
]

[project.optional-dependencies]
docs = [
  "hippogriffe==0.2.2",
  "griffe==1.7.3",
  "mkdocs==1.6.1",
  "mkdocs-include-exclude-files==0.1.0",
  "mkdocs-material==9.6.7",
  "mkdocstrings==0.28.3",
  "mkdocstrings-python==1.16.8",
  "pymdown-extensions==10.14.3"
]
tests = [
    "pytest>=9.0.2",
    "pytest-clarity>=1.0.1",
    "pytest-rerunfailures>=16.1",
    "pytest-sugar>=1.1.1",
    "pytest-xdist>=3.8.0",
]
qa = [
    "ruff>=0.14.14",
    "ty>=0.0.13",
]


[tool.ruff]
line-length = 90
exclude = [".*"]

[tool.ruff.lint]
select = ["E", "F", "I001"]
ignore = ["E402", "E721", "E731", "E741", "F722", "F841"]
fixable = ["I001", "F401"]

[tool.ruff.lint.isort]
combine-as-imports = true
lines-after-imports = 2
order-by-type = false

[tool.ruff.lint.pycodestyle]
max-line-length = 120

[tool.pytest.ini_options]
filterwarnings = [
    "ignore::DeprecationWarning:ezdxf.queryparser:",
    "ignore::DeprecationWarning:build123d.objects_curve:",
]
