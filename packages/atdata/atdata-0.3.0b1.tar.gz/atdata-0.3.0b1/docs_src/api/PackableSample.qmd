# PackableSample { #atdata.PackableSample }

```python
PackableSample()
```

Base class for samples that can be serialized with msgpack.

This abstract base class provides automatic serialization/deserialization
for dataclass-based samples. Fields annotated as ``NDArray`` or
``NDArray | None`` are automatically converted between numpy arrays and
bytes during packing/unpacking.

Subclasses should be defined either by:
1. Direct inheritance with the ``@dataclass`` decorator
2. Using the ``@packable`` decorator (recommended)

## Examples {.doc-section .doc-section-examples}

```python
>>> @packable
... class MyData:
...     name: str
...     embeddings: NDArray
...
>>> sample = MyData(name="test", embeddings=np.array([1.0, 2.0]))
>>> packed = sample.packed  # Serialize to bytes
>>> restored = MyData.from_bytes(packed)  # Deserialize
```

## Attributes

| Name | Description |
| --- | --- |
| [as_wds](#atdata.PackableSample.as_wds) | Pack this sample's data for writing to WebDataset. |
| [packed](#atdata.PackableSample.packed) | Pack this sample's data into msgpack bytes. |

## Methods

| Name | Description |
| --- | --- |
| [from_bytes](#atdata.PackableSample.from_bytes) | Create a sample instance from raw msgpack bytes. |
| [from_data](#atdata.PackableSample.from_data) | Create a sample instance from unpacked msgpack data. |

### from_bytes { #atdata.PackableSample.from_bytes }

```python
PackableSample.from_bytes(bs)
```

Create a sample instance from raw msgpack bytes.

#### Parameters {.doc-section .doc-section-parameters}

| Name   | Type             | Description                                 | Default    |
|--------|------------------|---------------------------------------------|------------|
| bs     | [bytes](`bytes`) | Raw bytes from a msgpack-serialized sample. | _required_ |

#### Returns {.doc-section .doc-section-returns}

| Name   | Type                  | Description                                                      |
|--------|-----------------------|------------------------------------------------------------------|
|        | [Self](`typing.Self`) | A new instance of this sample class deserialized from the bytes. |

### from_data { #atdata.PackableSample.from_data }

```python
PackableSample.from_data(data)
```

Create a sample instance from unpacked msgpack data.

#### Parameters {.doc-section .doc-section-parameters}

| Name   | Type                                          | Description                                             | Default    |
|--------|-----------------------------------------------|---------------------------------------------------------|------------|
| data   | [WDSRawSample](`atdata.dataset.WDSRawSample`) | Dictionary with keys matching the sample's field names. | _required_ |

#### Returns {.doc-section .doc-section-returns}

| Name   | Type                  | Description                                                 |
|--------|-----------------------|-------------------------------------------------------------|
|        | [Self](`typing.Self`) | New instance with NDArray fields auto-converted from bytes. |