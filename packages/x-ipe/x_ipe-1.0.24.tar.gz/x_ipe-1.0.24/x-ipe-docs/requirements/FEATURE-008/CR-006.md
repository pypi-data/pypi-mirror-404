# Change Request: CR-006

> Created: 2026-01-31
> Status: Approved
> Classification: Modification
> Related Feature: FEATURE-008

## Request Details

**Requestor:** User (via IDEA-018)
**Date Received:** 2026-01-31
**Priority:** High

## Description

Enhance the Ideas folder tree UX to support advanced file/folder management operations:

1. **Drag-and-drop reorganization** - Move files/folders between directories with single-item drag
2. **Detailed folder view panel** - Replace preview section with full folder management interface via ">" icon
3. **Search/filter bar** - Filter tree items by file/folder name with parent context
4. **Enhanced file actions** - Rename, delete, duplicate, download with explicit icons (no context menu)
5. **UI upgrade** - Update entire ideation page styling to match new mockup design
6. **Remove folder delete icon from tree** - Folder deletion now handled in detailed folder view

## Business Justification

As the ideation page sees increased usage, the current folder tree UX becomes limiting:
- No way to reorganize files/folders without manual file operations
- Limited folder management capabilities
- No search/filter to find items quickly
- Preview section doesn't support full folder management

This CR addresses all pain points by providing a comprehensive folder management experience.

## Impact Analysis

### Classification

**Type:** Modification to FEATURE-008

**Reasoning:**
1. Works within existing system boundaries (Ideation workspace)
2. Extends existing folder tree functionality
3. No new user types or data models required
4. Builds upon existing UI components
5. Same users with enhanced functionality
6. Stays within current technical architecture

### Affected Components

| Component | Impact Level | Details |
|-----------|--------------|---------|
| Idea Tree (workplace.js) | High | Add drag-drop, search, folder view button, remove delete icon |
| Preview Panel | High | Replace with folder view when ">" clicked |
| CSS/Styling | High | Full UI upgrade to match mockup |
| Backend API | Medium | New endpoints for move, search |

### Dependencies

- None (all changes within existing FEATURE-008 scope)

## Proposed Approach

### New Features

| Feature | Implementation |
|---------|---------------|
| Drag-and-drop | Single item only, HTML5 drag API, visual feedback |
| Folder View Panel | New component replacing preview, path bar + actions + file list |
| Search/Filter | Client-side filtering, show matches + parent folders |
| File Actions | Hover icons: rename, delete, duplicate, download |
| UI Upgrade | Apply mockup styling (DM Sans, Slate colors, emerald accent) |

### Removed Features

| Feature | Reason |
|---------|--------|
| Delete icon on folder tree | Moved to folder view for consistency |

### Visual Feedback States

| State | Visual |
|-------|--------|
| Valid drag target | Green dashed border, light highlight |
| Invalid drag (self/child) | Red border + shake animation |
| Folder view button hover | Emerald accent background |

### Navigation Behavior

- Click file in tree → File preview (existing)
- Click ">" on folder → Folder view panel
- Click file while in folder view → Return to file preview
- Click ">" on another folder → Refresh folder view with new folder

## Approval

- [x] Classification approved by human (via auto-proceed)
- [x] Approach approved by human (via ideation approval)
- [x] Ready for execution

## Links

- Feature Specification: [specification.md](./specification.md)
- Idea Summary: [idea-summary-v1.md](../../ideas/006.%20CR-Idea%20Folder%20Tree/idea-summary-v1.md)
- Mockup: [mockup-v1.html](../../ideas/006.%20CR-Idea%20Folder%20Tree/mockup-v1.html)

---
