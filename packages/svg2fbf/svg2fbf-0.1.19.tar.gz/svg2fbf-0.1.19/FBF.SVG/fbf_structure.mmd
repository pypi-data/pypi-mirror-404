graph TD
    SVG["&lt;svg&gt;<br/>Frame-by-Frame Animation Root"]

    SVG --> HEADER["XML/SVG Headers<br/>xmlns, viewBox, version"]
    SVG --> META["&lt;metadata&gt;<br/>Animation metadata (RDF)"]
    SVG --> DESC["&lt;desc&gt;<br/>FBFSVG format description"]
    SVG --> BACKDROP["&lt;g id='ANIMATION_BACKDROP'&gt;<br/>Layered composition container"]
    SVG --> OVERLAY["&lt;g id='OVERLAY_LAYER'&gt;<br/>Overlay layer (Z-order: superimposed)<br/>badges, titles, logos, subtitles, PiP"]
    SVG --> DEFS["&lt;defs&gt;<br/>Reusable element definitions"]

    BACKDROP --> STBG["&lt;g id='STAGE_BACKGROUND'&gt;<br/>Background layer (Z-order: behind animation)<br/>dynamic API"]
    BACKDROP --> STAGE["&lt;g id='ANIMATION_STAGE'&gt;<br/>Animation container"]
    BACKDROP --> STFG["&lt;g id='STAGE_FOREGROUND'&gt;<br/>Foreground layer (Z-order: in front of animation)<br/>dynamic API"]

    STAGE --> ANIMGROUP["&lt;g id='ANIMATED_GROUP'&gt;<br/>Animation orchestration group"]

    ANIMGROUP --> PROSKENION["&lt;use id='PROSKENION'&gt;<br/>xlink:href='#FRAME001'<br/>Single &lt;use&gt; element"]

    PROSKENION --> ANIMATE["&lt;animate&gt;<br/>attributeName='xlink:href'<br/>values='#FRAME001;#FRAME002;...'<br/>SMIL frame switching"]

    DEFS --> SHARED["&lt;g id='SHARED_DEFINITIONS'&gt;<br/>Elements shared across frames<br/>gradients, paths, symbols"]

    DEFS --> F1["&lt;g id='FRAME001'&gt;<br/>All elements for frame 1<br/>+ &lt;use&gt; refs to shared defs"]
    DEFS --> F2["&lt;g id='FRAME002'&gt;<br/>All elements for frame 2<br/>+ &lt;use&gt; refs to shared defs"]
    DEFS --> F3["&lt;g id='FRAME003'&gt;<br/>All elements for frame 3<br/>+ &lt;use&gt; refs to shared defs"]
    DEFS --> FMORE["...<br/>Additional FRAMExxx groups<br/>(direct children of defs)"]

    style SVG fill:#e1f5ff,stroke:#0366d6,stroke-width:3px
    style BACKDROP fill:#fff3cd,stroke:#856404,stroke-width:2px
    style STBG fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    style STAGE fill:#d4edda,stroke:#155724,stroke-width:2px
    style STFG fill:#e1bee7,stroke:#6a1b9a,stroke-width:2px
    style OVERLAY fill:#ffccbc,stroke:#e64a19,stroke-width:2px
    style ANIMGROUP fill:#cce5ff,stroke:#004085,stroke-width:2px
    style PROSKENION fill:#e7e7ff,stroke:#6610f2,stroke-width:2px
    style ANIMATE fill:#ff99cc,stroke:#cc0066,stroke-width:2px
    style DEFS fill:#f8d7da,stroke:#721c24,stroke-width:2px
    style SHARED fill:#d1ecf1,stroke:#0c5460,stroke-width:2px
    style F1 fill:#e2e3e5,stroke:#383d41,stroke-width:1px
    style F2 fill:#e2e3e5,stroke:#383d41,stroke-width:1px
    style F3 fill:#e2e3e5,stroke:#383d41,stroke-width:1px
    style FMORE fill:#e2e3e5,stroke:#383d41,stroke-width:1px
