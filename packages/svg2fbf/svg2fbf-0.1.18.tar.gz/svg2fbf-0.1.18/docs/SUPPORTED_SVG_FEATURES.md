# Supported SVG Features

This document lists SVG features supported by svg2fbf when converting SVG frames to FBF (Frame-by-Frame) animations.

## SVG 1.1 Features

### Basic Shapes
- [x] `<rect>` - Rectangles
- [x] `<circle>` - Circles
- [x] `<ellipse>` - Ellipses
- [x] `<line>` - Lines
- [x] `<polyline>` - Polylines
- [x] `<polygon>` - Polygons
- [x] `<path>` - Paths with all commands (M, L, H, V, C, S, Q, T, A, Z)

### Text
- [x] `<text>` - Text elements
- [x] `<tspan>` - Text spans
- [x] `<textPath>` - Text on path
- [ ] `<tref>` - Text reference (deprecated in SVG 2.0)

### Painting
- [x] `fill` - Fill color
- [x] `stroke` - Stroke color
- [x] `stroke-width` - Stroke width
- [x] `stroke-linecap` - Line cap style
- [x] `stroke-linejoin` - Line join style
- [x] `stroke-dasharray` - Dash pattern
- [x] `stroke-dashoffset` - Dash offset
- [x] `opacity` - Element opacity
- [x] `fill-opacity` - Fill opacity
- [x] `stroke-opacity` - Stroke opacity

### Gradients
- [x] `<linearGradient>` - Linear gradients
- [x] `<radialGradient>` - Radial gradients
- [x] `<stop>` - Gradient stops
- [x] `gradientUnits` - Gradient coordinate system
- [x] `gradientTransform` - Gradient transformations
- [x] `spreadMethod` - Gradient spread method

### Patterns
- [x] `<pattern>` - Pattern fills
- [x] `patternUnits` - Pattern coordinate system
- [x] `patternTransform` - Pattern transformations

### Filters
- [x] `<filter>` - Filter effects container
- [x] `<feGaussianBlur>` - Gaussian blur
- [x] `<feColorMatrix>` - Color matrix transformation
- [x] `<feBlend>` - Blending
- [x] `<feComposite>` - Compositing
- [x] `<feOffset>` - Offset
- [x] `<feMerge>` - Merge
- [x] `<feFlood>` - Flood fill
- [x] `<feTurbulence>` - Turbulence/noise
- [x] `<feDisplacementMap>` - Displacement mapping
- [x] `<feConvolveMatrix>` - Convolution matrix
- [x] `<feMorphology>` - Morphology
- [x] `<feComponentTransfer>` - Component transfer

### Clipping and Masking
- [x] `<clipPath>` - Clipping paths
- [x] `<mask>` - Masks
- [x] `clip-path` - Clipping path reference
- [x] `mask` - Mask reference

### Markers
- [x] `<marker>` - Marker definitions
- [x] `marker-start` - Start marker
- [x] `marker-mid` - Mid marker
- [x] `marker-end` - End marker

### Structural Elements
- [x] `<svg>` - SVG root element
- [x] `<g>` - Group
- [x] `<defs>` - Definitions
- [x] `<symbol>` - Symbol
- [x] `<use>` - Use/reference
- [x] `<image>` - Embedded images (base64 and external)
- [x] `<switch>` - Conditional processing

### Transformations
- [x] `transform` attribute
- [x] `translate()` - Translation
- [x] `rotate()` - Rotation
- [x] `scale()` - Scaling
- [x] `skewX()` - Horizontal skew
- [x] `skewY()` - Vertical skew
- [x] `matrix()` - Matrix transformation

### Metadata
- [x] `<metadata>` - Metadata container
- [x] `<title>` - Document title
- [x] `<desc>` - Description

### Styling
- [x] Inline styles (`style` attribute)
- [x] Presentation attributes
- [x] `<style>` - CSS stylesheets
- [ ] External CSS files (not recommended for FBF)
- [x] Class-based styling

### Coordinate Systems
- [x] `viewBox` - Viewport definition
- [x] `preserveAspectRatio` - Aspect ratio preservation
- [x] User units
- [x] Percentage units
- [x] Em/ex units
- [x] Pixel units

## SVG 2.0 Features

### New Shapes
- [ ] `<rect rx="auto">` - Auto-radius rectangles
- [ ] `<circle pathLength>` - Path length on circles

### Mesh Gradients
- [x] `<meshgradient>` - Mesh gradients (with polyfill)
- [x] `<meshrow>` - Mesh rows
- [x] `<meshpatch>` - Mesh patches

### Enhanced Text
- [ ] `text-decoration` enhancements
- [ ] `white-space` property
- [ ] Auto-wrapped text

### Paint Servers
- [x] `<linearGradient>` enhancements
- [x] `<radialGradient>` enhancements
- [ ] `<hatch>` - Hatch patterns (not yet supported)

### New Attributes
- [ ] `tabindex` - Tab order
- [ ] `lang` - Language attribute
- [ ] `z-index` - Explicit z-ordering

### Deprecated Features (Not Supported)
- [ ] `<tref>` - Removed in SVG 2.0
- [ ] `<font>` - Font definitions (use web fonts instead)
- [ ] `<glyph>` - Glyph definitions (use web fonts instead)
- [ ] `<missing-glyph>` - Missing glyph (use web fonts instead)
- [ ] `baseProfile` - Removed in SVG 2.0
- [ ] `version` - Optional in SVG 2.0

## Animation Features (SMIL)

svg2fbf **does not preserve** SMIL or CSS animations from source SVG files. Instead, it creates frame-by-frame animations using discrete SMIL `<animate>` elements.

### Not Preserved from Source SVGs
- [ ] `<animate>` - Attribute animation
- [ ] `<animateTransform>` - Transform animation
- [ ] `<animateMotion>` - Motion path animation
- [ ] `<set>` - Attribute setting
- [ ] CSS animations
- [ ] CSS transitions

### Generated by svg2fbf
- [x] `<animate>` with `calcMode="discrete"` - Frame switching
- [x] `attributeName="xlink:href"` - Frame reference animation
- [x] `repeatCount` - Animation repeat behavior

## Scripting and Interactivity

The FBF format **does not support** JavaScript or interactive features, with one exception:

- [ ] JavaScript (not allowed)
- [ ] Event handlers (not allowed)
- [x] Mesh gradient polyfill (only permitted JavaScript)
- [ ] `<foreignObject>` - Foreign content (not recommended)

## External Resources

- [x] Embedded images (base64 `data:` URIs)
- [ ] External image files (converted to base64 on import)
- [ ] External fonts (should be embedded)
- [ ] External stylesheets (not supported)

## Coordinate Precision

svg2fbf uses high-precision coordinate calculations:

- [x] Configurable precision (up to 28 significant digits)
- [x] Separate precision for coordinates and control points
- [x] Maintains mathematical accuracy for path commands

## Optimization Features

svg2fbf performs the following optimizations:

- [x] Path optimization and simplification
- [x] Gradient deduplication across frames
- [x] Element deduplication (shared elements)
- [x] Whitespace removal (minification)
- [x] Attribute optimization
- [x] Transform consolidation

## ViewBox Handling

- [x] Automatic viewBox calculation for missing viewBox
- [x] ViewBox repair with bbox calculation
- [x] Consistent viewBox across all frames
- [x] Negative coordinate handling
- [x] Mixed-size frame normalization

## Known Limitations

1. **No JavaScript**: FBF format prohibits JavaScript (except mesh gradient polyfill)
2. **No CSS Animations**: Source animations are not preserved
3. **Frame-by-frame only**: All animation must be explicit frames
4. **No external resources**: All assets should be embedded
5. **SMIL discrete mode only**: Generated animations use discrete frame switching

## Testing Your SVG Files

To check if your SVG files will work with svg2fbf:

1. Ensure no JavaScript (except if using mesh gradients)
2. Embed all external resources (images, fonts)
3. Use supported SVG features (checkboxes above)
4. Test with a small batch first
5. Check the generated FBF file in a browser

## Reporting Feature Issues

If you encounter issues with a specific SVG feature:

1. Check if the feature is marked as supported above
2. Verify your SVG is valid (use validators)
3. Report the issue with a minimal test case
4. Include SVG source and expected output

For feature requests, see [CONTRIBUTING.md](CONTRIBUTING.md).

---

**Legend:**
- [x] Fully supported
- [ ] Not supported or not tested
