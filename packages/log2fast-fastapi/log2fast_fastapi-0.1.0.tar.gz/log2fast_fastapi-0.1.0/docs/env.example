# ============================================
# LOG2FAST_FASTAPI - Configuración de Logging
# ============================================

# ===== CONFIGURACIÓN BÁSICA (REQUERIDA) =====

# Ambiente de ejecución (determina auto-configuración)
# Opciones: development, production, testing, debug
LOG_ENVIRONMENT=development


# ===== CONFIGURACIÓN OPCIONAL (OVERRIDES) =====

# Nivel de log (opcional - se auto-configura según ambiente)
# Opciones: DEBUG, INFO, WARNING, ERROR, CRITICAL
# LOG_LEVEL=INFO

# Formato de log (opcional - se auto-configura según ambiente)
# Opciones: json, colored, structured, simple
# LOG_FORMAT=colored


# ===== CONFIGURACIÓN DE CONSOLA =====

# Habilitar logging en consola
LOG_CONSOLE_ENABLED=true


# ===== CONFIGURACIÓN DE ARCHIVOS =====

# Habilitar logging en archivos
LOG_FILE_SETTINGS__ENABLED=true

# Directorio donde guardar los logs (relativo al proyecto o absoluto)
# Default: logs/ (en la raíz del proyecto)
LOG_FILE_SETTINGS__DIRECTORY=logs

# Estrategia de rotación de archivos
# Opciones: time (por tiempo), size (por tamaño)
# Default: time (diario a medianoche, 31 días de backups)
LOG_FILE_SETTINGS__ROTATION_STRATEGY=time


# ===== ROTACIÓN POR TIEMPO (cuando ROTATION_STRATEGY=time) =====

# Cuándo rotar los archivos
# Opciones:
#   - midnight: A medianoche (default)
#   - H: Cada hora
#   - D: Cada día
#   - W0-W6: Cada semana (W0=Lunes, W6=Domingo)
LOG_FILE_SETTINGS__WHEN=midnight

# Intervalo de rotación (usado con 'when')
# Ejemplos:
#   - 1 con when=midnight: Diario
#   - 2 con when=midnight: Cada 2 días
#   - 1 con when=H: Cada hora
LOG_FILE_SETTINGS__INTERVAL=1

# Número de archivos de backup a mantener
# Default: 31 (31 días de logs si es diario)
LOG_FILE_SETTINGS__BACKUP_COUNT=31


# ===== ROTACIÓN POR TAMAÑO (cuando ROTATION_STRATEGY=size) =====

# Tamaño máximo por archivo en bytes
# Ejemplos:
#   - 10485760 = 10MB (default)
#   - 52428800 = 50MB
#   - 104857600 = 100MB
# LOG_FILE_SETTINGS__MAX_BYTES=10485760

# Número de archivos de backup a mantener (para rotación por tamaño)
# LOG_FILE_SETTINGS__BACKUP_COUNT=5


# ===== CONFIGURACIÓN DE NOMBRES DE ARCHIVO =====

# Patrón para nombres de archivos
# Variables disponibles: {module}, {environment}, {logger}
# Default: {module}_{environment}.log
# Ejemplos:
#   - app_{environment}.log
#   - {logger}_{environment}.log (útil con per_module_files)
LOG_FILE_SETTINGS__FILENAME_PATTERN={module}_{environment}.log

# Crear archivos separados por módulo
# Si es true, cada logger (módulo) tendrá su propio archivo
# Ejemplo: oauth2fast_fastapi_development.log, app_api_development.log
LOG_FILE_SETTINGS__PER_MODULE_FILES=false


# ===== CONFIGURACIÓN DE REQUESTS (FastAPI Middleware) =====

# Habilitar logging de requests HTTP
LOG_LOG_REQUESTS=true

# Incluir body del request en logs (cuidado con PII)
LOG_LOG_REQUEST_BODY=false

# Incluir body del response en logs (cuidado con PII)
LOG_LOG_RESPONSE_BODY=false


# ===== CONFIGURACIÓN DE MÓDULO =====

# Nombre del módulo principal (usado en nombres de archivo)
# Default: app
LOG_MODULE_NAME=iso_solautyc


# ============================================
# EJEMPLOS DE CONFIGURACIÓN POR AMBIENTE
# ============================================

# --- DESARROLLO LOCAL ---
# LOG_ENVIRONMENT=development
# LOG_FILE_SETTINGS__ROTATION_STRATEGY=time
# LOG_FILE_SETTINGS__WHEN=midnight
# LOG_FILE_SETTINGS__BACKUP_COUNT=7
# Resultado: Logs diarios, mantiene 7 días

# --- PRODUCCIÓN ---
# LOG_ENVIRONMENT=production
# LOG_FILE_SETTINGS__ROTATION_STRATEGY=time
# LOG_FILE_SETTINGS__WHEN=midnight
# LOG_FILE_SETTINGS__BACKUP_COUNT=31
# Resultado: Logs diarios en JSON, mantiene 31 días

# --- DEBUGGING ---
# LOG_ENVIRONMENT=debug
# LOG_FILE_SETTINGS__ROTATION_STRATEGY=size
# LOG_FILE_SETTINGS__MAX_BYTES=52428800
# LOG_FILE_SETTINGS__BACKUP_COUNT=3
# Resultado: Logs cuando llega a 50MB, mantiene 3 archivos

# --- TESTING ---
# LOG_ENVIRONMENT=testing
# LOG_FILE_SETTINGS__ENABLED=false
# Resultado: Solo logs en consola, sin archivos

# --- LOGS POR MÓDULO ---
# LOG_FILE_SETTINGS__PER_MODULE_FILES=true
# Resultado: Cada módulo tiene su archivo
#   - oauth2fast_fastapi_routers_auth_development.log
#   - app_services_user_development.log
#   - etc.
