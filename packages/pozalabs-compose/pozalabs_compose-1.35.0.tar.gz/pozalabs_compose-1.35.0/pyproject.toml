[project]
name = "pozalabs-compose"
version = "1.35.0"
description = "Backend components for Pozalabs"
license = "MIT"
authors = [
    { name = "sunwoong", email = "sunwoong@pozalabs.com" },
    { name = "jeehoon", email = "jeehoon@pozalabs.com" },
    { name = "soyeon", email = "soyeon@pozalabs.com" },
    { name = "joowan", email = "joowan@pozalabs.com" },
]
requires-python = ">=3.12,<3.14"
dependencies = [
    "pendulum>=3.1.0,<4.0.0",
    "pymongo[aws]>=4.6.3,<5.0.0",
    "pydantic>=2.7.4,<3.0.0",
    "authlib>=1.3.1,<2.0.0",
    "dependency-injector>=4.47.0,<5.0.0",
    "pydantic-settings>=2.12.0",
]

[tool.hatch.build.targets.sdist]
include = ["compose"]

[tool.hatch.build.targets.wheel]
include = ["compose"]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[dependency-groups]
dev = [
    "pre-commit>=3.7.1,<4.0.0",
    "pytest>=8.2.2,<9.0.0",
    "boto3-stubs-lite[essential,ssm]>=1.34.79,<2.0.0",
    "uvicorn[standard]>=0.29.0,<0.30.0",
    "gunicorn>=21.2.0,<22.0.0",
    "opentelemetry-test-utils>=0.46b0,<0.47.0",
    "testcontainers[mongodb]>=4.7.2,<5.0.0",
    "boto3>=1.28.73,<2.0.0",
    "loguru>=0.7.2,<0.8.0",
    "fastapi>=0.115.2,<0.116.0",
    "sentry-sdk[fastapi,loguru,pymongo]>=2.2.0,<3.0.0",
    "opentelemetry-distro[otlp]>=0.46b0,<0.47.0",
    "bcrypt>=4.2.0,<5.0.0",
    "httpx>=0.27.2,<0.28.0",
    "pytest-asyncio>=1.0.0",
]

[tool.ruff]
target-version = "py312"
line-length = 100

[tool.ruff.lint]
select = [
    "E4",
    "E7",
    "E9",
    "F",
    "I",
    "W",
    "RUF022",
    "RUF100",
    "RUF101",
]

[tool.pyrefly]
project-includes = [
    "**/*.py*",
    "**/*.ipynb",
]

[tool.pytest.ini_options]
disable_test_id_escaping_and_forfeit_all_rights_to_community_support = true
filterwarnings = "ignore::DeprecationWarning"
asyncio_default_fixture_loop_scope = "function"
