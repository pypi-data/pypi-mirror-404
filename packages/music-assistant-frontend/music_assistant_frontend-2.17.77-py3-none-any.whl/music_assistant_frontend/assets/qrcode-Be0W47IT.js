import{d as ya,r as Ne,w as rt,o as wa,a as ba,c as Ht,b as Ca,e as Ta,f as yt,g as Ea,n as Sa,v as Pa,h as _a}from"./lucide-xmSP9hQT.js";var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Aa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dn=(e,o,n)=>{if(!o.has(e))throw TypeError("Cannot "+n)},zr=(e,o,n)=>(Dn(e,o,"read from private field"),n?n.call(e):o.get(e)),Ma=(e,o,n)=>{if(o.has(e))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(e):o.set(e,n)},$a=(e,o,n,a)=>(Dn(e,o,"write to private field"),o.set(e,n),n);const On=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],Ra=[...On,["unknown"]].map(e=>e[0]),Ct=new Map(On);function Da(e){for(const[o,n]of Ct)if(e===n)return o;return"unknown"}function Oa(e){if(In(e))return{width:e.naturalWidth,height:e.naturalHeight};if(Bn(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(kn(e))return{width:e.videoWidth,height:e.videoHeight};if(Nn(e))return{width:e.width,height:e.height};if(Ln(e))return{width:e.displayWidth,height:e.displayHeight};if(jn(e))return{width:e.width,height:e.height};if(Fn(e))return{width:e.width,height:e.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function In(e){try{return e instanceof HTMLImageElement}catch{return!1}}function Bn(e){try{return e instanceof SVGImageElement}catch{return!1}}function kn(e){try{return e instanceof HTMLVideoElement}catch{return!1}}function jn(e){try{return e instanceof HTMLCanvasElement}catch{return!1}}function Nn(e){try{return e instanceof ImageBitmap}catch{return!1}}function Fn(e){try{return e instanceof OffscreenCanvas}catch{return!1}}function Ln(e){try{return e instanceof VideoFrame}catch{return!1}}function Un(e){try{return e instanceof Blob}catch{return!1}}function Ia(e){try{return e instanceof ImageData}catch{return!1}}function Ba(e,o){try{const n=new OffscreenCanvas(e,o);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const a=document.createElement("canvas");return a.width=e,a.height=o,a}}async function xn(e){if(In(e)&&!await Fa(e))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Bn(e)&&!await La(e))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Ln(e)&&Ua(e))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(kn(e)&&(e.readyState===0||e.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Nn(e)&&qa(e))throw new DOMException("The image source is detached.","InvalidStateError");const{width:o,height:n}=Oa(e);if(o===0||n===0)return null;const a=Ba(o,n).getContext("2d");a.drawImage(e,0,0);try{return a.getImageData(0,0,o,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function ka(e){let o;try{if(globalThis.createImageBitmap)o=await createImageBitmap(e);else if(globalThis.Image){o=new Image;let n="";try{n=URL.createObjectURL(e),o.src=n,await o.decode()}finally{URL.revokeObjectURL(n)}}else return e}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await xn(o)}function ja(e){const{width:o,height:n}=e;if(o===0||n===0)return null;const a=e.getContext("2d");try{return a.getImageData(0,0,o,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Na(e){if(Un(e))return await ka(e);if(Ia(e)){if(xa(e))throw new DOMException("The image data has been detached.","InvalidStateError");return e}return jn(e)||Fn(e)?ja(e):await xn(e)}async function Fa(e){try{return await e.decode(),!0}catch{return!1}}async function La(e){var o;try{return await((o=e.decode)==null?void 0:o.call(e)),!0}catch{return!1}}function Ua(e){return e.format===null}function xa(e){return e.data.buffer.byteLength===0}function qa(e){return e.width===0&&e.height===0}function Jr(e,o){return e instanceof DOMException?new DOMException(`${o}: ${e.message}`,e.name):e instanceof Error?new e.constructor(`${o}: ${e.message}`):new Error(`${o}: ${e}`)}const Yr=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function Ha(e){return e.join("|")}function Va(e){const o=Gr(e);let n=0,a=Yr.length-1;for(;n<=a;){const s=Math.floor((n+a)/2),c=Yr[s],d=Gr(c);if(d===o)return c;d<o?n=s+1:a=s-1}return"None"}function Gr(e){return e.toLowerCase().replace(/_-\[\]/g,"")}function Wa(e,o){return e.Binarizer[o]}function za(e,o){return e.CharacterSet[o]}const Ja=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function Ya(e){return Ja[e.value]}function Ga(e,o){return e.EanAddOnSymbol[o]}function Ka(e,o){return e.TextMode[o]}const Je={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function qn(e,o){return{...o,formats:Ha(o.formats),binarizer:Wa(e,o.binarizer),eanAddOnSymbol:Ga(e,o.eanAddOnSymbol),textMode:Ka(e,o.textMode),characterSet:za(e,o.characterSet)}}function Hn(e){return{...e,format:Va(e.format),eccLevel:e.eccLevel,contentType:Ya(e.contentType)}}const Qa={locateFile:(e,o)=>{const n=e.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/${n[1]}/${e}`:o+e}};let Kr=new WeakMap;function hr(e,o){var n;const a=Kr.get(e);if(a!=null&&a.modulePromise&&o===void 0)return a.modulePromise;const s=(n=a?.moduleOverrides)!=null?n:Qa,c=e({...s});return Kr.set(e,{moduleOverrides:s,modulePromise:c}),c}async function Xa(e,o,n=Je){const a={...Je,...n},s=await hr(e),{size:c}=o,d=new Uint8Array(await o.arrayBuffer()),h=s._malloc(c);s.HEAPU8.set(d,h);const l=s.readBarcodesFromImage(h,c,qn(s,a));s._free(h);const p=[];for(let y=0;y<l.size();++y)p.push(Hn(l.get(y)));return p}async function Za(e,o,n=Je){const a={...Je,...n},s=await hr(e),{data:c,width:d,height:h,data:{byteLength:l}}=o,p=s._malloc(l);s.HEAPU8.set(c,p);const y=s.readBarcodesFromPixmap(p,d,h,qn(s,a));s._free(p);const w=[];for(let P=0;P<y.size();++P)w.push(Hn(y.get(P)));return w}({...Je,formats:[...Je.formats]});var gr=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(o={}){var n=o,a,s;n.ready=new Promise((t,r)=>{a=t,s=r});var c=Object.assign({},n),d="./this.program",h=typeof window=="object",l=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var p="";function y(t){return n.locateFile?n.locateFile(t,p):p+t}var w;(h||l)&&(l?p=self.location.href:typeof document<"u"&&document.currentScript&&(p=document.currentScript.src),e&&(p=e),p.indexOf("blob:")!==0?p=p.substr(0,p.replace(/[?#].*/,"").lastIndexOf("/")+1):p="",l&&(w=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)})),n.print||console.log.bind(console);var P=n.printErr||console.error.bind(console);Object.assign(n,c),c=null,n.arguments&&n.arguments,n.thisProgram&&(d=n.thisProgram),n.quit&&n.quit;var T;n.wasmBinary&&(T=n.wasmBinary),typeof WebAssembly!="object"&&ae("no native wasm support detected");var _,R=!1,W,$,H,A,E,I,D,k;function j(){var t=_.buffer;n.HEAP8=W=new Int8Array(t),n.HEAP16=H=new Int16Array(t),n.HEAPU8=$=new Uint8Array(t),n.HEAPU16=A=new Uint16Array(t),n.HEAP32=E=new Int32Array(t),n.HEAPU32=I=new Uint32Array(t),n.HEAPF32=D=new Float32Array(t),n.HEAPF64=k=new Float64Array(t)}var O=[],U=[],N=[];function L(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)fe(n.preRun.shift());St(O)}function F(){St(U)}function V(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Oe(n.postRun.shift());St(N)}function fe(t){O.unshift(t)}function Ce(t){U.unshift(t)}function Oe(t){N.unshift(t)}var ce=0,Te=null;function _e(t){var r;ce++,(r=n.monitorRunDependencies)===null||r===void 0||r.call(n,ce)}function le(t){var r;if(ce--,(r=n.monitorRunDependencies)===null||r===void 0||r.call(n,ce),ce==0&&Te){var i=Te;Te=null,i()}}function ae(t){var r;(r=n.onAbort)===null||r===void 0||r.call(n,t),t="Aborted("+t+")",P(t),R=!0,t+=". Build with -sASSERTIONS for more info.";var i=new WebAssembly.RuntimeError(t);throw s(i),i}var Ie="data:application/octet-stream;base64,",Ue=t=>t.startsWith(Ie),he;he="zxing_reader.wasm",Ue(he)||(he=y(he));function Be(t){if(t==he&&T)return new Uint8Array(T);if(w)return w(t);throw"both async and sync fetching of the wasm failed"}function de(t){return!T&&(h||l)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+t+"'";return r.arrayBuffer()}).catch(()=>Be(t)):Promise.resolve().then(()=>Be(t))}function se(t,r,i){return de(t).then(u=>WebAssembly.instantiate(u,r)).then(u=>u).then(i,u=>{P(`failed to asynchronously prepare wasm: ${u}`),ae(u)})}function Ae(t,r,i,u){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!Ue(r)&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(f=>{var g=WebAssembly.instantiateStreaming(f,i);return g.then(u,function(m){return P(`wasm streaming compile failed: ${m}`),P("falling back to ArrayBuffer instantiation"),se(r,i,u)})}):se(r,i,u)}function Ye(){var t={a:Ki};function r(u,f){return re=u.exports,_=re.ia,j(),Pr=re.ma,Ce(re.ja),le(),re}_e();function i(u){r(u.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(t,r)}catch(u){P(`Module.instantiateWasm callback failed with error: ${u}`),s(u)}return Ae(T,he,t,i).catch(s),{}}var St=t=>{for(;t.length>0;)t.shift()(n)};n.noExitRuntime;var it=[],at=0,co=t=>{var r=new Pt(t);return r.get_caught()||(r.set_caught(!0),at--),r.set_rethrown(!1),it.push(r),Lr(r.excPtr),r.get_exception_ptr()},Ee=0,lo=()=>{G(0,0);var t=it.pop();Fr(t.excPtr),Ee=0};function Pt(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(r){I[this.ptr+4>>2]=r},this.get_type=function(){return I[this.ptr+4>>2]},this.set_destructor=function(r){I[this.ptr+8>>2]=r},this.get_destructor=function(){return I[this.ptr+8>>2]},this.set_caught=function(r){r=r?1:0,W[this.ptr+12>>0]=r},this.get_caught=function(){return W[this.ptr+12>>0]!=0},this.set_rethrown=function(r){r=r?1:0,W[this.ptr+13>>0]=r},this.get_rethrown=function(){return W[this.ptr+13>>0]!=0},this.init=function(r,i){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(i)},this.set_adjusted_ptr=function(r){I[this.ptr+16>>2]=r},this.get_adjusted_ptr=function(){return I[this.ptr+16>>2]},this.get_exception_ptr=function(){var r=xr(this.get_type());if(r)return I[this.excPtr>>2];var i=this.get_adjusted_ptr();return i!==0?i:this.excPtr}}var fo=t=>{throw Ee||(Ee=t),Ee},_t=t=>{var r=Ee;if(!r)return tt(0),0;var i=new Pt(r);i.set_adjusted_ptr(r);var u=i.get_type();if(!u)return tt(0),r;for(var f in t){var g=t[f];if(g===0||g===u)break;var m=i.ptr+16;if(Ur(g,u,m))return tt(g),r}return tt(u),r},ho=()=>_t([]),go=t=>_t([t]),po=(t,r)=>_t([t,r]),mo=()=>{var t=it.pop();t||ae("no exception to throw");var r=t.excPtr;throw t.get_rethrown()||(it.push(t),t.set_rethrown(!0),t.set_caught(!1),at++),Ee=r,Ee},vo=(t,r,i)=>{var u=new Pt(t);throw u.init(r,i),Ee=t,at++,Ee},yo=()=>at,st={},At=t=>{for(;t.length;){var r=t.pop(),i=t.pop();i(r)}};function Mt(t){return this.fromWireType(E[t>>2])}var xe={},ke={},ut={},mr,ct=t=>{throw new mr(t)},je=(t,r,i)=>{t.forEach(function(v){ut[v]=r});function u(v){var b=i(v);b.length!==t.length&&ct("Mismatched type converter count");for(var S=0;S<t.length;++S)me(t[S],b[S])}var f=new Array(r.length),g=[],m=0;r.forEach((v,b)=>{ke.hasOwnProperty(v)?f[b]=ke[v]:(g.push(v),xe.hasOwnProperty(v)||(xe[v]=[]),xe[v].push(()=>{f[b]=ke[v],++m,m===g.length&&u(f)}))}),g.length===0&&u(f)},wo=t=>{var r=st[t];delete st[t];var i=r.rawConstructor,u=r.rawDestructor,f=r.fields,g=f.map(m=>m.getterReturnType).concat(f.map(m=>m.setterArgumentType));je([t],g,m=>{var v={};return f.forEach((b,S)=>{var M=b.fieldName,x=m[S],q=b.getter,z=b.getterContext,K=m[S+f.length],ee=b.setter,Y=b.setterContext;v[M]={read:ie=>x.fromWireType(q(z,ie)),write:(ie,C)=>{var B=[];ee(Y,ie,K.toWireType(B,C)),At(B)}}}),[{name:r.name,fromWireType:b=>{var S={};for(var M in v)S[M]=v[M].read(b);return u(b),S},toWireType:(b,S)=>{for(var M in v)if(!(M in S))throw new TypeError(`Missing field: "${M}"`);var x=i();for(M in v)v[M].write(x,S[M]);return b!==null&&b.push(u,x),x},argPackAdvance:ve,readValueFromPointer:Mt,destructorFunction:u}]})},bo=(t,r,i,u,f)=>{},Co=()=>{for(var t=new Array(256),r=0;r<256;++r)t[r]=String.fromCharCode(r);vr=t},vr,oe=t=>{for(var r="",i=t;$[i];)r+=vr[$[i++]];return r},qe,J=t=>{throw new qe(t)};function To(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var u=r.name;if(t||J(`type "${u}" must have a positive integer typeid pointer`),ke.hasOwnProperty(t)){if(i.ignoreDuplicateRegistrations)return;J(`Cannot register type '${u}' twice`)}if(ke[t]=r,delete ut[t],xe.hasOwnProperty(t)){var f=xe[t];delete xe[t],f.forEach(g=>g())}}function me(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");return To(t,r,i)}var ve=8,Eo=(t,r,i,u)=>{r=oe(r),me(t,{name:r,fromWireType:function(f){return!!f},toWireType:function(f,g){return g?i:u},argPackAdvance:ve,readValueFromPointer:function(f){return this.fromWireType($[f])},destructorFunction:null})},So=t=>({count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}),$t=t=>{function r(i){return i.$$.ptrType.registeredClass.name}J(r(t)+" instance already deleted")},Rt=!1,yr=t=>{},Po=t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)},wr=t=>{t.count.value-=1;var r=t.count.value===0;r&&Po(t)},br=(t,r,i)=>{if(r===i)return t;if(i.baseClass===void 0)return null;var u=br(t,r,i.baseClass);return u===null?null:i.downcast(u)},Cr={},_o=()=>Object.keys(Qe).length,Ao=()=>{var t=[];for(var r in Qe)Qe.hasOwnProperty(r)&&t.push(Qe[r]);return t},Ge=[],Dt=()=>{for(;Ge.length;){var t=Ge.pop();t.$$.deleteScheduled=!1,t.delete()}},Ke,Mo=t=>{Ke=t,Ge.length&&Ke&&Ke(Dt)},$o=()=>{n.getInheritedInstanceCount=_o,n.getLiveInheritedInstances=Ao,n.flushPendingDeletes=Dt,n.setDelayFunction=Mo},Qe={},Ro=(t,r)=>{for(r===void 0&&J("ptr should not be undefined");t.baseClass;)r=t.upcast(r),t=t.baseClass;return r},Do=(t,r)=>(r=Ro(t,r),Qe[r]),lt=(t,r)=>{(!r.ptrType||!r.ptr)&&ct("makeClassHandle requires ptr and ptrType");var i=!!r.smartPtrType,u=!!r.smartPtr;return i!==u&&ct("Both smartPtrType and smartPtr must be specified"),r.count={value:1},Xe(Object.create(t,{$$:{value:r,writable:!0}}))};function Oo(t){var r=this.getPointee(t);if(!r)return this.destructor(t),null;var i=Do(this.registeredClass,r);if(i!==void 0){if(i.$$.count.value===0)return i.$$.ptr=r,i.$$.smartPtr=t,i.clone();var u=i.clone();return this.destructor(t),u}function f(){return this.isSmartPointer?lt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:t}):lt(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var g=this.registeredClass.getActualType(r),m=Cr[g];if(!m)return f.call(this);var v;this.isConst?v=m.constPointerType:v=m.pointerType;var b=br(r,this.registeredClass,v.registeredClass);return b===null?f.call(this):this.isSmartPointer?lt(v.registeredClass.instancePrototype,{ptrType:v,ptr:b,smartPtrType:this,smartPtr:t}):lt(v.registeredClass.instancePrototype,{ptrType:v,ptr:b})}var Xe=t=>typeof FinalizationRegistry>"u"?(Xe=r=>r,t):(Rt=new FinalizationRegistry(r=>{wr(r.$$)}),Xe=r=>{var i=r.$$,u=!!i.smartPtr;if(u){var f={$$:i};Rt.register(r,f,r)}return r},yr=r=>Rt.unregister(r),Xe(t)),Io=()=>{Object.assign(dt.prototype,{isAliasOf(t){if(!(this instanceof dt)||!(t instanceof dt))return!1;var r=this.$$.ptrType.registeredClass,i=this.$$.ptr;t.$$=t.$$;for(var u=t.$$.ptrType.registeredClass,f=t.$$.ptr;r.baseClass;)i=r.upcast(i),r=r.baseClass;for(;u.baseClass;)f=u.upcast(f),u=u.baseClass;return r===u&&i===f},clone(){if(this.$$.ptr||$t(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=Xe(Object.create(Object.getPrototypeOf(this),{$$:{value:So(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||$t(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&J("Object already scheduled for deletion"),yr(this),wr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||$t(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&J("Object already scheduled for deletion"),Ge.push(this),Ge.length===1&&Ke&&Ke(Dt),this.$$.deleteScheduled=!0,this}})};function dt(){}var Ze=(t,r)=>Object.defineProperty(r,"name",{value:t}),Tr=(t,r,i)=>{if(t[r].overloadTable===void 0){var u=t[r];t[r]=function(){return t[r].overloadTable.hasOwnProperty(arguments.length)||J(`Function '${i}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[r].overloadTable})!`),t[r].overloadTable[arguments.length].apply(this,arguments)},t[r].overloadTable=[],t[r].overloadTable[u.argCount]=u}},Ot=(t,r,i)=>{n.hasOwnProperty(t)?((i===void 0||n[t].overloadTable!==void 0&&n[t].overloadTable[i]!==void 0)&&J(`Cannot register public name '${t}' twice`),Tr(n,t,t),n.hasOwnProperty(i)&&J(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),n[t].overloadTable[i]=r):(n[t]=r,i!==void 0&&(n[t].numArguments=i))},Bo=48,ko=57,jo=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var r=t.charCodeAt(0);return r>=Bo&&r<=ko?`_${t}`:t};function No(t,r,i,u,f,g,m,v){this.name=t,this.constructor=r,this.instancePrototype=i,this.rawDestructor=u,this.baseClass=f,this.getActualType=g,this.upcast=m,this.downcast=v,this.pureVirtualFunctions=[]}var It=(t,r,i)=>{for(;r!==i;)r.upcast||J(`Expected null or instance of ${i.name}, got an instance of ${r.name}`),t=r.upcast(t),r=r.baseClass;return t};function Fo(t,r){if(r===null)return this.isReference&&J(`null is not a valid ${this.name}`),0;r.$$||J(`Cannot pass "${Ft(r)}" as a ${this.name}`),r.$$.ptr||J(`Cannot pass deleted object as a pointer of type ${this.name}`);var i=r.$$.ptrType.registeredClass,u=It(r.$$.ptr,i,this.registeredClass);return u}function Lo(t,r){var i;if(r===null)return this.isReference&&J(`null is not a valid ${this.name}`),this.isSmartPointer?(i=this.rawConstructor(),t!==null&&t.push(this.rawDestructor,i),i):0;(!r||!r.$$)&&J(`Cannot pass "${Ft(r)}" as a ${this.name}`),r.$$.ptr||J(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&J(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var u=r.$$.ptrType.registeredClass;if(i=It(r.$$.ptr,u,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&J("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?i=r.$$.smartPtr:J(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:i=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)i=r.$$.smartPtr;else{var f=r.clone();i=this.rawShare(i,Se.toHandle(()=>f.delete())),t!==null&&t.push(this.rawDestructor,i)}break;default:J("Unsupporting sharing policy")}return i}function Uo(t,r){if(r===null)return this.isReference&&J(`null is not a valid ${this.name}`),0;r.$$||J(`Cannot pass "${Ft(r)}" as a ${this.name}`),r.$$.ptr||J(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&J(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var i=r.$$.ptrType.registeredClass,u=It(r.$$.ptr,i,this.registeredClass);return u}function Er(t){return this.fromWireType(I[t>>2])}var xo=()=>{Object.assign(ft.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){var r;(r=this.rawDestructor)===null||r===void 0||r.call(this,t)},argPackAdvance:ve,readValueFromPointer:Er,deleteObject(t){t!==null&&t.delete()},fromWireType:Oo})};function ft(t,r,i,u,f,g,m,v,b,S,M){this.name=t,this.registeredClass=r,this.isReference=i,this.isConst=u,this.isSmartPointer=f,this.pointeeType=g,this.sharingPolicy=m,this.rawGetPointee=v,this.rawConstructor=b,this.rawShare=S,this.rawDestructor=M,!f&&r.baseClass===void 0?u?(this.toWireType=Fo,this.destructorFunction=null):(this.toWireType=Uo,this.destructorFunction=null):this.toWireType=Lo}var Sr=(t,r,i)=>{n.hasOwnProperty(t)||ct("Replacing nonexistant public symbol"),n[t].overloadTable!==void 0&&i!==void 0?n[t].overloadTable[i]=r:(n[t]=r,n[t].argCount=i)},qo=(t,r,i)=>{var u=n["dynCall_"+t];return i&&i.length?u.apply(null,[r].concat(i)):u.call(null,r)},ht=[],Pr,Q=t=>{var r=ht[t];return r||(t>=ht.length&&(ht.length=t+1),ht[t]=r=Pr.get(t)),r},Ho=(t,r,i)=>{if(t.includes("j"))return qo(t,r,i);var u=Q(r).apply(null,i);return u},Vo=(t,r)=>{var i=[];return function(){return i.length=0,Object.assign(i,arguments),Ho(t,r,i)}},pe=(t,r)=>{t=oe(t);function i(){return t.includes("j")?Vo(t,r):Q(r)}var u=i();return typeof u!="function"&&J(`unknown function pointer with signature ${t}: ${r}`),u},Wo=(t,r)=>{var i=Ze(r,function(u){this.name=r,this.message=u;var f=new Error(u).stack;f!==void 0&&(this.stack=this.toString()+`
`+f.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},i},_r,Ar=t=>{var r=Nr(t),i=oe(r);return Pe(r),i},gt=(t,r)=>{var i=[],u={};function f(g){if(!u[g]&&!ke[g]){if(ut[g]){ut[g].forEach(f);return}i.push(g),u[g]=!0}}throw r.forEach(f),new _r(`${t}: `+i.map(Ar).join([", "]))},zo=(t,r,i,u,f,g,m,v,b,S,M,x,q)=>{M=oe(M),g=pe(f,g),v&&(v=pe(m,v)),S&&(S=pe(b,S)),q=pe(x,q);var z=jo(M);Ot(z,function(){gt(`Cannot construct ${M} due to unbound types`,[u])}),je([t,r,i],u?[u]:[],function(K){K=K[0];var ee,Y;u?(ee=K.registeredClass,Y=ee.instancePrototype):Y=dt.prototype;var ie=Ze(M,function(){if(Object.getPrototypeOf(this)!==C)throw new qe("Use 'new' to construct "+M);if(B.constructor_body===void 0)throw new qe(M+" has no accessible constructor");var Wr=B.constructor_body[arguments.length];if(Wr===void 0)throw new qe(`Tried to invoke ctor of ${M} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(B.constructor_body).toString()}) parameters instead!`);return Wr.apply(this,arguments)}),C=Object.create(Y,{constructor:{value:ie}});ie.prototype=C;var B=new No(M,ie,C,q,ee,g,v,S);if(B.baseClass){var te,ne;(ne=(te=B.baseClass).__derivedClasses)!==null&&ne!==void 0||(te.__derivedClasses=[]),B.baseClass.__derivedClasses.push(B)}var He=new ft(M,B,!0,!1,!1),vt=new ft(M+"*",B,!1,!1,!1),Vr=new ft(M+" const*",B,!1,!0,!1);return Cr[t]={pointerType:vt,constPointerType:Vr},Sr(z,ie),[He,vt,Vr]})},Bt=(t,r)=>{for(var i=[],u=0;u<t;u++)i.push(I[r+u*4>>2]);return i};function Jo(t){for(var r=1;r<t.length;++r)if(t[r]!==null&&t[r].destructorFunction===void 0)return!0;return!1}function kt(t,r,i,u,f,g){var m=r.length;m<2&&J("argTypes array size mismatch! Must at least get return value and 'this' types!");var v=r[1]!==null&&i!==null,b=Jo(r),S=r[0].name!=="void",M=m-2,x=new Array(M),q=[],z=[],K=function(){arguments.length!==M&&J(`function ${t} called with ${arguments.length} arguments, expected ${M}`),z.length=0;var ee;q.length=v?2:1,q[0]=f,v&&(ee=r[1].toWireType(z,this),q[1]=ee);for(var Y=0;Y<M;++Y)x[Y]=r[Y+2].toWireType(z,arguments[Y]),q.push(x[Y]);var ie=u.apply(null,q);function C(B){if(b)At(z);else for(var te=v?1:2;te<r.length;te++){var ne=te===1?ee:x[te-2];r[te].destructorFunction!==null&&r[te].destructorFunction(ne)}if(S)return r[0].fromWireType(B)}return C(ie)};return Ze(t,K)}var Yo=(t,r,i,u,f,g)=>{var m=Bt(r,i);f=pe(u,f),je([],[t],function(v){v=v[0];var b=`constructor ${v.name}`;if(v.registeredClass.constructor_body===void 0&&(v.registeredClass.constructor_body=[]),v.registeredClass.constructor_body[r-1]!==void 0)throw new qe(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${v.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return v.registeredClass.constructor_body[r-1]=()=>{gt(`Cannot construct ${v.name} due to unbound types`,m)},je([],m,S=>(S.splice(1,0,null),v.registeredClass.constructor_body[r-1]=kt(b,S,null,f,g),[])),[]})},Mr=t=>{t=t.trim();const r=t.indexOf("(");return r!==-1?t.substr(0,r):t},Go=(t,r,i,u,f,g,m,v,b)=>{var S=Bt(i,u);r=oe(r),r=Mr(r),g=pe(f,g),je([],[t],function(M){M=M[0];var x=`${M.name}.${r}`;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),v&&M.registeredClass.pureVirtualFunctions.push(r);function q(){gt(`Cannot call ${x} due to unbound types`,S)}var z=M.registeredClass.instancePrototype,K=z[r];return K===void 0||K.overloadTable===void 0&&K.className!==M.name&&K.argCount===i-2?(q.argCount=i-2,q.className=M.name,z[r]=q):(Tr(z,r,x),z[r].overloadTable[i-2]=q),je([],S,function(ee){var Y=kt(x,ee,M,g,m);return z[r].overloadTable===void 0?(Y.argCount=i-2,z[r]=Y):z[r].overloadTable[i-2]=Y,[]}),[]})};function Ko(){Object.assign($r.prototype,{get(t){return this.allocated[t]},has(t){return this.allocated[t]!==void 0},allocate(t){var r=this.freelist.pop()||this.allocated.length;return this.allocated[r]=t,r},free(t){this.allocated[t]=void 0,this.freelist.push(t)}})}function $r(){this.allocated=[void 0],this.freelist=[]}var ge=new $r,jt=t=>{t>=ge.reserved&&--ge.get(t).refcount===0&&ge.free(t)},Qo=()=>{for(var t=0,r=ge.reserved;r<ge.allocated.length;++r)ge.allocated[r]!==void 0&&++t;return t},Xo=()=>{ge.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),ge.reserved=ge.allocated.length,n.count_emval_handles=Qo},Se={toValue:t=>(t||J("Cannot use deleted val. handle = "+t),ge.get(t).value),toHandle:t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ge.allocate({refcount:1,value:t})}}},Zo=(t,r)=>{r=oe(r),me(t,{name:r,fromWireType:i=>{var u=Se.toValue(i);return jt(i),u},toWireType:(i,u)=>Se.toHandle(u),argPackAdvance:ve,readValueFromPointer:Mt,destructorFunction:null})},ei=(t,r,i)=>{switch(r){case 1:return i?function(u){return this.fromWireType(W[u>>0])}:function(u){return this.fromWireType($[u>>0])};case 2:return i?function(u){return this.fromWireType(H[u>>1])}:function(u){return this.fromWireType(A[u>>1])};case 4:return i?function(u){return this.fromWireType(E[u>>2])}:function(u){return this.fromWireType(I[u>>2])};default:throw new TypeError(`invalid integer width (${r}): ${t}`)}},ti=(t,r,i,u)=>{r=oe(r);function f(){}f.values={},me(t,{name:r,constructor:f,fromWireType:function(g){return this.constructor.values[g]},toWireType:(g,m)=>m.value,argPackAdvance:ve,readValueFromPointer:ei(r,i,u),destructorFunction:null}),Ot(r,f)},Nt=(t,r)=>{var i=ke[t];return i===void 0&&J(r+" has unknown type "+Ar(t)),i},ri=(t,r,i)=>{var u=Nt(t,"enum");r=oe(r);var f=u.constructor,g=Object.create(u.constructor.prototype,{value:{value:i},constructor:{value:Ze(`${u.name}_${r}`,function(){})}});f.values[i]=g,f[r]=g},Ft=t=>{if(t===null)return"null";var r=typeof t;return r==="object"||r==="array"||r==="function"?t.toString():""+t},ni=(t,r)=>{switch(r){case 4:return function(i){return this.fromWireType(D[i>>2])};case 8:return function(i){return this.fromWireType(k[i>>3])};default:throw new TypeError(`invalid float width (${r}): ${t}`)}},oi=(t,r,i)=>{r=oe(r),me(t,{name:r,fromWireType:u=>u,toWireType:(u,f)=>f,argPackAdvance:ve,readValueFromPointer:ni(r,i),destructorFunction:null})},ii=(t,r,i,u,f,g,m)=>{var v=Bt(r,i);t=oe(t),t=Mr(t),f=pe(u,f),Ot(t,function(){gt(`Cannot call ${t} due to unbound types`,v)},r-1),je([],v,function(b){var S=[b[0],null].concat(b.slice(1));return Sr(t,kt(t,S,null,f,g),r-1),[]})},ai=(t,r,i)=>{switch(r){case 1:return i?u=>W[u>>0]:u=>$[u>>0];case 2:return i?u=>H[u>>1]:u=>A[u>>1];case 4:return i?u=>E[u>>2]:u=>I[u>>2];default:throw new TypeError(`invalid integer width (${r}): ${t}`)}},si=(t,r,i,u,f)=>{r=oe(r);var g=M=>M;if(u===0){var m=32-8*i;g=M=>M<<m>>>m}var v=r.includes("unsigned"),b=(M,x)=>{},S;v?S=function(M,x){return b(x,this.name),x>>>0}:S=function(M,x){return b(x,this.name),x},me(t,{name:r,fromWireType:g,toWireType:S,argPackAdvance:ve,readValueFromPointer:ai(r,i,u!==0),destructorFunction:null})},ui=(t,r,i)=>{var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],f=u[r];function g(m){var v=I[m>>2],b=I[m+4>>2];return new f(W.buffer,b,v)}i=oe(i),me(t,{name:i,fromWireType:g,argPackAdvance:ve,readValueFromPointer:g},{ignoreDuplicateRegistrations:!0})},Rr=(t,r,i,u)=>{if(!(u>0))return 0;for(var f=i,g=i+u-1,m=0;m<t.length;++m){var v=t.charCodeAt(m);if(v>=55296&&v<=57343){var b=t.charCodeAt(++m);v=65536+((v&1023)<<10)|b&1023}if(v<=127){if(i>=g)break;r[i++]=v}else if(v<=2047){if(i+1>=g)break;r[i++]=192|v>>6,r[i++]=128|v&63}else if(v<=65535){if(i+2>=g)break;r[i++]=224|v>>12,r[i++]=128|v>>6&63,r[i++]=128|v&63}else{if(i+3>=g)break;r[i++]=240|v>>18,r[i++]=128|v>>12&63,r[i++]=128|v>>6&63,r[i++]=128|v&63}}return r[i]=0,i-f},ci=(t,r,i)=>Rr(t,$,r,i),Dr=t=>{for(var r=0,i=0;i<t.length;++i){var u=t.charCodeAt(i);u<=127?r++:u<=2047?r+=2:u>=55296&&u<=57343?(r+=4,++i):r+=3}return r},Or=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,li=(t,r,i)=>{for(var u=r+i,f=r;t[f]&&!(f>=u);)++f;if(f-r>16&&t.buffer&&Or)return Or.decode(t.subarray(r,f));for(var g="";r<f;){var m=t[r++];if(!(m&128)){g+=String.fromCharCode(m);continue}var v=t[r++]&63;if((m&224)==192){g+=String.fromCharCode((m&31)<<6|v);continue}var b=t[r++]&63;if((m&240)==224?m=(m&15)<<12|v<<6|b:m=(m&7)<<18|v<<12|b<<6|t[r++]&63,m<65536)g+=String.fromCharCode(m);else{var S=m-65536;g+=String.fromCharCode(55296|S>>10,56320|S&1023)}}return g},Lt=(t,r)=>t?li($,t,r):"",di=(t,r)=>{r=oe(r);var i=r==="std::string";me(t,{name:r,fromWireType(u){var f=I[u>>2],g=u+4,m;if(i)for(var v=g,b=0;b<=f;++b){var S=g+b;if(b==f||$[S]==0){var M=S-v,x=Lt(v,M);m===void 0?m=x:(m+="\0",m+=x),v=S+1}}else{for(var q=new Array(f),b=0;b<f;++b)q[b]=String.fromCharCode($[g+b]);m=q.join("")}return Pe(u),m},toWireType(u,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var g,m=typeof f=="string";m||f instanceof Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array||J("Cannot pass non-string to std::string"),i&&m?g=Dr(f):g=f.length;var v=qt(4+g+1),b=v+4;if(I[v>>2]=g,i&&m)ci(f,b,g+1);else if(m)for(var S=0;S<g;++S){var M=f.charCodeAt(S);M>255&&(Pe(b),J("String has UTF-16 code units that do not fit in 8 bits")),$[b+S]=M}else for(var S=0;S<g;++S)$[b+S]=f[S];return u!==null&&u.push(Pe,v),v},argPackAdvance:ve,readValueFromPointer:Er,destructorFunction(u){Pe(u)}})},Ir=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,fi=(t,r)=>{for(var i=t,u=i>>1,f=u+r/2;!(u>=f)&&A[u];)++u;if(i=u<<1,i-t>32&&Ir)return Ir.decode($.subarray(t,i));for(var g="",m=0;!(m>=r/2);++m){var v=H[t+m*2>>1];if(v==0)break;g+=String.fromCharCode(v)}return g},hi=(t,r,i)=>{var u;if((u=i)!==null&&u!==void 0||(i=2147483647),i<2)return 0;i-=2;for(var f=r,g=i<t.length*2?i/2:t.length,m=0;m<g;++m){var v=t.charCodeAt(m);H[r>>1]=v,r+=2}return H[r>>1]=0,r-f},gi=t=>t.length*2,pi=(t,r)=>{for(var i=0,u="";!(i>=r/4);){var f=E[t+i*4>>2];if(f==0)break;if(++i,f>=65536){var g=f-65536;u+=String.fromCharCode(55296|g>>10,56320|g&1023)}else u+=String.fromCharCode(f)}return u},mi=(t,r,i)=>{var u;if((u=i)!==null&&u!==void 0||(i=2147483647),i<4)return 0;for(var f=r,g=f+i-4,m=0;m<t.length;++m){var v=t.charCodeAt(m);if(v>=55296&&v<=57343){var b=t.charCodeAt(++m);v=65536+((v&1023)<<10)|b&1023}if(E[r>>2]=v,r+=4,r+4>g)break}return E[r>>2]=0,r-f},vi=t=>{for(var r=0,i=0;i<t.length;++i){var u=t.charCodeAt(i);u>=55296&&u<=57343&&++i,r+=4}return r},yi=(t,r,i)=>{i=oe(i);var u,f,g,m,v;r===2?(u=fi,f=hi,m=gi,g=()=>A,v=1):r===4&&(u=pi,f=mi,m=vi,g=()=>I,v=2),me(t,{name:i,fromWireType:b=>{for(var S=I[b>>2],M=g(),x,q=b+4,z=0;z<=S;++z){var K=b+4+z*r;if(z==S||M[K>>v]==0){var ee=K-q,Y=u(q,ee);x===void 0?x=Y:(x+="\0",x+=Y),q=K+r}}return Pe(b),x},toWireType:(b,S)=>{typeof S!="string"&&J(`Cannot pass non-string to C++ string type ${i}`);var M=m(S),x=qt(4+M+r);return I[x>>2]=M>>v,f(S,x+4,M+r),b!==null&&b.push(Pe,x),x},argPackAdvance:ve,readValueFromPointer:Mt,destructorFunction(b){Pe(b)}})},wi=(t,r,i,u,f,g)=>{st[t]={name:oe(r),rawConstructor:pe(i,u),rawDestructor:pe(f,g),fields:[]}},bi=(t,r,i,u,f,g,m,v,b,S)=>{st[t].fields.push({fieldName:oe(r),getterReturnType:i,getter:pe(u,f),getterContext:g,setterArgumentType:m,setter:pe(v,b),setterContext:S})},Ci=(t,r)=>{r=oe(r),me(t,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(i,u)=>{}})},Ut=[],Ti=(t,r,i,u)=>(t=Ut[t],r=Se.toValue(r),t(null,r,i,u)),Ei={},Si=t=>{var r=Ei[t];return r===void 0?oe(t):r},Br=()=>{if(typeof globalThis=="object")return globalThis;function t(r){r.$$$embind_global$$$=r;var i=typeof $$$embind_global$$$=="object"&&r.$$$embind_global$$$==r;return i||delete r.$$$embind_global$$$,i}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&t(global)?$$$embind_global$$$=global:typeof self=="object"&&t(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Pi=t=>t===0?Se.toHandle(Br()):(t=Si(t),Se.toHandle(Br()[t])),_i=t=>{var r=Ut.length;return Ut.push(t),r},Ai=(t,r)=>{for(var i=new Array(t),u=0;u<t;++u)i[u]=Nt(I[r+u*4>>2],"parameter "+u);return i},Mi=Reflect.construct,$i=(t,r,i)=>{var u=[],f=t.toWireType(u,i);return u.length&&(I[r>>2]=Se.toHandle(u)),f},Ri=(t,r,i)=>{var u=Ai(t,r),f=u.shift();t--;var g=new Array(t),m=(b,S,M,x)=>{for(var q=0,z=0;z<t;++z)g[z]=u[z].readValueFromPointer(x+q),q+=u[z].argPackAdvance;for(var K=i===1?Mi(S,g):S.apply(b,g),z=0;z<t;++z){var ee,Y;(ee=(Y=u[z]).deleteObject)===null||ee===void 0||ee.call(Y,g[z])}return $i(f,M,K)},v=`methodCaller<(${u.map(b=>b.name).join(", ")}) => ${f.name}>`;return _i(Ze(v,m))},Di=t=>{t>4&&(ge.get(t).refcount+=1)},Oi=t=>{var r=Se.toValue(t);At(r),jt(t)},Ii=(t,r)=>{t=Nt(t,"_emval_take_value");var i=t.readValueFromPointer(r);return Se.toHandle(i)},Bi=()=>{ae("")},ki=(t,r,i)=>$.copyWithin(t,r,r+i),ji=()=>2147483648,Ni=t=>{var r=_.buffer,i=(t-r.byteLength+65535)/65536;try{return _.grow(i),j(),1}catch{}},Fi=t=>{var r=$.length;t>>>=0;var i=ji();if(t>i)return!1;for(var u=(b,S)=>b+(S-b%S)%S,f=1;f<=4;f*=2){var g=r*(1+.2/f);g=Math.min(g,t+100663296);var m=Math.min(i,u(Math.max(t,g),65536)),v=Ni(m);if(v)return!0}return!1},xt={},Li=()=>d||"./this.program",et=()=>{if(!et.strings){var t=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:t,_:Li()};for(var i in xt)xt[i]===void 0?delete r[i]:r[i]=xt[i];var u=[];for(var i in r)u.push(`${i}=${r[i]}`);et.strings=u}return et.strings},Ui=(t,r)=>{for(var i=0;i<t.length;++i)W[r++>>0]=t.charCodeAt(i);W[r>>0]=0},xi=(t,r)=>{var i=0;return et().forEach((u,f)=>{var g=r+i;I[t+f*4>>2]=g,Ui(u,g),i+=u.length+1}),0},qi=(t,r)=>{var i=et();I[t>>2]=i.length;var u=0;return i.forEach(f=>u+=f.length+1),I[r>>2]=u,0},Hi=t=>t,pt=t=>t%4===0&&(t%100!==0||t%400===0),Vi=(t,r)=>{for(var i=0,u=0;u<=r;i+=t[u++]);return i},kr=[31,29,31,30,31,30,31,31,30,31,30,31],jr=[31,28,31,30,31,30,31,31,30,31,30,31],Wi=(t,r)=>{for(var i=new Date(t.getTime());r>0;){var u=pt(i.getFullYear()),f=i.getMonth(),g=(u?kr:jr)[f];if(r>g-i.getDate())r-=g-i.getDate()+1,i.setDate(1),f<11?i.setMonth(f+1):(i.setMonth(0),i.setFullYear(i.getFullYear()+1));else return i.setDate(i.getDate()+r),i}return i};function zi(t,r,i){var u=Dr(t)+1,f=new Array(u);return Rr(t,f,0,f.length),f}var Ji=(t,r)=>{W.set(t,r)},Yi=(t,r,i,u)=>{var f=I[u+40>>2],g={tm_sec:E[u>>2],tm_min:E[u+4>>2],tm_hour:E[u+8>>2],tm_mday:E[u+12>>2],tm_mon:E[u+16>>2],tm_year:E[u+20>>2],tm_wday:E[u+24>>2],tm_yday:E[u+28>>2],tm_isdst:E[u+32>>2],tm_gmtoff:E[u+36>>2],tm_zone:f?Lt(f):""},m=Lt(i),v={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var b in v)m=m.replace(new RegExp(b,"g"),v[b]);var S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],M=["January","February","March","April","May","June","July","August","September","October","November","December"];function x(C,B,te){for(var ne=typeof C=="number"?C.toString():C||"";ne.length<B;)ne=te[0]+ne;return ne}function q(C,B){return x(C,B,"0")}function z(C,B){function te(He){return He<0?-1:He>0?1:0}var ne;return(ne=te(C.getFullYear()-B.getFullYear()))===0&&(ne=te(C.getMonth()-B.getMonth()))===0&&(ne=te(C.getDate()-B.getDate())),ne}function K(C){switch(C.getDay()){case 0:return new Date(C.getFullYear()-1,11,29);case 1:return C;case 2:return new Date(C.getFullYear(),0,3);case 3:return new Date(C.getFullYear(),0,2);case 4:return new Date(C.getFullYear(),0,1);case 5:return new Date(C.getFullYear()-1,11,31);case 6:return new Date(C.getFullYear()-1,11,30)}}function ee(C){var B=Wi(new Date(C.tm_year+1900,0,1),C.tm_yday),te=new Date(B.getFullYear(),0,4),ne=new Date(B.getFullYear()+1,0,4),He=K(te),vt=K(ne);return z(He,B)<=0?z(vt,B)<=0?B.getFullYear()+1:B.getFullYear():B.getFullYear()-1}var Y={"%a":C=>S[C.tm_wday].substring(0,3),"%A":C=>S[C.tm_wday],"%b":C=>M[C.tm_mon].substring(0,3),"%B":C=>M[C.tm_mon],"%C":C=>{var B=C.tm_year+1900;return q(B/100|0,2)},"%d":C=>q(C.tm_mday,2),"%e":C=>x(C.tm_mday,2," "),"%g":C=>ee(C).toString().substring(2),"%G":C=>ee(C),"%H":C=>q(C.tm_hour,2),"%I":C=>{var B=C.tm_hour;return B==0?B=12:B>12&&(B-=12),q(B,2)},"%j":C=>q(C.tm_mday+Vi(pt(C.tm_year+1900)?kr:jr,C.tm_mon-1),3),"%m":C=>q(C.tm_mon+1,2),"%M":C=>q(C.tm_min,2),"%n":()=>`
`,"%p":C=>C.tm_hour>=0&&C.tm_hour<12?"AM":"PM","%S":C=>q(C.tm_sec,2),"%t":()=>"	","%u":C=>C.tm_wday||7,"%U":C=>{var B=C.tm_yday+7-C.tm_wday;return q(Math.floor(B/7),2)},"%V":C=>{var B=Math.floor((C.tm_yday+7-(C.tm_wday+6)%7)/7);if((C.tm_wday+371-C.tm_yday-2)%7<=2&&B++,B){if(B==53){var te=(C.tm_wday+371-C.tm_yday)%7;te!=4&&(te!=3||!pt(C.tm_year))&&(B=1)}}else{B=52;var ne=(C.tm_wday+7-C.tm_yday-1)%7;(ne==4||ne==5&&pt(C.tm_year%400-1))&&B++}return q(B,2)},"%w":C=>C.tm_wday,"%W":C=>{var B=C.tm_yday+7-(C.tm_wday+6)%7;return q(Math.floor(B/7),2)},"%y":C=>(C.tm_year+1900).toString().substring(2),"%Y":C=>C.tm_year+1900,"%z":C=>{var B=C.tm_gmtoff,te=B>=0;return B=Math.abs(B)/60,B=B/60*100+B%60,(te?"+":"-")+("0000"+B).slice(-4)},"%Z":C=>C.tm_zone,"%%":()=>"%"};m=m.replace(/%%/g,"\0\0");for(var b in Y)m.includes(b)&&(m=m.replace(new RegExp(b,"g"),Y[b](g)));m=m.replace(/\0\0/g,"%");var ie=zi(m);return ie.length>r?0:(Ji(ie,t),ie.length-1)},Gi=(t,r,i,u,f)=>Yi(t,r,i,u);mr=n.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Co(),qe=n.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Io(),$o(),xo(),_r=n.UnboundTypeError=Wo(Error,"UnboundTypeError"),Ko(),Xo();var Ki={s:co,u:lo,b:ho,g:go,q:po,J:mo,f:vo,V:yo,d:fo,da:wo,Q:bo,_:Eo,ca:zo,ba:Yo,w:Go,Y:Zo,x:ti,h:ri,L:oi,M:ii,t:si,o:ui,K:di,C:yi,A:wi,ea:bi,$:Ci,R:Ti,ha:jt,fa:Pi,Z:Ri,N:Di,O:Oi,aa:Ii,B:Bi,X:ki,W:Fi,T:xi,U:qi,E:fa,D:ta,F:da,n:ha,a:Qi,e:na,m:ea,k:ia,H:ca,v:sa,G:la,z:pa,P:va,l:oa,j:ra,c:Zi,p:Xi,I:ua,r:ga,i:aa,y:ma,ga:Hi,S:Gi},re=Ye(),Pe=n._free=t=>(Pe=n._free=re.ka)(t),qt=n._malloc=t=>(qt=n._malloc=re.la)(t),Nr=t=>(Nr=re.na)(t),G=(t,r)=>(G=re.oa)(t,r),tt=t=>(tt=re.pa)(t),X=()=>(X=re.qa)(),Z=t=>(Z=re.ra)(t),Fr=t=>(Fr=re.sa)(t),Lr=t=>(Lr=re.ta)(t),Ur=(t,r,i)=>(Ur=re.ua)(t,r,i),xr=t=>(xr=re.va)(t);n.dynCall_viijii=(t,r,i,u,f,g,m)=>(n.dynCall_viijii=re.wa)(t,r,i,u,f,g,m);var qr=n.dynCall_jiiii=(t,r,i,u,f)=>(qr=n.dynCall_jiiii=re.xa)(t,r,i,u,f);n.dynCall_iiiiij=(t,r,i,u,f,g,m)=>(n.dynCall_iiiiij=re.ya)(t,r,i,u,f,g,m),n.dynCall_iiiiijj=(t,r,i,u,f,g,m,v,b)=>(n.dynCall_iiiiijj=re.za)(t,r,i,u,f,g,m,v,b),n.dynCall_iiiiiijj=(t,r,i,u,f,g,m,v,b,S)=>(n.dynCall_iiiiiijj=re.Aa)(t,r,i,u,f,g,m,v,b,S);function Qi(t,r){var i=X();try{return Q(t)(r)}catch(u){if(Z(i),u!==u+0)throw u;G(1,0)}}function Xi(t,r,i,u){var f=X();try{Q(t)(r,i,u)}catch(g){if(Z(f),g!==g+0)throw g;G(1,0)}}function Zi(t,r,i){var u=X();try{Q(t)(r,i)}catch(f){if(Z(u),f!==f+0)throw f;G(1,0)}}function ea(t,r,i,u){var f=X();try{return Q(t)(r,i,u)}catch(g){if(Z(f),g!==g+0)throw g;G(1,0)}}function ta(t,r,i,u,f){var g=X();try{return Q(t)(r,i,u,f)}catch(m){if(Z(g),m!==m+0)throw m;G(1,0)}}function ra(t,r){var i=X();try{Q(t)(r)}catch(u){if(Z(i),u!==u+0)throw u;G(1,0)}}function na(t,r,i){var u=X();try{return Q(t)(r,i)}catch(f){if(Z(u),f!==f+0)throw f;G(1,0)}}function oa(t){var r=X();try{Q(t)()}catch(i){if(Z(r),i!==i+0)throw i;G(1,0)}}function ia(t,r,i,u,f){var g=X();try{return Q(t)(r,i,u,f)}catch(m){if(Z(g),m!==m+0)throw m;G(1,0)}}function aa(t,r,i,u,f,g,m,v,b,S,M){var x=X();try{Q(t)(r,i,u,f,g,m,v,b,S,M)}catch(q){if(Z(x),q!==q+0)throw q;G(1,0)}}function sa(t,r,i,u,f,g,m){var v=X();try{return Q(t)(r,i,u,f,g,m)}catch(b){if(Z(v),b!==b+0)throw b;G(1,0)}}function ua(t,r,i,u,f){var g=X();try{Q(t)(r,i,u,f)}catch(m){if(Z(g),m!==m+0)throw m;G(1,0)}}function ca(t,r,i,u,f,g){var m=X();try{return Q(t)(r,i,u,f,g)}catch(v){if(Z(m),v!==v+0)throw v;G(1,0)}}function la(t,r,i,u,f,g,m,v){var b=X();try{return Q(t)(r,i,u,f,g,m,v)}catch(S){if(Z(b),S!==S+0)throw S;G(1,0)}}function da(t,r,i,u){var f=X();try{return Q(t)(r,i,u)}catch(g){if(Z(f),g!==g+0)throw g;G(1,0)}}function fa(t,r,i,u){var f=X();try{return Q(t)(r,i,u)}catch(g){if(Z(f),g!==g+0)throw g;G(1,0)}}function ha(t){var r=X();try{return Q(t)()}catch(i){if(Z(r),i!==i+0)throw i;G(1,0)}}function ga(t,r,i,u,f,g,m,v){var b=X();try{Q(t)(r,i,u,f,g,m,v)}catch(S){if(Z(b),S!==S+0)throw S;G(1,0)}}function pa(t,r,i,u,f,g,m,v,b,S,M,x){var q=X();try{return Q(t)(r,i,u,f,g,m,v,b,S,M,x)}catch(z){if(Z(q),z!==z+0)throw z;G(1,0)}}function ma(t,r,i,u,f,g,m,v,b,S,M,x,q,z,K,ee){var Y=X();try{Q(t)(r,i,u,f,g,m,v,b,S,M,x,q,z,K,ee)}catch(ie){if(Z(Y),ie!==ie+0)throw ie;G(1,0)}}function va(t,r,i,u,f){var g=X();try{return qr(t,r,i,u,f)}catch(m){if(Z(g),m!==m+0)throw m;G(1,0)}}var mt;Te=function t(){mt||Hr(),mt||(Te=t)};function Hr(){if(ce>0||(L(),ce>0))return;function t(){mt||(mt=!0,n.calledRun=!0,!R&&(F(),a(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),V()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Hr(),o.ready}})();function es(e){return hr(gr,e)}async function ts(e,o){return Xa(gr,e,o)}async function rs(e,o){return Za(gr,e,o)}var ot;class ns extends EventTarget{constructor(o={}){var n;super(),Ma(this,ot,void 0);try{const a=(n=o?.formats)==null?void 0:n.filter(s=>s!=="unknown");if(a?.length===0)throw new TypeError("Hint option provided, but is empty.");a?.forEach(s=>{if(!Ct.has(s))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${s}' is not a valid enum value of type BarcodeFormat.`)}),$a(this,ot,a??[]),es().then(s=>{this.dispatchEvent(new CustomEvent("load",{detail:s}))}).catch(s=>{this.dispatchEvent(new CustomEvent("error",{detail:s}))})}catch(a){throw Jr(a,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return Ra.filter(o=>o!=="unknown")}async detect(o){try{const n=await Na(o);if(n===null)return[];let a;try{Un(n)?a=await ts(n,{tryHarder:!0,formats:zr(this,ot).map(s=>Ct.get(s))}):a=await rs(n,{tryHarder:!0,formats:zr(this,ot).map(s=>Ct.get(s))})}catch(s){throw console.error(s),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return a.map(s=>{const{topLeft:{x:c,y:d},topRight:{x:h,y:l},bottomLeft:{x:p,y},bottomRight:{x:w,y:P}}=s.position,T=Math.min(c,h,p,w),_=Math.min(d,l,y,P),R=Math.max(c,h,p,w),W=Math.max(d,l,y,P);return{boundingBox:new DOMRectReadOnly(T,_,R-T,W-_),rawValue:s.text,format:Da(s.format),cornerPoints:[{x:c,y:d},{x:h,y:l},{x:w,y:P},{x:p,y}]}})}catch(n){throw Jr(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}ot=new WeakMap;const Vn=(e,o,n="error")=>{let a,s;const c=new Promise((d,h)=>{a=d,s=h,e.addEventListener(o,a),e.addEventListener(n,s)});return c.finally(()=>{e.removeEventListener(o,a),e.removeEventListener(n,s)}),c},Qr=e=>new Promise(o=>setTimeout(o,e));class Wn extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class os extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class is extends Error{constructor(){super("Loading camera stream timed out after 6 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let zn;function Jn(e){zn=new ns({formats:e})}const as=async(e,{detectHandler:o,locateHandler:n,minDelay:a,formats:s})=>{console.debug("[vue-qrcode-reader] start scanning"),Jn(s);const c=d=>async h=>{if(e.readyState===0)console.debug("[vue-qrcode-reader] stop scanning: video element readyState is 0");else{const{lastScanned:l,contentBefore:p,lastScanHadContent:y}=d;if(h-l<a)window.requestAnimationFrame(c(d));else{const w=await zn.detect(e),P=w.some(R=>!p.includes(R.rawValue));P&&o(w);const T=w.length>0;T&&n(w),!T&&y&&n(w);const _={lastScanned:h,lastScanHadContent:T,contentBefore:P?w.map(R=>R.rawValue):p};window.requestAnimationFrame(c(_))}}};c({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var Yn={},ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.compactObject=Qn;ue.deprecated=ps;var ss=ue.detectBrowser=ms;ue.disableLog=fs;ue.disableWarnings=hs;ue.extractVersion=Tt;ue.filterStats=vs;ue.log=gs;ue.walkStats=Et;ue.wrapPeerConnectionEvent=ds;function us(e,o,n){return o=cs(o),o in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,e}function cs(e){var o=ls(e,"string");return Re(o)==="symbol"?o:String(o)}function ls(e,o){if(Re(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,o);if(Re(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}function Re(e){"@babel/helpers - typeof";return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Re(e)}var Gn=!0,Kn=!0;function Tt(e,o,n){var a=e.match(o);return a&&a.length>=n&&parseInt(a[n],10)}function ds(e,o,n){if(e.RTCPeerConnection){var a=e.RTCPeerConnection.prototype,s=a.addEventListener;a.addEventListener=function(d,h){if(d!==o)return s.apply(this,arguments);var l=function(p){var y=n(p);y&&(h.handleEvent?h.handleEvent(y):h(y))};return this._eventMap=this._eventMap||{},this._eventMap[o]||(this._eventMap[o]=new Map),this._eventMap[o].set(h,l),s.apply(this,[d,l])};var c=a.removeEventListener;a.removeEventListener=function(d,h){if(d!==o||!this._eventMap||!this._eventMap[o])return c.apply(this,arguments);if(!this._eventMap[o].has(h))return c.apply(this,arguments);var l=this._eventMap[o].get(h);return this._eventMap[o].delete(h),this._eventMap[o].size===0&&delete this._eventMap[o],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[d,l])},Object.defineProperty(a,"on"+o,{get:function(){return this["_on"+o]},set:function(d){this["_on"+o]&&(this.removeEventListener(o,this["_on"+o]),delete this["_on"+o]),d&&this.addEventListener(o,this["_on"+o]=d)},enumerable:!0,configurable:!0})}}function fs(e){return typeof e!="boolean"?new Error("Argument type: "+Re(e)+". Please use a boolean."):(Gn=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function hs(e){return typeof e!="boolean"?new Error("Argument type: "+Re(e)+". Please use a boolean."):(Kn=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function gs(){if((typeof window>"u"?"undefined":Re(window))==="object"){if(Gn)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function ps(e,o){Kn&&console.warn(e+" is deprecated, please use "+o+" instead.")}function ms(e){var o={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return o.browser="Not a browser.",o;var n=e.navigator;if(n.mozGetUserMedia)o.browser="firefox",o.version=Tt(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)o.browser="chrome",o.version=Tt(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))o.browser="safari",o.version=Tt(n.userAgent,/AppleWebKit\/(\d+)\./,1),o.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return o.browser="Not a supported browser.",o;return o}function Xr(e){return Object.prototype.toString.call(e)==="[object Object]"}function Qn(e){return Xr(e)?Object.keys(e).reduce(function(o,n){var a=Xr(e[n]),s=a?Qn(e[n]):e[n],c=a&&!Object.keys(s).length;return s===void 0||c?o:Object.assign(o,us({},n,s))},{}):e}function Et(e,o,n){!o||n.has(o.id)||(n.set(o.id,o),Object.keys(o).forEach(function(a){a.endsWith("Id")?Et(e,e.get(o[a]),n):a.endsWith("Ids")&&o[a].forEach(function(s){Et(e,e.get(s),n)})}))}function vs(e,o,n){var a=n?"outbound-rtp":"inbound-rtp",s=new Map;if(o===null)return s;var c=[];return e.forEach(function(d){d.type==="track"&&d.trackIdentifier===o.id&&c.push(d)}),c.forEach(function(d){e.forEach(function(h){h.type===a&&h.trackId===d.id&&Et(e,h,s)})}),s}Object.defineProperty(Yn,"__esModule",{value:!0});var ys=Yn.shimGetUserMedia=Cs,ws=bs(ue);function Xn(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,n=new WeakMap;return(Xn=function(a){return a?n:o})(e)}function bs(e,o){if(e&&e.__esModule)return e;if(e===null||$e(e)!=="object"&&typeof e!="function")return{default:e};var n=Xn(o);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(c!=="default"&&Object.prototype.hasOwnProperty.call(e,c)){var d=s?Object.getOwnPropertyDescriptor(e,c):null;d&&(d.get||d.set)?Object.defineProperty(a,c,d):a[c]=e[c]}return a.default=e,n&&n.set(e,a),a}function $e(e){"@babel/helpers - typeof";return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},$e(e)}var Zr=ws.log;function Cs(e,o){var n=e&&e.navigator;if(n.mediaDevices){var a=function(l){if($e(l)!=="object"||l.mandatory||l.optional)return l;var p={};return Object.keys(l).forEach(function(y){if(!(y==="require"||y==="advanced"||y==="mediaSource")){var w=$e(l[y])==="object"?l[y]:{ideal:l[y]};w.exact!==void 0&&typeof w.exact=="number"&&(w.min=w.max=w.exact);var P=function(_,R){return _?_+R.charAt(0).toUpperCase()+R.slice(1):R==="deviceId"?"sourceId":R};if(w.ideal!==void 0){p.optional=p.optional||[];var T={};typeof w.ideal=="number"?(T[P("min",y)]=w.ideal,p.optional.push(T),T={},T[P("max",y)]=w.ideal,p.optional.push(T)):(T[P("",y)]=w.ideal,p.optional.push(T))}w.exact!==void 0&&typeof w.exact!="number"?(p.mandatory=p.mandatory||{},p.mandatory[P("",y)]=w.exact):["min","max"].forEach(function(_){w[_]!==void 0&&(p.mandatory=p.mandatory||{},p.mandatory[P(_,y)]=w[_])})}}),l.advanced&&(p.optional=(p.optional||[]).concat(l.advanced)),p},s=function(l,p){if(o.version>=61)return p(l);if(l=JSON.parse(JSON.stringify(l)),l&&$e(l.audio)==="object"){var y=function(_,R,W){R in _&&!(W in _)&&(_[W]=_[R],delete _[R])};l=JSON.parse(JSON.stringify(l)),y(l.audio,"autoGainControl","googAutoGainControl"),y(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=a(l.audio)}if(l&&$e(l.video)==="object"){var w=l.video.facingMode;w=w&&($e(w)==="object"?w:{ideal:w});var P=o.version<66;if(w&&(w.exact==="user"||w.exact==="environment"||w.ideal==="user"||w.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!P)){delete l.video.facingMode;var T;if(w.exact==="environment"||w.ideal==="environment"?T=["back","rear"]:(w.exact==="user"||w.ideal==="user")&&(T=["front"]),T)return n.mediaDevices.enumerateDevices().then(function(_){_=_.filter(function(W){return W.kind==="videoinput"});var R=_.find(function(W){return T.some(function($){return W.label.toLowerCase().includes($)})});return!R&&_.length&&T.includes("back")&&(R=_[_.length-1]),R&&(l.video.deviceId=w.exact?{exact:R.deviceId}:{ideal:R.deviceId}),l.video=a(l.video),Zr("chrome: "+JSON.stringify(l)),p(l)})}l.video=a(l.video)}return Zr("chrome: "+JSON.stringify(l)),p(l)},c=function(l){return o.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},d=function(l,p,y){s(l,function(w){n.webkitGetUserMedia(w,p,function(P){y&&y(c(P))})})};if(n.getUserMedia=d.bind(n),n.mediaDevices.getUserMedia){var h=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return s(l,function(p){return h(p).then(function(y){if(p.audio&&!y.getAudioTracks().length||p.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(function(w){w.stop()}),new DOMException("","NotFoundError");return y},function(y){return Promise.reject(c(y))})})}}}}var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});var Ts=Zn.shimGetUserMedia=Ps,Es=Ss(ue);function eo(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,n=new WeakMap;return(eo=function(a){return a?n:o})(e)}function Ss(e,o){if(e&&e.__esModule)return e;if(e===null||We(e)!=="object"&&typeof e!="function")return{default:e};var n=eo(o);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(c!=="default"&&Object.prototype.hasOwnProperty.call(e,c)){var d=s?Object.getOwnPropertyDescriptor(e,c):null;d&&(d.get||d.set)?Object.defineProperty(a,c,d):a[c]=e[c]}return a.default=e,n&&n.set(e,a),a}function We(e){"@babel/helpers - typeof";return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},We(e)}function Ps(e,o){var n=e&&e.navigator,a=e&&e.MediaStreamTrack;if(n.getUserMedia=function(l,p,y){Es.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(l).then(p,y)},!(o.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var s=function(l,p,y){p in l&&!(y in l)&&(l[y]=l[p],delete l[p])},c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(l){return We(l)==="object"&&We(l.audio)==="object"&&(l=JSON.parse(JSON.stringify(l)),s(l.audio,"autoGainControl","mozAutoGainControl"),s(l.audio,"noiseSuppression","mozNoiseSuppression")),c(l)},a&&a.prototype.getSettings){var d=a.prototype.getSettings;a.prototype.getSettings=function(){var l=d.apply(this,arguments);return s(l,"mozAutoGainControl","autoGainControl"),s(l,"mozNoiseSuppression","noiseSuppression"),l}}if(a&&a.prototype.applyConstraints){var h=a.prototype.applyConstraints;a.prototype.applyConstraints=function(l){return this.kind==="audio"&&We(l)==="object"&&(l=JSON.parse(JSON.stringify(l)),s(l,"autoGainControl","mozAutoGainControl"),s(l,"noiseSuppression","mozNoiseSuppression")),h.apply(this,[l])}}}}var be={};Object.defineProperty(be,"__esModule",{value:!0});be.shimAudioContext=ks;be.shimCallbacksAPI=Rs;be.shimConstraints=no;be.shimCreateOfferLegacy=Bs;var _s=be.shimGetUserMedia=Ds;be.shimLocalStreamsAPI=Ms;be.shimRTCIceServerUrls=Os;be.shimRemoteStreamsAPI=$s;be.shimTrackEventTransceiver=Is;var to=As(ue);function ro(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,n=new WeakMap;return(ro=function(a){return a?n:o})(e)}function As(e,o){if(e&&e.__esModule)return e;if(e===null||De(e)!=="object"&&typeof e!="function")return{default:e};var n=ro(o);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(c!=="default"&&Object.prototype.hasOwnProperty.call(e,c)){var d=s?Object.getOwnPropertyDescriptor(e,c):null;d&&(d.get||d.set)?Object.defineProperty(a,c,d):a[c]=e[c]}return a.default=e,n&&n.set(e,a),a}function De(e){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},De(e)}function Ms(e){if(!(De(e)!=="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var o=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){var a=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(function(s){return o.call(a,s,n)}),n.getVideoTracks().forEach(function(s){return o.call(a,s,n)})},e.RTCPeerConnection.prototype.addTrack=function(n){for(var a=this,s=arguments.length,c=new Array(s>1?s-1:0),d=1;d<s;d++)c[d-1]=arguments[d];return c&&c.forEach(function(h){a._localStreams?a._localStreams.includes(h)||a._localStreams.push(h):a._localStreams=[h]}),o.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){var a=this;this._localStreams||(this._localStreams=[]);var s=this._localStreams.indexOf(n);if(s!==-1){this._localStreams.splice(s,1);var c=n.getTracks();this.getSenders().forEach(function(d){c.includes(d.track)&&a.removeTrack(d)})}})}}function $s(e){if(!(De(e)!=="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(n){var a=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(function(c){if(a._remoteStreams||(a._remoteStreams=[]),!a._remoteStreams.includes(c)){a._remoteStreams.push(c);var d=new Event("addstream");d.stream=c,a.dispatchEvent(d)}})})}});var o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(function(s){if(n._remoteStreams||(n._remoteStreams=[]),!(n._remoteStreams.indexOf(s)>=0)){n._remoteStreams.push(s);var c=new Event("addstream");c.stream=s,n.dispatchEvent(c)}})}),o.apply(n,arguments)}}}function Rs(e){if(!(De(e)!=="object"||!e.RTCPeerConnection)){var o=e.RTCPeerConnection.prototype,n=o.createOffer,a=o.createAnswer,s=o.setLocalDescription,c=o.setRemoteDescription,d=o.addIceCandidate;o.createOffer=function(l,p){var y=arguments.length>=2?arguments[2]:arguments[0],w=n.apply(this,[y]);return p?(w.then(l,p),Promise.resolve()):w},o.createAnswer=function(l,p){var y=arguments.length>=2?arguments[2]:arguments[0],w=a.apply(this,[y]);return p?(w.then(l,p),Promise.resolve()):w};var h=function(l,p,y){var w=s.apply(this,[l]);return y?(w.then(p,y),Promise.resolve()):w};o.setLocalDescription=h,h=function(l,p,y){var w=c.apply(this,[l]);return y?(w.then(p,y),Promise.resolve()):w},o.setRemoteDescription=h,h=function(l,p,y){var w=d.apply(this,[l]);return y?(w.then(p,y),Promise.resolve()):w},o.addIceCandidate=h}}function Ds(e){var o=e&&e.navigator;if(o.mediaDevices&&o.mediaDevices.getUserMedia){var n=o.mediaDevices,a=n.getUserMedia.bind(n);o.mediaDevices.getUserMedia=function(s){return a(no(s))}}!o.getUserMedia&&o.mediaDevices&&o.mediaDevices.getUserMedia&&(o.getUserMedia=(function(s,c,d){o.mediaDevices.getUserMedia(s).then(c,d)}).bind(o))}function no(e){return e&&e.video!==void 0?Object.assign({},e,{video:to.compactObject(e.video)}):e}function Os(e){if(e.RTCPeerConnection){var o=e.RTCPeerConnection;e.RTCPeerConnection=function(n,a){if(n&&n.iceServers){for(var s=[],c=0;c<n.iceServers.length;c++){var d=n.iceServers[c];d.urls===void 0&&d.url?(to.deprecated("RTCIceServer.url","RTCIceServer.urls"),d=JSON.parse(JSON.stringify(d)),d.urls=d.url,delete d.url,s.push(d)):s.push(n.iceServers[c])}n.iceServers=s}return new o(n,a)},e.RTCPeerConnection.prototype=o.prototype,"generateCertificate"in o&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return o.generateCertificate}})}}function Is(e){De(e)==="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Bs(e){var o=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);var a=this.getTransceivers().find(function(c){return c.receiver.track.kind==="audio"});n.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):n.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);var s=this.getTransceivers().find(function(c){return c.receiver.track.kind==="video"});n.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):n.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return o.apply(this,arguments)}}function ks(e){De(e)!=="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const js=e=>{let o=!1,n;return(...a)=>(o||(n=e(a),o=!0),n)};function ye(e,o){if(e===!1)throw new Error(o??"assertion failure")}function en(e){throw new Error("this code should be unreachable")}const Ns=js(()=>{const e=ss(window);switch(e.browser){case"chrome":ys(window,e);break;case"firefox":Ts(window,e);break;case"safari":_s(window,e);break;default:throw new Wn}});let ze=Promise.resolve({type:"stop",data:{}});async function tn(e,o,n){var a,s,c;if(console.debug("[vue-qrcode-reader] starting camera with constraints: ",JSON.stringify(o)),window.isSecureContext!==!0)throw new os;if(((a=navigator?.mediaDevices)==null?void 0:a.getUserMedia)===void 0)throw new Wn;Ns(),console.debug("[vue-qrcode-reader] calling getUserMedia");const d=await navigator.mediaDevices.getUserMedia({audio:!1,video:o});e.srcObject!==void 0?e.srcObject=d:e.mozSrcObject!==void 0?e.mozSrcObject=d:window.URL.createObjectURL?e.src=window.URL.createObjectURL(d):window.webkitURL?e.src=window.webkitURL.createObjectURL(d):e.src=d.id,e.play(),console.debug("[vue-qrcode-reader] waiting for video element to load"),await Promise.race([Vn(e,"loadeddata"),Qr(6e3).then(()=>{throw new is})]),console.debug("[vue-qrcode-reader] video element loaded"),await Qr(500);const[h]=d.getVideoTracks(),l=(c=(s=h?.getCapabilities)==null?void 0:s.call(h))!=null?c:{};let p=!1;return n&&l.torch&&(await h.applyConstraints({advanced:[{torch:!0}]}),p=!0),console.debug("[vue-qrcode-reader] camera ready"),{type:"start",data:{videoEl:e,stream:d,capabilities:l,constraints:o,isTorchOn:p}}}async function Fs(e,{constraints:o,torch:n,restart:a=!1}){ze=ze.then(c=>{if(c.type==="start"){const{data:{videoEl:d,stream:h,constraints:l,isTorchOn:p}}=c;return!a&&e===d&&o===l&&n===p?c:oo(d,h,p).then(()=>tn(e,o,n))}else if(c.type==="stop"||c.type==="failed")return tn(e,o,n);en()}).catch(c=>(console.debug(`[vue-qrcode-reader] starting camera failed with "${c}"`),{type:"failed",error:c}));const s=await ze;if(s.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");if(s.type==="failed")throw s.error;if(s.type==="start")return s.data.capabilities;en()}async function oo(e,o,n){console.debug("[vue-qrcode-reader] stopping camera"),e.src="",e.srcObject=null,e.load(),await Vn(e,"error");for(const a of o.getTracks())n!=null||await a.applyConstraints({advanced:[{torch:!1}]}),o.removeTrack(a),a.stop();return{type:"stop",data:{}}}async function wt(){if(ze=ze.then(e=>{if(e.type==="stop"||e.type==="failed")return e;const{data:{videoEl:o,stream:n,isTorchOn:a}}=e;return oo(o,n,a)}),(await ze).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const cu=ya({__name:"QrcodeStream",props:{constraints:{default:()=>({facingMode:"environment"})},formats:{default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function,default:void 0}},emits:["detect","camera-on","camera-off","error"],setup(e,{emit:o}){const n=e,a=o,s=Ne(n.constraints),c=Ne(n.formats);rt(()=>n.constraints,(A,E)=>{JSON.stringify(A)!==JSON.stringify(E)&&(s.value=A)},{deep:!0}),rt(()=>n.formats,(A,E)=>{JSON.stringify(A)!==JSON.stringify(E)&&(c.value=A)},{deep:!0});const d=Ne(),h=Ne(),l=Ne(),p=Ne(!1),y=Ne(!1);wa(()=>{y.value=!0}),ba(()=>{wt()});const w=Ht(()=>({torch:n.torch,constraints:s.value,shouldStream:y.value&&!n.paused}));rt(w,async A=>{const E=l.value;ye(E!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const I=d.value;ye(I!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const D=I.getContext("2d");if(ye(D!==null,"if cavnas is defined, canvas 2d context should also be non-null"),A.shouldStream){wt(),p.value=!1;try{const k=await Fs(E,A);y.value?(p.value=!0,a("camera-on",k)):await wt()}catch(k){a("error",k)}}else I.width=E.videoWidth,I.height=E.videoHeight,D.drawImage(E,0,0,E.videoWidth,E.videoHeight),wt(),p.value=!1,a("camera-off")},{deep:!0}),rt(c,A=>{y.value&&Jn(A)});const P=Ht(()=>w.value.shouldStream&&p.value);rt(P,A=>{if(A){ye(d.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),T(d.value),ye(h.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),T(h.value);const E=()=>n.track===void 0?500:40;ye(l.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),as(l.value,{detectHandler:I=>a("detect",I),formats:c.value,locateHandler:_,minDelay:E()})}});const T=A=>{const E=A.getContext("2d");ye(E!==null,"canvas 2d context should always be non-null"),E.clearRect(0,0,A.width,A.height)},_=A=>{const E=h.value;ye(E!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const I=l.value;if(ye(I!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),A.length===0||n.track===void 0)T(E);else{const D=I.offsetWidth,k=I.offsetHeight,j=I.videoWidth,O=I.videoHeight,U=Math.max(D/j,k/O),N=j*U,L=O*U,F=N/j,V=L/O,fe=(D-N)/2,Ce=(k-L)/2,Oe=({x:le,y:ae})=>({x:Math.floor(le*F),y:Math.floor(ae*V)}),ce=({x:le,y:ae})=>({x:Math.floor(le+fe),y:Math.floor(ae+Ce)}),Te=A.map(le=>{const{boundingBox:ae,cornerPoints:Ie}=le,{x:Ue,y:he}=ce(Oe({x:ae.x,y:ae.y})),{x:Be,y:de}=Oe({x:ae.width,y:ae.height});return{...le,cornerPoints:Ie.map(se=>ce(Oe(se))),boundingBox:DOMRectReadOnly.fromRect({x:Ue,y:he,width:Be,height:de})}});E.width=I.offsetWidth,E.height=I.offsetHeight;const _e=E.getContext("2d");ye(_e!==null,"canvas 2d context should always be non-null"),n.track(Te,_e)}},R={width:"100%",height:"100%",position:"relative","z-index":"0"},W={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},$={width:"100%",height:"100%","object-fit":"cover"},H=Ht(()=>P.value?$:{...$,visibility:"hidden",position:"absolute"});return(A,E)=>(Ta(),Ca("div",{style:R},[yt("video",{ref_key:"videoRef",ref:l,style:Sa(H.value),autoplay:"",muted:"",playsinline:""},null,4),Ea(yt("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:d,style:$},null,512),[[Pa,!P.value]]),yt("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:h,style:W},null,512),yt("div",{style:W},[_a(A.$slots,"default")])]))}});var Ve={},Vt,rn;function Ls(){return rn||(rn=1,Vt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Vt}var Wt={},Me={},nn;function Fe(){if(nn)return Me;nn=1;let e;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Me.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},Me.getSymbolTotalCodewords=function(a){return o[a]},Me.getBCHDigit=function(n){let a=0;for(;n!==0;)a++,n>>>=1;return a},Me.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');e=a},Me.isKanjiModeEnabled=function(){return typeof e<"u"},Me.toSJIS=function(a){return e(a)},Me}var zt={},on;function pr(){return on||(on=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function o(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},e.from=function(a,s){if(e.isValid(a))return a;try{return o(a)}catch{return s}}})(zt)),zt}var Jt,an;function Us(){if(an)return Jt;an=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(o){const n=Math.floor(o/8);return(this.buffer[n]>>>7-o%8&1)===1},put:function(o,n){for(let a=0;a<n;a++)this.putBit((o>>>n-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),o&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Jt=e,Jt}var Yt,sn;function xs(){if(sn)return Yt;sn=1;function e(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}return e.prototype.set=function(o,n,a,s){const c=o*this.size+n;this.data[c]=a,s&&(this.reservedBit[c]=!0)},e.prototype.get=function(o,n){return this.data[o*this.size+n]},e.prototype.xor=function(o,n,a){this.data[o*this.size+n]^=a},e.prototype.isReserved=function(o,n){return this.reservedBit[o*this.size+n]},Yt=e,Yt}var Gt={},un;function qs(){return un||(un=1,(function(e){const o=Fe().getSymbolSize;e.getRowColCoords=function(a){if(a===1)return[];const s=Math.floor(a/7)+2,c=o(a),d=c===145?26:Math.ceil((c-13)/(2*s-2))*2,h=[c-7];for(let l=1;l<s-1;l++)h[l]=h[l-1]-d;return h.push(6),h.reverse()},e.getPositions=function(a){const s=[],c=e.getRowColCoords(a),d=c.length;for(let h=0;h<d;h++)for(let l=0;l<d;l++)h===0&&l===0||h===0&&l===d-1||h===d-1&&l===0||s.push([c[h],c[l]]);return s}})(Gt)),Gt}var Kt={},cn;function Hs(){if(cn)return Kt;cn=1;const e=Fe().getSymbolSize,o=7;return Kt.getPositions=function(a){const s=e(a);return[[0,0],[s-o,0],[0,s-o]]},Kt}var Qt={},ln;function Vs(){return ln||(ln=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const o={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const c=s.size;let d=0,h=0,l=0,p=null,y=null;for(let w=0;w<c;w++){h=l=0,p=y=null;for(let P=0;P<c;P++){let T=s.get(w,P);T===p?h++:(h>=5&&(d+=o.N1+(h-5)),p=T,h=1),T=s.get(P,w),T===y?l++:(l>=5&&(d+=o.N1+(l-5)),y=T,l=1)}h>=5&&(d+=o.N1+(h-5)),l>=5&&(d+=o.N1+(l-5))}return d},e.getPenaltyN2=function(s){const c=s.size;let d=0;for(let h=0;h<c-1;h++)for(let l=0;l<c-1;l++){const p=s.get(h,l)+s.get(h,l+1)+s.get(h+1,l)+s.get(h+1,l+1);(p===4||p===0)&&d++}return d*o.N2},e.getPenaltyN3=function(s){const c=s.size;let d=0,h=0,l=0;for(let p=0;p<c;p++){h=l=0;for(let y=0;y<c;y++)h=h<<1&2047|s.get(p,y),y>=10&&(h===1488||h===93)&&d++,l=l<<1&2047|s.get(y,p),y>=10&&(l===1488||l===93)&&d++}return d*o.N3},e.getPenaltyN4=function(s){let c=0;const d=s.data.length;for(let l=0;l<d;l++)c+=s.data[l];return Math.abs(Math.ceil(c*100/d/5)-10)*o.N4};function n(a,s,c){switch(a){case e.Patterns.PATTERN000:return(s+c)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return c%3===0;case e.Patterns.PATTERN011:return(s+c)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(c/3))%2===0;case e.Patterns.PATTERN101:return s*c%2+s*c%3===0;case e.Patterns.PATTERN110:return(s*c%2+s*c%3)%2===0;case e.Patterns.PATTERN111:return(s*c%3+(s+c)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}e.applyMask=function(s,c){const d=c.size;for(let h=0;h<d;h++)for(let l=0;l<d;l++)c.isReserved(l,h)||c.xor(l,h,n(s,l,h))},e.getBestMask=function(s,c){const d=Object.keys(e.Patterns).length;let h=0,l=1/0;for(let p=0;p<d;p++){c(p),e.applyMask(p,s);const y=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(p,s),y<l&&(l=y,h=p)}return h}})(Qt)),Qt}var bt={},dn;function io(){if(dn)return bt;dn=1;const e=pr(),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return bt.getBlocksCount=function(s,c){switch(c){case e.L:return o[(s-1)*4+0];case e.M:return o[(s-1)*4+1];case e.Q:return o[(s-1)*4+2];case e.H:return o[(s-1)*4+3];default:return}},bt.getTotalCodewordsCount=function(s,c){switch(c){case e.L:return n[(s-1)*4+0];case e.M:return n[(s-1)*4+1];case e.Q:return n[(s-1)*4+2];case e.H:return n[(s-1)*4+3];default:return}},bt}var Xt={},nt={},fn;function Ws(){if(fn)return nt;fn=1;const e=new Uint8Array(512),o=new Uint8Array(256);return(function(){let a=1;for(let s=0;s<255;s++)e[s]=a,o[a]=s,a<<=1,a&256&&(a^=285);for(let s=255;s<512;s++)e[s]=e[s-255]})(),nt.log=function(a){if(a<1)throw new Error("log("+a+")");return o[a]},nt.exp=function(a){return e[a]},nt.mul=function(a,s){return a===0||s===0?0:e[o[a]+o[s]]},nt}var hn;function zs(){return hn||(hn=1,(function(e){const o=Ws();e.mul=function(a,s){const c=new Uint8Array(a.length+s.length-1);for(let d=0;d<a.length;d++)for(let h=0;h<s.length;h++)c[d+h]^=o.mul(a[d],s[h]);return c},e.mod=function(a,s){let c=new Uint8Array(a);for(;c.length-s.length>=0;){const d=c[0];for(let l=0;l<s.length;l++)c[l]^=o.mul(s[l],d);let h=0;for(;h<c.length&&c[h]===0;)h++;c=c.slice(h)}return c},e.generateECPolynomial=function(a){let s=new Uint8Array([1]);for(let c=0;c<a;c++)s=e.mul(s,new Uint8Array([1,o.exp(c)]));return s}})(Xt)),Xt}var Zt,gn;function Js(){if(gn)return Zt;gn=1;const e=zs();function o(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return o.prototype.initialize=function(a){this.degree=a,this.genPoly=e.generateECPolynomial(this.degree)},o.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(a.length+this.degree);s.set(a);const c=e.mod(s,this.genPoly),d=this.degree-c.length;if(d>0){const h=new Uint8Array(this.degree);return h.set(c,d),h}return c},Zt=o,Zt}var er={},tr={},rr={},pn;function ao(){return pn||(pn=1,rr.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}),rr}var we={},mn;function so(){if(mn)return we;mn=1;const e="[0-9]+",o="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;we.KANJI=new RegExp(n,"g"),we.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),we.BYTE=new RegExp(a,"g"),we.NUMERIC=new RegExp(e,"g"),we.ALPHANUMERIC=new RegExp(o,"g");const s=new RegExp("^"+n+"$"),c=new RegExp("^"+e+"$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return we.testKanji=function(l){return s.test(l)},we.testNumeric=function(l){return c.test(l)},we.testAlphanumeric=function(l){return d.test(l)},we}var vn;function Le(){return vn||(vn=1,(function(e){const o=ao(),n=so();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(c,d){if(!c.ccBits)throw new Error("Invalid mode: "+c);if(!o.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?c.ccBits[0]:d<27?c.ccBits[1]:c.ccBits[2]},e.getBestModeForData=function(c){return n.testNumeric(c)?e.NUMERIC:n.testAlphanumeric(c)?e.ALPHANUMERIC:n.testKanji(c)?e.KANJI:e.BYTE},e.toString=function(c){if(c&&c.id)return c.id;throw new Error("Invalid mode")},e.isValid=function(c){return c&&c.bit&&c.ccBits};function a(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(c,d){if(e.isValid(c))return c;try{return a(c)}catch{return d}}})(tr)),tr}var yn;function Ys(){return yn||(yn=1,(function(e){const o=Fe(),n=io(),a=pr(),s=Le(),c=ao(),d=7973,h=o.getBCHDigit(d);function l(P,T,_){for(let R=1;R<=40;R++)if(T<=e.getCapacity(R,_,P))return R}function p(P,T){return s.getCharCountIndicator(P,T)+4}function y(P,T){let _=0;return P.forEach(function(R){const W=p(R.mode,T);_+=W+R.getBitsLength()}),_}function w(P,T){for(let _=1;_<=40;_++)if(y(P,_)<=e.getCapacity(_,T,s.MIXED))return _}e.from=function(T,_){return c.isValid(T)?parseInt(T,10):_},e.getCapacity=function(T,_,R){if(!c.isValid(T))throw new Error("Invalid QR Code version");typeof R>"u"&&(R=s.BYTE);const W=o.getSymbolTotalCodewords(T),$=n.getTotalCodewordsCount(T,_),H=(W-$)*8;if(R===s.MIXED)return H;const A=H-p(R,T);switch(R){case s.NUMERIC:return Math.floor(A/10*3);case s.ALPHANUMERIC:return Math.floor(A/11*2);case s.KANJI:return Math.floor(A/13);case s.BYTE:default:return Math.floor(A/8)}},e.getBestVersionForData=function(T,_){let R;const W=a.from(_,a.M);if(Array.isArray(T)){if(T.length>1)return w(T,W);if(T.length===0)return 1;R=T[0]}else R=T;return l(R.mode,R.getLength(),W)},e.getEncodedBits=function(T){if(!c.isValid(T)||T<7)throw new Error("Invalid QR Code version");let _=T<<12;for(;o.getBCHDigit(_)-h>=0;)_^=d<<o.getBCHDigit(_)-h;return T<<12|_}})(er)),er}var nr={},wn;function Gs(){if(wn)return nr;wn=1;const e=Fe(),o=1335,n=21522,a=e.getBCHDigit(o);return nr.getEncodedBits=function(c,d){const h=c.bit<<3|d;let l=h<<10;for(;e.getBCHDigit(l)-a>=0;)l^=o<<e.getBCHDigit(l)-a;return(h<<10|l)^n},nr}var or={},ir,bn;function Ks(){if(bn)return ir;bn=1;const e=Le();function o(n){this.mode=e.NUMERIC,this.data=n.toString()}return o.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(a){let s,c,d;for(s=0;s+3<=this.data.length;s+=3)c=this.data.substr(s,3),d=parseInt(c,10),a.put(d,10);const h=this.data.length-s;h>0&&(c=this.data.substr(s),d=parseInt(c,10),a.put(d,h*3+1))},ir=o,ir}var ar,Cn;function Qs(){if(Cn)return ar;Cn=1;const e=Le(),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(a){this.mode=e.ALPHANUMERIC,this.data=a}return n.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let c;for(c=0;c+2<=this.data.length;c+=2){let d=o.indexOf(this.data[c])*45;d+=o.indexOf(this.data[c+1]),s.put(d,11)}this.data.length%2&&s.put(o.indexOf(this.data[c]),6)},ar=n,ar}var sr,Tn;function Xs(){if(Tn)return sr;Tn=1;const e=Le();function o(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return o.getBitsLength=function(a){return a*8},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(n){for(let a=0,s=this.data.length;a<s;a++)n.put(this.data[a],8)},sr=o,sr}var ur,En;function Zs(){if(En)return ur;En=1;const e=Le(),o=Fe();function n(a){this.mode=e.KANJI,this.data=a}return n.getBitsLength=function(s){return s*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let s;for(s=0;s<this.data.length;s++){let c=o.toSJIS(this.data[s]);if(c>=33088&&c<=40956)c-=33088;else if(c>=57408&&c<=60351)c-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);c=(c>>>8&255)*192+(c&255),a.put(c,13)}},ur=n,ur}var cr={exports:{}},Sn;function eu(){return Sn||(Sn=1,(function(e){var o={single_source_shortest_paths:function(n,a,s){var c={},d={};d[a]=0;var h=o.PriorityQueue.make();h.push(a,0);for(var l,p,y,w,P,T,_,R,W;!h.empty();){l=h.pop(),p=l.value,w=l.cost,P=n[p]||{};for(y in P)P.hasOwnProperty(y)&&(T=P[y],_=w+T,R=d[y],W=typeof d[y]>"u",(W||R>_)&&(d[y]=_,h.push(y,_),c[y]=p))}if(typeof s<"u"&&typeof d[s]>"u"){var $=["Could not find a path from ",a," to ",s,"."].join("");throw new Error($)}return c},extract_shortest_path_from_predecessor_list:function(n,a){for(var s=[],c=a;c;)s.push(c),n[c],c=n[c];return s.reverse(),s},find_path:function(n,a,s){var c=o.single_source_shortest_paths(n,a,s);return o.extract_shortest_path_from_predecessor_list(c,s)},PriorityQueue:{make:function(n){var a=o.PriorityQueue,s={},c;n=n||{};for(c in a)a.hasOwnProperty(c)&&(s[c]=a[c]);return s.queue=[],s.sorter=n.sorter||a.default_sorter,s},default_sorter:function(n,a){return n.cost-a.cost},push:function(n,a){var s={value:n,cost:a};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=o})(cr)),cr.exports}var Pn;function tu(){return Pn||(Pn=1,(function(e){const o=Le(),n=Ks(),a=Qs(),s=Xs(),c=Zs(),d=so(),h=Fe(),l=eu();function p($){return unescape(encodeURIComponent($)).length}function y($,H,A){const E=[];let I;for(;(I=$.exec(A))!==null;)E.push({data:I[0],index:I.index,mode:H,length:I[0].length});return E}function w($){const H=y(d.NUMERIC,o.NUMERIC,$),A=y(d.ALPHANUMERIC,o.ALPHANUMERIC,$);let E,I;return h.isKanjiModeEnabled()?(E=y(d.BYTE,o.BYTE,$),I=y(d.KANJI,o.KANJI,$)):(E=y(d.BYTE_KANJI,o.BYTE,$),I=[]),H.concat(A,E,I).sort(function(k,j){return k.index-j.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function P($,H){switch(H){case o.NUMERIC:return n.getBitsLength($);case o.ALPHANUMERIC:return a.getBitsLength($);case o.KANJI:return c.getBitsLength($);case o.BYTE:return s.getBitsLength($)}}function T($){return $.reduce(function(H,A){const E=H.length-1>=0?H[H.length-1]:null;return E&&E.mode===A.mode?(H[H.length-1].data+=A.data,H):(H.push(A),H)},[])}function _($){const H=[];for(let A=0;A<$.length;A++){const E=$[A];switch(E.mode){case o.NUMERIC:H.push([E,{data:E.data,mode:o.ALPHANUMERIC,length:E.length},{data:E.data,mode:o.BYTE,length:E.length}]);break;case o.ALPHANUMERIC:H.push([E,{data:E.data,mode:o.BYTE,length:E.length}]);break;case o.KANJI:H.push([E,{data:E.data,mode:o.BYTE,length:p(E.data)}]);break;case o.BYTE:H.push([{data:E.data,mode:o.BYTE,length:p(E.data)}])}}return H}function R($,H){const A={},E={start:{}};let I=["start"];for(let D=0;D<$.length;D++){const k=$[D],j=[];for(let O=0;O<k.length;O++){const U=k[O],N=""+D+O;j.push(N),A[N]={node:U,lastCount:0},E[N]={};for(let L=0;L<I.length;L++){const F=I[L];A[F]&&A[F].node.mode===U.mode?(E[F][N]=P(A[F].lastCount+U.length,U.mode)-P(A[F].lastCount,U.mode),A[F].lastCount+=U.length):(A[F]&&(A[F].lastCount=U.length),E[F][N]=P(U.length,U.mode)+4+o.getCharCountIndicator(U.mode,H))}}I=j}for(let D=0;D<I.length;D++)E[I[D]].end=0;return{map:E,table:A}}function W($,H){let A;const E=o.getBestModeForData($);if(A=o.from(H,E),A!==o.BYTE&&A.bit<E.bit)throw new Error('"'+$+'" cannot be encoded with mode '+o.toString(A)+`.
 Suggested mode is: `+o.toString(E));switch(A===o.KANJI&&!h.isKanjiModeEnabled()&&(A=o.BYTE),A){case o.NUMERIC:return new n($);case o.ALPHANUMERIC:return new a($);case o.KANJI:return new c($);case o.BYTE:return new s($)}}e.fromArray=function(H){return H.reduce(function(A,E){return typeof E=="string"?A.push(W(E,null)):E.data&&A.push(W(E.data,E.mode)),A},[])},e.fromString=function(H,A){const E=w(H,h.isKanjiModeEnabled()),I=_(E),D=R(I,A),k=l.find_path(D.map,"start","end"),j=[];for(let O=1;O<k.length-1;O++)j.push(D.table[k[O]].node);return e.fromArray(T(j))},e.rawSplit=function(H){return e.fromArray(w(H,h.isKanjiModeEnabled()))}})(or)),or}var _n;function ru(){if(_n)return Wt;_n=1;const e=Fe(),o=pr(),n=Us(),a=xs(),s=qs(),c=Hs(),d=Vs(),h=io(),l=Js(),p=Ys(),y=Gs(),w=Le(),P=tu();function T(D,k){const j=D.size,O=c.getPositions(k);for(let U=0;U<O.length;U++){const N=O[U][0],L=O[U][1];for(let F=-1;F<=7;F++)if(!(N+F<=-1||j<=N+F))for(let V=-1;V<=7;V++)L+V<=-1||j<=L+V||(F>=0&&F<=6&&(V===0||V===6)||V>=0&&V<=6&&(F===0||F===6)||F>=2&&F<=4&&V>=2&&V<=4?D.set(N+F,L+V,!0,!0):D.set(N+F,L+V,!1,!0))}}function _(D){const k=D.size;for(let j=8;j<k-8;j++){const O=j%2===0;D.set(j,6,O,!0),D.set(6,j,O,!0)}}function R(D,k){const j=s.getPositions(k);for(let O=0;O<j.length;O++){const U=j[O][0],N=j[O][1];for(let L=-2;L<=2;L++)for(let F=-2;F<=2;F++)L===-2||L===2||F===-2||F===2||L===0&&F===0?D.set(U+L,N+F,!0,!0):D.set(U+L,N+F,!1,!0)}}function W(D,k){const j=D.size,O=p.getEncodedBits(k);let U,N,L;for(let F=0;F<18;F++)U=Math.floor(F/3),N=F%3+j-8-3,L=(O>>F&1)===1,D.set(U,N,L,!0),D.set(N,U,L,!0)}function $(D,k,j){const O=D.size,U=y.getEncodedBits(k,j);let N,L;for(N=0;N<15;N++)L=(U>>N&1)===1,N<6?D.set(N,8,L,!0):N<8?D.set(N+1,8,L,!0):D.set(O-15+N,8,L,!0),N<8?D.set(8,O-N-1,L,!0):N<9?D.set(8,15-N-1+1,L,!0):D.set(8,15-N-1,L,!0);D.set(O-8,8,1,!0)}function H(D,k){const j=D.size;let O=-1,U=j-1,N=7,L=0;for(let F=j-1;F>0;F-=2)for(F===6&&F--;;){for(let V=0;V<2;V++)if(!D.isReserved(U,F-V)){let fe=!1;L<k.length&&(fe=(k[L]>>>N&1)===1),D.set(U,F-V,fe),N--,N===-1&&(L++,N=7)}if(U+=O,U<0||j<=U){U-=O,O=-O;break}}}function A(D,k,j){const O=new n;j.forEach(function(V){O.put(V.mode.bit,4),O.put(V.getLength(),w.getCharCountIndicator(V.mode,D)),V.write(O)});const U=e.getSymbolTotalCodewords(D),N=h.getTotalCodewordsCount(D,k),L=(U-N)*8;for(O.getLengthInBits()+4<=L&&O.put(0,4);O.getLengthInBits()%8!==0;)O.putBit(0);const F=(L-O.getLengthInBits())/8;for(let V=0;V<F;V++)O.put(V%2?17:236,8);return E(O,D,k)}function E(D,k,j){const O=e.getSymbolTotalCodewords(k),U=h.getTotalCodewordsCount(k,j),N=O-U,L=h.getBlocksCount(k,j),F=O%L,V=L-F,fe=Math.floor(O/L),Ce=Math.floor(N/L),Oe=Ce+1,ce=fe-Ce,Te=new l(ce);let _e=0;const le=new Array(L),ae=new Array(L);let Ie=0;const Ue=new Uint8Array(D.buffer);for(let Ae=0;Ae<L;Ae++){const Ye=Ae<V?Ce:Oe;le[Ae]=Ue.slice(_e,_e+Ye),ae[Ae]=Te.encode(le[Ae]),_e+=Ye,Ie=Math.max(Ie,Ye)}const he=new Uint8Array(O);let Be=0,de,se;for(de=0;de<Ie;de++)for(se=0;se<L;se++)de<le[se].length&&(he[Be++]=le[se][de]);for(de=0;de<ce;de++)for(se=0;se<L;se++)he[Be++]=ae[se][de];return he}function I(D,k,j,O){let U;if(Array.isArray(D))U=P.fromArray(D);else if(typeof D=="string"){let fe=k;if(!fe){const Ce=P.rawSplit(D);fe=p.getBestVersionForData(Ce,j)}U=P.fromString(D,fe||40)}else throw new Error("Invalid data");const N=p.getBestVersionForData(U,j);if(!N)throw new Error("The amount of data is too big to be stored in a QR Code");if(!k)k=N;else if(k<N)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+N+`.
`);const L=A(k,j,U),F=e.getSymbolSize(k),V=new a(F);return T(V,k),_(V),R(V,k),$(V,j,0),k>=7&&W(V,k),H(V,L),isNaN(O)&&(O=d.getBestMask(V,$.bind(null,V,j))),d.applyMask(O,V),$(V,j,O),{modules:V,version:k,errorCorrectionLevel:j,maskPattern:O,segments:U}}return Wt.create=function(k,j){if(typeof k>"u"||k==="")throw new Error("No input text");let O=o.M,U,N;return typeof j<"u"&&(O=o.from(j.errorCorrectionLevel,o.M),U=p.from(j.version),N=d.from(j.maskPattern),j.toSJISFunc&&e.setToSJISFunction(j.toSJISFunc)),I(k,U,O,N)},Wt}var lr={},dr={},An;function uo(){return An||(An=1,(function(e){function o(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let a=n.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+n);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(c){return[c,c]}))),a.length===6&&a.push("F","F");const s=parseInt(a.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+a.slice(0,6).join("")}}e.getOptions=function(a){a||(a={}),a.color||(a.color={});const s=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,c=a.width&&a.width>=21?a.width:void 0,d=a.scale||4;return{width:c,scale:c?4:d,margin:s,color:{dark:o(a.color.dark||"#000000ff"),light:o(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},e.getScale=function(a,s){return s.width&&s.width>=a+s.margin*2?s.width/(a+s.margin*2):s.scale},e.getImageWidth=function(a,s){const c=e.getScale(a,s);return Math.floor((a+s.margin*2)*c)},e.qrToImageData=function(a,s,c){const d=s.modules.size,h=s.modules.data,l=e.getScale(d,c),p=Math.floor((d+c.margin*2)*l),y=c.margin*l,w=[c.color.light,c.color.dark];for(let P=0;P<p;P++)for(let T=0;T<p;T++){let _=(P*p+T)*4,R=c.color.light;if(P>=y&&T>=y&&P<p-y&&T<p-y){const W=Math.floor((P-y)/l),$=Math.floor((T-y)/l);R=w[h[W*d+$]?1:0]}a[_++]=R.r,a[_++]=R.g,a[_++]=R.b,a[_]=R.a}}})(dr)),dr}var Mn;function nu(){return Mn||(Mn=1,(function(e){const o=uo();function n(s,c,d){s.clearRect(0,0,c.width,c.height),c.style||(c.style={}),c.height=d,c.width=d,c.style.height=d+"px",c.style.width=d+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(c,d,h){let l=h,p=d;typeof l>"u"&&(!d||!d.getContext)&&(l=d,d=void 0),d||(p=a()),l=o.getOptions(l);const y=o.getImageWidth(c.modules.size,l),w=p.getContext("2d"),P=w.createImageData(y,y);return o.qrToImageData(P.data,c,l),n(w,p,y),w.putImageData(P,0,0),p},e.renderToDataURL=function(c,d,h){let l=h;typeof l>"u"&&(!d||!d.getContext)&&(l=d,d=void 0),l||(l={});const p=e.render(c,d,l),y=l.type||"image/png",w=l.rendererOpts||{};return p.toDataURL(y,w.quality)}})(lr)),lr}var fr={},$n;function ou(){if($n)return fr;$n=1;const e=uo();function o(s,c){const d=s.a/255,h=c+'="'+s.hex+'"';return d<1?h+" "+c+'-opacity="'+d.toFixed(2).slice(1)+'"':h}function n(s,c,d){let h=s+c;return typeof d<"u"&&(h+=" "+d),h}function a(s,c,d){let h="",l=0,p=!1,y=0;for(let w=0;w<s.length;w++){const P=Math.floor(w%c),T=Math.floor(w/c);!P&&!p&&(p=!0),s[w]?(y++,w>0&&P>0&&s[w-1]||(h+=p?n("M",P+d,.5+T+d):n("m",l,0),l=0,p=!1),P+1<c&&s[w+1]||(h+=n("h",y),y=0)):l++}return h}return fr.render=function(c,d,h){const l=e.getOptions(d),p=c.modules.size,y=c.modules.data,w=p+l.margin*2,P=l.color.light.a?"<path "+o(l.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",T="<path "+o(l.color.dark,"stroke")+' d="'+a(y,p,l.margin)+'"/>',_='viewBox="0 0 '+w+" "+w+'"',W='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+_+' shape-rendering="crispEdges">'+P+T+`</svg>
`;return typeof h=="function"&&h(null,W),W},fr}var Rn;function iu(){if(Rn)return Ve;Rn=1;const e=Ls(),o=ru(),n=nu(),a=ou();function s(c,d,h,l,p){const y=[].slice.call(arguments,1),w=y.length,P=typeof y[w-1]=="function";if(!P&&!e())throw new Error("Callback required as last argument");if(P){if(w<2)throw new Error("Too few arguments provided");w===2?(p=h,h=d,d=l=void 0):w===3&&(d.getContext&&typeof p>"u"?(p=l,l=void 0):(p=l,l=h,h=d,d=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(h=d,d=l=void 0):w===2&&!d.getContext&&(l=h,h=d,d=void 0),new Promise(function(T,_){try{const R=o.create(h,l);T(c(R,d,l))}catch(R){_(R)}})}try{const T=o.create(h,l);p(null,c(T,d,l))}catch(T){p(T)}}return Ve.create=o.create,Ve.toCanvas=s.bind(null,n.render),Ve.toDataURL=s.bind(null,n.renderToDataURL),Ve.toString=s.bind(null,function(c,d,h){return a.render(c,h)}),Ve}var au=iu();const lu=Aa(au);export{cu as I,lu as Q,uu as c,Aa as g};
