import{C as re}from"./Container-jslOpOlM.js";import{I as p}from"./Icon-wEtNiLB1.js";import{L as O}from"./ListItem-C1_07nLV.js";import{T as oe}from"./Toolbar-BiXTdBsZ.js";import{_ as L}from"./Card.vue_vue_type_script_setup_true_lang-DNnR6slc.js";import{_ as A,a as E,b as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-DicKKtFz.js";import{u as ae}from"./userPreferences-Crk2VjHn.js";import{a3 as le,d as g,x as de,_ as ue}from"./index-tCThBqvp.js";import{M as ce}from"./index-kQIztB-E.js";import{u as me}from"./vue-router-DmMABOGf.js";import{n as V,a4 as pe,e as ge,b as ve}from"./vuetify-GaNxHxlC.js";import{d as fe,w as B,b as _,e as a,H as l,D as d,E as o,I as S,c as u,u as n,r as N,ay as _e,f as m,F as C,M as $,P as ye,al as be,n as P,$ as v,a1 as f,p as U}from"./lucide-xmSP9hQT.js";import{u as he}from"./vue-i18n-CJw2bq39.js";import"./Button-CA4MzAsM.js";import"./utils-CDN07tui.js";import"./qrcode-Be0W47IT.js";import"./marked-C0Rlrcoy.js";import"./color-BTziYnFN.js";import"./vueuse-CVzU65UW.js";/* empty css            */import"./swiper-3t6jdvul.js";const we={key:0,class:"settings-card-view"},ke={class:"settings-featured"},Me={class:"setting-header-top"},Se={class:"setting-chevron"},Ce={class:"settings-grid"},$e={class:"setting-header-top"},Pe={class:"setting-chevron"},Ve={key:1,class:"settings-list-view"},ze=fe({__name:"Settings",setup(Ie){const c=me(),{t:r}=he(),{getPreference:z,setPreference:I}=ae(),b=N("card"),H=z("settings.overview.viewMode","card");B(()=>H.value,t=>{(t==="list"||t==="card")&&(b.value=t)},{immediate:!0});const j=function(){b.value=b.value==="list"?"card":"list",I("settings.overview.viewMode",b.value)},h=N("list"),q=u(()=>{const t=c.currentRoute.value.name?.toString()||"";return t.includes("players")||t==="addgroup"}),G=z("settings.players.viewMode","list");B(()=>G.value,t=>{(t==="list"||t==="card")&&(h.value=t)},{immediate:!0});const R=function(){h.value=h.value==="list"?"card":"list",I("settings.players.viewMode",h.value)};U("playersViewMode",{viewMode:h,toggleViewMode:R});const w=N("list"),J=u(()=>(c.currentRoute.value.name?.toString()||"").includes("providers")),K=z("settings.providers.viewMode","list");B(()=>K.value,t=>{(t==="list"||t==="card")&&(w.value=t)},{immediate:!0});const D=function(){w.value=w.value==="list"?"card":"list",I("settings.providers.viewMode",w.value)};U("providersViewMode",{viewMode:w,toggleViewMode:D});const Q=[{name:"providers",label:"settings.providers",description:"settings.providers_description",icon:"mdi-monitor-dashboard",color:"blue",route:{name:"providersettings"},adminOnly:!0},{name:"players",label:"settings.players",description:"settings.players_description",icon:"mdi-speaker-multiple",color:"green",route:{name:"playersettings"},adminOnly:!0},{name:"profile",label:"auth.profile",description:"settings.profile_description",icon:"mdi-account-cog",color:"indigo",route:{name:"profile"},adminOnly:!1},{name:"frontend",label:"settings.frontend",description:"settings.frontend_description",icon:"mdi-palette",color:"orange",route:{name:"frontendsettings"},adminOnly:!1},{name:"users",label:"auth.user_management",description:"settings.users_description",icon:"mdi-account-multiple",color:"teal",route:{name:"usersettings"},adminOnly:!0},{name:"remote_access",label:"settings.remote_access",description:"settings.remote_access_description",icon:"mdi-cloud-lock",color:"deep-purple",route:{name:"remoteaccesssettings"},adminOnly:!0},{name:"system",label:"settings.system",description:"settings.system_description",icon:"mdi-server",color:"purple",route:{name:"systemsettings"},adminOnly:!0},{name:"about",label:"settings.about",description:"settings.about_description",icon:"mdi-information-outline",color:"grey-darken-1",route:{name:"aboutsettings"},adminOnly:!1}],k=u(()=>{const t=de.isAdmin();return Q.filter(i=>!i.adminOnly||t)}),W=u(()=>k.value.filter(t=>t.name==="providers"||t.name==="players")),X=u(()=>k.value.filter(t=>t.name!=="providers"&&t.name!=="players")),Y=u(()=>k.value.filter(t=>t.name==="providers")),Z=u(()=>k.value.filter(t=>t.name==="players")),ee=u(()=>k.value.filter(t=>t.name!=="providers"&&t.name!=="players")),M=t=>{const i={indigo:"rgb(99, 102, 241)",blue:"rgb(59, 130, 246)",green:"rgb(34, 197, 94)",purple:"rgb(168, 85, 247)","deep-purple":"rgb(124, 58, 237)",orange:"rgb(249, 115, 22)",teal:"rgb(20, 184, 166)","grey-darken-1":"rgb(158, 158, 158)"};return{backgroundColor:i[t]||i.indigo}},x=u(()=>c.currentRoute.value.name==="settings"),te=u(()=>{const t=c.currentRoute.value.name?.toString()||"";return t==="profile"?"profile":t.includes("player")||t==="addgroup"?"players":t.includes("system")||t.includes("core")||t.includes("serverlog")?"system":t.includes("frontend")?"frontend":t.includes("remoteaccess")?"remote_access":t.includes("user")?"users":t.includes("about")?"about":"providers"}),se=t=>{const i=g.getProvider(t);if(i)return i.name;const s=t.split("--")[0];return g.providerManifests[s]?.name||t},ie=u(()=>{const t=c.currentRoute.value,i=t.name?.toString()||"",s=[{title:r("settings.settings"),disabled:!1,href:"#",to:{name:"settings"}}];if(!x.value){const e=te.value;e==="profile"?s.push({title:r("auth.profile"),disabled:i==="profile",to:{name:"profile"}}):e==="players"?s.push({title:r("settings.players"),disabled:i==="playersettings",to:{name:"playersettings"}}):e==="system"?s.push({title:r("settings.system"),disabled:i==="systemsettings",to:{name:"systemsettings"}}):e==="remote_access"?s.push({title:r("settings.remote_access"),disabled:i==="remoteaccesssettings",to:{name:"remoteaccesssettings"}}):e==="frontend"?s.push({title:r("settings.frontend"),disabled:i==="frontendsettings",to:{name:"frontendsettings"}}):e==="users"?s.push({title:r("settings.users"),disabled:i==="usersettings",to:{name:"usersettings"}}):e==="providers"?s.push({title:r("settings.providers"),disabled:i==="providersettings",to:{name:"providersettings"}}):e==="about"&&s.push({title:r("settings.about"),disabled:i==="aboutsettings",to:{name:"aboutsettings"}})}return ce(i).with("addproviderdetails",()=>{s.push({title:r("settings.setup_provider",[t.params.domain||""]),disabled:!0})}).with("editprovider",()=>{s.push({title:se(t.params.instanceId),disabled:!0})}).with("addgroup",()=>{s.push({title:r("settings.add_group_player"),disabled:!0})}).with("editplayer",()=>{s.push({title:r("settings.player_settings"),disabled:!0})}).with("editplayerdsp",()=>{s.push({title:"DSP",disabled:!0})}).with("editcore",()=>{const e=t.params.domain,y=r(`settings.core_module.${e}.name`),ne=y!==`settings.core_module.${e}.name`?y:g.providerManifests[e]?.name||e;s.push({title:ne,disabled:!0})}).with("serverlogs",()=>{s.push({title:r("settings.server_logging"),disabled:!0})}).otherwise(()=>{}),s}),T=u(()=>{const t=c.currentRoute.value,i=t.name?.toString()||"";if(i==="editcore"){const s=t.params.domain;if(s&&g.providerManifests[s])return g.providerManifests[s].documentation||null}else if(i==="editprovider"){const s=t.params.instanceId;if(s){const e=g.getProvider(s);if(e&&g.providerManifests[e.domain])return g.providerManifests[e.domain].documentation||null}}else if(i==="addproviderdetails"){const s=t.params.domain;if(s&&g.providerManifests[s])return g.providerManifests[s].documentation||null}return null});return(t,i)=>{const s=be("router-view");return a(),_("div",null,[l(oe,{icon:n(_e),"show-loading":!0},{title:o(()=>[l(pe,{items:ie.value,class:"pa-0"},null,8,["items"])]),append:o(()=>[x.value?(a(),d(V,{key:0,icon:b.value==="list"?"mdi-view-list":"mdi-grid",variant:"text",title:n(r)("tooltip.toggle_view_mode"),onClick:i[0]||(i[0]=e=>j())},null,8,["icon","title"])):S("",!0),q.value?(a(),d(V,{key:1,icon:h.value==="list"?"mdi-view-list":"mdi-grid",variant:"text",title:n(r)("tooltip.toggle_view_mode"),onClick:i[1]||(i[1]=e=>R())},null,8,["icon","title"])):S("",!0),J.value?(a(),d(V,{key:2,icon:w.value==="list"?"mdi-view-list":"mdi-grid",variant:"text",title:n(r)("tooltip.toggle_view_mode"),onClick:i[2]||(i[2]=e=>D())},null,8,["icon","title"])):S("",!0),T.value?(a(),d(V,{key:3,icon:"mdi-help-circle",variant:"text",title:n(r)("settings.view_documentation"),onClick:i[3]||(i[3]=e=>n(le)(T.value))},null,8,["title"])):S("",!0)]),_:1},8,["icon"]),l(ge),x.value?(a(),d(re,{key:0,variant:"comfortable",class:"settings-overview"},{default:o(()=>[b.value==="card"?(a(),_("div",we,[m("div",ke,[(a(!0),_(C,null,$(W.value,e=>(a(),d(n(L),{key:e.name,class:"setting-card",onClick:y=>n(c).push(e.route)},{default:o(()=>[l(n(A),{class:"setting-card-header"},{default:o(()=>[m("div",Me,[m("div",{class:"setting-icon",style:P(M(e.color))},[l(p,{icon:e.icon,size:"24",color:"white"},null,8,["icon"])],4),m("div",Se,[l(p,{icon:"mdi-chevron-right",size:"20"})])]),l(n(E),{class:"setting-title"},{default:o(()=>[v(f(n(r)(e.label)),1)]),_:2},1024),l(n(F),{class:"setting-description"},{default:o(()=>[v(f(n(r)(e.description)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),m("div",Ce,[(a(!0),_(C,null,$(X.value,e=>(a(),d(n(L),{key:e.name,class:"setting-card",onClick:y=>n(c).push(e.route)},{default:o(()=>[l(n(A),{class:"setting-card-header"},{default:o(()=>[m("div",$e,[m("div",{class:"setting-icon",style:P(M(e.color))},[l(p,{icon:e.icon,size:"24",color:"white"},null,8,["icon"])],4),m("div",Pe,[l(p,{icon:"mdi-chevron-right",size:"20"})])]),l(n(E),{class:"setting-title"},{default:o(()=>[v(f(n(r)(e.label)),1)]),_:2},1024),l(n(F),{class:"setting-description"},{default:o(()=>[v(f(n(r)(e.description)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])])):(a(),_("div",Ve,[l(ve,{class:"settings-list"},{default:o(()=>[(a(!0),_(C,null,$(Y.value,e=>(a(),d(O,{key:e.name,link:"",class:"settings-list-item",onClick:y=>n(c).push(e.route)},{prepend:o(()=>[m("div",{class:"setting-list-icon",style:P(M(e.color))},[l(p,{icon:e.icon,size:"20",color:"white"},null,8,["icon"])],4)]),title:o(()=>[v(f(n(r)(e.label)),1)]),subtitle:o(()=>[v(f(n(r)(e.description)),1)]),append:o(()=>[l(p,{icon:"mdi-chevron-right",size:"20"})]),_:2},1032,["onClick"]))),128)),(a(!0),_(C,null,$(Z.value,e=>(a(),d(O,{key:e.name,link:"",class:"settings-list-item",onClick:y=>n(c).push(e.route)},{prepend:o(()=>[m("div",{class:"setting-list-icon",style:P(M(e.color))},[l(p,{icon:e.icon,size:"20",color:"white"},null,8,["icon"])],4)]),title:o(()=>[v(f(n(r)(e.label)),1)]),subtitle:o(()=>[v(f(n(r)(e.description)),1)]),append:o(()=>[l(p,{icon:"mdi-chevron-right",size:"20"})]),_:2},1032,["onClick"]))),128)),(a(!0),_(C,null,$(ee.value,e=>(a(),d(O,{key:e.name,link:"",class:"settings-list-item",onClick:y=>n(c).push(e.route)},{prepend:o(()=>[m("div",{class:"setting-list-icon",style:P(M(e.color))},[l(p,{icon:e.icon,size:"20",color:"white"},null,8,["icon"])],4)]),title:o(()=>[v(f(n(r)(e.label)),1)]),subtitle:o(()=>[v(f(n(r)(e.description)),1)]),append:o(()=>[l(p,{icon:"mdi-chevron-right",size:"20"})]),_:2},1032,["onClick"]))),128))]),_:1})]))]),_:1})):(a(),d(s,{key:1},{default:o(({Component:e})=>[e?(a(),d(ye(e),{key:0})):S("",!0)]),_:1}))])}}}),Ye=ue(ze,[["__scopeId","data-v-ab12889b"]]);export{Ye as default};
