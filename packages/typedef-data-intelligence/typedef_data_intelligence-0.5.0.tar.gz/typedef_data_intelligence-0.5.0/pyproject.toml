[project]
name = "typedef-data-intelligence"
version = "0.5.0"
description = "Unified lineage management and AI-powered analytics platform for dbt projects"
readme = "README.pypi.md"
license = "LicenseRef-Proprietary"
authors = [{ name = "typedef", email = "hello@typedef.ai" }]
keywords = ["dbt", "lineage", "data-engineering", "analytics", "tui"]
requires-python = ">=3.12"
classifiers = [
  "Development Status :: 4 - Beta",
  "Environment :: Console",
  "Intended Audience :: Developers",
  "License :: Other/Proprietary License",
  "Operating System :: MacOS",
  "Operating System :: POSIX :: Linux",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Topic :: Database",
  "Topic :: Software Development :: Libraries :: Python Modules",
]
dependencies = [
  "pydantic>=2.0",
  "pymupdf==1.26.5",                    # workaround issue with new 1.26.6 release and docker image
  "fastapi>=0.104.0",
  "uvicorn>=0.24.0",
  "sqlglot>=20.0.0",
  "click>=8.1.0",
  "httpx>=0.25.0",
  "dbt-core>=1.7.0",
  "fastmcp>=0.1.0",
  "rich>=13.0.0",
  "matplotlib>=3.7.0",
  "plotly>=6.3.1",
  "kaleido>=1.1.0",
  "pyyaml>=6.0.0",
  "jinja2>=3.1.0",
  "markdown>=3.9",
  "pydantic-ai>=1.23.0",
  "ag-ui-protocol>=0.1.0",
  "litellm>=1.78.5",
  "logfire[fastapi]",
  "claude_telemetry[logfire]",
  "claude-agent-sdk",
  "anthropic>=0.45.0",
  "falkordb",
  "falkordblite>=0.7.0",
  "graphiti-core",
  "graphiti-core-falkordb",
  "fenic[google,anthropic]>=0.6.0",
  "dbt-snowflake>=1.7.0",
  "snowflake-connector-python>=3.10.0",
  "snowflake-labs-mcp>=0.1.0",
  "openlineage-dbt>=1.39.0",
  "openlineage-python",
  "linear-api",
  "pydantic-settings>=2.4.0",
  "textual>=6.6.0",
  "plotext>=5.3.2",
  "mermaid-cli>=0.1.2",
  "chafa.py>=1.0.0",
  "term-image>=0.7.0",
  "pillow>=10.0.0",
]


[project.urls]
Homepage = "https://typedef.ai"
Repository = "https://github.com/typedef-ai/data-intelligence"
Issues = "https://github.com/typedef-ai/data-intelligence/issues"

[project.optional-dependencies]
duckdb = ["dbt-duckdb>=1.7.0"]
# Development dependencies
dev = [
  "pytest>=7.4.0",
  "pytest-asyncio>=0.21.0",
  "ruff>=0.1.0",
  "tiktoken>=0.11.0",
]


[project.scripts]
lineage = "lineage.cli:main"
lineage-agent-pydantic = "lineage.agent.pydantic.cli_runner:main"
lineage-tui = "lineage.tui.app:main"
typedef = "lineage.typedef_cli:main"
lineage-regen-semantic-goldens = "lineage.devtools.regen_semantic_goldens:main"
lineage-refingerprint-cache = "lineage.devtools.refingerprint_cache:main"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.wheel]
packages = ["src/lineage"]
include = [
  "/src/lineage/tui/styles.tcss",
  "/src/lineage/tui/wizards/styles.tcss",
  "/src/lineage/templates/",
  "/src/lineage/backends/lineage/schema.yaml",
  "/src/lineage/agent/pydantic/prompts/",
  "/src/lineage/agent/anthropic/prompts/",
]

[tool.hatch.build.targets.editable]
packages = ["src/lineage"]
include = [
  "/src/lineage/tui/styles.tcss",
  "/src/lineage/tui/wizards/styles.tcss",
  "/src/lineage/templates/",
  "/src/lineage/backends/lineage/schema.yaml",
  "/src/lineage/agent/pydantic/prompts/",
  "/src/lineage/agent/anthropic/prompts/",
]

[tool.hatch.metadata]
allow-direct-references = true
