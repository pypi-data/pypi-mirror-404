"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .apitypesystemsettingsconf import (
    APITypeSystemSettingsConf,
    APITypeSystemSettingsConfTypedDict,
)
from .backupssettings_union import BackupsSettingsUnion, BackupsSettingsUnionTypedDict
from .customlogotypesystemsettingsconf import (
    CustomLogoTypeSystemSettingsConf,
    CustomLogoTypeSystemSettingsConfTypedDict,
)
from .piisettings_union import PiiSettingsUnion, PiiSettingsUnionTypedDict
from .proxytypesystemsettingsconf import (
    ProxyTypeSystemSettingsConf,
    ProxyTypeSystemSettingsConfTypedDict,
)
from .rollbacksettings_union import (
    RollbackSettingsUnion,
    RollbackSettingsUnionTypedDict,
)
from .shutdowntypesystemsettingsconf import (
    ShutdownTypeSystemSettingsConf,
    ShutdownTypeSystemSettingsConfTypedDict,
)
from .snisettings_union import SniSettingsUnion, SniSettingsUnionTypedDict
from .socketstypesystemsettingsconf import (
    SocketsTypeSystemSettingsConf,
    SocketsTypeSystemSettingsConfTypedDict,
)
from .supporttypesystemsettingsconf import (
    SupportTypeSystemSettingsConf,
    SupportTypeSystemSettingsConfTypedDict,
)
from .systemtypesystemsettingsconf import (
    SystemTypeSystemSettingsConf,
    SystemTypeSystemSettingsConfTypedDict,
)
from .tlssettings_union import TLSSettingsUnion, TLSSettingsUnionTypedDict
from .upgradegroupsettings_union import (
    UpgradeGroupSettingsUnion,
    UpgradeGroupSettingsUnionTypedDict,
)
from .upgradesettings import UpgradeSettings, UpgradeSettingsTypedDict
from .workerstypesystemsettingsconf import (
    WorkersTypeSystemSettingsConf,
    WorkersTypeSystemSettingsConfTypedDict,
)
from cribl_control_plane.types import BaseModel, UNSET_SENTINEL
import pydantic
from pydantic import model_serializer
from typing import Optional
from typing_extensions import Annotated, NotRequired, TypedDict


class SystemSettingsConfTypedDict(TypedDict):
    api: APITypeSystemSettingsConfTypedDict
    backups: BackupsSettingsUnionTypedDict
    pii: PiiSettingsUnionTypedDict
    proxy: ProxyTypeSystemSettingsConfTypedDict
    rollback: RollbackSettingsUnionTypedDict
    shutdown: ShutdownTypeSystemSettingsConfTypedDict
    sni: SniSettingsUnionTypedDict
    system: SystemTypeSystemSettingsConfTypedDict
    tls: TLSSettingsUnionTypedDict
    upgrade_group_settings: UpgradeGroupSettingsUnionTypedDict
    upgrade_settings: UpgradeSettingsTypedDict
    workers: WorkersTypeSystemSettingsConfTypedDict
    custom_logo: NotRequired[CustomLogoTypeSystemSettingsConfTypedDict]
    sockets: NotRequired[SocketsTypeSystemSettingsConfTypedDict]
    support: NotRequired[SupportTypeSystemSettingsConfTypedDict]


class SystemSettingsConf(BaseModel):
    api: APITypeSystemSettingsConf

    backups: BackupsSettingsUnion

    pii: PiiSettingsUnion

    proxy: ProxyTypeSystemSettingsConf

    rollback: RollbackSettingsUnion

    shutdown: ShutdownTypeSystemSettingsConf

    sni: SniSettingsUnion

    system: SystemTypeSystemSettingsConf

    tls: TLSSettingsUnion

    upgrade_group_settings: Annotated[
        UpgradeGroupSettingsUnion, pydantic.Field(alias="upgradeGroupSettings")
    ]

    upgrade_settings: Annotated[
        UpgradeSettings, pydantic.Field(alias="upgradeSettings")
    ]

    workers: WorkersTypeSystemSettingsConf

    custom_logo: Annotated[
        Optional[CustomLogoTypeSystemSettingsConf], pydantic.Field(alias="customLogo")
    ] = None

    sockets: Optional[SocketsTypeSystemSettingsConf] = None

    support: Optional[SupportTypeSystemSettingsConf] = None

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(["customLogo", "sockets", "support"])
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m
