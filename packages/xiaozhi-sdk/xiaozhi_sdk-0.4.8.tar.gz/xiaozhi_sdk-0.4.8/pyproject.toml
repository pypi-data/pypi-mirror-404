[build-system]
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "xiaozhi-sdk"
dynamic = ["version"]
description = "一个用于连接和控制小智智能设备的Python SDK，支持实时音频通信、MCP工具集成和设备管理功能。"
readme = "README.md"
authors = [{name = "dairoot", email = "623815825@qq.com"}]
license = "MIT"
requires-python = ">=3.9"
dependencies = [
    "machineid",
    "numpy",
    "websockets>=15.0.1",
    "aiohttp",
    "av",
    "opuslib",
    "requests",
    "sounddevice",
    "python-socks",
    "click",
    "colorlog",
    "soundfile>=0.13.1",
    "pydub>=0.25.1",
    "pillow>=11.3.0",
]
classifiers = [
    "Programming Language :: Python :: 3",
    "Operating System :: OS Independent",
]

[project.urls]
Homepage = "https://github.com/dairoot/xiaozhi-sdk"

[project.scripts]
xiaozhi = "xiaozhi_sdk.cli:main"
xiaozhi-sdk = "xiaozhi_sdk.cli:main"
xiaozhisdk = "xiaozhi_sdk.cli:main"

[tool.setuptools.dynamic]
version = {attr = "xiaozhi_sdk.__version__"}

[tool.setuptools.packages.find]
include = ["xiaozhi_sdk*"]

[tool.setuptools.package-data]
xiaozhi_sdk = ["file/**/*"]

[tool.uv]
index-url = "https://pypi.tuna.tsinghua.edu.cn/simple"
dev-dependencies = [
    "black>=24.8.0",
    "flake8>=5.0.4",
    "flake8-bugbear",
    "flake8-comprehensions",
    "isort>=5.13.2",
    "mypy>=1.14.1",
    "types-requests",
    "pre-commit>=3.5.0",
    "pytest>=8.3.5",
    "pytest-asyncio",
    "pytest-cov",
    "build>=0.10",
]

# 保留现有的工具配置
[tool.coverage.run]
omit = [
    "xiaozhi_sdk/__main__.py",
    "xiaozhi_sdk/cli.py",
    "tests/*",
]
