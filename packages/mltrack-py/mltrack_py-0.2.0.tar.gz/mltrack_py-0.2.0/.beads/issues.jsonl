{"id":"mltrack-1","title":"T1: Canonical LLM schema + audit","description":"Goal: Define a single canonical LLM tracking schema and identify/removal list for legacy tags/metrics.\nDeliverables:\n- Inventory of current tag/metric usage in backend + UI (what reads what).\n- Canonical schema list (tags + metrics + provider-specific optional fields).\n- Legacy fields to remove (no backward compatibility) and replacement mapping.\nTest requirements:\n- None (planning task).\nAcceptance:\n- Canonical schema is explicit and ready to drive tests + implementation.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T16:28:54.06952-08:00","updated_at":"2026-01-18T16:48:12.650754-08:00","closed_at":"2026-01-18T16:41:47.405232-08:00","labels":["epic:llm-tracking","phase:1","project:mltrack","tdd"]}
{"id":"mltrack-10","title":"T10: UI LLM Analytics Enhancements","description":"Goal: UI improvements for canonical LLM telemetry.\nDeliverables: provider filters, cache/tool token visibility, cost breakdowns.\nTests: UI helper tests where applicable.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-19T11:00:16.384156-08:00","updated_at":"2026-01-19T21:54:21.146769-08:00","closed_at":"2026-01-19T21:54:21.146769-08:00","labels":["epic:llm-tracking","phase:2","project:mltrack","tdd"],"dependencies":[{"issue_id":"mltrack-10","depends_on_id":"mltrack-6","type":"blocks","created_at":"2026-01-19T11:00:36.34558-08:00","created_by":"blabaschin"},{"issue_id":"mltrack-10","depends_on_id":"mltrack-7","type":"blocks","created_at":"2026-01-19T11:00:40.137936-08:00","created_by":"blabaschin"},{"issue_id":"mltrack-10","depends_on_id":"mltrack-8","type":"blocks","created_at":"2026-01-19T11:00:45.774866-08:00","created_by":"blabaschin"}]}
{"id":"mltrack-11","title":"T11: LLM Data Quality Tests","description":"Goal: fixture coverage for provider responses and edge cases.\nDeliverables: provider fixtures + regression tests for canonicalization + UI helpers.\nTests: unit tests for fixture parsing.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-19T11:00:21.306831-08:00","updated_at":"2026-01-19T11:00:21.306831-08:00","labels":["epic:llm-tracking","phase:2","project:mltrack","tdd"],"dependencies":[{"issue_id":"mltrack-11","depends_on_id":"mltrack-7","type":"blocks","created_at":"2026-01-19T11:00:49.329752-08:00","created_by":"blabaschin"},{"issue_id":"mltrack-11","depends_on_id":"mltrack-8","type":"blocks","created_at":"2026-01-19T11:00:54.980673-08:00","created_by":"blabaschin"},{"issue_id":"mltrack-11","depends_on_id":"mltrack-9","type":"blocks","created_at":"2026-01-19T11:00:58.707431-08:00","created_by":"blabaschin"}]}
{"id":"mltrack-12","title":"T12: Pricing snapshot refresh hook","description":"Add publish-time snapshot refresh check using LiteLLM hash; include tests and CI hook.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T17:01:31.882091-08:00","updated_at":"2026-01-19T17:16:42.211864-08:00","closed_at":"2026-01-19T17:16:42.211864-08:00","labels":["epic:llm-tracking","phase:2","project:mltrack","tdd"]}
{"id":"mltrack-2","title":"T2: Tests for canonical LLM normalization","description":"Goal: Add failing tests that define the canonical mapping for OpenAI, Claude, Gemini, and Bedrock usage.\nDeliverables:\n- New/updated unit tests covering normalization output for each provider.\n- Tests assert canonical tags (llm.model, llm.provider) and metrics (llm.tokens.* , llm.cost_usd, llm.latency_ms).\nTest requirements:\n- Unit: tests/test_llm_normalization.py (or tests/test_llm.py) with provider fixtures.\nAcceptance:\n- Tests fail against current implementation and describe the desired canonical schema.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T16:28:58.182497-08:00","updated_at":"2026-01-18T17:01:58.675421-08:00","closed_at":"2026-01-18T17:01:58.675421-08:00","labels":["epic:llm-tracking","phase:1","project:mltrack","tdd"],"dependencies":[{"issue_id":"mltrack-2","depends_on_id":"mltrack-1","type":"blocks","created_at":"2026-01-18T16:29:17.327044-08:00","created_by":"blabaschin"}]}
{"id":"mltrack-3","title":"T3: Implement LLM normalization layer","description":"Goal: Implement canonical normalization and update tracking to emit only the new schema.\nDeliverables:\n- Normalization functions mapping provider responses to canonical metrics/tags.\n- track_llm uses normalization output and logs only llm.* tags/metrics.\n- Conversation accumulator updated to aggregate canonical metrics.\n- Legacy tag/metric emission removed (no backward compatibility).\nTest requirements:\n- Unit: T2 tests passing.\nAcceptance:\n- All canonical schema tests pass; no legacy fields are emitted.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T16:29:02.371469-08:00","updated_at":"2026-01-18T19:18:29.758615-08:00","closed_at":"2026-01-18T19:18:29.758615-08:00","labels":["epic:llm-tracking","phase:1","project:mltrack","tdd"],"dependencies":[{"issue_id":"mltrack-3","depends_on_id":"mltrack-2","type":"blocks","created_at":"2026-01-18T16:29:19.433516-08:00","created_by":"blabaschin"}]}
{"id":"mltrack-4","title":"T4: Align UI analytics to canonical LLM schema","description":"Goal: Remove UI fallbacks and rely exclusively on canonical llm.* tags/metrics.\nDeliverables:\n- UI analytics components read only llm.model, llm.provider, llm.tokens.* and llm.cost_usd.\n- Remove legacy metric/tag fallbacks and dead paths.\nTest requirements:\n- Manual: spot-check analytics pages with sample LLM runs.\nAcceptance:\n- UI renders correctly using only canonical fields.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T16:29:06.209689-08:00","updated_at":"2026-01-18T20:11:08.539399-08:00","closed_at":"2026-01-18T20:11:08.539399-08:00","labels":["epic:llm-tracking","phase:2","project:mltrack","tdd"],"dependencies":[{"issue_id":"mltrack-4","depends_on_id":"mltrack-3","type":"blocks","created_at":"2026-01-18T16:29:21.58566-08:00","created_by":"blabaschin"}]}
{"id":"mltrack-5","title":"T5: Prune legacy LLM API surface + examples","description":"Goal: Remove stale LLM APIs and examples that no longer match the canonical schema.\nDeliverables:\n- Remove or replace LLMTracker stubs and any non-existent helpers (log_llm_usage, extractors).\n- Update README/docs/examples to match the actual LLM API surface.\nTest requirements:\n- Unit: existing LLM tests updated as needed.\nAcceptance:\n- No docs/examples reference removed APIs; codebase has no unused LLM stubs.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T16:29:10.565074-08:00","updated_at":"2026-01-19T10:54:02.499343-08:00","closed_at":"2026-01-19T10:54:02.499343-08:00","labels":["epic:llm-tracking","phase:2","project:mltrack","tdd"],"dependencies":[{"issue_id":"mltrack-5","depends_on_id":"mltrack-3","type":"blocks","created_at":"2026-01-18T16:29:23.886188-08:00","created_by":"blabaschin"}]}
{"id":"mltrack-6","title":"T6: LLM Telemetry Spec Update","description":"Goal: extend canonical LLM telemetry spec for provider metadata and UI needs.\nDeliverables: update llm-schema.md with new fields (finish_reason, request_id, cache/tool token fields).\nTests: doc-only; no code changes.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-19T10:59:58.733905-08:00","updated_at":"2026-01-19T11:02:51.655634-08:00","closed_at":"2026-01-19T11:02:51.655634-08:00","labels":["epic:llm-tracking","phase:2","project:mltrack","tdd"]}
{"id":"mltrack-7","title":"T7: Provider Usage Adapters","description":"Goal: normalize OpenAI/Anthropic/Gemini/Bedrock usage + metadata into canonical fields.\nDeliverables: expand normalize_llm_usage + provider extraction for request IDs, finish reasons, cache/tool tokens.\nTests: unit tests with provider fixtures.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-19T11:00:03.945396-08:00","updated_at":"2026-01-19T11:09:18.210715-08:00","closed_at":"2026-01-19T11:09:18.210715-08:00","labels":["epic:llm-tracking","phase:2","project:mltrack","tdd"],"dependencies":[{"issue_id":"mltrack-7","depends_on_id":"mltrack-6","type":"blocks","created_at":"2026-01-19T11:00:26.00289-08:00","created_by":"blabaschin"}]}
{"id":"mltrack-8","title":"T8: Pricing + Cost Engine","description":"Goal: centralized pricing registry + cost calculation across providers.\nDeliverables: pricing table with overrides and cost computation for supported providers.\nTests: unit tests for cost math and overrides.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-19T11:00:08.772114-08:00","updated_at":"2026-01-19T16:10:39.526782-08:00","closed_at":"2026-01-19T16:10:39.526782-08:00","labels":["epic:llm-tracking","phase:2","project:mltrack","tdd"],"dependencies":[{"issue_id":"mltrack-8","depends_on_id":"mltrack-6","type":"blocks","created_at":"2026-01-19T11:00:29.49734-08:00","created_by":"blabaschin"}]}
{"id":"mltrack-9","title":"T9: Streaming + Async Tracking","description":"Goal: track streaming and async LLM calls.\nDeliverables: latency + tokens for streaming responses and async call shapes.\nTests: unit tests for streaming/async handling.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-19T11:00:12.334666-08:00","updated_at":"2026-01-19T21:02:41.696892-08:00","closed_at":"2026-01-19T21:02:41.696892-08:00","labels":["epic:llm-tracking","phase:2","project:mltrack","tdd"],"dependencies":[{"issue_id":"mltrack-9","depends_on_id":"mltrack-7","type":"blocks","created_at":"2026-01-19T11:00:32.861776-08:00","created_by":"blabaschin"}]}
