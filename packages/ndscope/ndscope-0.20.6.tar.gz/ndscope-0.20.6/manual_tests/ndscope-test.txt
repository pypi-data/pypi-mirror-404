NDSC-0010-T Command Line Info
% ndscope-test -h
? shows command line options
% ndscope-test --usage
? shows long-form usage
% ndscope-test --version
? shows the version number

NDSC-0100-T Trend Tab
% ndscope-test -t $(gpstime -g) manual_test.yaml
Open the tabs at the bottom
Select the trend tab
? "auto" should be selected.
select "minute"
? after awhile, legend should change to show [m-trend] after the channel names
? The screen should show min, max, and mean traces with one minute point pitch
select "raw"
? screen should show raw data.  no min or max.
select "second"
? after awhile, legend should change to show [s-trend] after the channel names
? The screen should show min, max and mean traces with one-second pitch between points
select "auto"
change the raw/sec value to 600 and press enter
change the sec/min value to 7200 and press enter
zoom the time axis so that the range is more than 5 minutes but less then ten from side to side
? plot should display raw data
zoom the time axis so that the range is more than 60 minutes but less then 90 minutes
? plot should display second trends
zoom the time axis so that the range is just above 2 hours
? plot should display minute trends
uncheck "max"
? max trace should disappear
uncheck "mean"
? mean trace should disappear
uncheck "min"
? min trace should disappear
? there should be no traces
check "RMS"
? RMS trace should appear
add another channel to a plot
? The new channel should show only the RMS value

NDSC-0110-T Window Tab
% ndscope-test -t $(gpstime -g) manual_test.yaml
Open the tabs at the bottom
Select the window tab
Decrease the first t0 value by 600.
Press the fetch buttom
? signal should shift to the right by 10 minutes
? cursors should shift to the right the same
Add 10 minutes to the second t0 value and press the fetch button
? signal should shift left to its original position.
? cursors should shift left to their original position
Decrease the first window value by 600 and press the fetch button
? left side of graph should go 10 minutes back in time
? cursors should become closer together, but the delta time between should be the same
decrease the second window value by 600 and press the fetch button
? right side of the graph should go 10 minutes back in time.
? cursors should be farther apart again but still have same delta time between them.
Press  the now button.
? t0 values should update to the current time

NDSC-0120-T Range Tab
% ndscope-test -t $(gpstime -g) manual_test.yaml
Open the tabs at the bottom
Select the range tab
Subtract 600 from the first entry for start value
Press the fetch button
? cursors should squeeze closer together but still be at -10m and -15m
? edge of left side should change to 10 minutes earlier than it was
Add 10 minutes to the second start value
press the fetch button
? The graph and cursors should go back to their original state
Subtract 600 from the first end value
press the fetch button
? one cursor should disappear.  The other should be at -5m
add 10 minutes to the second end entry
? The graph and cursors should go back to their original state
press the now button
? The end times should update to the current time

NDSC-0130-T Trigger Tab
% ndscope-test manual_test_live.yaml
Open the tabs at the bottom
Select the trigger tab
Check the enable check box
? A trigger line sould appear approximately in the middle of the trace.
? The level edit box should match the y position of the trigger line
Watch the trace for a minute
? When the trace crosses the trigger line going up, the cross point should move to the middle of the plot.
? The GPS edit box should update with the time at the trigger position.
Drag the line to a new location
? The level edit box should show the new y position
? When the trace crosses the trigger line going up, the cross point should move to the middle of the plot
Press the reset button.
? The trigger line should move back to approximately the middle of the trace
? The level edit box should show the y position of the trigger line
Check the "invert" checkbox.
? When the trace crosses the trigger ling going down, the cross point should  move to the middle of the plot
Change the value in the level edit box to a new value that's in the Y range of the plot and press enter.
? The trigger line should move to the new value
Uncheck the enable button.
? The plot should now update continuously
Press the add channels button.
Add H1:TCS-ITMX_CO2_ISS_OUT_AC_OUT_DQ
? The plot should continue updating with both channel
? A legend should appear showing the colors of each plot
Drag the legend around with the left mouse button.
? Legend should be draggable.
Check the enable button.
On the channel selection box in the trigger tab, choose the new channel.
? The trigger line should change color to match the new channel and move to approximately the middle of the signal for the new channel.
? When the new trace crosses the trigger line going down, both traces should shift so that the trigger point is in the middle of the screen.
Press single shot
? the next trigger should happen as above, then the plot should be filled to the right edge.  No more triggers should happen during this time.
? finally, the start online button should become enabled and the stop online button should become disabled
? the trace should stop updating.

NDSC-0140-T Crosshair Tab
% ndscope-test -t $(gpstime -g) manual_test.yaml
Open the tabs at the bottom
select the crosshair tab
check the enable button
move the mouse cursor over the plot
? A crosshair appears under the cursor
? Text appears next to it giving GPS time, UTC time, and local time, and y value.
? the values update to match the crosshairs position as the mouse cursor moves.
? the values are also updated in the edit boxes at the bottom of the tab
click the mouse button on the plot, then move the cursor
? the crosshair should stay at the click location
click the mouse on the plot again
? the crosshair should resume following the mouse cursor

NDSC-0150-T Time Axis Tab
% ndscope-test -t $(gpstime -g) manual_test.yaml
Open the tabs at the bottom
Select the time axis tab
select each time option in turn.
? Label and tickmarks on the time axis should update to reflect the change
? plot should resize so that the text is fully visible.

NDSC-0160-T Style Tab
% ndscope-test -t $(gpstime -g) manual_test.yaml
Open the tabs at the bottom
Select the style tab
Increase the font size.
? tick labels, axis labels, cursor labels should all increase in text size
Increase the trace width
? traces should thicken
Increase grid alpha to 1.00
? grid should become more visible
Change color mode to light
? plot background should light with dark fonts, gridlines, axes and cursors.

NDSC-0170-T Export Tab
% ndscope-test -t $(gpstime -g) manual_test.yaml
Open the tabs at the bottom
Select the export tab
enter /tmp/ndscope.png into the edit box
press save
? the status bar should say "Exported ..."
press show
? an application should pop up showing picture that looks like the plot
? tick marks, x-y ranges, traces, cursor positions should all match the plot
enter /tmp/ndscope.svg into the edit box
press save
? the status bar should say "Exported ..."
press show
? an application should pop up showing picture that looks like the plot
? tick marks, x-y ranges, traces, cursor positions should all match the plot
enter /tmp/ndscope.pdf into the edit box
press save
? the status bar should say "Exported ..."
press show
? an application should pop up showing picture that looks like the plot
? tick marks, x-y ranges, traces, cursor positions should all match the plot
enter /tmp/ndscope.hdf5 into the edit box
press save
? the status bar should say "Exported ..."
press show
? a an application should appear that in general shows the same information as the plot, but with the traces combined.
enter /tmp/ndscope.mat into the edit box
press save
? the status bar should say "Exported ..."
% matlab
load /tmp/ndscope.mat
? in the workspace window, data, t0 and window should appear
in matlab, run the command "data(1).data"
? should say <field-name>: [1500x1 double]
run the command "data(1).data.<field-name>" replacing field name with the value shown in the last output.
? should show an array of values
Press the export button
Change the file type to PNG
choose a filename ending in png
? the status bar should say "Exported ..."
? the edit box in the export tab should show the filename
press show
? an application should pop up showing picture that looks like the plot
? tick marks, x-y ranges, traces, cursor positions should all match the plot


NDSC-0200-T Online Button
% ndscope-test -t $(gpstime -g) manual_test.yaml
Press the start online button
? The plot should start slowly scrolling to the left as new data is loaded
Press the stop online button
? The plot should stop updating.

NDSC-0210-T Reset Button
% ndscope-test -t $(gpstime -g) manual_test.yaml
Use the mouse to drag the plot to the right
? the plot should slide to the right as it's dragged.
Press the reset button
? The plot should go back to its original position.

NDSC-0220-T Mouse Gestures
% ndscope-test -t $(gpstime -g) manual_test.yaml
Using the left mouse button, drag the time-axis tick labels left and right.
? The plot should move left and right but should not move up and down.
Using the left mouse button, drag the y-axis tick labels up and down.
? The plot should move up and down but should not move left and right.
Using the right mouse button, drag the time-axis tick labels left and right.
? The plot should zoom in and out horizontally, but not vertically.
Using the right mouse button, drag the y-axis tick labels up and down.
? The plot should zoom in and out vertically, but not horizontally.

NDSC-0230-T Vertical Cursors
% ndscope-test -t $(gpstime -g) manual_test.yaml
Drag one of the vertical time cursors.
? The corresponding cursor on the other graph should mirror the movement.
? The timestamp associated with the cursor should update to match the current position as the cursor moves.
? The delta time label should update with time between cursors as the cursor moves.
right-click on the upper plot
? The pop up menu should appear
uncheck T1
? One of the cursors should disappear
move the corresponding cursor on the bottom plot
right-click on the upper plot
check T1
? The cursor should reappear, aligned with the corresponding cursor on the lower plot.
Right click on the upper plot
uncheck T1
Right click on the lower plot
uncheck T1
? Both plots should now have only one vertical cursor
Right click on the upper plot
check T1
? The cursor should reappear at about 1/4 into the plot
move the new cursor
right click on the upper plot
press enable on all plots
? The cursor should reappear on the lower plot aligned with the cursor on the top plot.
Right click on the upper plot
Select the reset button in the T cursors section.
? The cursors in both plots should move to the 1/4 and 3/4 positions of the plot.

NDSC-0240-T Horizontal Cursors
% ndscope-test -t $(gpstime -g) manual_test.yaml
right-click on each plot and select reset for Y-cursors
? two horizontal cursors should appear on each plot, one in the upper half and one in the lower
Drag one of the horizontal cursor up and down
? The Y value label for the cursor should change to reflect it's position as it moves.
? The delta-Y label should change as the cursor moves to show the distance between cursors.
Right click on the upper plot.
Uncheck Y1
? One of the horizontal cursors should disappear
Right click on the upper plot.
Check Y1.
? The cursor should reappear
Move around the horizontal cursors on both plots.
Right click on the upper plot.
Press the Reset button in the Y cursors area.
? The horizontal cursors in the top plot should jump back to 1/4 and 3/4 up the Y axis.
? The hroizontal cursors in the lower plot should not move.

NDSC-0300-T Popup Time Settings
% ndscope-test -t $(gpstime -g) manual_test.yaml
Right click on the upper plot
Select View all data
? The plot should zoom out horizontally.
Right click on an intersting part of the plot
Select reset T0
? The time axis should be re-drawn so 0 is at the time of the point clicked.
Open the tabs below the plot
Select the window tab.
? The T0 value here should match the point clicked.


NDSC-0310-T Popup Y Axis
% ndscope-test -t $(gpstime -g) manual_test.yaml
Drag the upper trace up.
Right click the upper plot.
Change Y axis scale to auto
? Y axis scale should have been manual
? The trace should be restored to its original Y range with trace fully contained by the range.
Right click the upper plot
Change the Y axis scale auto factor from 100% to 50%
? The y range should be shrunk so that some of the trace extends beyond the top of the plot.
Right click the upper plot
Change the Y axis scale to manual and set the range to some new values.
? The y range of the plot should update to the new range.

NDSC-0320-T Pop Up Mouse Mode
% ndscope-test -t $(gpstime -g) manual_test.yaml
Right click the upper plot
Select Mouse Mode -> zoom box
Left click and drag a box over an interesting part of the trace
? While dragging, a rectangle should appear showing the zoom box
? When released, the plot should zoom in, showing the region of the zoom box
Right click the upper plot
Select Mouse Mode -> pan/zoom
Drag the upper trace.
? It should move around.

NDSC-0330-T Pop Up Add Channel Directly
% ndscope-test -t $(gpstime -g) manual_test.yaml
Right click the upper plot
In the add/modify/remove channels edit box, enter H1:CAL-DELTAL_EXTERNAL_DQ and press the Add to plot button
? The new channel should appear on the plot
Right click the upper plot
In the add/modify/remove channels edit box, enter H1:CAL-DELTAL_EXTERNAL_DQ and press the Add plot to column button
? A new plot should appear at the bottom of the column with the new channel
Right click the upper plot
In the add/modify/remove channels edit box, enter H1:CAL-DELTAL_EXTERNAL_DQ and press the add plot to row button
? A new plot should appear at the right of the current row
Right click the upper left plot
From the remove channel pulldown select the new channel
? The trace for the new channel should disappear from the upper plot.
Right click the rightmost plot
Select Remove plot
? The rightmost plot should disappear.

NDSC-0340-T Configure Channels for Plot
% ndscope-test -t $(gpstime -g) manual_test.yaml
Right click to get the pop up menu and select configure channels for plot
? A window should appear with a table with one row for the plotted channel.
Press the Add Channels button.
Add H1:SUS-OMC-M1_COILOUTF_T1_INMON
? A second row should be added with the new channel.
Press OK
? The plot should now also display the new channel
Using the pop up menu, go back into the configure channels for plot window
Change the trace color
change the width to 5
Change the scale to 2
change the offset to 5000 and press OK
? The trace should now be centered 10000 higher than it was and be twice the amplitude
? The trace should be in the new color.
? The legend should be in the new color.
? The trace should be thicker.
Using the pop up menu, go back into the configure channels for plot window
Change the name of the channel from ..._INMON to ..._OUT16 and press ok
? The new trace should now show the _OUT16 channel.
Using the pop up menu, go back into the configure channels for plot window
Use the "-" button to remove the new channel and press OK.
? The new trace should disappear.

NDSC-0350-T Add Channels
% NDSSERVER=llo ndscope-test
press the Add Channel button
? the channel list appears
select Slow Only
? only channels with 16 Hz or less rate will appear
select Fast Only
? only channels with more than 16Hz rate will appear
select Online Only
? only online channels appear. They will be in green.
select all and uncheck online only
? list once again shows all channels
in the filter edit box, enter "comm pll*dq"
? list is filtered so that only channels with COMM then PLL followed later by DQ are on the list.
change the filter to "ALS_C-COMM" 
? only channels with ALS then C then COMM are on the list
double click on an online (green) channel
? the channel selection screen should close and the channel should be added to the plot
right click on the plot and press the configure channels for plot button.
on the configure channels for plot window, press the add channels button
double click on a new channel
? the channel should be added to the configure channels for plot window






